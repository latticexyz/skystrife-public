import{r as reactExports,c as commonjsGlobal,g as getDefaultExportFromCjs,R as React,a as reactDomExports}from"./react-60d820b0.js";var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$9=reactExports,k$5=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$3=f$9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$9={key:!0,ref:!0,__self:!0,__source:!0};function q$5(oe,he,ye){var ve,_e={},we=null,Pe=null;ye!==void 0&&(we=""+ye),he.key!==void 0&&(we=""+he.key),he.ref!==void 0&&(Pe=he.ref);for(ve in he)m$5.call(he,ve)&&!p$9.hasOwnProperty(ve)&&(_e[ve]=he[ve]);if(oe&&oe.defaultProps)for(ve in he=oe.defaultProps,he)_e[ve]===void 0&&(_e[ve]=he[ve]);return{$$typeof:k$5,type:oe,key:we,ref:Pe,props:_e,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$5;reactJsxRuntime_production_min.jsxs=q$5;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;function die(oe){for(var he=arguments.length,ye=new Array(he>1?he-1:0),ve=1;ve<he;ve++)ye[ve-1]=arguments[ve];throw new Error(typeof oe=="number"?"[MobX] minified error nr: "+oe+(ye.length?" "+ye.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+oe)}var mockGlobal={};function getGlobal(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:mockGlobal}var assign=Object.assign,getDescriptor=Object.getOwnPropertyDescriptor,defineProperty=Object.defineProperty,objectPrototype=Object.prototype,EMPTY_ARRAY=[];Object.freeze(EMPTY_ARRAY);var EMPTY_OBJECT={};Object.freeze(EMPTY_OBJECT);var hasProxy=typeof Proxy<"u",plainObjectString=Object.toString();function assertProxies(){hasProxy||die("Proxy not available")}function once(oe){var he=!1;return function(){if(!he)return he=!0,oe.apply(this,arguments)}}var noop$2=function(){};function isFunction$5(oe){return typeof oe=="function"}function isStringish(oe){var he=typeof oe;switch(he){case"string":case"symbol":case"number":return!0}return!1}function isObject$8(oe){return oe!==null&&typeof oe=="object"}function isPlainObject$2(oe){if(!isObject$8(oe))return!1;var he=Object.getPrototypeOf(oe);if(he==null)return!0;var ye=Object.hasOwnProperty.call(he,"constructor")&&he.constructor;return typeof ye=="function"&&ye.toString()===plainObjectString}function isGenerator(oe){var he=oe?.constructor;return he?he.name==="GeneratorFunction"||he.displayName==="GeneratorFunction":!1}function addHiddenProp(oe,he,ye){defineProperty(oe,he,{enumerable:!1,writable:!0,configurable:!0,value:ye})}function addHiddenFinalProp(oe,he,ye){defineProperty(oe,he,{enumerable:!1,writable:!1,configurable:!0,value:ye})}function createInstanceofPredicate(oe,he){var ye="isMobX"+oe;return he.prototype[ye]=!0,function(ve){return isObject$8(ve)&&ve[ye]===!0}}function isES6Map(oe){return oe instanceof Map}function isES6Set(oe){return oe instanceof Set}var hasGetOwnPropertySymbols=typeof Object.getOwnPropertySymbols<"u";function getPlainObjectKeys(oe){var he=Object.keys(oe);if(!hasGetOwnPropertySymbols)return he;var ye=Object.getOwnPropertySymbols(oe);return ye.length?[].concat(he,ye.filter(function(ve){return objectPrototype.propertyIsEnumerable.call(oe,ve)})):he}var ownKeys=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:hasGetOwnPropertySymbols?function(oe){return Object.getOwnPropertyNames(oe).concat(Object.getOwnPropertySymbols(oe))}:Object.getOwnPropertyNames;function toPrimitive(oe){return oe===null?null:typeof oe=="object"?""+oe:oe}function hasProp(oe,he){return objectPrototype.hasOwnProperty.call(oe,he)}var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function(he){var ye={};return ownKeys(he).forEach(function(ve){ye[ve]=getDescriptor(he,ve)}),ye};function _defineProperties(oe,he){for(var ye=0;ye<he.length;ye++){var ve=he[ye];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(oe,_toPropertyKey(ve.key),ve)}}function _createClass(oe,he,ye){return he&&_defineProperties(oe.prototype,he),ye&&_defineProperties(oe,ye),Object.defineProperty(oe,"prototype",{writable:!1}),oe}function _extends(){return _extends=Object.assign?Object.assign.bind():function(oe){for(var he=1;he<arguments.length;he++){var ye=arguments[he];for(var ve in ye)Object.prototype.hasOwnProperty.call(ye,ve)&&(oe[ve]=ye[ve])}return oe},_extends.apply(this,arguments)}function _inheritsLoose(oe,he){oe.prototype=Object.create(he.prototype),oe.prototype.constructor=oe,_setPrototypeOf(oe,he)}function _setPrototypeOf(oe,he){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ve,_e){return ve.__proto__=_e,ve},_setPrototypeOf(oe,he)}function _assertThisInitialized(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function _unsupportedIterableToArray(oe,he){if(oe){if(typeof oe=="string")return _arrayLikeToArray(oe,he);var ye=Object.prototype.toString.call(oe).slice(8,-1);if(ye==="Object"&&oe.constructor&&(ye=oe.constructor.name),ye==="Map"||ye==="Set")return Array.from(oe);if(ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye))return _arrayLikeToArray(oe,he)}}function _arrayLikeToArray(oe,he){(he==null||he>oe.length)&&(he=oe.length);for(var ye=0,ve=new Array(he);ye<he;ye++)ve[ye]=oe[ye];return ve}function _createForOfIteratorHelperLoose(oe,he){var ye=typeof Symbol<"u"&&oe[Symbol.iterator]||oe["@@iterator"];if(ye)return(ye=ye.call(oe)).next.bind(ye);if(Array.isArray(oe)||(ye=_unsupportedIterableToArray(oe))||he&&oe&&typeof oe.length=="number"){ye&&(oe=ye);var ve=0;return function(){return ve>=oe.length?{done:!0}:{done:!1,value:oe[ve++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(oe,he){if(typeof oe!="object"||oe===null)return oe;var ye=oe[Symbol.toPrimitive];if(ye!==void 0){var ve=ye.call(oe,he||"default");if(typeof ve!="object")return ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return(he==="string"?String:Number)(oe)}function _toPropertyKey(oe){var he=_toPrimitive(oe,"string");return typeof he=="symbol"?he:String(he)}var storedAnnotationsSymbol=Symbol("mobx-stored-annotations");function createDecoratorAnnotation(oe){function he(ye,ve){storeAnnotation(ye,ve,oe)}return Object.assign(he,oe)}function storeAnnotation(oe,he,ye){hasProp(oe,storedAnnotationsSymbol)||addHiddenProp(oe,storedAnnotationsSymbol,_extends({},oe[storedAnnotationsSymbol])),isOverride(ye)||(oe[storedAnnotationsSymbol][he]=ye)}function collectStoredAnnotations(oe){return hasProp(oe,storedAnnotationsSymbol)||addHiddenProp(oe,storedAnnotationsSymbol,_extends({},oe[storedAnnotationsSymbol])),oe[storedAnnotationsSymbol]}var $mobx=Symbol("mobx administration"),Atom=function(){function oe(ye){ye===void 0&&(ye="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.batchId_=void 0,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=ye,this.batchId_=globalState.inBatch?globalState.batchId:NaN}var he=oe.prototype;return he.onBO=function(){this.onBOL&&this.onBOL.forEach(function(ve){return ve()})},he.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(ve){return ve()})},he.reportObserved=function(){return reportObserved(this)},he.reportChanged=function(){(!globalState.inBatch||this.batchId_!==globalState.batchId)&&(globalState.stateVersion=globalState.stateVersion<Number.MAX_SAFE_INTEGER?globalState.stateVersion+1:Number.MIN_SAFE_INTEGER,this.batchId_=NaN),startBatch(),propagateChanged(this),endBatch()},he.toString=function(){return this.name_},oe}(),isAtom=createInstanceofPredicate("Atom",Atom);function createAtom(oe,he,ye){he===void 0&&(he=noop$2),ye===void 0&&(ye=noop$2);var ve=new Atom(oe);return he!==noop$2&&onBecomeObserved(ve,he),ye!==noop$2&&onBecomeUnobserved(ve,ye),ve}function identityComparer(oe,he){return oe===he}function structuralComparer(oe,he){return deepEqual(oe,he)}function shallowComparer(oe,he){return deepEqual(oe,he,1)}function defaultComparer(oe,he){return Object.is?Object.is(oe,he):oe===he?oe!==0||1/oe===1/he:oe!==oe&&he!==he}var comparer={identity:identityComparer,structural:structuralComparer,default:defaultComparer,shallow:shallowComparer};function deepEnhancer(oe,he,ye){return isObservable(oe)?oe:Array.isArray(oe)?observable$2.array(oe,{name:ye}):isPlainObject$2(oe)?observable$2.object(oe,void 0,{name:ye}):isES6Map(oe)?observable$2.map(oe,{name:ye}):isES6Set(oe)?observable$2.set(oe,{name:ye}):typeof oe=="function"&&!isAction(oe)&&!isFlow(oe)?isGenerator(oe)?flow(oe):autoAction(ye,oe):oe}function shallowEnhancer(oe,he,ye){if(oe==null||isObservableObject(oe)||isObservableArray(oe)||isObservableMap(oe)||isObservableSet(oe))return oe;if(Array.isArray(oe))return observable$2.array(oe,{name:ye,deep:!1});if(isPlainObject$2(oe))return observable$2.object(oe,void 0,{name:ye,deep:!1});if(isES6Map(oe))return observable$2.map(oe,{name:ye,deep:!1});if(isES6Set(oe))return observable$2.set(oe,{name:ye,deep:!1})}function referenceEnhancer(oe){return oe}function refStructEnhancer(oe,he){return deepEqual(oe,he)?he:oe}var OVERRIDE="override";function isOverride(oe){return oe.annotationType_===OVERRIDE}function createActionAnnotation(oe,he){return{annotationType_:oe,options_:he,make_:make_$1,extend_:extend_$1}}function make_$1(oe,he,ye,ve){var _e;if((_e=this.options_)!=null&&_e.bound)return this.extend_(oe,he,ye,!1)===null?0:1;if(ve===oe.target_)return this.extend_(oe,he,ye,!1)===null?0:2;if(isAction(ye.value))return 1;var we=createActionDescriptor(oe,this,he,ye,!1);return defineProperty(ve,he,we),2}function extend_$1(oe,he,ye,ve){var _e=createActionDescriptor(oe,this,he,ye);return oe.defineProperty_(he,_e,ve)}function assertActionDescriptor(oe,he,ye,ve){he.annotationType_,ve.value}function createActionDescriptor(oe,he,ye,ve,_e){var we,Pe,Ie,Re,ke,Fe,Le;_e===void 0&&(_e=globalState.safeDescriptors),assertActionDescriptor(oe,he,ye,ve);var De=ve.value;if((we=he.options_)!=null&&we.bound){var je;De=De.bind((je=oe.proxy_)!=null?je:oe.target_)}return{value:createAction((Pe=(Ie=he.options_)==null?void 0:Ie.name)!=null?Pe:ye.toString(),De,(Re=(ke=he.options_)==null?void 0:ke.autoAction)!=null?Re:!1,(Fe=he.options_)!=null&&Fe.bound?(Le=oe.proxy_)!=null?Le:oe.target_:void 0),configurable:_e?oe.isPlainObject_:!0,enumerable:!1,writable:!_e}}function createFlowAnnotation(oe,he){return{annotationType_:oe,options_:he,make_:make_$2,extend_:extend_$2}}function make_$2(oe,he,ye,ve){var _e;if(ve===oe.target_)return this.extend_(oe,he,ye,!1)===null?0:2;if((_e=this.options_)!=null&&_e.bound&&(!hasProp(oe.target_,he)||!isFlow(oe.target_[he]))&&this.extend_(oe,he,ye,!1)===null)return 0;if(isFlow(ye.value))return 1;var we=createFlowDescriptor(oe,this,he,ye,!1,!1);return defineProperty(ve,he,we),2}function extend_$2(oe,he,ye,ve){var _e,we=createFlowDescriptor(oe,this,he,ye,(_e=this.options_)==null?void 0:_e.bound);return oe.defineProperty_(he,we,ve)}function assertFlowDescriptor(oe,he,ye,ve){he.annotationType_,ve.value}function createFlowDescriptor(oe,he,ye,ve,_e,we){we===void 0&&(we=globalState.safeDescriptors),assertFlowDescriptor(oe,he,ye,ve);var Pe=ve.value;if(isFlow(Pe)||(Pe=flow(Pe)),_e){var Ie;Pe=Pe.bind((Ie=oe.proxy_)!=null?Ie:oe.target_),Pe.isMobXFlow=!0}return{value:Pe,configurable:we?oe.isPlainObject_:!0,enumerable:!1,writable:!we}}function createComputedAnnotation(oe,he){return{annotationType_:oe,options_:he,make_:make_$3,extend_:extend_$3}}function make_$3(oe,he,ye){return this.extend_(oe,he,ye,!1)===null?0:1}function extend_$3(oe,he,ye,ve){return assertComputedDescriptor(oe,this,he,ye),oe.defineComputedProperty_(he,_extends({},this.options_,{get:ye.get,set:ye.set}),ve)}function assertComputedDescriptor(oe,he,ye,ve){he.annotationType_,ve.get}function createObservableAnnotation(oe,he){return{annotationType_:oe,options_:he,make_:make_$4,extend_:extend_$4}}function make_$4(oe,he,ye){return this.extend_(oe,he,ye,!1)===null?0:1}function extend_$4(oe,he,ye,ve){var _e,we;return assertObservableDescriptor(oe,this),oe.defineObservableProperty_(he,ye.value,(_e=(we=this.options_)==null?void 0:we.enhancer)!=null?_e:deepEnhancer,ve)}function assertObservableDescriptor(oe,he,ye,ve){he.annotationType_}var AUTO="true",autoAnnotation=createAutoAnnotation();function createAutoAnnotation(oe){return{annotationType_:AUTO,options_:oe,make_:make_$5,extend_:extend_$5}}function make_$5(oe,he,ye,ve){var _e,we;if(ye.get)return computed.make_(oe,he,ye,ve);if(ye.set){var Pe=createAction(he.toString(),ye.set);return ve===oe.target_?oe.defineProperty_(he,{configurable:globalState.safeDescriptors?oe.isPlainObject_:!0,set:Pe})===null?0:2:(defineProperty(ve,he,{configurable:!0,set:Pe}),2)}if(ve!==oe.target_&&typeof ye.value=="function"){var Ie;if(isGenerator(ye.value)){var Re,ke=(Re=this.options_)!=null&&Re.autoBind?flow.bound:flow;return ke.make_(oe,he,ye,ve)}var Fe=(Ie=this.options_)!=null&&Ie.autoBind?autoAction.bound:autoAction;return Fe.make_(oe,he,ye,ve)}var Le=((_e=this.options_)==null?void 0:_e.deep)===!1?observable$2.ref:observable$2;if(typeof ye.value=="function"&&(we=this.options_)!=null&&we.autoBind){var De;ye.value=ye.value.bind((De=oe.proxy_)!=null?De:oe.target_)}return Le.make_(oe,he,ye,ve)}function extend_$5(oe,he,ye,ve){var _e,we;if(ye.get)return computed.extend_(oe,he,ye,ve);if(ye.set)return oe.defineProperty_(he,{configurable:globalState.safeDescriptors?oe.isPlainObject_:!0,set:createAction(he.toString(),ye.set)},ve);if(typeof ye.value=="function"&&(_e=this.options_)!=null&&_e.autoBind){var Pe;ye.value=ye.value.bind((Pe=oe.proxy_)!=null?Pe:oe.target_)}var Ie=((we=this.options_)==null?void 0:we.deep)===!1?observable$2.ref:observable$2;return Ie.extend_(oe,he,ye,ve)}var OBSERVABLE="observable",OBSERVABLE_REF="observable.ref",OBSERVABLE_SHALLOW="observable.shallow",OBSERVABLE_STRUCT="observable.struct",defaultCreateObservableOptions={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(defaultCreateObservableOptions);function asCreateObservableOptions(oe){return oe||defaultCreateObservableOptions}var observableAnnotation=createObservableAnnotation(OBSERVABLE),observableRefAnnotation=createObservableAnnotation(OBSERVABLE_REF,{enhancer:referenceEnhancer}),observableShallowAnnotation=createObservableAnnotation(OBSERVABLE_SHALLOW,{enhancer:shallowEnhancer}),observableStructAnnotation=createObservableAnnotation(OBSERVABLE_STRUCT,{enhancer:refStructEnhancer}),observableDecoratorAnnotation=createDecoratorAnnotation(observableAnnotation);function getEnhancerFromOptions(oe){return oe.deep===!0?deepEnhancer:oe.deep===!1?referenceEnhancer:getEnhancerFromAnnotation(oe.defaultDecorator)}function getAnnotationFromOptions(oe){var he;return oe?(he=oe.defaultDecorator)!=null?he:createAutoAnnotation(oe):void 0}function getEnhancerFromAnnotation(oe){var he,ye;return oe&&(he=(ye=oe.options_)==null?void 0:ye.enhancer)!=null?he:deepEnhancer}function createObservable(oe,he,ye){if(isStringish(he)){storeAnnotation(oe,he,observableAnnotation);return}return isObservable(oe)?oe:isPlainObject$2(oe)?observable$2.object(oe,he,ye):Array.isArray(oe)?observable$2.array(oe,he):isES6Map(oe)?observable$2.map(oe,he):isES6Set(oe)?observable$2.set(oe,he):typeof oe=="object"&&oe!==null?oe:observable$2.box(oe,he)}assign(createObservable,observableDecoratorAnnotation);var observableFactories={box:function(he,ye){var ve=asCreateObservableOptions(ye);return new ObservableValue(he,getEnhancerFromOptions(ve),ve.name,!0,ve.equals)},array:function(he,ye){var ve=asCreateObservableOptions(ye);return(globalState.useProxies===!1||ve.proxy===!1?createLegacyArray:createObservableArray)(he,getEnhancerFromOptions(ve),ve.name)},map:function(he,ye){var ve=asCreateObservableOptions(ye);return new ObservableMap(he,getEnhancerFromOptions(ve),ve.name)},set:function(he,ye){var ve=asCreateObservableOptions(ye);return new ObservableSet(he,getEnhancerFromOptions(ve),ve.name)},object:function(he,ye,ve){return initObservable(function(){return extendObservable(globalState.useProxies===!1||ve?.proxy===!1?asObservableObject({},ve):asDynamicObservableObject({},ve),he,ye)})},ref:createDecoratorAnnotation(observableRefAnnotation),shallow:createDecoratorAnnotation(observableShallowAnnotation),deep:observableDecoratorAnnotation,struct:createDecoratorAnnotation(observableStructAnnotation)},observable$2=assign(createObservable,observableFactories),COMPUTED="computed",COMPUTED_STRUCT="computed.struct",computedAnnotation=createComputedAnnotation(COMPUTED),computedStructAnnotation=createComputedAnnotation(COMPUTED_STRUCT,{equals:comparer.structural}),computed=function(he,ye){if(isStringish(ye))return storeAnnotation(he,ye,computedAnnotation);if(isPlainObject$2(he))return createDecoratorAnnotation(createComputedAnnotation(COMPUTED,he));var ve=isPlainObject$2(ye)?ye:{};return ve.get=he,ve.name||(ve.name=he.name||""),new ComputedValue(ve)};Object.assign(computed,computedAnnotation);computed.struct=createDecoratorAnnotation(computedStructAnnotation);var _getDescriptor$config,_getDescriptor,currentActionId=0,nextActionId=1,isFunctionNameConfigurable=(_getDescriptor$config=(_getDescriptor=getDescriptor(function(){},"name"))==null?void 0:_getDescriptor.configurable)!=null?_getDescriptor$config:!1,tmpNameDescriptor={value:"action",configurable:!0,writable:!1,enumerable:!1};function createAction(oe,he,ye,ve){ye===void 0&&(ye=!1);function _e(){return executeAction(oe,ye,he,ve||this,arguments)}return _e.isMobxAction=!0,isFunctionNameConfigurable&&(tmpNameDescriptor.value=oe,defineProperty(_e,"name",tmpNameDescriptor)),_e}function executeAction(oe,he,ye,ve,_e){var we=_startAction(oe,he);try{return ye.apply(ve,_e)}catch(Pe){throw we.error_=Pe,Pe}finally{_endAction(we)}}function _startAction(oe,he,ye,ve){var _e=!1,we=0,Pe=globalState.trackingDerivation,Ie=!he||!Pe;startBatch();var Re=globalState.allowStateChanges;Ie&&(untrackedStart(),Re=allowStateChangesStart(!0));var ke=allowStateReadsStart(!0),Fe={runAsAction_:Ie,prevDerivation_:Pe,prevAllowStateChanges_:Re,prevAllowStateReads_:ke,notifySpy_:_e,startTime_:we,actionId_:nextActionId++,parentActionId_:currentActionId};return currentActionId=Fe.actionId_,Fe}function _endAction(oe){currentActionId!==oe.actionId_&&die(30),currentActionId=oe.parentActionId_,oe.error_!==void 0&&(globalState.suppressReactionErrors=!0),allowStateChangesEnd(oe.prevAllowStateChanges_),allowStateReadsEnd(oe.prevAllowStateReads_),endBatch(),oe.runAsAction_&&untrackedEnd(oe.prevDerivation_),globalState.suppressReactionErrors=!1}function allowStateChanges(oe,he){var ye=allowStateChangesStart(oe);try{return he()}finally{allowStateChangesEnd(ye)}}function allowStateChangesStart(oe){var he=globalState.allowStateChanges;return globalState.allowStateChanges=oe,he}function allowStateChangesEnd(oe){globalState.allowStateChanges=oe}var _Symbol$toPrimitive;_Symbol$toPrimitive=Symbol.toPrimitive;var ObservableValue=function(oe){_inheritsLoose(he,oe);function he(ve,_e,we,Pe,Ie){var Re;return we===void 0&&(we="ObservableValue"),Ie===void 0&&(Ie=comparer.default),Re=oe.call(this,we)||this,Re.enhancer=void 0,Re.name_=void 0,Re.equals=void 0,Re.hasUnreportedChange_=!1,Re.interceptors_=void 0,Re.changeListeners_=void 0,Re.value_=void 0,Re.dehancer=void 0,Re.enhancer=_e,Re.name_=we,Re.equals=Ie,Re.value_=_e(ve,void 0,we),Re}var ye=he.prototype;return ye.dehanceValue=function(_e){return this.dehancer!==void 0?this.dehancer(_e):_e},ye.set=function(_e){this.value_,_e=this.prepareNewValue_(_e),_e!==globalState.UNCHANGED&&this.setNewValue_(_e)},ye.prepareNewValue_=function(_e){if(hasInterceptors(this)){var we=interceptChange(this,{object:this,type:UPDATE,newValue:_e});if(!we)return globalState.UNCHANGED;_e=we.newValue}return _e=this.enhancer(_e,this.value_,this.name_),this.equals(this.value_,_e)?globalState.UNCHANGED:_e},ye.setNewValue_=function(_e){var we=this.value_;this.value_=_e,this.reportChanged(),hasListeners(this)&&notifyListeners(this,{type:UPDATE,object:this,newValue:_e,oldValue:we})},ye.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},ye.intercept_=function(_e){return registerInterceptor(this,_e)},ye.observe_=function(_e,we){return we&&_e({observableKind:"value",debugObjectName:this.name_,object:this,type:UPDATE,newValue:this.value_,oldValue:void 0}),registerListener(this,_e)},ye.raw=function(){return this.value_},ye.toJSON=function(){return this.get()},ye.toString=function(){return this.name_+"["+this.value_+"]"},ye.valueOf=function(){return toPrimitive(this.get())},ye[_Symbol$toPrimitive]=function(){return this.valueOf()},he}(Atom),_Symbol$toPrimitive$1;_Symbol$toPrimitive$1=Symbol.toPrimitive;var ComputedValue=function(){function oe(ye){this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new CaughtException(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=TraceMode.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,ye.get||die(31),this.derivation=ye.get,this.name_=ye.name||"ComputedValue",ye.set&&(this.setter_=createAction("ComputedValue-setter",ye.set)),this.equals_=ye.equals||(ye.compareStructural||ye.struct?comparer.structural:comparer.default),this.scope_=ye.context,this.requiresReaction_=ye.requiresReaction,this.keepAlive_=!!ye.keepAlive}var he=oe.prototype;return he.onBecomeStale_=function(){propagateMaybeChanged(this)},he.onBO=function(){this.onBOL&&this.onBOL.forEach(function(ve){return ve()})},he.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(ve){return ve()})},he.get=function(){if(this.isComputing_&&die(32,this.name_,this.derivation),globalState.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)shouldCompute(this)&&(this.warnAboutUntrackedRead_(),startBatch(),this.value_=this.computeValue_(!1),endBatch());else if(reportObserved(this),shouldCompute(this)){var ve=globalState.trackingContext;this.keepAlive_&&!ve&&(globalState.trackingContext=this),this.trackAndCompute()&&propagateChangeConfirmed(this),globalState.trackingContext=ve}var _e=this.value_;if(isCaughtException(_e))throw _e.cause;return _e},he.set=function(ve){if(this.setter_){this.isRunningSetter_&&die(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,ve)}finally{this.isRunningSetter_=!1}}else die(34,this.name_)},he.trackAndCompute=function(){var ve=this.value_,_e=this.dependenciesState_===IDerivationState_.NOT_TRACKING_,we=this.computeValue_(!0),Pe=_e||isCaughtException(ve)||isCaughtException(we)||!this.equals_(ve,we);return Pe&&(this.value_=we),Pe},he.computeValue_=function(ve){this.isComputing_=!0;var _e=allowStateChangesStart(!1),we;if(ve)we=trackDerivedFunction(this,this.derivation,this.scope_);else if(globalState.disableErrorBoundaries===!0)we=this.derivation.call(this.scope_);else try{we=this.derivation.call(this.scope_)}catch(Pe){we=new CaughtException(Pe)}return allowStateChangesEnd(_e),this.isComputing_=!1,we},he.suspend_=function(){this.keepAlive_||(clearObserving(this),this.value_=void 0)},he.observe_=function(ve,_e){var we=this,Pe=!0,Ie=void 0;return autorun(function(){var Re=we.get();if(!Pe||_e){var ke=untrackedStart();ve({observableKind:"computed",debugObjectName:we.name_,type:UPDATE,object:we,newValue:Re,oldValue:Ie}),untrackedEnd(ke)}Pe=!1,Ie=Re})},he.warnAboutUntrackedRead_=function(){},he.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},he.valueOf=function(){return toPrimitive(this.get())},he[_Symbol$toPrimitive$1]=function(){return this.valueOf()},oe}(),isComputedValue=createInstanceofPredicate("ComputedValue",ComputedValue),IDerivationState_;(function(oe){oe[oe.NOT_TRACKING_=-1]="NOT_TRACKING_",oe[oe.UP_TO_DATE_=0]="UP_TO_DATE_",oe[oe.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",oe[oe.STALE_=2]="STALE_"})(IDerivationState_||(IDerivationState_={}));var TraceMode;(function(oe){oe[oe.NONE=0]="NONE",oe[oe.LOG=1]="LOG",oe[oe.BREAK=2]="BREAK"})(TraceMode||(TraceMode={}));var CaughtException=function(he){this.cause=void 0,this.cause=he};function isCaughtException(oe){return oe instanceof CaughtException}function shouldCompute(oe){switch(oe.dependenciesState_){case IDerivationState_.UP_TO_DATE_:return!1;case IDerivationState_.NOT_TRACKING_:case IDerivationState_.STALE_:return!0;case IDerivationState_.POSSIBLY_STALE_:{for(var he=allowStateReadsStart(!0),ye=untrackedStart(),ve=oe.observing_,_e=ve.length,we=0;we<_e;we++){var Pe=ve[we];if(isComputedValue(Pe)){if(globalState.disableErrorBoundaries)Pe.get();else try{Pe.get()}catch{return untrackedEnd(ye),allowStateReadsEnd(he),!0}if(oe.dependenciesState_===IDerivationState_.STALE_)return untrackedEnd(ye),allowStateReadsEnd(he),!0}}return changeDependenciesStateTo0(oe),untrackedEnd(ye),allowStateReadsEnd(he),!1}}}function checkIfStateModificationsAreAllowed(oe){}function trackDerivedFunction(oe,he,ye){var ve=allowStateReadsStart(!0);changeDependenciesStateTo0(oe),oe.newObserving_=new Array(oe.observing_.length+100),oe.unboundDepsCount_=0,oe.runId_=++globalState.runId;var _e=globalState.trackingDerivation;globalState.trackingDerivation=oe,globalState.inBatch++;var we;if(globalState.disableErrorBoundaries===!0)we=he.call(ye);else try{we=he.call(ye)}catch(Pe){we=new CaughtException(Pe)}return globalState.inBatch--,globalState.trackingDerivation=_e,bindDependencies(oe),allowStateReadsEnd(ve),we}function bindDependencies(oe){for(var he=oe.observing_,ye=oe.observing_=oe.newObserving_,ve=IDerivationState_.UP_TO_DATE_,_e=0,we=oe.unboundDepsCount_,Pe=0;Pe<we;Pe++){var Ie=ye[Pe];Ie.diffValue_===0&&(Ie.diffValue_=1,_e!==Pe&&(ye[_e]=Ie),_e++),Ie.dependenciesState_>ve&&(ve=Ie.dependenciesState_)}for(ye.length=_e,oe.newObserving_=null,we=he.length;we--;){var Re=he[we];Re.diffValue_===0&&removeObserver(Re,oe),Re.diffValue_=0}for(;_e--;){var ke=ye[_e];ke.diffValue_===1&&(ke.diffValue_=0,addObserver(ke,oe))}ve!==IDerivationState_.UP_TO_DATE_&&(oe.dependenciesState_=ve,oe.onBecomeStale_())}function clearObserving(oe){var he=oe.observing_;oe.observing_=[];for(var ye=he.length;ye--;)removeObserver(he[ye],oe);oe.dependenciesState_=IDerivationState_.NOT_TRACKING_}function untracked(oe){var he=untrackedStart();try{return oe()}finally{untrackedEnd(he)}}function untrackedStart(){var oe=globalState.trackingDerivation;return globalState.trackingDerivation=null,oe}function untrackedEnd(oe){globalState.trackingDerivation=oe}function allowStateReadsStart(oe){var he=globalState.allowStateReads;return globalState.allowStateReads=oe,he}function allowStateReadsEnd(oe){globalState.allowStateReads=oe}function changeDependenciesStateTo0(oe){if(oe.dependenciesState_!==IDerivationState_.UP_TO_DATE_){oe.dependenciesState_=IDerivationState_.UP_TO_DATE_;for(var he=oe.observing_,ye=he.length;ye--;)he[ye].lowestObserverState_=IDerivationState_.UP_TO_DATE_}}var MobXGlobals=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.batchId=Number.MIN_SAFE_INTEGER,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},canMergeGlobalState=!0,isolateCalled=!1,globalState=function(){return globalThis.__mobxInstanceCount>0&&!globalThis.__mobxGlobals&&(canMergeGlobalState=!1),globalThis.__mobxGlobals&&globalThis.__mobxGlobals.version!==new MobXGlobals().version&&(canMergeGlobalState=!1),canMergeGlobalState?globalThis.__mobxGlobals?(globalThis.__mobxInstanceCount+=1,globalThis.__mobxGlobals.UNCHANGED||(globalThis.__mobxGlobals.UNCHANGED={}),globalThis.__mobxGlobals):(globalThis.__mobxInstanceCount=1,globalThis.__mobxGlobals=new MobXGlobals):(setTimeout(function(){isolateCalled||die(35)},1),new MobXGlobals)}();function isolateGlobalState(){(globalState.pendingReactions.length||globalState.inBatch||globalState.isRunningReactions)&&die(36),isolateCalled=!0,canMergeGlobalState&&(--globalThis.__mobxInstanceCount===0&&(globalThis.__mobxGlobals=void 0),globalState=new MobXGlobals)}function addObserver(oe,he){oe.observers_.add(he),oe.lowestObserverState_>he.dependenciesState_&&(oe.lowestObserverState_=he.dependenciesState_)}function removeObserver(oe,he){oe.observers_.delete(he),oe.observers_.size===0&&queueForUnobservation(oe)}function queueForUnobservation(oe){oe.isPendingUnobservation_===!1&&(oe.isPendingUnobservation_=!0,globalState.pendingUnobservations.push(oe))}function startBatch(){globalState.inBatch===0&&(globalState.batchId=globalState.batchId<Number.MAX_SAFE_INTEGER?globalState.batchId+1:Number.MIN_SAFE_INTEGER),globalState.inBatch++}function endBatch(){if(--globalState.inBatch===0){runReactions();for(var oe=globalState.pendingUnobservations,he=0;he<oe.length;he++){var ye=oe[he];ye.isPendingUnobservation_=!1,ye.observers_.size===0&&(ye.isBeingObserved_&&(ye.isBeingObserved_=!1,ye.onBUO()),ye instanceof ComputedValue&&ye.suspend_())}globalState.pendingUnobservations=[]}}function reportObserved(oe){var he=globalState.trackingDerivation;return he!==null?(he.runId_!==oe.lastAccessedBy_&&(oe.lastAccessedBy_=he.runId_,he.newObserving_[he.unboundDepsCount_++]=oe,!oe.isBeingObserved_&&globalState.trackingContext&&(oe.isBeingObserved_=!0,oe.onBO())),oe.isBeingObserved_):(oe.observers_.size===0&&globalState.inBatch>0&&queueForUnobservation(oe),!1)}function propagateChanged(oe){oe.lowestObserverState_!==IDerivationState_.STALE_&&(oe.lowestObserverState_=IDerivationState_.STALE_,oe.observers_.forEach(function(he){he.dependenciesState_===IDerivationState_.UP_TO_DATE_&&he.onBecomeStale_(),he.dependenciesState_=IDerivationState_.STALE_}))}function propagateChangeConfirmed(oe){oe.lowestObserverState_!==IDerivationState_.STALE_&&(oe.lowestObserverState_=IDerivationState_.STALE_,oe.observers_.forEach(function(he){he.dependenciesState_===IDerivationState_.POSSIBLY_STALE_?he.dependenciesState_=IDerivationState_.STALE_:he.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(oe.lowestObserverState_=IDerivationState_.UP_TO_DATE_)}))}function propagateMaybeChanged(oe){oe.lowestObserverState_===IDerivationState_.UP_TO_DATE_&&(oe.lowestObserverState_=IDerivationState_.POSSIBLY_STALE_,oe.observers_.forEach(function(he){he.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(he.dependenciesState_=IDerivationState_.POSSIBLY_STALE_,he.onBecomeStale_())}))}var Reaction=function(){function oe(ye,ve,_e,we){ye===void 0&&(ye="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=TraceMode.NONE,this.name_=ye,this.onInvalidate_=ve,this.errorHandler_=_e,this.requiresObservable_=we}var he=oe.prototype;return he.onBecomeStale_=function(){this.schedule_()},he.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,globalState.pendingReactions.push(this),runReactions())},he.isScheduled=function(){return this.isScheduled_},he.runReaction_=function(){if(!this.isDisposed_){startBatch(),this.isScheduled_=!1;var ve=globalState.trackingContext;if(globalState.trackingContext=this,shouldCompute(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(_e){this.reportExceptionInDerivation_(_e)}}globalState.trackingContext=ve,endBatch()}},he.track=function(ve){if(!this.isDisposed_){startBatch(),this.isRunning_=!0;var _e=globalState.trackingContext;globalState.trackingContext=this;var we=trackDerivedFunction(this,ve,void 0);globalState.trackingContext=_e,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&clearObserving(this),isCaughtException(we)&&this.reportExceptionInDerivation_(we.cause),endBatch()}},he.reportExceptionInDerivation_=function(ve){var _e=this;if(this.errorHandler_){this.errorHandler_(ve,this);return}if(globalState.disableErrorBoundaries)throw ve;var we="[mobx] uncaught error in '"+this+"'";globalState.suppressReactionErrors||console.error(we,ve),globalState.globalReactionErrorHandlers.forEach(function(Pe){return Pe(ve,_e)})},he.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(startBatch(),clearObserving(this),endBatch()))},he.getDisposer_=function(ve){var _e=this,we=function Pe(){_e.dispose(),ve==null||ve.removeEventListener==null||ve.removeEventListener("abort",Pe)};return ve==null||ve.addEventListener==null||ve.addEventListener("abort",we),we[$mobx]=this,we},he.toString=function(){return"Reaction["+this.name_+"]"},he.trace=function(ve){},oe}(),MAX_REACTION_ITERATIONS=100,reactionScheduler=function(he){return he()};function runReactions(){globalState.inBatch>0||globalState.isRunningReactions||reactionScheduler(runReactionsHelper)}function runReactionsHelper(){globalState.isRunningReactions=!0;for(var oe=globalState.pendingReactions,he=0;oe.length>0;){++he===MAX_REACTION_ITERATIONS&&(console.error("[mobx] cycle in reaction: "+oe[0]),oe.splice(0));for(var ye=oe.splice(0),ve=0,_e=ye.length;ve<_e;ve++)ye[ve].runReaction_()}globalState.isRunningReactions=!1}var isReaction=createInstanceofPredicate("Reaction",Reaction);function setReactionScheduler(oe){var he=reactionScheduler;reactionScheduler=function(ve){return oe(function(){return he(ve)})}}function isSpyEnabled(){return!1}function spyReport(oe){}function spyReportStart(oe){}function spyReportEnd(oe){}function spy(oe){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ACTION="action",ACTION_BOUND="action.bound",AUTOACTION="autoAction",AUTOACTION_BOUND="autoAction.bound",DEFAULT_ACTION_NAME="<unnamed action>",actionAnnotation=createActionAnnotation(ACTION),actionBoundAnnotation=createActionAnnotation(ACTION_BOUND,{bound:!0}),autoActionAnnotation=createActionAnnotation(AUTOACTION,{autoAction:!0}),autoActionBoundAnnotation=createActionAnnotation(AUTOACTION_BOUND,{autoAction:!0,bound:!0});function createActionFactory(oe){var he=function(ve,_e){if(isFunction$5(ve))return createAction(ve.name||DEFAULT_ACTION_NAME,ve,oe);if(isFunction$5(_e))return createAction(ve,_e,oe);if(isStringish(_e))return storeAnnotation(ve,_e,oe?autoActionAnnotation:actionAnnotation);if(isStringish(ve))return createDecoratorAnnotation(createActionAnnotation(oe?AUTOACTION:ACTION,{name:ve,autoAction:oe}))};return he}var action=createActionFactory(!1);Object.assign(action,actionAnnotation);var autoAction=createActionFactory(!0);Object.assign(autoAction,autoActionAnnotation);action.bound=createDecoratorAnnotation(actionBoundAnnotation);autoAction.bound=createDecoratorAnnotation(autoActionBoundAnnotation);function runInAction(oe){return executeAction(oe.name||DEFAULT_ACTION_NAME,!1,oe,this,void 0)}function isAction(oe){return isFunction$5(oe)&&oe.isMobxAction===!0}function autorun(oe,he){var ye,ve,_e,we,Pe;he===void 0&&(he=EMPTY_OBJECT);var Ie=(ye=(ve=he)==null?void 0:ve.name)!=null?ye:"Autorun",Re=!he.scheduler&&!he.delay,ke;if(Re)ke=new Reaction(Ie,function(){this.track(De)},he.onError,he.requiresObservable);else{var Fe=createSchedulerFromOptions(he),Le=!1;ke=new Reaction(Ie,function(){Le||(Le=!0,Fe(function(){Le=!1,ke.isDisposed_||ke.track(De)}))},he.onError,he.requiresObservable)}function De(){oe(ke)}return(_e=he)!=null&&(we=_e.signal)!=null&&we.aborted||ke.schedule_(),ke.getDisposer_((Pe=he)==null?void 0:Pe.signal)}var run=function(he){return he()};function createSchedulerFromOptions(oe){return oe.scheduler?oe.scheduler:oe.delay?function(he){return setTimeout(he,oe.delay)}:run}function reaction(oe,he,ye){var ve,_e,we,Pe;ye===void 0&&(ye=EMPTY_OBJECT);var Ie=(ve=ye.name)!=null?ve:"Reaction",Re=action(Ie,ye.onError?wrapErrorHandler(ye.onError,he):he),ke=!ye.scheduler&&!ye.delay,Fe=createSchedulerFromOptions(ye),Le=!0,De=!1,je,ze,qe=ye.compareStructural?comparer.structural:ye.equals||comparer.default,We=new Reaction(Ie,function(){Le||ke?et():De||(De=!0,Fe(et))},ye.onError,ye.requiresObservable);function et(){if(De=!1,!We.isDisposed_){var rt=!1;We.track(function(){var it=allowStateChanges(!1,function(){return oe(We)});rt=Le||!qe(je,it),ze=je,je=it}),(Le&&ye.fireImmediately||!Le&&rt)&&Re(je,ze,We),Le=!1}}return(_e=ye)!=null&&(we=_e.signal)!=null&&we.aborted||We.schedule_(),We.getDisposer_((Pe=ye)==null?void 0:Pe.signal)}function wrapErrorHandler(oe,he){return function(){try{return he.apply(this,arguments)}catch(ye){oe.call(this,ye)}}}var ON_BECOME_OBSERVED="onBO",ON_BECOME_UNOBSERVED="onBUO";function onBecomeObserved(oe,he,ye){return interceptHook(ON_BECOME_OBSERVED,oe,he,ye)}function onBecomeUnobserved(oe,he,ye){return interceptHook(ON_BECOME_UNOBSERVED,oe,he,ye)}function interceptHook(oe,he,ye,ve){var _e=typeof ve=="function"?getAtom(he,ye):getAtom(he),we=isFunction$5(ve)?ve:ye,Pe=oe+"L";return _e[Pe]?_e[Pe].add(we):_e[Pe]=new Set([we]),function(){var Ie=_e[Pe];Ie&&(Ie.delete(we),Ie.size===0&&delete _e[Pe])}}var NEVER$1="never",ALWAYS="always",OBSERVED="observed";function configure(oe){oe.isolateGlobalState===!0&&isolateGlobalState();var he=oe.useProxies,ye=oe.enforceActions;if(he!==void 0&&(globalState.useProxies=he===ALWAYS?!0:he===NEVER$1?!1:typeof Proxy<"u"),he==="ifavailable"&&(globalState.verifyProxies=!0),ye!==void 0){var ve=ye===ALWAYS?ALWAYS:ye===OBSERVED;globalState.enforceActions=ve,globalState.allowStateChanges=!(ve===!0||ve===ALWAYS)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(_e){_e in oe&&(globalState[_e]=!!oe[_e])}),globalState.allowStateReads=!globalState.observableRequiresReaction,oe.reactionScheduler&&setReactionScheduler(oe.reactionScheduler)}function extendObservable(oe,he,ye,ve){var _e=getOwnPropertyDescriptors(he);return initObservable(function(){var we=asObservableObject(oe,ve)[$mobx];ownKeys(_e).forEach(function(Pe){we.extend_(Pe,_e[Pe],ye&&Pe in ye?ye[Pe]:!0)})}),oe}function getDependencyTree(oe,he){return nodeToDependencyTree(getAtom(oe,he))}function nodeToDependencyTree(oe){var he={name:oe.name_};return oe.observing_&&oe.observing_.length>0&&(he.dependencies=unique(oe.observing_).map(nodeToDependencyTree)),he}function unique(oe){return Array.from(new Set(oe))}var generatorId=0;function FlowCancellationError(){this.message="FLOW_CANCELLED"}FlowCancellationError.prototype=Object.create(Error.prototype);var flowAnnotation=createFlowAnnotation("flow"),flowBoundAnnotation=createFlowAnnotation("flow.bound",{bound:!0}),flow=Object.assign(function(he,ye){if(isStringish(ye))return storeAnnotation(he,ye,flowAnnotation);var ve=he,_e=ve.name||"<unnamed flow>",we=function(){var Ie=this,Re=arguments,ke=++generatorId,Fe=action(_e+" - runid: "+ke+" - init",ve).apply(Ie,Re),Le,De=void 0,je=new Promise(function(ze,qe){var We=0;Le=qe;function et(ht){De=void 0;var lt;try{lt=action(_e+" - runid: "+ke+" - yield "+We++,Fe.next).call(Fe,ht)}catch(dt){return qe(dt)}it(lt)}function rt(ht){De=void 0;var lt;try{lt=action(_e+" - runid: "+ke+" - yield "+We++,Fe.throw).call(Fe,ht)}catch(dt){return qe(dt)}it(lt)}function it(ht){if(isFunction$5(ht?.then)){ht.then(it,qe);return}return ht.done?ze(ht.value):(De=Promise.resolve(ht.value),De.then(et,rt))}et(void 0)});return je.cancel=action(_e+" - runid: "+ke+" - cancel",function(){try{De&&cancelPromise(De);var ze=Fe.return(void 0),qe=Promise.resolve(ze.value);qe.then(noop$2,noop$2),cancelPromise(qe),Le(new FlowCancellationError)}catch(We){Le(We)}}),je};return we.isMobXFlow=!0,we},flowAnnotation);flow.bound=createDecoratorAnnotation(flowBoundAnnotation);function cancelPromise(oe){isFunction$5(oe.cancel)&&oe.cancel()}function isFlow(oe){return oe?.isMobXFlow===!0}function _isObservable(oe,he){return oe?he!==void 0?isObservableObject(oe)?oe[$mobx].values_.has(he):!1:isObservableObject(oe)||!!oe[$mobx]||isAtom(oe)||isReaction(oe)||isComputedValue(oe):!1}function isObservable(oe){return _isObservable(oe)}function observe$1(oe,he,ye,ve){return isFunction$5(ye)?observeObservableProperty(oe,he,ye,ve):observeObservable(oe,he,ye)}function observeObservable(oe,he,ye){return getAdministration(oe).observe_(he,ye)}function observeObservableProperty(oe,he,ye,ve){return getAdministration(oe,he).observe_(ye,ve)}function transaction(oe,he){he===void 0&&(he=void 0),startBatch();try{return oe.apply(he)}finally{endBatch()}}function getAdm(oe){return oe[$mobx]}var objectProxyTraps={has:function(he,ye){return getAdm(he).has_(ye)},get:function(he,ye){return getAdm(he).get_(ye)},set:function(he,ye,ve){var _e;return isStringish(ye)?(_e=getAdm(he).set_(ye,ve,!0))!=null?_e:!0:!1},deleteProperty:function(he,ye){var ve;return isStringish(ye)?(ve=getAdm(he).delete_(ye,!0))!=null?ve:!0:!1},defineProperty:function(he,ye,ve){var _e;return(_e=getAdm(he).defineProperty_(ye,ve))!=null?_e:!0},ownKeys:function(he){return getAdm(he).ownKeys_()},preventExtensions:function(he){die(13)}};function asDynamicObservableObject(oe,he){var ye,ve;return assertProxies(),oe=asObservableObject(oe,he),(ve=(ye=oe[$mobx]).proxy_)!=null?ve:ye.proxy_=new Proxy(oe,objectProxyTraps)}function hasInterceptors(oe){return oe.interceptors_!==void 0&&oe.interceptors_.length>0}function registerInterceptor(oe,he){var ye=oe.interceptors_||(oe.interceptors_=[]);return ye.push(he),once(function(){var ve=ye.indexOf(he);ve!==-1&&ye.splice(ve,1)})}function interceptChange(oe,he){var ye=untrackedStart();try{for(var ve=[].concat(oe.interceptors_||[]),_e=0,we=ve.length;_e<we&&(he=ve[_e](he),he&&!he.type&&die(14),!!he);_e++);return he}finally{untrackedEnd(ye)}}function hasListeners(oe){return oe.changeListeners_!==void 0&&oe.changeListeners_.length>0}function registerListener(oe,he){var ye=oe.changeListeners_||(oe.changeListeners_=[]);return ye.push(he),once(function(){var ve=ye.indexOf(he);ve!==-1&&ye.splice(ve,1)})}function notifyListeners(oe,he){var ye=untrackedStart(),ve=oe.changeListeners_;if(ve){ve=ve.slice();for(var _e=0,we=ve.length;_e<we;_e++)ve[_e](he);untrackedEnd(ye)}}function makeObservable(oe,he,ye){return initObservable(function(){var ve,_e=asObservableObject(oe,ye)[$mobx];(ve=he)!=null||(he=collectStoredAnnotations(oe)),ownKeys(he).forEach(function(we){return _e.make_(we,he[we])})}),oe}var SPLICE="splice",UPDATE="update",MAX_SPLICE_SIZE=1e4,arrayTraps={get:function(he,ye){var ve=he[$mobx];return ye===$mobx?ve:ye==="length"?ve.getArrayLength_():typeof ye=="string"&&!isNaN(ye)?ve.get_(parseInt(ye)):hasProp(arrayExtensions,ye)?arrayExtensions[ye]:he[ye]},set:function(he,ye,ve){var _e=he[$mobx];return ye==="length"&&_e.setArrayLength_(ve),typeof ye=="symbol"||isNaN(ye)?he[ye]=ve:_e.set_(parseInt(ye),ve),!0},preventExtensions:function(){die(15)}},ObservableArrayAdministration=function(){function oe(ye,ve,_e,we){ye===void 0&&(ye="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=_e,this.legacyMode_=we,this.atom_=new Atom(ye),this.enhancer_=function(Pe,Ie){return ve(Pe,Ie,"ObservableArray[..]")}}var he=oe.prototype;return he.dehanceValue_=function(ve){return this.dehancer!==void 0?this.dehancer(ve):ve},he.dehanceValues_=function(ve){return this.dehancer!==void 0&&ve.length>0?ve.map(this.dehancer):ve},he.intercept_=function(ve){return registerInterceptor(this,ve)},he.observe_=function(ve,_e){return _e===void 0&&(_e=!1),_e&&ve({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),registerListener(this,ve)},he.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},he.setArrayLength_=function(ve){(typeof ve!="number"||isNaN(ve)||ve<0)&&die("Out of range: "+ve);var _e=this.values_.length;if(ve!==_e)if(ve>_e){for(var we=new Array(ve-_e),Pe=0;Pe<ve-_e;Pe++)we[Pe]=void 0;this.spliceWithArray_(_e,0,we)}else this.spliceWithArray_(ve,_e-ve)},he.updateArrayLength_=function(ve,_e){ve!==this.lastKnownLength_&&die(16),this.lastKnownLength_+=_e,this.legacyMode_&&_e>0&&reserveArrayBuffer(ve+_e+1)},he.spliceWithArray_=function(ve,_e,we){var Pe=this;this.atom_;var Ie=this.values_.length;if(ve===void 0?ve=0:ve>Ie?ve=Ie:ve<0&&(ve=Math.max(0,Ie+ve)),arguments.length===1?_e=Ie-ve:_e==null?_e=0:_e=Math.max(0,Math.min(_e,Ie-ve)),we===void 0&&(we=EMPTY_ARRAY),hasInterceptors(this)){var Re=interceptChange(this,{object:this.proxy_,type:SPLICE,index:ve,removedCount:_e,added:we});if(!Re)return EMPTY_ARRAY;_e=Re.removedCount,we=Re.added}if(we=we.length===0?we:we.map(function(Le){return Pe.enhancer_(Le,void 0)}),this.legacyMode_){var ke=we.length-_e;this.updateArrayLength_(Ie,ke)}var Fe=this.spliceItemsIntoValues_(ve,_e,we);return(_e!==0||we.length!==0)&&this.notifyArraySplice_(ve,we,Fe),this.dehanceValues_(Fe)},he.spliceItemsIntoValues_=function(ve,_e,we){if(we.length<MAX_SPLICE_SIZE){var Pe;return(Pe=this.values_).splice.apply(Pe,[ve,_e].concat(we))}else{var Ie=this.values_.slice(ve,ve+_e),Re=this.values_.slice(ve+_e);this.values_.length+=we.length-_e;for(var ke=0;ke<we.length;ke++)this.values_[ve+ke]=we[ke];for(var Fe=0;Fe<Re.length;Fe++)this.values_[ve+we.length+Fe]=Re[Fe];return Ie}},he.notifyArrayChildUpdate_=function(ve,_e,we){var Pe=!this.owned_&&isSpyEnabled(),Ie=hasListeners(this),Re=Ie||Pe?{observableKind:"array",object:this.proxy_,type:UPDATE,debugObjectName:this.atom_.name_,index:ve,newValue:_e,oldValue:we}:null;this.atom_.reportChanged(),Ie&&notifyListeners(this,Re)},he.notifyArraySplice_=function(ve,_e,we){var Pe=!this.owned_&&isSpyEnabled(),Ie=hasListeners(this),Re=Ie||Pe?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:SPLICE,index:ve,removed:we,added:_e,removedCount:we.length,addedCount:_e.length}:null;this.atom_.reportChanged(),Ie&&notifyListeners(this,Re)},he.get_=function(ve){if(this.legacyMode_&&ve>=this.values_.length){console.warn("[mobx] Out of bounds read: "+ve);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[ve])},he.set_=function(ve,_e){var we=this.values_;if(this.legacyMode_&&ve>we.length&&die(17,ve,we.length),ve<we.length){this.atom_;var Pe=we[ve];if(hasInterceptors(this)){var Ie=interceptChange(this,{type:UPDATE,object:this.proxy_,index:ve,newValue:_e});if(!Ie)return;_e=Ie.newValue}_e=this.enhancer_(_e,Pe);var Re=_e!==Pe;Re&&(we[ve]=_e,this.notifyArrayChildUpdate_(ve,_e,Pe))}else{for(var ke=new Array(ve+1-we.length),Fe=0;Fe<ke.length-1;Fe++)ke[Fe]=void 0;ke[ke.length-1]=_e,this.spliceWithArray_(we.length,0,ke)}},oe}();function createObservableArray(oe,he,ye,ve){return ye===void 0&&(ye="ObservableArray"),ve===void 0&&(ve=!1),assertProxies(),initObservable(function(){var _e=new ObservableArrayAdministration(ye,he,ve,!1);addHiddenFinalProp(_e.values_,$mobx,_e);var we=new Proxy(_e.values_,arrayTraps);return _e.proxy_=we,oe&&oe.length&&_e.spliceWithArray_(0,0,oe),we})}var arrayExtensions={clear:function(){return this.splice(0)},replace:function(he){var ye=this[$mobx];return ye.spliceWithArray_(0,ye.values_.length,he)},toJSON:function(){return this.slice()},splice:function(he,ye){for(var ve=arguments.length,_e=new Array(ve>2?ve-2:0),we=2;we<ve;we++)_e[we-2]=arguments[we];var Pe=this[$mobx];switch(arguments.length){case 0:return[];case 1:return Pe.spliceWithArray_(he);case 2:return Pe.spliceWithArray_(he,ye)}return Pe.spliceWithArray_(he,ye,_e)},spliceWithArray:function(he,ye,ve){return this[$mobx].spliceWithArray_(he,ye,ve)},push:function(){for(var he=this[$mobx],ye=arguments.length,ve=new Array(ye),_e=0;_e<ye;_e++)ve[_e]=arguments[_e];return he.spliceWithArray_(he.values_.length,0,ve),he.values_.length},pop:function(){return this.splice(Math.max(this[$mobx].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var he=this[$mobx],ye=arguments.length,ve=new Array(ye),_e=0;_e<ye;_e++)ve[_e]=arguments[_e];return he.spliceWithArray_(0,0,ve),he.values_.length},reverse:function(){return globalState.trackingDerivation&&die(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){globalState.trackingDerivation&&die(37,"sort");var he=this.slice();return he.sort.apply(he,arguments),this.replace(he),this},remove:function(he){var ye=this[$mobx],ve=ye.dehanceValues_(ye.values_).indexOf(he);return ve>-1?(this.splice(ve,1),!0):!1}};addArrayExtension("concat",simpleFunc);addArrayExtension("flat",simpleFunc);addArrayExtension("includes",simpleFunc);addArrayExtension("indexOf",simpleFunc);addArrayExtension("join",simpleFunc);addArrayExtension("lastIndexOf",simpleFunc);addArrayExtension("slice",simpleFunc);addArrayExtension("toString",simpleFunc);addArrayExtension("toLocaleString",simpleFunc);addArrayExtension("every",mapLikeFunc);addArrayExtension("filter",mapLikeFunc);addArrayExtension("find",mapLikeFunc);addArrayExtension("findIndex",mapLikeFunc);addArrayExtension("flatMap",mapLikeFunc);addArrayExtension("forEach",mapLikeFunc);addArrayExtension("map",mapLikeFunc);addArrayExtension("some",mapLikeFunc);addArrayExtension("reduce",reduceLikeFunc);addArrayExtension("reduceRight",reduceLikeFunc);function addArrayExtension(oe,he){typeof Array.prototype[oe]=="function"&&(arrayExtensions[oe]=he(oe))}function simpleFunc(oe){return function(){var he=this[$mobx];he.atom_.reportObserved();var ye=he.dehanceValues_(he.values_);return ye[oe].apply(ye,arguments)}}function mapLikeFunc(oe){return function(he,ye){var ve=this,_e=this[$mobx];_e.atom_.reportObserved();var we=_e.dehanceValues_(_e.values_);return we[oe](function(Pe,Ie){return he.call(ye,Pe,Ie,ve)})}}function reduceLikeFunc(oe){return function(){var he=this,ye=this[$mobx];ye.atom_.reportObserved();var ve=ye.dehanceValues_(ye.values_),_e=arguments[0];return arguments[0]=function(we,Pe,Ie){return _e(we,Pe,Ie,he)},ve[oe].apply(ve,arguments)}}var isObservableArrayAdministration=createInstanceofPredicate("ObservableArrayAdministration",ObservableArrayAdministration);function isObservableArray(oe){return isObject$8(oe)&&isObservableArrayAdministration(oe[$mobx])}var _Symbol$iterator,_Symbol$toStringTag,ObservableMapMarker={},ADD="add",DELETE="delete";_Symbol$iterator=Symbol.iterator;_Symbol$toStringTag=Symbol.toStringTag;var ObservableMap=function(){function oe(ye,ve,_e){var we=this;ve===void 0&&(ve=deepEnhancer),_e===void 0&&(_e="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[$mobx]=ObservableMapMarker,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=ve,this.name_=_e,isFunction$5(Map)||die(18),initObservable(function(){we.keysAtom_=createAtom("ObservableMap.keys()"),we.data_=new Map,we.hasMap_=new Map,ye&&we.merge(ye)})}var he=oe.prototype;return he.has_=function(ve){return this.data_.has(ve)},he.has=function(ve){var _e=this;if(!globalState.trackingDerivation)return this.has_(ve);var we=this.hasMap_.get(ve);if(!we){var Pe=we=new ObservableValue(this.has_(ve),referenceEnhancer,"ObservableMap.key?",!1);this.hasMap_.set(ve,Pe),onBecomeUnobserved(Pe,function(){return _e.hasMap_.delete(ve)})}return we.get()},he.set=function(ve,_e){var we=this.has_(ve);if(hasInterceptors(this)){var Pe=interceptChange(this,{type:we?UPDATE:ADD,object:this,newValue:_e,name:ve});if(!Pe)return this;_e=Pe.newValue}return we?this.updateValue_(ve,_e):this.addValue_(ve,_e),this},he.delete=function(ve){var _e=this;if(this.keysAtom_,hasInterceptors(this)){var we=interceptChange(this,{type:DELETE,object:this,name:ve});if(!we)return!1}if(this.has_(ve)){var Pe=isSpyEnabled(),Ie=hasListeners(this),Re=Ie||Pe?{observableKind:"map",debugObjectName:this.name_,type:DELETE,object:this,oldValue:this.data_.get(ve).value_,name:ve}:null;return transaction(function(){var ke;_e.keysAtom_.reportChanged(),(ke=_e.hasMap_.get(ve))==null||ke.setNewValue_(!1);var Fe=_e.data_.get(ve);Fe.setNewValue_(void 0),_e.data_.delete(ve)}),Ie&&notifyListeners(this,Re),!0}return!1},he.updateValue_=function(ve,_e){var we=this.data_.get(ve);if(_e=we.prepareNewValue_(_e),_e!==globalState.UNCHANGED){var Pe=isSpyEnabled(),Ie=hasListeners(this),Re=Ie||Pe?{observableKind:"map",debugObjectName:this.name_,type:UPDATE,object:this,oldValue:we.value_,name:ve,newValue:_e}:null;we.setNewValue_(_e),Ie&&notifyListeners(this,Re)}},he.addValue_=function(ve,_e){var we=this;this.keysAtom_,transaction(function(){var ke,Fe=new ObservableValue(_e,we.enhancer_,"ObservableMap.key",!1);we.data_.set(ve,Fe),_e=Fe.value_,(ke=we.hasMap_.get(ve))==null||ke.setNewValue_(!0),we.keysAtom_.reportChanged()});var Pe=isSpyEnabled(),Ie=hasListeners(this),Re=Ie||Pe?{observableKind:"map",debugObjectName:this.name_,type:ADD,object:this,name:ve,newValue:_e}:null;Ie&&notifyListeners(this,Re)},he.get=function(ve){return this.has(ve)?this.dehanceValue_(this.data_.get(ve).get()):this.dehanceValue_(void 0)},he.dehanceValue_=function(ve){return this.dehancer!==void 0?this.dehancer(ve):ve},he.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},he.values=function(){var ve=this,_e=this.keys();return makeIterable({next:function(){var Pe=_e.next(),Ie=Pe.done,Re=Pe.value;return{done:Ie,value:Ie?void 0:ve.get(Re)}}})},he.entries=function(){var ve=this,_e=this.keys();return makeIterable({next:function(){var Pe=_e.next(),Ie=Pe.done,Re=Pe.value;return{done:Ie,value:Ie?void 0:[Re,ve.get(Re)]}}})},he[_Symbol$iterator]=function(){return this.entries()},he.forEach=function(ve,_e){for(var we=_createForOfIteratorHelperLoose(this),Pe;!(Pe=we()).done;){var Ie=Pe.value,Re=Ie[0],ke=Ie[1];ve.call(_e,ke,Re,this)}},he.merge=function(ve){var _e=this;return isObservableMap(ve)&&(ve=new Map(ve)),transaction(function(){isPlainObject$2(ve)?getPlainObjectKeys(ve).forEach(function(we){return _e.set(we,ve[we])}):Array.isArray(ve)?ve.forEach(function(we){var Pe=we[0],Ie=we[1];return _e.set(Pe,Ie)}):isES6Map(ve)?(ve.constructor!==Map&&die(19,ve),ve.forEach(function(we,Pe){return _e.set(Pe,we)})):ve!=null&&die(20,ve)}),this},he.clear=function(){var ve=this;transaction(function(){untracked(function(){for(var _e=_createForOfIteratorHelperLoose(ve.keys()),we;!(we=_e()).done;){var Pe=we.value;ve.delete(Pe)}})})},he.replace=function(ve){var _e=this;return transaction(function(){for(var we=convertToMap(ve),Pe=new Map,Ie=!1,Re=_createForOfIteratorHelperLoose(_e.data_.keys()),ke;!(ke=Re()).done;){var Fe=ke.value;if(!we.has(Fe)){var Le=_e.delete(Fe);if(Le)Ie=!0;else{var De=_e.data_.get(Fe);Pe.set(Fe,De)}}}for(var je=_createForOfIteratorHelperLoose(we.entries()),ze;!(ze=je()).done;){var qe=ze.value,We=qe[0],et=qe[1],rt=_e.data_.has(We);if(_e.set(We,et),_e.data_.has(We)){var it=_e.data_.get(We);Pe.set(We,it),rt||(Ie=!0)}}if(!Ie)if(_e.data_.size!==Pe.size)_e.keysAtom_.reportChanged();else for(var ht=_e.data_.keys(),lt=Pe.keys(),dt=ht.next(),At=lt.next();!dt.done;){if(dt.value!==At.value){_e.keysAtom_.reportChanged();break}dt=ht.next(),At=lt.next()}_e.data_=Pe}),this},he.toString=function(){return"[object ObservableMap]"},he.toJSON=function(){return Array.from(this)},he.observe_=function(ve,_e){return registerListener(this,ve)},he.intercept_=function(ve){return registerInterceptor(this,ve)},_createClass(oe,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag,get:function(){return"Map"}}]),oe}(),isObservableMap=createInstanceofPredicate("ObservableMap",ObservableMap);function convertToMap(oe){if(isES6Map(oe)||isObservableMap(oe))return oe;if(Array.isArray(oe))return new Map(oe);if(isPlainObject$2(oe)){var he=new Map;for(var ye in oe)he.set(ye,oe[ye]);return he}else return die(21,oe)}var _Symbol$iterator$1,_Symbol$toStringTag$1,ObservableSetMarker={};_Symbol$iterator$1=Symbol.iterator;_Symbol$toStringTag$1=Symbol.toStringTag;var ObservableSet=function(){function oe(ye,ve,_e){var we=this;ve===void 0&&(ve=deepEnhancer),_e===void 0&&(_e="ObservableSet"),this.name_=void 0,this[$mobx]=ObservableSetMarker,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=_e,isFunction$5(Set)||die(22),this.enhancer_=function(Pe,Ie){return ve(Pe,Ie,_e)},initObservable(function(){we.atom_=createAtom(we.name_),ye&&we.replace(ye)})}var he=oe.prototype;return he.dehanceValue_=function(ve){return this.dehancer!==void 0?this.dehancer(ve):ve},he.clear=function(){var ve=this;transaction(function(){untracked(function(){for(var _e=_createForOfIteratorHelperLoose(ve.data_.values()),we;!(we=_e()).done;){var Pe=we.value;ve.delete(Pe)}})})},he.forEach=function(ve,_e){for(var we=_createForOfIteratorHelperLoose(this),Pe;!(Pe=we()).done;){var Ie=Pe.value;ve.call(_e,Ie,Ie,this)}},he.add=function(ve){var _e=this;if(this.atom_,hasInterceptors(this)){var we=interceptChange(this,{type:ADD,object:this,newValue:ve});if(!we)return this}if(!this.has(ve)){transaction(function(){_e.data_.add(_e.enhancer_(ve,void 0)),_e.atom_.reportChanged()});var Pe=!1,Ie=hasListeners(this),Re=Ie||Pe?{observableKind:"set",debugObjectName:this.name_,type:ADD,object:this,newValue:ve}:null;Ie&&notifyListeners(this,Re)}return this},he.delete=function(ve){var _e=this;if(hasInterceptors(this)){var we=interceptChange(this,{type:DELETE,object:this,oldValue:ve});if(!we)return!1}if(this.has(ve)){var Pe=!1,Ie=hasListeners(this),Re=Ie||Pe?{observableKind:"set",debugObjectName:this.name_,type:DELETE,object:this,oldValue:ve}:null;return transaction(function(){_e.atom_.reportChanged(),_e.data_.delete(ve)}),Ie&&notifyListeners(this,Re),!0}return!1},he.has=function(ve){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(ve))},he.entries=function(){var ve=0,_e=Array.from(this.keys()),we=Array.from(this.values());return makeIterable({next:function(){var Ie=ve;return ve+=1,Ie<we.length?{value:[_e[Ie],we[Ie]],done:!1}:{done:!0}}})},he.keys=function(){return this.values()},he.values=function(){this.atom_.reportObserved();var ve=this,_e=0,we=Array.from(this.data_.values());return makeIterable({next:function(){return _e<we.length?{value:ve.dehanceValue_(we[_e++]),done:!1}:{done:!0}}})},he.replace=function(ve){var _e=this;return isObservableSet(ve)&&(ve=new Set(ve)),transaction(function(){Array.isArray(ve)?(_e.clear(),ve.forEach(function(we){return _e.add(we)})):isES6Set(ve)?(_e.clear(),ve.forEach(function(we){return _e.add(we)})):ve!=null&&die("Cannot initialize set from "+ve)}),this},he.observe_=function(ve,_e){return registerListener(this,ve)},he.intercept_=function(ve){return registerInterceptor(this,ve)},he.toJSON=function(){return Array.from(this)},he.toString=function(){return"[object ObservableSet]"},he[_Symbol$iterator$1]=function(){return this.values()},_createClass(oe,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag$1,get:function(){return"Set"}}]),oe}(),isObservableSet=createInstanceofPredicate("ObservableSet",ObservableSet),descriptorCache=Object.create(null),REMOVE="remove",ObservableObjectAdministration=function(){function oe(ye,ve,_e,we){ve===void 0&&(ve=new Map),we===void 0&&(we=autoAnnotation),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=ye,this.values_=ve,this.name_=_e,this.defaultAnnotation_=we,this.keysAtom_=new Atom("ObservableObject.keys"),this.isPlainObject_=isPlainObject$2(this.target_)}var he=oe.prototype;return he.getObservablePropValue_=function(ve){return this.values_.get(ve).get()},he.setObservablePropValue_=function(ve,_e){var we=this.values_.get(ve);if(we instanceof ComputedValue)return we.set(_e),!0;if(hasInterceptors(this)){var Pe=interceptChange(this,{type:UPDATE,object:this.proxy_||this.target_,name:ve,newValue:_e});if(!Pe)return null;_e=Pe.newValue}if(_e=we.prepareNewValue_(_e),_e!==globalState.UNCHANGED){var Ie=hasListeners(this),Re=!1,ke=Ie||Re?{type:UPDATE,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:we.value_,name:ve,newValue:_e}:null;we.setNewValue_(_e),Ie&&notifyListeners(this,ke)}return!0},he.get_=function(ve){return globalState.trackingDerivation&&!hasProp(this.target_,ve)&&this.has_(ve),this.target_[ve]},he.set_=function(ve,_e,we){return we===void 0&&(we=!1),hasProp(this.target_,ve)?this.values_.has(ve)?this.setObservablePropValue_(ve,_e):we?Reflect.set(this.target_,ve,_e):(this.target_[ve]=_e,!0):this.extend_(ve,{value:_e,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,we)},he.has_=function(ve){if(!globalState.trackingDerivation)return ve in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var _e=this.pendingKeys_.get(ve);return _e||(_e=new ObservableValue(ve in this.target_,referenceEnhancer,"ObservableObject.key?",!1),this.pendingKeys_.set(ve,_e)),_e.get()},he.make_=function(ve,_e){if(_e===!0&&(_e=this.defaultAnnotation_),_e!==!1){if(!(ve in this.target_)){var we;if((we=this.target_[storedAnnotationsSymbol])!=null&&we[ve])return;die(1,_e.annotationType_,this.name_+"."+ve.toString())}for(var Pe=this.target_;Pe&&Pe!==objectPrototype;){var Ie=getDescriptor(Pe,ve);if(Ie){var Re=_e.make_(this,ve,Ie,Pe);if(Re===0)return;if(Re===1)break}Pe=Object.getPrototypeOf(Pe)}recordAnnotationApplied(this,_e,ve)}},he.extend_=function(ve,_e,we,Pe){if(Pe===void 0&&(Pe=!1),we===!0&&(we=this.defaultAnnotation_),we===!1)return this.defineProperty_(ve,_e,Pe);var Ie=we.extend_(this,ve,_e,Pe);return Ie&&recordAnnotationApplied(this,we,ve),Ie},he.defineProperty_=function(ve,_e,we){we===void 0&&(we=!1),this.keysAtom_;try{startBatch();var Pe=this.delete_(ve);if(!Pe)return Pe;if(hasInterceptors(this)){var Ie=interceptChange(this,{object:this.proxy_||this.target_,name:ve,type:ADD,newValue:_e.value});if(!Ie)return null;var Re=Ie.newValue;_e.value!==Re&&(_e=_extends({},_e,{value:Re}))}if(we){if(!Reflect.defineProperty(this.target_,ve,_e))return!1}else defineProperty(this.target_,ve,_e);this.notifyPropertyAddition_(ve,_e.value)}finally{endBatch()}return!0},he.defineObservableProperty_=function(ve,_e,we,Pe){Pe===void 0&&(Pe=!1),this.keysAtom_;try{startBatch();var Ie=this.delete_(ve);if(!Ie)return Ie;if(hasInterceptors(this)){var Re=interceptChange(this,{object:this.proxy_||this.target_,name:ve,type:ADD,newValue:_e});if(!Re)return null;_e=Re.newValue}var ke=getCachedObservablePropDescriptor(ve),Fe={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:ke.get,set:ke.set};if(Pe){if(!Reflect.defineProperty(this.target_,ve,Fe))return!1}else defineProperty(this.target_,ve,Fe);var Le=new ObservableValue(_e,we,"ObservableObject.key",!1);this.values_.set(ve,Le),this.notifyPropertyAddition_(ve,Le.value_)}finally{endBatch()}return!0},he.defineComputedProperty_=function(ve,_e,we){we===void 0&&(we=!1),this.keysAtom_;try{startBatch();var Pe=this.delete_(ve);if(!Pe)return Pe;if(hasInterceptors(this)){var Ie=interceptChange(this,{object:this.proxy_||this.target_,name:ve,type:ADD,newValue:void 0});if(!Ie)return null}_e.name||(_e.name="ObservableObject.key"),_e.context=this.proxy_||this.target_;var Re=getCachedObservablePropDescriptor(ve),ke={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:Re.get,set:Re.set};if(we){if(!Reflect.defineProperty(this.target_,ve,ke))return!1}else defineProperty(this.target_,ve,ke);this.values_.set(ve,new ComputedValue(_e)),this.notifyPropertyAddition_(ve,void 0)}finally{endBatch()}return!0},he.delete_=function(ve,_e){if(_e===void 0&&(_e=!1),this.keysAtom_,!hasProp(this.target_,ve))return!0;if(hasInterceptors(this)){var we=interceptChange(this,{object:this.proxy_||this.target_,name:ve,type:REMOVE});if(!we)return null}try{var Pe,Ie;startBatch();var Re=hasListeners(this),ke=!1,Fe=this.values_.get(ve),Le=void 0;if(!Fe&&(Re||ke)){var De;Le=(De=getDescriptor(this.target_,ve))==null?void 0:De.value}if(_e){if(!Reflect.deleteProperty(this.target_,ve))return!1}else delete this.target_[ve];if(Fe&&(this.values_.delete(ve),Fe instanceof ObservableValue&&(Le=Fe.value_),propagateChanged(Fe)),this.keysAtom_.reportChanged(),(Pe=this.pendingKeys_)==null||(Ie=Pe.get(ve))==null||Ie.set(ve in this.target_),Re||ke){var je={type:REMOVE,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:Le,name:ve};Re&&notifyListeners(this,je)}}finally{endBatch()}return!0},he.observe_=function(ve,_e){return registerListener(this,ve)},he.intercept_=function(ve){return registerInterceptor(this,ve)},he.notifyPropertyAddition_=function(ve,_e){var we,Pe,Ie=hasListeners(this),Re=!1;if(Ie||Re){var ke=Ie||Re?{type:ADD,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:ve,newValue:_e}:null;Ie&&notifyListeners(this,ke)}(we=this.pendingKeys_)==null||(Pe=we.get(ve))==null||Pe.set(!0),this.keysAtom_.reportChanged()},he.ownKeys_=function(){return this.keysAtom_.reportObserved(),ownKeys(this.target_)},he.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},oe}();function asObservableObject(oe,he){var ye;if(hasProp(oe,$mobx))return oe;var ve=(ye=he?.name)!=null?ye:"ObservableObject",_e=new ObservableObjectAdministration(oe,new Map,String(ve),getAnnotationFromOptions(he));return addHiddenProp(oe,$mobx,_e),oe}var isObservableObjectAdministration=createInstanceofPredicate("ObservableObjectAdministration",ObservableObjectAdministration);function getCachedObservablePropDescriptor(oe){return descriptorCache[oe]||(descriptorCache[oe]={get:function(){return this[$mobx].getObservablePropValue_(oe)},set:function(ye){return this[$mobx].setObservablePropValue_(oe,ye)}})}function isObservableObject(oe){return isObject$8(oe)?isObservableObjectAdministration(oe[$mobx]):!1}function recordAnnotationApplied(oe,he,ye){var ve;(ve=oe.target_[storedAnnotationsSymbol])==null||delete ve[ye]}var ENTRY_0=createArrayEntryDescriptor(0),safariPrototypeSetterInheritanceBug=function(){var oe=!1,he={};return Object.defineProperty(he,"0",{set:function(){oe=!0}}),Object.create(he)[0]=1,oe===!1}(),OBSERVABLE_ARRAY_BUFFER_SIZE=0,StubArray=function(){};function inherit(oe,he){Object.setPrototypeOf?Object.setPrototypeOf(oe.prototype,he):oe.prototype.__proto__!==void 0?oe.prototype.__proto__=he:oe.prototype=he}inherit(StubArray,Array.prototype);var LegacyObservableArray=function(oe,he,ye){_inheritsLoose(ve,oe);function ve(we,Pe,Ie,Re){var ke;return Ie===void 0&&(Ie="ObservableArray"),Re===void 0&&(Re=!1),ke=oe.call(this)||this,initObservable(function(){var Fe=new ObservableArrayAdministration(Ie,Pe,Re,!0);Fe.proxy_=_assertThisInitialized(ke),addHiddenFinalProp(_assertThisInitialized(ke),$mobx,Fe),we&&we.length&&ke.spliceWithArray(0,0,we),safariPrototypeSetterInheritanceBug&&Object.defineProperty(_assertThisInitialized(ke),"0",ENTRY_0)}),ke}var _e=ve.prototype;return _e.concat=function(){this[$mobx].atom_.reportObserved();for(var Pe=arguments.length,Ie=new Array(Pe),Re=0;Re<Pe;Re++)Ie[Re]=arguments[Re];return Array.prototype.concat.apply(this.slice(),Ie.map(function(ke){return isObservableArray(ke)?ke.slice():ke}))},_e[ye]=function(){var we=this,Pe=0;return makeIterable({next:function(){return Pe<we.length?{value:we[Pe++],done:!1}:{done:!0,value:void 0}}})},_createClass(ve,[{key:"length",get:function(){return this[$mobx].getArrayLength_()},set:function(Pe){this[$mobx].setArrayLength_(Pe)}},{key:he,get:function(){return"Array"}}]),ve}(StubArray,Symbol.toStringTag,Symbol.iterator);Object.entries(arrayExtensions).forEach(function(oe){var he=oe[0],ye=oe[1];he!=="concat"&&addHiddenProp(LegacyObservableArray.prototype,he,ye)});function createArrayEntryDescriptor(oe){return{enumerable:!1,configurable:!0,get:function(){return this[$mobx].get_(oe)},set:function(ye){this[$mobx].set_(oe,ye)}}}function createArrayBufferItem(oe){defineProperty(LegacyObservableArray.prototype,""+oe,createArrayEntryDescriptor(oe))}function reserveArrayBuffer(oe){if(oe>OBSERVABLE_ARRAY_BUFFER_SIZE){for(var he=OBSERVABLE_ARRAY_BUFFER_SIZE;he<oe+100;he++)createArrayBufferItem(he);OBSERVABLE_ARRAY_BUFFER_SIZE=oe}}reserveArrayBuffer(1e3);function createLegacyArray(oe,he,ye){return new LegacyObservableArray(oe,he,ye)}function getAtom(oe,he){if(typeof oe=="object"&&oe!==null){if(isObservableArray(oe))return he!==void 0&&die(23),oe[$mobx].atom_;if(isObservableSet(oe))return oe.atom_;if(isObservableMap(oe)){if(he===void 0)return oe.keysAtom_;var ye=oe.data_.get(he)||oe.hasMap_.get(he);return ye||die(25,he,getDebugName(oe)),ye}if(isObservableObject(oe)){if(!he)return die(26);var ve=oe[$mobx].values_.get(he);return ve||die(27,he,getDebugName(oe)),ve}if(isAtom(oe)||isComputedValue(oe)||isReaction(oe))return oe}else if(isFunction$5(oe)&&isReaction(oe[$mobx]))return oe[$mobx];die(28)}function getAdministration(oe,he){if(oe||die(29),he!==void 0)return getAdministration(getAtom(oe,he));if(isAtom(oe)||isComputedValue(oe)||isReaction(oe)||isObservableMap(oe)||isObservableSet(oe))return oe;if(oe[$mobx])return oe[$mobx];die(24,oe)}function getDebugName(oe,he){var ye;if(he!==void 0)ye=getAtom(oe,he);else{if(isAction(oe))return oe.name;isObservableObject(oe)||isObservableMap(oe)||isObservableSet(oe)?ye=getAdministration(oe):ye=getAtom(oe)}return ye.name_}function initObservable(oe){var he=untrackedStart(),ye=allowStateChangesStart(!0);startBatch();try{return oe()}finally{endBatch(),allowStateChangesEnd(ye),untrackedEnd(he)}}var toString$5=objectPrototype.toString;function deepEqual(oe,he,ye){return ye===void 0&&(ye=-1),eq$3(oe,he,ye)}function eq$3(oe,he,ye,ve,_e){if(oe===he)return oe!==0||1/oe===1/he;if(oe==null||he==null)return!1;if(oe!==oe)return he!==he;var we=typeof oe;if(we!=="function"&&we!=="object"&&typeof he!="object")return!1;var Pe=toString$5.call(oe);if(Pe!==toString$5.call(he))return!1;switch(Pe){case"[object RegExp]":case"[object String]":return""+oe==""+he;case"[object Number]":return+oe!=+oe?+he!=+he:+oe==0?1/+oe===1/he:+oe==+he;case"[object Date]":case"[object Boolean]":return+oe==+he;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(oe)===Symbol.valueOf.call(he);case"[object Map]":case"[object Set]":ye>=0&&ye++;break}oe=unwrap(oe),he=unwrap(he);var Ie=Pe==="[object Array]";if(!Ie){if(typeof oe!="object"||typeof he!="object")return!1;var Re=oe.constructor,ke=he.constructor;if(Re!==ke&&!(isFunction$5(Re)&&Re instanceof Re&&isFunction$5(ke)&&ke instanceof ke)&&"constructor"in oe&&"constructor"in he)return!1}if(ye===0)return!1;ye<0&&(ye=-1),ve=ve||[],_e=_e||[];for(var Fe=ve.length;Fe--;)if(ve[Fe]===oe)return _e[Fe]===he;if(ve.push(oe),_e.push(he),Ie){if(Fe=oe.length,Fe!==he.length)return!1;for(;Fe--;)if(!eq$3(oe[Fe],he[Fe],ye-1,ve,_e))return!1}else{var Le=Object.keys(oe),De;if(Fe=Le.length,Object.keys(he).length!==Fe)return!1;for(;Fe--;)if(De=Le[Fe],!(hasProp(he,De)&&eq$3(oe[De],he[De],ye-1,ve,_e)))return!1}return ve.pop(),_e.pop(),!0}function unwrap(oe){return isObservableArray(oe)?oe.slice():isES6Map(oe)||isObservableMap(oe)||isES6Set(oe)||isObservableSet(oe)?Array.from(oe.entries()):oe}function makeIterable(oe){return oe[Symbol.iterator]=getSelf,oe}function getSelf(){return this}["Symbol","Map","Set"].forEach(function(oe){var he=getGlobal();typeof he[oe]>"u"&&die("MobX requires globalThis '"+oe+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy,extras:{getDebugName},$mobx});var extendStatics=function(oe,he){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ye,ve){ye.__proto__=ve}||function(ye,ve){for(var _e in ve)Object.prototype.hasOwnProperty.call(ve,_e)&&(ye[_e]=ve[_e])},extendStatics(oe,he)};function __extends$1(oe,he){if(typeof he!="function"&&he!==null)throw new TypeError("Class extends value "+String(he)+" is not a constructor or null");extendStatics(oe,he);function ye(){this.constructor=oe}oe.prototype=he===null?Object.create(he):(ye.prototype=he.prototype,new ye)}var __assign$2=function(){return __assign$2=Object.assign||function(he){for(var ye,ve=1,_e=arguments.length;ve<_e;ve++){ye=arguments[ve];for(var we in ye)Object.prototype.hasOwnProperty.call(ye,we)&&(he[we]=ye[we])}return he},__assign$2.apply(this,arguments)};function __rest(oe,he){var ye={};for(var ve in oe)Object.prototype.hasOwnProperty.call(oe,ve)&&he.indexOf(ve)<0&&(ye[ve]=oe[ve]);if(oe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _e=0,ve=Object.getOwnPropertySymbols(oe);_e<ve.length;_e++)he.indexOf(ve[_e])<0&&Object.prototype.propertyIsEnumerable.call(oe,ve[_e])&&(ye[ve[_e]]=oe[ve[_e]]);return ye}function __awaiter(oe,he,ye,ve){function _e(we){return we instanceof ye?we:new ye(function(Pe){Pe(we)})}return new(ye||(ye=Promise))(function(we,Pe){function Ie(Fe){try{ke(ve.next(Fe))}catch(Le){Pe(Le)}}function Re(Fe){try{ke(ve.throw(Fe))}catch(Le){Pe(Le)}}function ke(Fe){Fe.done?we(Fe.value):_e(Fe.value).then(Ie,Re)}ke((ve=ve.apply(oe,he||[])).next())})}function __generator(oe,he){var ye={label:0,sent:function(){if(we[0]&1)throw we[1];return we[1]},trys:[],ops:[]},ve,_e,we,Pe;return Pe={next:Ie(0),throw:Ie(1),return:Ie(2)},typeof Symbol=="function"&&(Pe[Symbol.iterator]=function(){return this}),Pe;function Ie(ke){return function(Fe){return Re([ke,Fe])}}function Re(ke){if(ve)throw new TypeError("Generator is already executing.");for(;Pe&&(Pe=0,ke[0]&&(ye=0)),ye;)try{if(ve=1,_e&&(we=ke[0]&2?_e.return:ke[0]?_e.throw||((we=_e.return)&&we.call(_e),0):_e.next)&&!(we=we.call(_e,ke[1])).done)return we;switch(_e=0,we&&(ke=[ke[0]&2,we.value]),ke[0]){case 0:case 1:we=ke;break;case 4:return ye.label++,{value:ke[1],done:!1};case 5:ye.label++,_e=ke[1],ke=[0];continue;case 7:ke=ye.ops.pop(),ye.trys.pop();continue;default:if(we=ye.trys,!(we=we.length>0&&we[we.length-1])&&(ke[0]===6||ke[0]===2)){ye=0;continue}if(ke[0]===3&&(!we||ke[1]>we[0]&&ke[1]<we[3])){ye.label=ke[1];break}if(ke[0]===6&&ye.label<we[1]){ye.label=we[1],we=ke;break}if(we&&ye.label<we[2]){ye.label=we[2],ye.ops.push(ke);break}we[2]&&ye.ops.pop(),ye.trys.pop();continue}ke=he.call(oe,ye)}catch(Fe){ke=[6,Fe],_e=0}finally{ve=we=0}if(ke[0]&5)throw ke[1];return{value:ke[0]?ke[1]:void 0,done:!0}}}function __values(oe){var he=typeof Symbol=="function"&&Symbol.iterator,ye=he&&oe[he],ve=0;if(ye)return ye.call(oe);if(oe&&typeof oe.length=="number")return{next:function(){return oe&&ve>=oe.length&&(oe=void 0),{value:oe&&oe[ve++],done:!oe}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$5(oe,he){var ye=typeof Symbol=="function"&&oe[Symbol.iterator];if(!ye)return oe;var ve=ye.call(oe),_e,we=[],Pe;try{for(;(he===void 0||he-- >0)&&!(_e=ve.next()).done;)we.push(_e.value)}catch(Ie){Pe={error:Ie}}finally{try{_e&&!_e.done&&(ye=ve.return)&&ye.call(ve)}finally{if(Pe)throw Pe.error}}return we}function __spread(){for(var oe=[],he=0;he<arguments.length;he++)oe=oe.concat(__read$5(arguments[he]));return oe}function __spreadArray$3(oe,he,ye){if(ye||arguments.length===2)for(var ve=0,_e=he.length,we;ve<_e;ve++)(we||!(ve in he))&&(we||(we=Array.prototype.slice.call(he,0,ve)),we[ve]=he[ve]);return oe.concat(we||Array.prototype.slice.call(he))}function __await(oe){return this instanceof __await?(this.v=oe,this):new __await(oe)}function __asyncGenerator(oe,he,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve=ye.apply(oe,he||[]),_e,we=[];return _e={},Pe("next"),Pe("throw"),Pe("return"),_e[Symbol.asyncIterator]=function(){return this},_e;function Pe(De){ve[De]&&(_e[De]=function(je){return new Promise(function(ze,qe){we.push([De,je,ze,qe])>1||Ie(De,je)})})}function Ie(De,je){try{Re(ve[De](je))}catch(ze){Le(we[0][3],ze)}}function Re(De){De.value instanceof __await?Promise.resolve(De.value.v).then(ke,Fe):Le(we[0][2],De)}function ke(De){Ie("next",De)}function Fe(De){Ie("throw",De)}function Le(De,je){De(je),we.shift(),we.length&&Ie(we[0][0],we[0][1])}}function __asyncValues(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he=oe[Symbol.asyncIterator],ye;return he?he.call(oe):(oe=typeof __values=="function"?__values(oe):oe[Symbol.iterator](),ye={},ve("next"),ve("throw"),ve("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function ve(we){ye[we]=oe[we]&&function(Pe){return new Promise(function(Ie,Re){Pe=oe[we](Pe),_e(Ie,Re,Pe.done,Pe.value)})}}function _e(we,Pe,Ie,Re){Promise.resolve(Re).then(function(ke){we({value:ke,done:Ie})},Pe)}}typeof SuppressedError=="function"&&SuppressedError;function isFunction$4(oe){return typeof oe=="function"}function createErrorClass(oe){var he=function(ve){Error.call(ve),ve.stack=new Error().stack},ye=oe(he);return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}var UnsubscriptionError=createErrorClass(function(oe){return function(ye){oe(this),this.message=ye?ye.length+` errors occurred during unsubscription:
`+ye.map(function(ve,_e){return _e+1+") "+ve.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=ye}});function arrRemove(oe,he){if(oe){var ye=oe.indexOf(he);0<=ye&&oe.splice(ye,1)}}var Subscription=function(){function oe(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}return oe.prototype.unsubscribe=function(){var he,ye,ve,_e,we;if(!this.closed){this.closed=!0;var Pe=this._parentage;if(Pe)if(this._parentage=null,Array.isArray(Pe))try{for(var Ie=__values(Pe),Re=Ie.next();!Re.done;Re=Ie.next()){var ke=Re.value;ke.remove(this)}}catch(qe){he={error:qe}}finally{try{Re&&!Re.done&&(ye=Ie.return)&&ye.call(Ie)}finally{if(he)throw he.error}}else Pe.remove(this);var Fe=this.initialTeardown;if(isFunction$4(Fe))try{Fe()}catch(qe){we=qe instanceof UnsubscriptionError?qe.errors:[qe]}var Le=this._finalizers;if(Le){this._finalizers=null;try{for(var De=__values(Le),je=De.next();!je.done;je=De.next()){var ze=je.value;try{execFinalizer(ze)}catch(qe){we=we??[],qe instanceof UnsubscriptionError?we=__spreadArray$3(__spreadArray$3([],__read$5(we)),__read$5(qe.errors)):we.push(qe)}}}catch(qe){ve={error:qe}}finally{try{je&&!je.done&&(_e=De.return)&&_e.call(De)}finally{if(ve)throw ve.error}}}if(we)throw new UnsubscriptionError(we)}},oe.prototype.add=function(he){var ye;if(he&&he!==this)if(this.closed)execFinalizer(he);else{if(he instanceof oe){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=(ye=this._finalizers)!==null&&ye!==void 0?ye:[]).push(he)}},oe.prototype._hasParent=function(he){var ye=this._parentage;return ye===he||Array.isArray(ye)&&ye.includes(he)},oe.prototype._addParent=function(he){var ye=this._parentage;this._parentage=Array.isArray(ye)?(ye.push(he),ye):ye?[ye,he]:he},oe.prototype._removeParent=function(he){var ye=this._parentage;ye===he?this._parentage=null:Array.isArray(ye)&&arrRemove(ye,he)},oe.prototype.remove=function(he){var ye=this._finalizers;ye&&arrRemove(ye,he),he instanceof oe&&he._removeParent(this)},oe.EMPTY=function(){var he=new oe;return he.closed=!0,he}(),oe}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(oe){return oe instanceof Subscription||oe&&"closed"in oe&&isFunction$4(oe.remove)&&isFunction$4(oe.add)&&isFunction$4(oe.unsubscribe)}function execFinalizer(oe){isFunction$4(oe)?oe():oe.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(oe,he){for(var ye=[],ve=2;ve<arguments.length;ve++)ye[ve-2]=arguments[ve];var _e=timeoutProvider.delegate;return _e?.setTimeout?_e.setTimeout.apply(_e,__spreadArray$3([oe,he],__read$5(ye))):setTimeout.apply(void 0,__spreadArray$3([oe,he],__read$5(ye)))},clearTimeout:function(oe){var he=timeoutProvider.delegate;return(he?.clearTimeout||clearTimeout)(oe)},delegate:void 0};function reportUnhandledError(oe){timeoutProvider.setTimeout(function(){throw oe})}function noop$1(){}function errorContext(oe){oe()}var Subscriber=function(oe){__extends$1(he,oe);function he(ye){var ve=oe.call(this)||this;return ve.isStopped=!1,ye?(ve.destination=ye,isSubscription(ye)&&ye.add(ve)):ve.destination=EMPTY_OBSERVER,ve}return he.create=function(ye,ve,_e){return new SafeSubscriber(ye,ve,_e)},he.prototype.next=function(ye){this.isStopped||this._next(ye)},he.prototype.error=function(ye){this.isStopped||(this.isStopped=!0,this._error(ye))},he.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},he.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,oe.prototype.unsubscribe.call(this),this.destination=null)},he.prototype._next=function(ye){this.destination.next(ye)},he.prototype._error=function(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}},he.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},he}(Subscription),_bind=Function.prototype.bind;function bind(oe,he){return _bind.call(oe,he)}var ConsumerObserver=function(){function oe(he){this.partialObserver=he}return oe.prototype.next=function(he){var ye=this.partialObserver;if(ye.next)try{ye.next(he)}catch(ve){handleUnhandledError(ve)}},oe.prototype.error=function(he){var ye=this.partialObserver;if(ye.error)try{ye.error(he)}catch(ve){handleUnhandledError(ve)}else handleUnhandledError(he)},oe.prototype.complete=function(){var he=this.partialObserver;if(he.complete)try{he.complete()}catch(ye){handleUnhandledError(ye)}},oe}(),SafeSubscriber=function(oe){__extends$1(he,oe);function he(ye,ve,_e){var we=oe.call(this)||this,Pe;if(isFunction$4(ye)||!ye)Pe={next:ye??void 0,error:ve??void 0,complete:_e??void 0};else{var Ie;we&&config.useDeprecatedNextContext?(Ie=Object.create(ye),Ie.unsubscribe=function(){return we.unsubscribe()},Pe={next:ye.next&&bind(ye.next,Ie),error:ye.error&&bind(ye.error,Ie),complete:ye.complete&&bind(ye.complete,Ie)}):Pe=ye}return we.destination=new ConsumerObserver(Pe),we}return he}(Subscriber);function handleUnhandledError(oe){reportUnhandledError(oe)}function defaultErrorHandler(oe){throw oe}var EMPTY_OBSERVER={closed:!0,next:noop$1,error:defaultErrorHandler,complete:noop$1},observable$1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity$4(oe){return oe}function pipe(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];return pipeFromArray$1(oe)}function pipeFromArray$1(oe){return oe.length===0?identity$4:oe.length===1?oe[0]:function(ye){return oe.reduce(function(ve,_e){return _e(ve)},ye)}}var Observable=function(){function oe(he){he&&(this._subscribe=he)}return oe.prototype.lift=function(he){var ye=new oe;return ye.source=this,ye.operator=he,ye},oe.prototype.subscribe=function(he,ye,ve){var _e=this,we=isSubscriber(he)?he:new SafeSubscriber(he,ye,ve);return errorContext(function(){var Pe=_e,Ie=Pe.operator,Re=Pe.source;we.add(Ie?Ie.call(we,Re):Re?_e._subscribe(we):_e._trySubscribe(we))}),we},oe.prototype._trySubscribe=function(he){try{return this._subscribe(he)}catch(ye){he.error(ye)}},oe.prototype.forEach=function(he,ye){var ve=this;return ye=getPromiseCtor(ye),new ye(function(_e,we){var Pe=new SafeSubscriber({next:function(Ie){try{he(Ie)}catch(Re){we(Re),Pe.unsubscribe()}},error:we,complete:_e});ve.subscribe(Pe)})},oe.prototype._subscribe=function(he){var ye;return(ye=this.source)===null||ye===void 0?void 0:ye.subscribe(he)},oe.prototype[observable$1]=function(){return this},oe.prototype.pipe=function(){for(var he=[],ye=0;ye<arguments.length;ye++)he[ye]=arguments[ye];return pipeFromArray$1(he)(this)},oe.prototype.toPromise=function(he){var ye=this;return he=getPromiseCtor(he),new he(function(ve,_e){var we;ye.subscribe(function(Pe){return we=Pe},function(Pe){return _e(Pe)},function(){return ve(we)})})},oe.create=function(he){return new oe(he)},oe}();function getPromiseCtor(oe){var he;return(he=oe??config.Promise)!==null&&he!==void 0?he:Promise}function isObserver(oe){return oe&&isFunction$4(oe.next)&&isFunction$4(oe.error)&&isFunction$4(oe.complete)}function isSubscriber(oe){return oe&&oe instanceof Subscriber||isObserver(oe)&&isSubscription(oe)}function hasLift(oe){return isFunction$4(oe?.lift)}function operate(oe){return function(he){if(hasLift(he))return he.lift(function(ye){try{return oe(ye,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(oe,he,ye,ve,_e){return new OperatorSubscriber(oe,he,ye,ve,_e)}var OperatorSubscriber=function(oe){__extends$1(he,oe);function he(ye,ve,_e,we,Pe,Ie){var Re=oe.call(this,ye)||this;return Re.onFinalize=Pe,Re.shouldUnsubscribe=Ie,Re._next=ve?function(ke){try{ve(ke)}catch(Fe){ye.error(Fe)}}:oe.prototype._next,Re._error=we?function(ke){try{we(ke)}catch(Fe){ye.error(Fe)}finally{this.unsubscribe()}}:oe.prototype._error,Re._complete=_e?function(){try{_e()}catch(ke){ye.error(ke)}finally{this.unsubscribe()}}:oe.prototype._complete,Re}return he.prototype.unsubscribe=function(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var ve=this.closed;oe.prototype.unsubscribe.call(this),!ve&&((ye=this.onFinalize)===null||ye===void 0||ye.call(this))}},he}(Subscriber),ObjectUnsubscribedError=createErrorClass(function(oe){return function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(oe){__extends$1(he,oe);function he(){var ye=oe.call(this)||this;return ye.closed=!1,ye.currentObservers=null,ye.observers=[],ye.isStopped=!1,ye.hasError=!1,ye.thrownError=null,ye}return he.prototype.lift=function(ye){var ve=new AnonymousSubject(this,this);return ve.operator=ye,ve},he.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},he.prototype.next=function(ye){var ve=this;errorContext(function(){var _e,we;if(ve._throwIfClosed(),!ve.isStopped){ve.currentObservers||(ve.currentObservers=Array.from(ve.observers));try{for(var Pe=__values(ve.currentObservers),Ie=Pe.next();!Ie.done;Ie=Pe.next()){var Re=Ie.value;Re.next(ye)}}catch(ke){_e={error:ke}}finally{try{Ie&&!Ie.done&&(we=Pe.return)&&we.call(Pe)}finally{if(_e)throw _e.error}}}})},he.prototype.error=function(ye){var ve=this;errorContext(function(){if(ve._throwIfClosed(),!ve.isStopped){ve.hasError=ve.isStopped=!0,ve.thrownError=ye;for(var _e=ve.observers;_e.length;)_e.shift().error(ye)}})},he.prototype.complete=function(){var ye=this;errorContext(function(){if(ye._throwIfClosed(),!ye.isStopped){ye.isStopped=!0;for(var ve=ye.observers;ve.length;)ve.shift().complete()}})},he.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(he.prototype,"observed",{get:function(){var ye;return((ye=this.observers)===null||ye===void 0?void 0:ye.length)>0},enumerable:!1,configurable:!0}),he.prototype._trySubscribe=function(ye){return this._throwIfClosed(),oe.prototype._trySubscribe.call(this,ye)},he.prototype._subscribe=function(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)},he.prototype._innerSubscribe=function(ye){var ve=this,_e=this,we=_e.hasError,Pe=_e.isStopped,Ie=_e.observers;return we||Pe?EMPTY_SUBSCRIPTION:(this.currentObservers=null,Ie.push(ye),new Subscription(function(){ve.currentObservers=null,arrRemove(Ie,ye)}))},he.prototype._checkFinalizedStatuses=function(ye){var ve=this,_e=ve.hasError,we=ve.thrownError,Pe=ve.isStopped;_e?ye.error(we):Pe&&ye.complete()},he.prototype.asObservable=function(){var ye=new Observable;return ye.source=this,ye},he.create=function(ye,ve){return new AnonymousSubject(ye,ve)},he}(Observable),AnonymousSubject=function(oe){__extends$1(he,oe);function he(ye,ve){var _e=oe.call(this)||this;return _e.destination=ye,_e.source=ve,_e}return he.prototype.next=function(ye){var ve,_e;(_e=(ve=this.destination)===null||ve===void 0?void 0:ve.next)===null||_e===void 0||_e.call(ve,ye)},he.prototype.error=function(ye){var ve,_e;(_e=(ve=this.destination)===null||ve===void 0?void 0:ve.error)===null||_e===void 0||_e.call(ve,ye)},he.prototype.complete=function(){var ye,ve;(ve=(ye=this.destination)===null||ye===void 0?void 0:ye.complete)===null||ve===void 0||ve.call(ye)},he.prototype._subscribe=function(ye){var ve,_e;return(_e=(ve=this.source)===null||ve===void 0?void 0:ve.subscribe(ye))!==null&&_e!==void 0?_e:EMPTY_SUBSCRIPTION},he}(Subject),BehaviorSubject=function(oe){__extends$1(he,oe);function he(ye){var ve=oe.call(this)||this;return ve._value=ye,ve}return Object.defineProperty(he.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),he.prototype._subscribe=function(ye){var ve=oe.prototype._subscribe.call(this,ye);return!ve.closed&&ye.next(this._value),ve},he.prototype.getValue=function(){var ye=this,ve=ye.hasError,_e=ye.thrownError,we=ye._value;if(ve)throw _e;return this._throwIfClosed(),we},he.prototype.next=function(ye){oe.prototype.next.call(this,this._value=ye)},he}(Subject),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},ReplaySubject=function(oe){__extends$1(he,oe);function he(ye,ve,_e){ye===void 0&&(ye=1/0),ve===void 0&&(ve=1/0),_e===void 0&&(_e=dateTimestampProvider);var we=oe.call(this)||this;return we._bufferSize=ye,we._windowTime=ve,we._timestampProvider=_e,we._buffer=[],we._infiniteTimeWindow=!0,we._infiniteTimeWindow=ve===1/0,we._bufferSize=Math.max(1,ye),we._windowTime=Math.max(1,ve),we}return he.prototype.next=function(ye){var ve=this,_e=ve.isStopped,we=ve._buffer,Pe=ve._infiniteTimeWindow,Ie=ve._timestampProvider,Re=ve._windowTime;_e||(we.push(ye),!Pe&&we.push(Ie.now()+Re)),this._trimBuffer(),oe.prototype.next.call(this,ye)},he.prototype._subscribe=function(ye){this._throwIfClosed(),this._trimBuffer();for(var ve=this._innerSubscribe(ye),_e=this,we=_e._infiniteTimeWindow,Pe=_e._buffer,Ie=Pe.slice(),Re=0;Re<Ie.length&&!ye.closed;Re+=we?1:2)ye.next(Ie[Re]);return this._checkFinalizedStatuses(ye),ve},he.prototype._trimBuffer=function(){var ye=this,ve=ye._bufferSize,_e=ye._timestampProvider,we=ye._buffer,Pe=ye._infiniteTimeWindow,Ie=(Pe?1:2)*ve;if(ve<1/0&&Ie<we.length&&we.splice(0,we.length-Ie),!Pe){for(var Re=_e.now(),ke=0,Fe=1;Fe<we.length&&we[Fe]<=Re;Fe+=2)ke=Fe;ke&&we.splice(0,ke+1)}},he}(Subject),Action=function(oe){__extends$1(he,oe);function he(ye,ve){return oe.call(this)||this}return he.prototype.schedule=function(ye,ve){return this},he}(Subscription),intervalProvider={setInterval:function(oe,he){for(var ye=[],ve=2;ve<arguments.length;ve++)ye[ve-2]=arguments[ve];var _e=intervalProvider.delegate;return _e?.setInterval?_e.setInterval.apply(_e,__spreadArray$3([oe,he],__read$5(ye))):setInterval.apply(void 0,__spreadArray$3([oe,he],__read$5(ye)))},clearInterval:function(oe){var he=intervalProvider.delegate;return(he?.clearInterval||clearInterval)(oe)},delegate:void 0},AsyncAction=function(oe){__extends$1(he,oe);function he(ye,ve){var _e=oe.call(this,ye,ve)||this;return _e.scheduler=ye,_e.work=ve,_e.pending=!1,_e}return he.prototype.schedule=function(ye,ve){if(ve===void 0&&(ve=0),this.closed)return this;this.state=ye;var _e=this.id,we=this.scheduler;return _e!=null&&(this.id=this.recycleAsyncId(we,_e,ve)),this.pending=!0,this.delay=ve,this.id=this.id||this.requestAsyncId(we,this.id,ve),this},he.prototype.requestAsyncId=function(ye,ve,_e){return _e===void 0&&(_e=0),intervalProvider.setInterval(ye.flush.bind(ye,this),_e)},he.prototype.recycleAsyncId=function(ye,ve,_e){if(_e===void 0&&(_e=0),_e!=null&&this.delay===_e&&this.pending===!1)return ve;intervalProvider.clearInterval(ve)},he.prototype.execute=function(ye,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var _e=this._execute(ye,ve);if(_e)return _e;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},he.prototype._execute=function(ye,ve){var _e=!1,we;try{this.work(ye)}catch(Pe){_e=!0,we=Pe||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),we},he.prototype.unsubscribe=function(){if(!this.closed){var ye=this,ve=ye.id,_e=ye.scheduler,we=_e.actions;this.work=this.state=this.scheduler=null,this.pending=!1,arrRemove(we,this),ve!=null&&(this.id=this.recycleAsyncId(_e,ve,null)),this.delay=null,oe.prototype.unsubscribe.call(this)}},he}(Action),Scheduler=function(){function oe(he,ye){ye===void 0&&(ye=oe.now),this.schedulerActionCtor=he,this.now=ye}return oe.prototype.schedule=function(he,ye,ve){return ye===void 0&&(ye=0),new this.schedulerActionCtor(this,he).schedule(ve,ye)},oe.now=dateTimestampProvider.now,oe}(),AsyncScheduler=function(oe){__extends$1(he,oe);function he(ye,ve){ve===void 0&&(ve=Scheduler.now);var _e=oe.call(this,ye,ve)||this;return _e.actions=[],_e._active=!1,_e._scheduled=void 0,_e}return he.prototype.flush=function(ye){var ve=this.actions;if(this._active){ve.push(ye);return}var _e;this._active=!0;do if(_e=ye.execute(ye.state,ye.delay))break;while(ye=ve.shift());if(this._active=!1,_e){for(;ye=ve.shift();)ye.unsubscribe();throw _e}},he}(Scheduler),asyncScheduler=new AsyncScheduler(AsyncAction),async=asyncScheduler,EMPTY=new Observable(function(oe){return oe.complete()});function isScheduler(oe){return oe&&isFunction$4(oe.schedule)}function last(oe){return oe[oe.length-1]}function popResultSelector(oe){return isFunction$4(last(oe))?oe.pop():void 0}function popScheduler(oe){return isScheduler(last(oe))?oe.pop():void 0}function popNumber(oe,he){return typeof last(oe)=="number"?oe.pop():he}var isArrayLike$4=function(oe){return oe&&typeof oe.length=="number"&&typeof oe!="function"};function isPromise(oe){return isFunction$4(oe?.then)}function isInteropObservable(oe){return isFunction$4(oe[observable$1])}function isAsyncIterable(oe){return Symbol.asyncIterator&&isFunction$4(oe?.[Symbol.asyncIterator])}function createInvalidObservableTypeError(oe){return new TypeError("You provided "+(oe!==null&&typeof oe=="object"?"an invalid object":"'"+oe+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator();function isIterable(oe){return isFunction$4(oe?.[iterator])}function readableStreamLikeToAsyncGenerator(oe){return __asyncGenerator(this,arguments,function(){var ye,ve,_e,we;return __generator(this,function(Pe){switch(Pe.label){case 0:ye=oe.getReader(),Pe.label=1;case 1:Pe.trys.push([1,,9,10]),Pe.label=2;case 2:return[4,__await(ye.read())];case 3:return ve=Pe.sent(),_e=ve.value,we=ve.done,we?[4,__await(void 0)]:[3,5];case 4:return[2,Pe.sent()];case 5:return[4,__await(_e)];case 6:return[4,Pe.sent()];case 7:return Pe.sent(),[3,2];case 8:return[3,10];case 9:return ye.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(oe){return isFunction$4(oe?.getReader)}function innerFrom(oe){if(oe instanceof Observable)return oe;if(oe!=null){if(isInteropObservable(oe))return fromInteropObservable(oe);if(isArrayLike$4(oe))return fromArrayLike(oe);if(isPromise(oe))return fromPromise(oe);if(isAsyncIterable(oe))return fromAsyncIterable(oe);if(isIterable(oe))return fromIterable(oe);if(isReadableStreamLike(oe))return fromReadableStreamLike(oe)}throw createInvalidObservableTypeError(oe)}function fromInteropObservable(oe){return new Observable(function(he){var ye=oe[observable$1]();if(isFunction$4(ye.subscribe))return ye.subscribe(he);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(oe){return new Observable(function(he){for(var ye=0;ye<oe.length&&!he.closed;ye++)he.next(oe[ye]);he.complete()})}function fromPromise(oe){return new Observable(function(he){oe.then(function(ye){he.closed||(he.next(ye),he.complete())},function(ye){return he.error(ye)}).then(null,reportUnhandledError)})}function fromIterable(oe){return new Observable(function(he){var ye,ve;try{for(var _e=__values(oe),we=_e.next();!we.done;we=_e.next()){var Pe=we.value;if(he.next(Pe),he.closed)return}}catch(Ie){ye={error:Ie}}finally{try{we&&!we.done&&(ve=_e.return)&&ve.call(_e)}finally{if(ye)throw ye.error}}he.complete()})}function fromAsyncIterable(oe){return new Observable(function(he){process$1(oe,he).catch(function(ye){return he.error(ye)})})}function fromReadableStreamLike(oe){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(oe))}function process$1(oe,he){var ye,ve,_e,we;return __awaiter(this,void 0,void 0,function(){var Pe,Ie;return __generator(this,function(Re){switch(Re.label){case 0:Re.trys.push([0,5,6,11]),ye=__asyncValues(oe),Re.label=1;case 1:return[4,ye.next()];case 2:if(ve=Re.sent(),!!ve.done)return[3,4];if(Pe=ve.value,he.next(Pe),he.closed)return[2];Re.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return Ie=Re.sent(),_e={error:Ie},[3,11];case 6:return Re.trys.push([6,,9,10]),ve&&!ve.done&&(we=ye.return)?[4,we.call(ye)]:[3,8];case 7:Re.sent(),Re.label=8;case 8:return[3,10];case 9:if(_e)throw _e.error;return[7];case 10:return[7];case 11:return he.complete(),[2]}})})}function executeSchedule(oe,he,ye,ve,_e){ve===void 0&&(ve=0),_e===void 0&&(_e=!1);var we=he.schedule(function(){ye(),_e?oe.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(oe.add(we),!_e)return we}function observeOn(oe,he){return he===void 0&&(he=0),operate(function(ye,ve){ye.subscribe(createOperatorSubscriber(ve,function(_e){return executeSchedule(ve,oe,function(){return ve.next(_e)},he)},function(){return executeSchedule(ve,oe,function(){return ve.complete()},he)},function(_e){return executeSchedule(ve,oe,function(){return ve.error(_e)},he)}))})}function subscribeOn(oe,he){return he===void 0&&(he=0),operate(function(ye,ve){ve.add(oe.schedule(function(){return ye.subscribe(ve)},he))})}function scheduleObservable(oe,he){return innerFrom(oe).pipe(subscribeOn(he),observeOn(he))}function schedulePromise(oe,he){return innerFrom(oe).pipe(subscribeOn(he),observeOn(he))}function scheduleArray(oe,he){return new Observable(function(ye){var ve=0;return he.schedule(function(){ve===oe.length?ye.complete():(ye.next(oe[ve++]),ye.closed||this.schedule())})})}function scheduleIterable(oe,he){return new Observable(function(ye){var ve;return executeSchedule(ye,he,function(){ve=oe[iterator](),executeSchedule(ye,he,function(){var _e,we,Pe;try{_e=ve.next(),we=_e.value,Pe=_e.done}catch(Ie){ye.error(Ie);return}Pe?ye.complete():ye.next(we)},0,!0)}),function(){return isFunction$4(ve?.return)&&ve.return()}})}function scheduleAsyncIterable(oe,he){if(!oe)throw new Error("Iterable cannot be null");return new Observable(function(ye){executeSchedule(ye,he,function(){var ve=oe[Symbol.asyncIterator]();executeSchedule(ye,he,function(){ve.next().then(function(_e){_e.done?ye.complete():ye.next(_e.value)})},0,!0)})})}function scheduleReadableStreamLike(oe,he){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(oe),he)}function scheduled(oe,he){if(oe!=null){if(isInteropObservable(oe))return scheduleObservable(oe,he);if(isArrayLike$4(oe))return scheduleArray(oe,he);if(isPromise(oe))return schedulePromise(oe,he);if(isAsyncIterable(oe))return scheduleAsyncIterable(oe,he);if(isIterable(oe))return scheduleIterable(oe,he);if(isReadableStreamLike(oe))return scheduleReadableStreamLike(oe,he)}throw createInvalidObservableTypeError(oe)}function from(oe,he){return he?scheduled(oe,he):innerFrom(oe)}function of(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];var ye=popScheduler(oe);return from(oe,ye)}var EmptyError=createErrorClass(function(oe){return function(){oe(this),this.name="EmptyError",this.message="no elements in sequence"}});function firstValueFrom(oe,he){var ye=typeof he=="object";return new Promise(function(ve,_e){var we=new SafeSubscriber({next:function(Pe){ve(Pe),we.unsubscribe()},error:_e,complete:function(){ye?ve(he.defaultValue):_e(new EmptyError)}});oe.subscribe(we)})}function isValidDate(oe){return oe instanceof Date&&!isNaN(oe)}function map(oe,he){return operate(function(ye,ve){var _e=0;ye.subscribe(createOperatorSubscriber(ve,function(we){ve.next(oe.call(he,we,_e++))}))})}var isArray$g=Array.isArray;function callOrApply(oe,he){return isArray$g(he)?oe.apply(void 0,__spreadArray$3([],__read$5(he))):oe(he)}function mapOneOrManyArgs(oe){return map(function(he){return callOrApply(oe,he)})}var isArray$f=Array.isArray,getPrototypeOf=Object.getPrototypeOf,objectProto$c=Object.prototype,getKeys=Object.keys;function argsArgArrayOrObject(oe){if(oe.length===1){var he=oe[0];if(isArray$f(he))return{args:he,keys:null};if(isPOJO(he)){var ye=getKeys(he);return{args:ye.map(function(ve){return he[ve]}),keys:ye}}}return{args:oe,keys:null}}function isPOJO(oe){return oe&&typeof oe=="object"&&getPrototypeOf(oe)===objectProto$c}function createObject(oe,he){return oe.reduce(function(ye,ve,_e){return ye[ve]=he[_e],ye},{})}function combineLatest(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];var ye=popScheduler(oe),ve=popResultSelector(oe),_e=argsArgArrayOrObject(oe),we=_e.args,Pe=_e.keys;if(we.length===0)return from([],ye);var Ie=new Observable(combineLatestInit(we,ye,Pe?function(Re){return createObject(Pe,Re)}:identity$4));return ve?Ie.pipe(mapOneOrManyArgs(ve)):Ie}function combineLatestInit(oe,he,ye){return ye===void 0&&(ye=identity$4),function(ve){maybeSchedule(he,function(){for(var _e=oe.length,we=new Array(_e),Pe=_e,Ie=_e,Re=function(Fe){maybeSchedule(he,function(){var Le=from(oe[Fe],he),De=!1;Le.subscribe(createOperatorSubscriber(ve,function(je){we[Fe]=je,De||(De=!0,Ie--),Ie||ve.next(ye(we.slice()))},function(){--Pe||ve.complete()}))},ve)},ke=0;ke<_e;ke++)Re(ke)},ve)}}function maybeSchedule(oe,he,ye){oe?executeSchedule(ye,oe,he):he()}function mergeInternals(oe,he,ye,ve,_e,we,Pe,Ie){var Re=[],ke=0,Fe=0,Le=!1,De=function(){Le&&!Re.length&&!ke&&he.complete()},je=function(qe){return ke<ve?ze(qe):Re.push(qe)},ze=function(qe){we&&he.next(qe),ke++;var We=!1;innerFrom(ye(qe,Fe++)).subscribe(createOperatorSubscriber(he,function(et){_e?.(et),we?je(et):he.next(et)},function(){We=!0},void 0,function(){if(We)try{ke--;for(var et=function(){var rt=Re.shift();Pe?executeSchedule(he,Pe,function(){return ze(rt)}):ze(rt)};Re.length&&ke<ve;)et();De()}catch(rt){he.error(rt)}}))};return oe.subscribe(createOperatorSubscriber(he,je,function(){Le=!0,De()})),function(){Ie?.()}}function mergeMap(oe,he,ye){return ye===void 0&&(ye=1/0),isFunction$4(he)?mergeMap(function(ve,_e){return map(function(we,Pe){return he(ve,we,_e,Pe)})(innerFrom(oe(ve,_e)))},ye):(typeof he=="number"&&(ye=he),operate(function(ve,_e){return mergeInternals(ve,_e,oe,ye)}))}function mergeAll(oe){return oe===void 0&&(oe=1/0),mergeMap(identity$4,oe)}function concatAll(){return mergeAll(1)}function concat$1(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];return concatAll()(from(oe,popScheduler(oe)))}function defer(oe){return new Observable(function(he){innerFrom(oe()).subscribe(he)})}var nodeEventEmitterMethods=["addListener","removeListener"],eventTargetMethods=["addEventListener","removeEventListener"],jqueryMethods=["on","off"];function fromEvent(oe,he,ye,ve){if(isFunction$4(ye)&&(ve=ye,ye=void 0),ve)return fromEvent(oe,he,ye).pipe(mapOneOrManyArgs(ve));var _e=__read$5(isEventTarget(oe)?eventTargetMethods.map(function(Ie){return function(Re){return oe[Ie](he,Re,ye)}}):isNodeStyleEventEmitter(oe)?nodeEventEmitterMethods.map(toCommonHandlerRegistry(oe,he)):isJQueryStyleEventEmitter(oe)?jqueryMethods.map(toCommonHandlerRegistry(oe,he)):[],2),we=_e[0],Pe=_e[1];if(!we&&isArrayLike$4(oe))return mergeMap(function(Ie){return fromEvent(Ie,he,ye)})(innerFrom(oe));if(!we)throw new TypeError("Invalid event target");return new Observable(function(Ie){var Re=function(){for(var ke=[],Fe=0;Fe<arguments.length;Fe++)ke[Fe]=arguments[Fe];return Ie.next(1<ke.length?ke:ke[0])};return we(Re),function(){return Pe(Re)}})}function toCommonHandlerRegistry(oe,he){return function(ye){return function(ve){return oe[ye](he,ve)}}}function isNodeStyleEventEmitter(oe){return isFunction$4(oe.addListener)&&isFunction$4(oe.removeListener)}function isJQueryStyleEventEmitter(oe){return isFunction$4(oe.on)&&isFunction$4(oe.off)}function isEventTarget(oe){return isFunction$4(oe.addEventListener)&&isFunction$4(oe.removeEventListener)}function timer(oe,he,ye){oe===void 0&&(oe=0),ye===void 0&&(ye=async);var ve=-1;return he!=null&&(isScheduler(he)?ye=he:ve=he),new Observable(function(_e){var we=isValidDate(oe)?+oe-ye.now():oe;we<0&&(we=0);var Pe=0;return ye.schedule(function(){_e.closed||(_e.next(Pe++),0<=ve?this.schedule(void 0,ve):_e.complete())},we)})}function interval(oe,he){return oe===void 0&&(oe=0),he===void 0&&(he=asyncScheduler),oe<0&&(oe=0),timer(oe,oe,he)}function merge(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];var ye=popScheduler(oe),ve=popNumber(oe,1/0),_e=oe;return _e.length?_e.length===1?innerFrom(_e[0]):mergeAll(ve)(from(_e,ye)):EMPTY}var isArray$e=Array.isArray;function argsOrArgArray(oe){return oe.length===1&&isArray$e(oe[0])?oe[0]:oe}function filter(oe,he){return operate(function(ye,ve){var _e=0;ye.subscribe(createOperatorSubscriber(ve,function(we){return oe.call(he,we,_e++)&&ve.next(we)}))})}function zip$1(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];var ye=popResultSelector(oe),ve=argsOrArgArray(oe);return ve.length?new Observable(function(_e){var we=ve.map(function(){return[]}),Pe=ve.map(function(){return!1});_e.add(function(){we=Pe=null});for(var Ie=function(ke){innerFrom(ve[ke]).subscribe(createOperatorSubscriber(_e,function(Fe){if(we[ke].push(Fe),we.every(function(De){return De.length})){var Le=we.map(function(De){return De.shift()});_e.next(ye?ye.apply(void 0,__spreadArray$3([],__read$5(Le))):Le),we.some(function(De,je){return!De.length&&Pe[je]})&&_e.complete()}},function(){Pe[ke]=!0,!we[ke].length&&_e.complete()}))},Re=0;!_e.closed&&Re<ve.length;Re++)Ie(Re);return function(){we=Pe=null}}):EMPTY}function bufferCount(oe,he){return he===void 0&&(he=null),he=he??oe,operate(function(ye,ve){var _e=[],we=0;ye.subscribe(createOperatorSubscriber(ve,function(Pe){var Ie,Re,ke,Fe,Le=null;we++%he===0&&_e.push([]);try{for(var De=__values(_e),je=De.next();!je.done;je=De.next()){var ze=je.value;ze.push(Pe),oe<=ze.length&&(Le=Le??[],Le.push(ze))}}catch(et){Ie={error:et}}finally{try{je&&!je.done&&(Re=De.return)&&Re.call(De)}finally{if(Ie)throw Ie.error}}if(Le)try{for(var qe=__values(Le),We=qe.next();!We.done;We=qe.next()){var ze=We.value;arrRemove(_e,ze),ve.next(ze)}}catch(et){ke={error:et}}finally{try{We&&!We.done&&(Fe=qe.return)&&Fe.call(qe)}finally{if(ke)throw ke.error}}},function(){var Pe,Ie;try{for(var Re=__values(_e),ke=Re.next();!ke.done;ke=Re.next()){var Fe=ke.value;ve.next(Fe)}}catch(Le){Pe={error:Le}}finally{try{ke&&!ke.done&&(Ie=Re.return)&&Ie.call(Re)}finally{if(Pe)throw Pe.error}}ve.complete()},void 0,function(){_e=null}))})}function catchError(oe){return operate(function(he,ye){var ve=null,_e=!1,we;ve=he.subscribe(createOperatorSubscriber(ye,void 0,void 0,function(Pe){we=innerFrom(oe(Pe,catchError(oe)(he))),ve?(ve.unsubscribe(),ve=null,we.subscribe(ye)):_e=!0})),_e&&(ve.unsubscribe(),ve=null,we.subscribe(ye))})}function scanInternals(oe,he,ye,ve,_e){return function(we,Pe){var Ie=ye,Re=he,ke=0;we.subscribe(createOperatorSubscriber(Pe,function(Fe){var Le=ke++;Re=Ie?oe(Re,Fe,Le):(Ie=!0,Fe),ve&&Pe.next(Re)},_e&&function(){Ie&&Pe.next(Re),Pe.complete()}))}}function concatMap(oe,he){return isFunction$4(he)?mergeMap(oe,he,1):mergeMap(oe,1)}function defaultIfEmpty(oe){return operate(function(he,ye){var ve=!1;he.subscribe(createOperatorSubscriber(ye,function(_e){ve=!0,ye.next(_e)},function(){ve||ye.next(oe),ye.complete()}))})}function take(oe){return oe<=0?function(){return EMPTY}:operate(function(he,ye){var ve=0;he.subscribe(createOperatorSubscriber(ye,function(_e){++ve<=oe&&(ye.next(_e),oe<=ve&&ye.complete())}))})}function ignoreElements(){return operate(function(oe,he){oe.subscribe(createOperatorSubscriber(he,noop$1))})}function mapTo(oe){return map(function(){return oe})}function delayWhen(oe,he){return he?function(ye){return concat$1(he.pipe(take(1),ignoreElements()),ye.pipe(delayWhen(oe)))}:mergeMap(function(ye,ve){return oe(ye,ve).pipe(take(1),mapTo(ye))})}function delay(oe,he){he===void 0&&(he=asyncScheduler);var ye=timer(oe,he);return delayWhen(function(){return ye})}function distinctUntilChanged(oe,he){return he===void 0&&(he=identity$4),oe=oe??defaultCompare,operate(function(ye,ve){var _e,we=!0;ye.subscribe(createOperatorSubscriber(ve,function(Pe){var Ie=he(Pe);(we||!oe(_e,Ie))&&(we=!1,_e=Ie,ve.next(Pe))}))})}function defaultCompare(oe,he){return oe===he}function throwIfEmpty(oe){return oe===void 0&&(oe=defaultErrorFactory),operate(function(he,ye){var ve=!1;he.subscribe(createOperatorSubscriber(ye,function(_e){ve=!0,ye.next(_e)},function(){return ve?ye.complete():ye.error(oe())}))})}function defaultErrorFactory(){return new EmptyError}function find$1(oe,he){return operate(createFind(oe,he,"value"))}function createFind(oe,he,ye){var ve=ye==="index";return function(_e,we){var Pe=0;_e.subscribe(createOperatorSubscriber(we,function(Ie){var Re=Pe++;oe.call(he,Ie,Re,_e)&&(we.next(ve?Re:Ie),we.complete())},function(){we.next(ve?-1:void 0),we.complete()}))}}function first(oe,he){var ye=arguments.length>=2;return function(ve){return ve.pipe(oe?filter(function(_e,we){return oe(_e,we,ve)}):identity$4,take(1),ye?defaultIfEmpty(he):throwIfEmpty(function(){return new EmptyError}))}}function pairwise(){return operate(function(oe,he){var ye,ve=!1;oe.subscribe(createOperatorSubscriber(he,function(_e){var we=ye;ye=_e,ve&&he.next([we,_e]),ve=!0}))})}function scan(oe,he){return operate(scanInternals(oe,he,arguments.length>=2,!0))}function share$1(oe){oe===void 0&&(oe={});var he=oe.connector,ye=he===void 0?function(){return new Subject}:he,ve=oe.resetOnError,_e=ve===void 0?!0:ve,we=oe.resetOnComplete,Pe=we===void 0?!0:we,Ie=oe.resetOnRefCountZero,Re=Ie===void 0?!0:Ie;return function(ke){var Fe=null,Le=null,De=null,je=0,ze=!1,qe=!1,We=function(){Le?.unsubscribe(),Le=null},et=function(){We(),Fe=De=null,ze=qe=!1},rt=function(){var it=Fe;et(),it?.unsubscribe()};return operate(function(it,ht){je++,!qe&&!ze&&We();var lt=De=De??ye();ht.add(function(){je--,je===0&&!qe&&!ze&&(Le=handleReset(rt,Re))}),lt.subscribe(ht),Fe||(Fe=new SafeSubscriber({next:function(dt){return lt.next(dt)},error:function(dt){qe=!0,We(),Le=handleReset(et,_e,dt),lt.error(dt)},complete:function(){ze=!0,We(),Le=handleReset(et,Pe),lt.complete()}}),from(it).subscribe(Fe))})(ke)}}function handleReset(oe,he){for(var ye=[],ve=2;ve<arguments.length;ve++)ye[ve-2]=arguments[ve];return he===!0?(oe(),null):he===!1?null:he.apply(void 0,__spreadArray$3([],__read$5(ye))).pipe(take(1)).subscribe(function(){return oe()})}function shareReplay(oe,he,ye){var ve,_e,we,Pe,Ie=!1;return oe&&typeof oe=="object"?(ve=oe.bufferSize,Pe=ve===void 0?1/0:ve,_e=oe.windowTime,he=_e===void 0?1/0:_e,we=oe.refCount,Ie=we===void 0?!1:we,ye=oe.scheduler):Pe=oe??1/0,share$1({connector:function(){return new ReplaySubject(Pe,he,ye)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ie})}function tap(oe,he,ye){var ve=isFunction$4(oe)||he||ye?{next:oe,error:he,complete:ye}:oe;return ve?operate(function(_e,we){var Pe;(Pe=ve.subscribe)===null||Pe===void 0||Pe.call(ve);var Ie=!0;_e.subscribe(createOperatorSubscriber(we,function(Re){var ke;(ke=ve.next)===null||ke===void 0||ke.call(ve,Re),we.next(Re)},function(){var Re;Ie=!1,(Re=ve.complete)===null||Re===void 0||Re.call(ve),we.complete()},function(Re){var ke;Ie=!1,(ke=ve.error)===null||ke===void 0||ke.call(ve,Re),we.error(Re)},function(){var Re,ke;Ie&&((Re=ve.unsubscribe)===null||Re===void 0||Re.call(ve)),(ke=ve.finalize)===null||ke===void 0||ke.call(ve)}))}):identity$4}var defaultThrottleConfig={leading:!0,trailing:!1};function throttle$1(oe,he){return he===void 0&&(he=defaultThrottleConfig),operate(function(ye,ve){var _e=he.leading,we=he.trailing,Pe=!1,Ie=null,Re=null,ke=!1,Fe=function(){Re?.unsubscribe(),Re=null,we&&(je(),ke&&ve.complete())},Le=function(){Re=null,ke&&ve.complete()},De=function(ze){return Re=innerFrom(oe(ze)).subscribe(createOperatorSubscriber(ve,Fe,Le))},je=function(){if(Pe){Pe=!1;var ze=Ie;Ie=null,ve.next(ze),!ke&&De(ze)}};ye.subscribe(createOperatorSubscriber(ve,function(ze){Pe=!0,Ie=ze,!(Re&&!Re.closed)&&(_e?je():De(ze))},function(){ke=!0,!(we&&Pe&&Re&&!Re.closed)&&ve.complete()}))})}function throttleTime(oe,he,ye){he===void 0&&(he=asyncScheduler),ye===void 0&&(ye=defaultThrottleConfig);var ve=timer(oe,he);return throttle$1(function(){return ve},ye)}function zip(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];return operate(function(ye,ve){zip$1.apply(void 0,__spreadArray$3([ye],__read$5(oe))).subscribe(ve)})}function zipWith(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];return zip.apply(void 0,__spreadArray$3([],__read$5(oe)))}function p$8(){let oe=null,he=null,ye=new Promise((ve,_e)=>{oe=we=>ve(we),he=we=>_e(we)});return[oe,he,ye]}function $r(oe,he){let ye={};for(let ve in oe)ye[ve]=he(oe[ve],ve);return ye}function Q$3(oe,he=0){return Math.floor(Math.random()*(oe-he+1))+he}function Yr(oe){return oe[Q$3(oe.length-1)]}function ur(){return pipe(filter(oe=>oe!=null))}async function lr(oe,he=ye=>ye!=null){let[ye,,ve]=p$8();return oe.pipe(first(he)).subscribe(ye),ve}var ue$4=function(){let oe=cr,he=mr;return he(oe(32),8)+"-"+he(oe(16),4)+"-"+he(16384|oe(12),4)+"-"+he(32768|oe(14),4)+"-"+he(oe(48),12)},cr=function(oe){if(oe<0||oe>53)return NaN;let he=0|Math.random()*1073741824;return oe>30?he+(0|Math.random()*(1<<oe-30))*1073741824:he>>>30-oe},mr=function(oe,he){let ye=oe.toString(16),ve=he-ye.length,_e="0";for(;ve>0;ve>>>=1,_e+=_e)ve&1&&(ye=_e+ye);return ye};function U$4(oe,he){return new Promise(ye=>setTimeout(()=>ye(he),oe))}var pe$1=function*(oe=0,he=1,ye=0){for(let ve=0;ve<oe;yield ye+ve++*he);};function y$9(oe){return{...oe,[Symbol.iterator](){return this}}}function I$8(oe,he){return y$9({next(){let{done:ye,value:ve}=oe.next();return{done:ye,value:ye?ve:he(ve)}}})}var xr=2**16-1,h$3=2**15-1;function Ne$1(oe,he){let ye=new A$4;for(let ve of oe.coords())he.get(ve)||ye.set(ve,!0);return ye}function v$5(oe){return oe.x<<16|oe.y&xr}function Y$4(oe){let he=oe>>16,ye=oe<<16>>16;return{x:he,y:ye}}var A$4=class{map;defaultValue;constructor(he){this.map=new Map,this.defaultValue=he?.defaultValue}static from(he){let ye=new A$4;return ye.map=he.map,ye.defaultValue=he.defaultValue,ye}set(he,ye){if(he.x>h$3||he.x<-1*h$3||he.y>h$3||he.y<-1*h$3)throw new Error(`CoordMap only supports coords up to ${h$3}`);return this.map.set(v$5(he),ye)}get(he){return this.map.get(v$5(he))??this.defaultValue}keys(){return this.map.keys()}coords(){return I$8(this.map.keys(),he=>Y$4(he))}entries(){return this.map.entries()}toArray(){return Array.from(this.map.entries()).map(([he,ye])=>[Y$4(he),ye])}values(){return this.map.values()}delete(he){return this.map.delete(v$5(he))}has(he){return this.map.has(v$5(he))}clear(){for(let he of this.map.keys())this.map.delete(he)}get size(){return this.map.size}};function J$2(oe,he){oe.substring(0,2)=="0x"&&(oe=oe.substring(2));let ye=he/4;return oe=oe.padStart(ye,"0"),oe=oe.substring(oe.length-ye),`0x${oe}`}function X$3(oe){return J$2(oe,160)}function yr$1(oe){if(oe<2)throw new Error("Minimum size is 2");if(oe>64)throw new Error("Maximum size is 64");let he=2**(oe-1)-1,ye=-he-1;return ve=>{if(ve=ve<<0,ve>he||ve<ye)throw console.log("value",ve,he,ye,ve>he,ve<ye),new Error(`Int${oe} overflow`);return ve<0?2**oe+ve:ve}}yr$1(32);/**
* UUID.core.js - UUID.js for Minimalists
*
* @file
* @author  LiosK
* @version v4.2.0
* @license Apache License 2.0: Copyright (c) 2010-2018 LiosK
* @url https://github.com/LiosK/UUID.js/blob/master/src/uuid.core.js
*/var P$9=(oe=>(oe[oe.Boolean=0]="Boolean",oe[oe.Number=1]="Number",oe[oe.OptionalNumber=2]="OptionalNumber",oe[oe.BigInt=3]="BigInt",oe[oe.OptionalBigInt=4]="OptionalBigInt",oe[oe.String=5]="String",oe[oe.OptionalString=6]="OptionalString",oe[oe.NumberArray=7]="NumberArray",oe[oe.OptionalNumberArray=8]="OptionalNumberArray",oe[oe.BigIntArray=9]="BigIntArray",oe[oe.OptionalBigIntArray=10]="OptionalBigIntArray",oe[oe.StringArray=11]="StringArray",oe[oe.OptionalStringArray=12]="OptionalStringArray",oe[oe.Entity=13]="Entity",oe[oe.OptionalEntity=14]="OptionalEntity",oe[oe.EntityArray=15]="EntityArray",oe[oe.OptionalEntityArray=16]="OptionalEntityArray",oe[oe.T=17]="T",oe[oe.OptionalT=18]="OptionalT",oe))(P$9||{}),k$4=(oe=>(oe[oe.Enter=0]="Enter",oe[oe.Exit=1]="Exit",oe[oe.Update=2]="Update",oe[oe.Noop=3]="Noop",oe))(k$4||{}),w$8=[14,16,2,8,4,10,6,12,18];function M$8(oe){let he=new Map;function ye(Ie){let Re=he.get(ve(Ie));return Re?new Set([...Re].map(v$4)):new Set}function ve(Ie){return Object.values(Ie).join("/")}function _e(Ie,Re){if(!Re)return;let ke=ve(Re),Fe=he.get(ke);Fe||(Fe=new Set,he.set(ke,Fe)),Fe.add(Ie)}function we(Ie,Re){if(!Re)return;let ke=ve(Re),Fe=he.get(ke);Fe&&Fe.delete(Ie)}for(let Ie of V$5(oe)){let Re=g$6(oe,Ie);_e(p$7(Ie),Re)}let Pe=oe.update$.subscribe(({entity:Ie,value:Re})=>{we(p$7(Ie),Re[1]),_e(p$7(Ie),Re[0])});return oe.world.registerDisposer(()=>Pe?.unsubscribe()),{...oe,getEntitiesWithValue:ye}}function X$2(oe,he){return oe.component===he}function U$3(oe,he){let ye=g$6(he,oe);return{entity:oe,component:he,value:[ye,void 0],type:ye==null?3:0}}function Y$3(oe){return pipe(map(he=>U$3(he,oe)))}function I$7(oe){return"getEntitiesWithValue"in oe}function T$2(oe,he){return Object.keys(oe.schema).every(ye=>ye in he)}function b$4(oe){return oe.metadata?.componentName??oe.metadata?.tableName??oe.metadata?.tableId??oe.metadata?.contractId??oe.id}function ie$2(oe,he,ye){if(Object.keys(he).length===0)throw new Error("Component schema must have at least one key");let ve=ye?.id??ue$4(),_e=$r(he,()=>new Map),we=new Subject,Pe=ye?.metadata,Ie={values:_e,schema:he,id:ve,update$:we,metadata:Pe,entities:()=>I$8(Object.values(_e)[0].keys(),v$4),world:oe};return ye?.indexed&&(Ie=M$8(Ie)),oe.registerComponent(Ie),Ie}function E$7(oe,he,ye,ve={}){let _e=p$7(he),we=g$6(oe,he);for(let[Pe,Ie]of Object.entries(ye))oe.values[Pe]?oe.values[Pe].set(_e,Ie):oe.metadata?.tableId&&/^\d+$/.test(Pe)||console.warn("Component definition for",b$4(oe),"is missing key",Pe,", ignoring value",Ie,"for entity",he,". Existing keys: ",Object.keys(oe.values));ve.skipUpdateStream||oe.update$.next({entity:he,value:[ye,we],component:oe})}function se$3(oe,he,ye,ve,_e={}){let we=g$6(oe,he);if(we===void 0){if(ve===void 0)throw new Error(`Can't update component ${b$4(oe)} without a current value or initial value`);E$7(oe,he,{...ve,...ye},_e)}else E$7(oe,he,{...we,...ye},_e)}function ue$3(oe,he,ye={}){let ve=p$7(he),_e=g$6(oe,he);for(let we of Object.keys(oe.values))oe.values[we].delete(ve);ye.skipUpdateStream||oe.update$.next({entity:he,value:[void 0,_e],component:oe})}function le$2(oe,he){let ye=p$7(he);return Object.values(oe.values)[0].has(ye)}function g$6(oe,he){let ye={},ve=p$7(he),_e=Object.keys(oe.schema);for(let we of _e){let Pe=oe.values[we].get(ve);if(Pe===void 0&&!w$8.includes(oe.schema[we]))return;ye[we]=Pe}return ye}function de$1(oe,he){let ye=g$6(oe,he);if(!ye)throw new Error(`No value for component ${b$4(oe)} on entity ${he}`);return ye}function K$5(oe,he){if(!oe&&!he)return!0;if(!oe||!he)return!1;let ye=!0;for(let ve of Object.keys(oe))if(ye=oe[ve]===he[ve],!ye)return!1;return ye}function me$1(oe,he){return[oe,he]}function ce(oe,he){if(I$7(oe)&&T$2(oe,he))return oe.getEntitiesWithValue(he);let ye=new Set;for(let ve of V$5(oe)){let _e=g$6(oe,ve);K$5(he,_e)&&ye.add(ve)}return ye}function V$5(oe){return oe.entities()}function Se$1(oe){let he=0,ye=new Map,ve=new Map,_e=new Subject;function we(je,ze){ye.set(je,{update:ze,nonce:he++}),De(ze.entity,ze.value)}function Pe(je){let ze=ye.get(je)?.update.entity;if(ye.delete(je),ze==null)return;let qe=[...ye.values()].filter(We=>We.update.entity===ze).sort((We,et)=>We.nonce<et.nonce?-1:1);if(qe.length>0){let We=qe[qe.length-1];De(ze,We.update.value)}else De(ze,void 0)}function Ie(je){let ze=g$6(oe,je),qe=p$7(je),We=ve.get(qe);return(ze||We)&&We!==null?{...ze,...We}:void 0}let Re=je=>({get(ze,qe){return qe==="get"?We=>{let et=ze.get(We),rt=ve.get(We);return rt&&rt[je]!=null?rt[je]:et}:qe==="has"?We=>ze.has(We)||ve.has(We):qe==="keys"?()=>new Set([...ze.keys(),...ve.keys()]).values():Reflect.get(ze,qe,ze)}}),ke={};for(let je of Object.keys(oe.values))ke[je]=new Proxy(oe.values[je],Re(je));let Fe=ke,Le=new Proxy(oe,{get(je,ze){return ze==="addOverride"?we:ze==="removeOverride"?Pe:ze==="values"?Fe:ze==="update$"?_e:ze==="entities"?()=>new Set([...I$8(ve.keys(),v$4),...je.entities()]).values():Reflect.get(je,ze)},has(je,ze){return ze==="addOverride"||ze==="removeOverride"?!0:ze in je}});function De(je,ze){let qe=p$7(je),We=Ie(je);ze!==void 0?ve.set(qe,ze):ve.delete(qe),_e.next({entity:je,value:[Ie(je),We],component:Le})}return oe.update$.pipe(filter(je=>!ve.get(p$7(je.entity))),map(je=>({...je,component:Le}))).subscribe(_e),Le}function A$3(oe,he){return`localcache-${he}-${oe.id}`}function fe$1(oe,he){localStorage.removeItem(A$3(oe,he))}function pe(oe,he){let{world:ye,update$:ve,values:_e}=oe,we=A$3(oe,he),Pe=0,Ie=Date.now(),Re=localStorage.getItem(we);if(Re){let Fe=JSON.parse(Re),Le={};for(let[De,je]of Fe)for(let[ze,qe]of je)Le[ze]=Le[ze]||{},Le[ze][De]=qe;for(let[De,je]of Object.entries(Le)){let ze=ye.registerEntity({id:De});E$7(oe,ze,je)}console.info("Loading component",b$4(oe),"from local cache.")}let ke=ve.subscribe(()=>{Pe++;let Fe=JSON.stringify(Object.entries($r(_e,Le=>[...Le.entries()].map(De=>[v$4(De[0]),De[1]]))));localStorage.setItem(we,Fe),Pe>200&&console.warn("Component",b$4(oe),"was locally cached",Pe,"times since",new Date(Ie).toLocaleTimeString(),"- the local cache is in an alpha state and should not be used with components that update frequently yet")});return oe.world.registerDisposer(()=>ke?.unsubscribe()),oe}function ge$3(oe,he,ye){let ve=oe.registerEntity(ye??{});if(he)for(let[_e,we]of he)E$7(_e,ve,we);return ve}function p$7(oe){return Symbol.for(oe)}function v$4(oe){return Symbol.keyFor(oe)}var N$7=(oe=>(oe[oe.Has=0]="Has",oe[oe.HasValue=1]="HasValue",oe[oe.Not=2]="Not",oe[oe.NotValue=3]="NotValue",oe[oe.ProxyRead=4]="ProxyRead",oe[oe.ProxyExpand=5]="ProxyExpand",oe))(N$7||{});function xe(oe){return[2,4,6,14,16,8,10,12].includes(oe)}function Te(oe){return[7,8,9,10,11,12,15,16].includes(oe)}function Se(oe){return[1,2].includes(oe)}function ge$2(oe){return[13,14].includes(oe)}function Ye$1(oe){return{type:0,component:oe}}function Ge(oe){return{type:2,component:oe}}function Je$1(oe,he){return{type:1,component:oe,value:he}}function Ke$2(oe,he){return{type:3,component:oe,value:he}}function Xe(oe,he){return{type:4,component:oe,depth:he}}function Ze(oe,he){return{type:5,component:oe,depth:he}}function c$3(oe,he){if(he.type===0)return le$2(he.component,oe);if(he.type===1)return K$5(he.value,g$6(he.component,oe));if(he.type===2)return!le$2(he.component,oe);if(he.type===3)return!K$5(he.value,g$6(he.component,oe));throw new Error("Unknown query fragment")}function G$4(oe){return oe.type===0||oe.type==1}function P$8(oe){return oe.type===2||oe.type==3}function J$1(oe){return oe.type===5||oe.type==4}function U$2(oe,he){return oe&&G$4(he)||!oe&&P$8(he)}function I$6(oe,he,ye){let ve=oe,_e=!1;for(let we=0;we<ye.depth;we++){let Pe=g$6(ye.component,ve);if(!Pe)return null;let Ie=Pe.value;if(!Ie)return null;if(ve=Ie,_e=c$3(ve,he),U$2(_e,he))return _e}return _e}function Q$2(oe,he,ye){if(ye===0)return new Set;let ve=ce(he,{value:oe});if(ye===1)return ve;let _e=[...ve].map(we=>[...Q$2(we,he,ye-1)]).flat();return new Set([...ve,..._e])}function A$2(oe,he){let ye=he?new Set([...he]):void 0,ve,_e;for(let we=0;we<oe.length;we++){let Pe=oe[we];if(J$1(Pe))Pe.type===4&&(ve=Pe),Pe.type===5&&(_e=Pe);else if(ye)for(let Ie of[...ye]){let Re=c$3(Ie,Pe);if(ve&&ve.depth>0&&!U$2(Re,Pe)&&(Re=I$6(Ie,Pe,ve)??Re),Re||ye.delete(Ie),_e&&_e.depth>0){let ke=Q$2(Ie,_e.component,_e.depth);for(let Fe of ke)(c$3(Fe,Pe)||ve&&ve.depth>0&&I$6(Fe,Pe,ve))&&ye.add(Fe)}}else{if(P$8(Pe))throw new Error("First EntityQueryFragment must be Has or HasValue");if(ye=Pe.type===0?new Set([...V$5(Pe.component)]):ce(Pe.component,Pe.value),_e&&_e.depth>0)for(let Ie of[...ye])for(let Re of Q$2(Ie,_e.component,_e.depth))ye.add(Re)}}return ye??new Set}function f$8(oe,he){let ye=he?.runOnInit||he?.initialSet?A$2(oe,he.initialSet):new Set,ve=observable$2(ye),_e=from(ve).pipe(Y$3(oe[0].component)),we=oe.findIndex(Ie=>[5,4].includes(Ie.type))!==-1,Pe=merge(...oe.map(Ie=>Ie.component.update$)).pipe(we?concatMap(Ie=>{let Re=A$2(oe,he?.initialSet),ke=[];for(let Fe of ve)Re.has(Fe)||(ve.delete(Fe),ke.push({entity:Fe,type:1,component:Ie.component,value:[void 0,void 0]}));for(let Fe of Re)ve.has(Fe)?ke.push({entity:Fe,type:2,component:Ie.component,value:[g$6(Ie.component,Fe),void 0]}):(ve.add(Fe),ke.push({entity:Fe,type:0,component:Ie.component,value:[g$6(Ie.component,Fe),void 0]}));return of(...ke)}):map(Ie=>{if(ve.has(Ie.entity))return oe.filter(Re=>Re.component.id===Ie.component.id).every(Re=>c$3(Ie.entity,Re))?{...Ie,type:2}:(ve.delete(Ie.entity),{...Ie,type:1});if(oe.every(Re=>c$3(Ie.entity,Re)))return ve.add(Ie.entity),{...Ie,type:0}}),ur());return{matching:ve,update$:concat$1(_e,Pe).pipe(share$1())}}function H$4(oe,he){return f$8(oe,he).update$.pipe(filter(ye=>ye.type===2))}function w$7(oe,he){return f$8(oe,he).update$.pipe(filter(ye=>ye.type===0))}function k$3(oe,he){return f$8(oe,he).update$.pipe(filter(ye=>ye.type===1))}function x$4(oe,he,ye){let ve=he.subscribe(ye);oe.registerDisposer(()=>ve?.unsubscribe())}function pt(oe,he,ye,ve={runOnInit:!0}){x$4(oe,H$4(he,ve),ye)}function at(oe,he,ye,ve={runOnInit:!0}){x$4(oe,w$7(he,ve),ye)}function yt(oe,he,ye,ve={runOnInit:!0}){x$4(oe,k$3(he,ve),ye)}function _$3(oe,he,ye,ve={runOnInit:!0}){x$4(oe,f$8(he,ve).update$,ye)}function ut$1(oe,he,ye,ve={runOnInit:!0}){let _e=ve?.runOnInit?from(V$5(he)).pipe(Y$3(he)):EMPTY;x$4(oe,concat$1(_e,he.update$),ye)}function mt$1(oe,he,ye,ve,_e={update:!1,runOnInit:!0}){_$3(oe,he,({entity:we,type:Pe})=>{Pe===0&&E$7(ye(we),we,ve(we)),Pe===1&&ue$3(ye(we),we),_e?.update&&Pe===2&&E$7(ye(we),we,ve(we))},_e)}function ft$1(){let oe=new Set,he=[],ye=[];function ve({id:Fe,idSuffix:Le}={}){let De=Fe||oe.size+(Le?"-"+Le:""),je=p$7(De);return oe.add(je),De}function _e(){return I$8(oe.values(),v$4)}function we(Fe){he.push(Fe)}function Pe(Fe){for(let[,Le]of ye.filter(De=>!Fe||De[0]===Fe))Le();ye=ye.filter(Le=>Fe&&Le[0]!==Fe)}function Ie(Fe,Le=""){ye.push([Le,Fe])}function Re(Fe){let Le=p$7(Fe);return oe.has(Le)}function ke(Fe){for(let Le of he)le$2(Le,Fe)&&ue$3(Le,Fe);oe.delete(p$7(Fe))}return{registerEntity:ve,components:he,registerComponent:we,dispose:Pe,registerDisposer:Ie,hasEntity:Re,getEntities:_e,entitySymbols:oe,deleteEntity:ke}}function xt(oe,he){return{...oe,registerDisposer:ye=>oe.registerDisposer(ye,he),dispose:()=>oe.dispose(he)}}function Tt(oe,he){return oe.components.filter(ye=>le$2(ye,he))}const recs=Object.freeze(Object.defineProperty({__proto__:null,Has:Ye$1,HasValue:Je$1,Not:Ge,NotValue:Ke$2,OptionalTypes:w$8,ProxyExpand:Ze,ProxyRead:Xe,QueryFragmentType:N$7,Type:P$9,UpdateType:k$4,clearLocalCache:fe$1,componentValueEquals:K$5,createEntity:ge$3,createIndexer:M$8,createLocalCache:pe,createWorld:ft$1,defineComponent:ie$2,defineComponentSystem:ut$1,defineEnterQuery:w$7,defineEnterSystem:at,defineExitQuery:k$3,defineExitSystem:yt,defineQuery:f$8,defineRxSystem:x$4,defineSyncSystem:mt$1,defineSystem:_$3,defineUpdateQuery:H$4,defineUpdateSystem:pt,getChildEntities:Q$2,getComponentEntities:V$5,getComponentValue:g$6,getComponentValueStrict:de$1,getEntitiesWithValue:ce,getEntityComponents:Tt,getEntityString:v$4,getEntitySymbol:p$7,hasComponent:le$2,isArrayType:Te,isComponentUpdate:X$2,isEntityType:ge$2,isFullComponentValue:T$2,isIndexer:I$7,isNumberType:Se,isOptionalType:xe,namespaceWorld:xt,overridableComponent:Se$1,removeComponent:ue$3,runQuery:A$2,setComponent:E$7,toUpdate:U$3,toUpdateStream:Y$3,updateComponent:se$3,withValue:me$1},Symbol.toStringTag,{value:"Module"}));var lodash$1={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash$1.exports;(function(oe,he){(function(){var ye,ve="4.17.21",_e=200,we="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",Pe="Expected a function",Ie="Invalid `variable` option passed into `_.template`",Re="__lodash_hash_undefined__",ke=500,Fe="__lodash_placeholder__",Le=1,De=2,je=4,ze=1,qe=2,We=1,et=2,rt=4,it=8,ht=16,lt=32,dt=64,At=128,Pt=256,Ut=512,St=30,Nt="...",er=800,Kt=16,br=1,It=2,Ct=3,Mt=1/0,Wt=9007199254740991,tr=17976931348623157e292,dr=0/0,sr=4294967295,Or=sr-1,ln=sr>>>1,dn=[["ary",At],["bind",We],["bindKey",et],["curry",it],["curryRight",ht],["flip",Ut],["partial",lt],["partialRight",dt],["rearg",Pt]],jr="[object Arguments]",fn="[object Array]",hn="[object AsyncFunction]",bn="[object Boolean]",Ur="[object Date]",In="[object DOMException]",jn="[object Error]",Rr="[object Function]",mn="[object GeneratorFunction]",Tr="[object Map]",On="[object Number]",Ri="[object Null]",vn="[object Object]",Ws="[object Promise]",Tc="[object Proxy]",di="[object RegExp]",an="[object Set]",fi="[object String]",Ci="[object Symbol]",Sc="[object Undefined]",hi="[object WeakMap]",Pc="[object WeakSet]",pi="[object ArrayBuffer]",Kn="[object DataView]",Aa="[object Float32Array]",Ta="[object Float64Array]",Sa="[object Int8Array]",Pa="[object Int16Array]",Ia="[object Int32Array]",Oa="[object Uint8Array]",Ra="[object Uint8ClampedArray]",Ca="[object Uint16Array]",Na="[object Uint32Array]",Ic=/\b__p \+= '';/g,Oc=/\b(__p \+=) '' \+/g,Rc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ks=/&(?:amp|lt|gt|quot|#39);/g,Qs=/[&<>"']/g,Cc=RegExp(Ks.source),Nc=RegExp(Qs.source),Bc=/<%-([\s\S]+?)%>/g,kc=/<%([\s\S]+?)%>/g,Js=/<%=([\s\S]+?)%>/g,Fc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lc=/^\w*$/,Mc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ba=/[\\^$.*+?()[\]{}|]/g,Dc=RegExp(Ba.source),ka=/^\s+/,jc=/\s/,Uc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Zc=/\{\n\/\* \[wrapped with (.+)\] \*/,Hc=/,? & /,zc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Gc=/[()=,{}\[\]\/\s]/,qc=/\\(\\)?/g,Vc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xs=/\w*$/,Yc=/^[-+]0x[0-9a-f]+$/i,Wc=/^0b[01]+$/i,Kc=/^\[object .+?Constructor\]$/,Qc=/^0o[0-7]+$/i,Jc=/^(?:0|[1-9]\d*)$/,Xc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Bi=/($^)/,el=/['\n\r\u2028\u2029\\]/g,ki="\\ud800-\\udfff",tl="\\u0300-\\u036f",rl="\\ufe20-\\ufe2f",nl="\\u20d0-\\u20ff",eo=tl+rl+nl,to="\\u2700-\\u27bf",ro="a-z\\xdf-\\xf6\\xf8-\\xff",il="\\xac\\xb1\\xd7\\xf7",al="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sl="\\u2000-\\u206f",ol=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",no="A-Z\\xc0-\\xd6\\xd8-\\xde",io="\\ufe0e\\ufe0f",ao=il+al+sl+ol,Fa="[']",ul="["+ki+"]",so="["+ao+"]",Fi="["+eo+"]",oo="\\d+",cl="["+to+"]",uo="["+ro+"]",co="[^"+ki+ao+oo+to+ro+no+"]",La="\\ud83c[\\udffb-\\udfff]",ll="(?:"+Fi+"|"+La+")",lo="[^"+ki+"]",Ma="(?:\\ud83c[\\udde6-\\uddff]){2}",Da="[\\ud800-\\udbff][\\udc00-\\udfff]",Qn="["+no+"]",fo="\\u200d",ho="(?:"+uo+"|"+co+")",dl="(?:"+Qn+"|"+co+")",po="(?:"+Fa+"(?:d|ll|m|re|s|t|ve))?",yo="(?:"+Fa+"(?:D|LL|M|RE|S|T|VE))?",go=ll+"?",bo="["+io+"]?",fl="(?:"+fo+"(?:"+[lo,Ma,Da].join("|")+")"+bo+go+")*",hl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",mo=bo+go+fl,yl="(?:"+[cl,Ma,Da].join("|")+")"+mo,gl="(?:"+[lo+Fi+"?",Fi,Ma,Da,ul].join("|")+")",bl=RegExp(Fa,"g"),ml=RegExp(Fi,"g"),ja=RegExp(La+"(?="+La+")|"+gl+mo,"g"),vl=RegExp([Qn+"?"+uo+"+"+po+"(?="+[so,Qn,"$"].join("|")+")",dl+"+"+yo+"(?="+[so,Qn+ho,"$"].join("|")+")",Qn+"?"+ho+"+"+po,Qn+"+"+yo,pl,hl,oo,yl].join("|"),"g"),_l=RegExp("["+fo+ki+eo+io+"]"),$l=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xl=-1,ar={};ar[Aa]=ar[Ta]=ar[Sa]=ar[Pa]=ar[Ia]=ar[Oa]=ar[Ra]=ar[Ca]=ar[Na]=!0,ar[jr]=ar[fn]=ar[pi]=ar[bn]=ar[Kn]=ar[Ur]=ar[jn]=ar[Rr]=ar[Tr]=ar[On]=ar[vn]=ar[di]=ar[an]=ar[fi]=ar[hi]=!1;var ir={};ir[jr]=ir[fn]=ir[pi]=ir[Kn]=ir[bn]=ir[Ur]=ir[Aa]=ir[Ta]=ir[Sa]=ir[Pa]=ir[Ia]=ir[Tr]=ir[On]=ir[vn]=ir[di]=ir[an]=ir[fi]=ir[Ci]=ir[Oa]=ir[Ra]=ir[Ca]=ir[Na]=!0,ir[jn]=ir[Rr]=ir[hi]=!1;var El={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Al={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Tl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pl=parseFloat,Il=parseInt,vo=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Ol=typeof self=="object"&&self&&self.Object===Object&&self,Er=vo||Ol||Function("return this")(),Ua=he&&!he.nodeType&&he,Un=Ua&&!0&&oe&&!oe.nodeType&&oe,_o=Un&&Un.exports===Ua,Za=_o&&vo.process,Wr=function(){try{var st=Un&&Un.require&&Un.require("util").types;return st||Za&&Za.binding&&Za.binding("util")}catch{}}(),$o=Wr&&Wr.isArrayBuffer,wo=Wr&&Wr.isDate,xo=Wr&&Wr.isMap,Eo=Wr&&Wr.isRegExp,Ao=Wr&&Wr.isSet,To=Wr&&Wr.isTypedArray;function Zr(st,vt,bt){switch(bt.length){case 0:return st.call(vt);case 1:return st.call(vt,bt[0]);case 2:return st.call(vt,bt[0],bt[1]);case 3:return st.call(vt,bt[0],bt[1],bt[2])}return st.apply(vt,bt)}function Rl(st,vt,bt,Rt){for(var Dt=-1,Qt=st==null?0:st.length;++Dt<Qt;){var vr=st[Dt];vt(Rt,vr,bt(vr),st)}return Rt}function Qr(st,vt){for(var bt=-1,Rt=st==null?0:st.length;++bt<Rt&&vt(st[bt],bt,st)!==!1;);return st}function Cl(st,vt){for(var bt=st==null?0:st.length;bt--&&vt(st[bt],bt,st)!==!1;);return st}function So(st,vt){for(var bt=-1,Rt=st==null?0:st.length;++bt<Rt;)if(!vt(st[bt],bt,st))return!1;return!0}function Rn(st,vt){for(var bt=-1,Rt=st==null?0:st.length,Dt=0,Qt=[];++bt<Rt;){var vr=st[bt];vt(vr,bt,st)&&(Qt[Dt++]=vr)}return Qt}function Li(st,vt){var bt=st==null?0:st.length;return!!bt&&Jn(st,vt,0)>-1}function Ha(st,vt,bt){for(var Rt=-1,Dt=st==null?0:st.length;++Rt<Dt;)if(bt(vt,st[Rt]))return!0;return!1}function or(st,vt){for(var bt=-1,Rt=st==null?0:st.length,Dt=Array(Rt);++bt<Rt;)Dt[bt]=vt(st[bt],bt,st);return Dt}function Cn(st,vt){for(var bt=-1,Rt=vt.length,Dt=st.length;++bt<Rt;)st[Dt+bt]=vt[bt];return st}function za(st,vt,bt,Rt){var Dt=-1,Qt=st==null?0:st.length;for(Rt&&Qt&&(bt=st[++Dt]);++Dt<Qt;)bt=vt(bt,st[Dt],Dt,st);return bt}function Nl(st,vt,bt,Rt){var Dt=st==null?0:st.length;for(Rt&&Dt&&(bt=st[--Dt]);Dt--;)bt=vt(bt,st[Dt],Dt,st);return bt}function Ga(st,vt){for(var bt=-1,Rt=st==null?0:st.length;++bt<Rt;)if(vt(st[bt],bt,st))return!0;return!1}var Bl=qa("length");function kl(st){return st.split("")}function Fl(st){return st.match(zc)||[]}function Po(st,vt,bt){var Rt;return bt(st,function(Dt,Qt,vr){if(vt(Dt,Qt,vr))return Rt=Qt,!1}),Rt}function Mi(st,vt,bt,Rt){for(var Dt=st.length,Qt=bt+(Rt?1:-1);Rt?Qt--:++Qt<Dt;)if(vt(st[Qt],Qt,st))return Qt;return-1}function Jn(st,vt,bt){return vt===vt?Yl(st,vt,bt):Mi(st,Io,bt)}function Ll(st,vt,bt,Rt){for(var Dt=bt-1,Qt=st.length;++Dt<Qt;)if(Rt(st[Dt],vt))return Dt;return-1}function Io(st){return st!==st}function Oo(st,vt){var bt=st==null?0:st.length;return bt?Ya(st,vt)/bt:dr}function qa(st){return function(vt){return vt==null?ye:vt[st]}}function Va(st){return function(vt){return st==null?ye:st[vt]}}function Ro(st,vt,bt,Rt,Dt){return Dt(st,function(Qt,vr,nr){bt=Rt?(Rt=!1,Qt):vt(bt,Qt,vr,nr)}),bt}function Ml(st,vt){var bt=st.length;for(st.sort(vt);bt--;)st[bt]=st[bt].value;return st}function Ya(st,vt){for(var bt,Rt=-1,Dt=st.length;++Rt<Dt;){var Qt=vt(st[Rt]);Qt!==ye&&(bt=bt===ye?Qt:bt+Qt)}return bt}function Wa(st,vt){for(var bt=-1,Rt=Array(st);++bt<st;)Rt[bt]=vt(bt);return Rt}function Dl(st,vt){return or(vt,function(bt){return[bt,st[bt]]})}function Co(st){return st&&st.slice(0,Fo(st)+1).replace(ka,"")}function Hr(st){return function(vt){return st(vt)}}function Ka(st,vt){return or(vt,function(bt){return st[bt]})}function yi(st,vt){return st.has(vt)}function No(st,vt){for(var bt=-1,Rt=st.length;++bt<Rt&&Jn(vt,st[bt],0)>-1;);return bt}function Bo(st,vt){for(var bt=st.length;bt--&&Jn(vt,st[bt],0)>-1;);return bt}function jl(st,vt){for(var bt=st.length,Rt=0;bt--;)st[bt]===vt&&++Rt;return Rt}var Ul=Va(El),Zl=Va(Al);function Hl(st){return"\\"+Sl[st]}function zl(st,vt){return st==null?ye:st[vt]}function Xn(st){return _l.test(st)}function Gl(st){return $l.test(st)}function ql(st){for(var vt,bt=[];!(vt=st.next()).done;)bt.push(vt.value);return bt}function Qa(st){var vt=-1,bt=Array(st.size);return st.forEach(function(Rt,Dt){bt[++vt]=[Dt,Rt]}),bt}function ko(st,vt){return function(bt){return st(vt(bt))}}function Nn(st,vt){for(var bt=-1,Rt=st.length,Dt=0,Qt=[];++bt<Rt;){var vr=st[bt];(vr===vt||vr===Fe)&&(st[bt]=Fe,Qt[Dt++]=bt)}return Qt}function Di(st){var vt=-1,bt=Array(st.size);return st.forEach(function(Rt){bt[++vt]=Rt}),bt}function Vl(st){var vt=-1,bt=Array(st.size);return st.forEach(function(Rt){bt[++vt]=[Rt,Rt]}),bt}function Yl(st,vt,bt){for(var Rt=bt-1,Dt=st.length;++Rt<Dt;)if(st[Rt]===vt)return Rt;return-1}function Wl(st,vt,bt){for(var Rt=bt+1;Rt--;)if(st[Rt]===vt)return Rt;return Rt}function ei(st){return Xn(st)?Jl(st):Bl(st)}function sn(st){return Xn(st)?Xl(st):kl(st)}function Fo(st){for(var vt=st.length;vt--&&jc.test(st.charAt(vt)););return vt}var Ql=Va(Tl);function Jl(st){for(var vt=ja.lastIndex=0;ja.test(st);)++vt;return vt}function Xl(st){return st.match(ja)||[]}function ed(st){return st.match(vl)||[]}var td=function st(vt){vt=vt==null?Er:ti.defaults(Er.Object(),vt,ti.pick(Er,wl));var bt=vt.Array,Rt=vt.Date,Dt=vt.Error,Qt=vt.Function,vr=vt.Math,nr=vt.Object,Ja=vt.RegExp,rd=vt.String,Jr=vt.TypeError,ji=bt.prototype,nd=Qt.prototype,ri=nr.prototype,Ui=vt["__core-js_shared__"],Zi=nd.toString,rr=ri.hasOwnProperty,ad=0,Lo=function(){var $e=/[^.]+$/.exec(Ui&&Ui.keys&&Ui.keys.IE_PROTO||"");return $e?"Symbol(src)_1."+$e:""}(),Hi=ri.toString,sd=Zi.call(nr),od=Er._,ud=Ja("^"+Zi.call(rr).replace(Ba,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qi=_o?vt.Buffer:ye,Bn=vt.Symbol,Vi=vt.Uint8Array,Mo=qi?qi.allocUnsafe:ye,Yi=ko(nr.getPrototypeOf,nr),Do=nr.create,jo=ri.propertyIsEnumerable,Wi=ji.splice,Uo=Bn?Bn.isConcatSpreadable:ye,gi=Bn?Bn.iterator:ye,Zn=Bn?Bn.toStringTag:ye,Ki=function(){try{var $e=Vn(nr,"defineProperty");return $e({},"",{}),$e}catch{}}(),cd=vt.clearTimeout!==Er.clearTimeout&&vt.clearTimeout,ld=Rt&&Rt.now!==Er.Date.now&&Rt.now,dd=vt.setTimeout!==Er.setTimeout&&vt.setTimeout,Qi=vr.ceil,Ji=vr.floor,Xa=nr.getOwnPropertySymbols,fd=qi?qi.isBuffer:ye,Zo=vt.isFinite,hd=ji.join,pd=ko(nr.keys,nr),_r=vr.max,Sr=vr.min,yd=Rt.now,gd=vt.parseInt,Ho=vr.random,bd=ji.reverse,es=Vn(vt,"DataView"),bi=Vn(vt,"Map"),ts=Vn(vt,"Promise"),ni=Vn(vt,"Set"),mi=Vn(vt,"WeakMap"),vi=Vn(nr,"create"),Xi=mi&&new mi,ii={},md=Yn(es),vd=Yn(bi),_d=Yn(ts),$d=Yn(ni),wd=Yn(mi),ea=Bn?Bn.prototype:ye,_i=ea?ea.valueOf:ye,zo=ea?ea.toString:ye;function Ve($e){if(hr($e)&&!jt($e)&&!($e instanceof Vt)){if($e instanceof Xr)return $e;if(rr.call($e,"__wrapped__"))return Gu($e)}return new Xr($e)}var ai=function(){function $e(){}return function(Ae){if(!fr(Ae))return{};if(Do)return Do(Ae);$e.prototype=Ae;var Be=new $e;return $e.prototype=ye,Be}}();function ta(){}function Xr($e,Ae){this.__wrapped__=$e,this.__actions__=[],this.__chain__=!!Ae,this.__index__=0,this.__values__=ye}Ve.templateSettings={escape:Bc,evaluate:kc,interpolate:Js,variable:"",imports:{_:Ve}},Ve.prototype=ta.prototype,Ve.prototype.constructor=Ve,Xr.prototype=ai(ta.prototype),Xr.prototype.constructor=Xr;function Vt($e){this.__wrapped__=$e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=sr,this.__views__=[]}function xd(){var $e=new Vt(this.__wrapped__);return $e.__actions__=kr(this.__actions__),$e.__dir__=this.__dir__,$e.__filtered__=this.__filtered__,$e.__iteratees__=kr(this.__iteratees__),$e.__takeCount__=this.__takeCount__,$e.__views__=kr(this.__views__),$e}function Ed(){if(this.__filtered__){var $e=new Vt(this);$e.__dir__=-1,$e.__filtered__=!0}else $e=this.clone(),$e.__dir__*=-1;return $e}function Ad(){var $e=this.__wrapped__.value(),Ae=this.__dir__,Be=jt($e),Me=Ae<0,He=Be?$e.length:0,Qe=jf(0,He,this.__views__),tt=Qe.start,nt=Qe.end,ct=nt-tt,_t=Me?nt:tt-1,$t=this.__iteratees__,wt=$t.length,Ot=0,Bt=Sr(ct,this.__takeCount__);if(!Be||!Me&&He==ct&&Bt==ct)return pu($e,this.__actions__);var Ft=[];e:for(;ct--&&Ot<Bt;){_t+=Ae;for(var Ht=-1,Lt=$e[_t];++Ht<wt;){var qt=$t[Ht],Yt=qt.iteratee,qr=qt.type,Br=Yt(Lt);if(qr==It)Lt=Br;else if(!Br){if(qr==br)continue e;break e}}Ft[Ot++]=Lt}return Ft}Vt.prototype=ai(ta.prototype),Vt.prototype.constructor=Vt;function Hn($e){var Ae=-1,Be=$e==null?0:$e.length;for(this.clear();++Ae<Be;){var Me=$e[Ae];this.set(Me[0],Me[1])}}function Td(){this.__data__=vi?vi(null):{},this.size=0}function Sd($e){var Ae=this.has($e)&&delete this.__data__[$e];return this.size-=Ae?1:0,Ae}function Pd($e){var Ae=this.__data__;if(vi){var Be=Ae[$e];return Be===Re?ye:Be}return rr.call(Ae,$e)?Ae[$e]:ye}function Od($e){var Ae=this.__data__;return vi?Ae[$e]!==ye:rr.call(Ae,$e)}function Rd($e,Ae){var Be=this.__data__;return this.size+=this.has($e)?0:1,Be[$e]=vi&&Ae===ye?Re:Ae,this}Hn.prototype.clear=Td,Hn.prototype.delete=Sd,Hn.prototype.get=Pd,Hn.prototype.has=Od,Hn.prototype.set=Rd;function _n($e){var Ae=-1,Be=$e==null?0:$e.length;for(this.clear();++Ae<Be;){var Me=$e[Ae];this.set(Me[0],Me[1])}}function Cd(){this.__data__=[],this.size=0}function Nd($e){var Ae=this.__data__,Be=ra(Ae,$e);if(Be<0)return!1;var Me=Ae.length-1;return Be==Me?Ae.pop():Wi.call(Ae,Be,1),--this.size,!0}function Bd($e){var Ae=this.__data__,Be=ra(Ae,$e);return Be<0?ye:Ae[Be][1]}function kd($e){return ra(this.__data__,$e)>-1}function Fd($e,Ae){var Be=this.__data__,Me=ra(Be,$e);return Me<0?(++this.size,Be.push([$e,Ae])):Be[Me][1]=Ae,this}_n.prototype.clear=Cd,_n.prototype.delete=Nd,_n.prototype.get=Bd,_n.prototype.has=kd,_n.prototype.set=Fd;function $n($e){var Ae=-1,Be=$e==null?0:$e.length;for(this.clear();++Ae<Be;){var Me=$e[Ae];this.set(Me[0],Me[1])}}function Ld(){this.size=0,this.__data__={hash:new Hn,map:new(bi||_n),string:new Hn}}function Md($e){var Ae=pa(this,$e).delete($e);return this.size-=Ae?1:0,Ae}function Dd($e){return pa(this,$e).get($e)}function jd($e){return pa(this,$e).has($e)}function Ud($e,Ae){var Be=pa(this,$e),Me=Be.size;return Be.set($e,Ae),this.size+=Be.size==Me?0:1,this}$n.prototype.clear=Ld,$n.prototype.delete=Md,$n.prototype.get=Dd,$n.prototype.has=jd,$n.prototype.set=Ud;function zn($e){var Ae=-1,Be=$e==null?0:$e.length;for(this.__data__=new $n;++Ae<Be;)this.add($e[Ae])}function Zd($e){return this.__data__.set($e,Re),this}function Hd($e){return this.__data__.has($e)}zn.prototype.add=zn.prototype.push=Zd,zn.prototype.has=Hd;function on($e){var Ae=this.__data__=new _n($e);this.size=Ae.size}function zd(){this.__data__=new _n,this.size=0}function Gd($e){var Ae=this.__data__,Be=Ae.delete($e);return this.size=Ae.size,Be}function qd($e){return this.__data__.get($e)}function Vd($e){return this.__data__.has($e)}function Yd($e,Ae){var Be=this.__data__;if(Be instanceof _n){var Me=Be.__data__;if(!bi||Me.length<_e-1)return Me.push([$e,Ae]),this.size=++Be.size,this;Be=this.__data__=new $n(Me)}return Be.set($e,Ae),this.size=Be.size,this}on.prototype.clear=zd,on.prototype.delete=Gd,on.prototype.get=qd,on.prototype.has=Vd,on.prototype.set=Yd;function Go($e,Ae){var Be=jt($e),Me=!Be&&Wn($e),He=!Be&&!Me&&Dn($e),Qe=!Be&&!Me&&!He&&ci($e),tt=Be||Me||He||Qe,nt=tt?Wa($e.length,rd):[],ct=nt.length;for(var _t in $e)(Ae||rr.call($e,_t))&&!(tt&&(_t=="length"||He&&(_t=="offset"||_t=="parent")||Qe&&(_t=="buffer"||_t=="byteLength"||_t=="byteOffset")||An(_t,ct)))&&nt.push(_t);return nt}function qo($e){var Ae=$e.length;return Ae?$e[fs(0,Ae-1)]:ye}function Wd($e,Ae){return ya(kr($e),Gn(Ae,0,$e.length))}function Kd($e){return ya(kr($e))}function rs($e,Ae,Be){(Be!==ye&&!un($e[Ae],Be)||Be===ye&&!(Ae in $e))&&wn($e,Ae,Be)}function $i($e,Ae,Be){var Me=$e[Ae];(!(rr.call($e,Ae)&&un(Me,Be))||Be===ye&&!(Ae in $e))&&wn($e,Ae,Be)}function ra($e,Ae){for(var Be=$e.length;Be--;)if(un($e[Be][0],Ae))return Be;return-1}function Qd($e,Ae,Be,Me){return kn($e,function(He,Qe,tt){Ae(Me,He,Be(He),tt)}),Me}function Vo($e,Ae){return $e&&yn(Ae,wr(Ae),$e)}function Jd($e,Ae){return $e&&yn(Ae,Lr(Ae),$e)}function wn($e,Ae,Be){Ae=="__proto__"&&Ki?Ki($e,Ae,{configurable:!0,enumerable:!0,value:Be,writable:!0}):$e[Ae]=Be}function ns($e,Ae){for(var Be=-1,Me=Ae.length,He=bt(Me),Qe=$e==null;++Be<Me;)He[Be]=Qe?ye:Ds($e,Ae[Be]);return He}function Gn($e,Ae,Be){return $e===$e&&(Be!==ye&&($e=$e<=Be?$e:Be),Ae!==ye&&($e=$e>=Ae?$e:Ae)),$e}function en($e,Ae,Be,Me,He,Qe){var tt,nt=Ae&Le,ct=Ae&De,_t=Ae&je;if(Be&&(tt=He?Be($e,Me,He,Qe):Be($e)),tt!==ye)return tt;if(!fr($e))return $e;var $t=jt($e);if($t){if(tt=Zf($e),!nt)return kr($e,tt)}else{var wt=Pr($e),Ot=wt==Rr||wt==mn;if(Dn($e))return bu($e,nt);if(wt==vn||wt==jr||Ot&&!He){if(tt=ct||Ot?{}:Fu($e),!nt)return ct?Rf($e,Jd(tt,$e)):Of($e,Vo(tt,$e))}else{if(!ir[wt])return He?$e:{};tt=Hf($e,wt,nt)}}Qe||(Qe=new on);var Bt=Qe.get($e);if(Bt)return Bt;Qe.set($e,tt),dc($e)?$e.forEach(function(Lt){tt.add(en(Lt,Ae,Be,Lt,$e,Qe))}):cc($e)&&$e.forEach(function(Lt,qt){tt.set(qt,en(Lt,Ae,Be,qt,$e,Qe))});var Ft=_t?ct?As:Es:ct?Lr:wr,Ht=$t?ye:Ft($e);return Qr(Ht||$e,function(Lt,qt){Ht&&(qt=Lt,Lt=$e[qt]),$i(tt,qt,en(Lt,Ae,Be,qt,$e,Qe))}),tt}function Xd($e){var Ae=wr($e);return function(Be){return Yo(Be,$e,Ae)}}function Yo($e,Ae,Be){var Me=Be.length;if($e==null)return!Me;for($e=nr($e);Me--;){var He=Be[Me],Qe=Ae[He],tt=$e[He];if(tt===ye&&!(He in $e)||!Qe(tt))return!1}return!0}function Wo($e,Ae,Be){if(typeof $e!="function")throw new Jr(Pe);return Ii(function(){$e.apply(ye,Be)},Ae)}function wi($e,Ae,Be,Me){var He=-1,Qe=Li,tt=!0,nt=$e.length,ct=[],_t=Ae.length;if(!nt)return ct;Be&&(Ae=or(Ae,Hr(Be))),Me?(Qe=Ha,tt=!1):Ae.length>=_e&&(Qe=yi,tt=!1,Ae=new zn(Ae));e:for(;++He<nt;){var $t=$e[He],wt=Be==null?$t:Be($t);if($t=Me||$t!==0?$t:0,tt&&wt===wt){for(var Ot=_t;Ot--;)if(Ae[Ot]===wt)continue e;ct.push($t)}else Qe(Ae,wt,Me)||ct.push($t)}return ct}var kn=wu(pn),Ko=wu(as,!0);function ef($e,Ae){var Be=!0;return kn($e,function(Me,He,Qe){return Be=!!Ae(Me,He,Qe),Be}),Be}function na($e,Ae,Be){for(var Me=-1,He=$e.length;++Me<He;){var Qe=$e[Me],tt=Ae(Qe);if(tt!=null&&(nt===ye?tt===tt&&!Gr(tt):Be(tt,nt)))var nt=tt,ct=Qe}return ct}function tf($e,Ae,Be,Me){var He=$e.length;for(Be=Zt(Be),Be<0&&(Be=-Be>He?0:He+Be),Me=Me===ye||Me>He?He:Zt(Me),Me<0&&(Me+=He),Me=Be>Me?0:hc(Me);Be<Me;)$e[Be++]=Ae;return $e}function Qo($e,Ae){var Be=[];return kn($e,function(Me,He,Qe){Ae(Me,He,Qe)&&Be.push(Me)}),Be}function Ar($e,Ae,Be,Me,He){var Qe=-1,tt=$e.length;for(Be||(Be=Gf),He||(He=[]);++Qe<tt;){var nt=$e[Qe];Ae>0&&Be(nt)?Ae>1?Ar(nt,Ae-1,Be,Me,He):Cn(He,nt):Me||(He[He.length]=nt)}return He}var is=xu(),Jo=xu(!0);function pn($e,Ae){return $e&&is($e,Ae,wr)}function as($e,Ae){return $e&&Jo($e,Ae,wr)}function ia($e,Ae){return Rn(Ae,function(Be){return Tn($e[Be])})}function qn($e,Ae){Ae=Ln(Ae,$e);for(var Be=0,Me=Ae.length;$e!=null&&Be<Me;)$e=$e[gn(Ae[Be++])];return Be&&Be==Me?$e:ye}function Xo($e,Ae,Be){var Me=Ae($e);return jt($e)?Me:Cn(Me,Be($e))}function Cr($e){return $e==null?$e===ye?Sc:Ri:Zn&&Zn in nr($e)?Df($e):Jf($e)}function ss($e,Ae){return $e>Ae}function rf($e,Ae){return $e!=null&&rr.call($e,Ae)}function nf($e,Ae){return $e!=null&&Ae in nr($e)}function af($e,Ae,Be){return $e>=Sr(Ae,Be)&&$e<_r(Ae,Be)}function os($e,Ae,Be){for(var Me=Be?Ha:Li,He=$e[0].length,Qe=$e.length,tt=Qe,nt=bt(Qe),ct=1/0,_t=[];tt--;){var $t=$e[tt];tt&&Ae&&($t=or($t,Hr(Ae))),ct=Sr($t.length,ct),nt[tt]=!Be&&(Ae||He>=120&&$t.length>=120)?new zn(tt&&$t):ye}$t=$e[0];var wt=-1,Ot=nt[0];e:for(;++wt<He&&_t.length<ct;){var Bt=$t[wt],Ft=Ae?Ae(Bt):Bt;if(Bt=Be||Bt!==0?Bt:0,!(Ot?yi(Ot,Ft):Me(_t,Ft,Be))){for(tt=Qe;--tt;){var Ht=nt[tt];if(!(Ht?yi(Ht,Ft):Me($e[tt],Ft,Be)))continue e}Ot&&Ot.push(Ft),_t.push(Bt)}}return _t}function sf($e,Ae,Be,Me){return pn($e,function(He,Qe,tt){Ae(Me,Be(He),Qe,tt)}),Me}function xi($e,Ae,Be){Ae=Ln(Ae,$e),$e=ju($e,Ae);var Me=$e==null?$e:$e[gn(rn(Ae))];return Me==null?ye:Zr(Me,$e,Be)}function eu($e){return hr($e)&&Cr($e)==jr}function uf($e){return hr($e)&&Cr($e)==pi}function cf($e){return hr($e)&&Cr($e)==Ur}function Ei($e,Ae,Be,Me,He){return $e===Ae?!0:$e==null||Ae==null||!hr($e)&&!hr(Ae)?$e!==$e&&Ae!==Ae:lf($e,Ae,Be,Me,Ei,He)}function lf($e,Ae,Be,Me,He,Qe){var tt=jt($e),nt=jt(Ae),ct=tt?fn:Pr($e),_t=nt?fn:Pr(Ae);ct=ct==jr?vn:ct,_t=_t==jr?vn:_t;var $t=ct==vn,wt=_t==vn,Ot=ct==_t;if(Ot&&Dn($e)){if(!Dn(Ae))return!1;tt=!0,$t=!1}if(Ot&&!$t)return Qe||(Qe=new on),tt||ci($e)?Nu($e,Ae,Be,Me,He,Qe):Lf($e,Ae,ct,Be,Me,He,Qe);if(!(Be&ze)){var Bt=$t&&rr.call($e,"__wrapped__"),Ft=wt&&rr.call(Ae,"__wrapped__");if(Bt||Ft){var Ht=Bt?$e.value():$e,Lt=Ft?Ae.value():Ae;return Qe||(Qe=new on),He(Ht,Lt,Be,Me,Qe)}}return Ot?(Qe||(Qe=new on),Mf($e,Ae,Be,Me,He,Qe)):!1}function df($e){return hr($e)&&Pr($e)==Tr}function us($e,Ae,Be,Me){var He=Be.length,Qe=He,tt=!Me;if($e==null)return!Qe;for($e=nr($e);He--;){var nt=Be[He];if(tt&&nt[2]?nt[1]!==$e[nt[0]]:!(nt[0]in $e))return!1}for(;++He<Qe;){nt=Be[He];var ct=nt[0],_t=$e[ct],$t=nt[1];if(tt&&nt[2]){if(_t===ye&&!(ct in $e))return!1}else{var wt=new on;if(Me)var Ot=Me(_t,$t,ct,$e,Ae,wt);if(!(Ot===ye?Ei($t,_t,ze|qe,Me,wt):Ot))return!1}}return!0}function tu($e){if(!fr($e)||Vf($e))return!1;var Ae=Tn($e)?ud:Kc;return Ae.test(Yn($e))}function ff($e){return hr($e)&&Cr($e)==di}function hf($e){return hr($e)&&Pr($e)==an}function pf($e){return hr($e)&&wa($e.length)&&!!ar[Cr($e)]}function ru($e){return typeof $e=="function"?$e:$e==null?Mr:typeof $e=="object"?jt($e)?au($e[0],$e[1]):iu($e):Ec($e)}function cs($e){if(!Si($e))return pd($e);var Ae=[];for(var Be in nr($e))rr.call($e,Be)&&Be!="constructor"&&Ae.push(Be);return Ae}function yf($e){if(!fr($e))return Qf($e);var Ae=Si($e),Be=[];for(var Me in $e)Me=="constructor"&&(Ae||!rr.call($e,Me))||Be.push(Me);return Be}function ls($e,Ae){return $e<Ae}function nu($e,Ae){var Be=-1,Me=Fr($e)?bt($e.length):[];return kn($e,function(He,Qe,tt){Me[++Be]=Ae(He,Qe,tt)}),Me}function iu($e){var Ae=Ss($e);return Ae.length==1&&Ae[0][2]?Mu(Ae[0][0],Ae[0][1]):function(Be){return Be===$e||us(Be,$e,Ae)}}function au($e,Ae){return Is($e)&&Lu(Ae)?Mu(gn($e),Ae):function(Be){var Me=Ds(Be,$e);return Me===ye&&Me===Ae?js(Be,$e):Ei(Ae,Me,ze|qe)}}function aa($e,Ae,Be,Me,He){$e!==Ae&&is(Ae,function(Qe,tt){if(He||(He=new on),fr(Qe))gf($e,Ae,tt,Be,aa,Me,He);else{var nt=Me?Me(Rs($e,tt),Qe,tt+"",$e,Ae,He):ye;nt===ye&&(nt=Qe),rs($e,tt,nt)}},Lr)}function gf($e,Ae,Be,Me,He,Qe,tt){var nt=Rs($e,Be),ct=Rs(Ae,Be),_t=tt.get(ct);if(_t){rs($e,Be,_t);return}var $t=Qe?Qe(nt,ct,Be+"",$e,Ae,tt):ye,wt=$t===ye;if(wt){var Ot=jt(ct),Bt=!Ot&&Dn(ct),Ft=!Ot&&!Bt&&ci(ct);$t=ct,Ot||Bt||Ft?jt(nt)?$t=nt:pr(nt)?$t=kr(nt):Bt?(wt=!1,$t=bu(ct,!0)):Ft?(wt=!1,$t=mu(ct,!0)):$t=[]:Oi(ct)||Wn(ct)?($t=nt,Wn(nt)?$t=pc(nt):(!fr(nt)||Tn(nt))&&($t=Fu(ct))):wt=!1}wt&&(tt.set(ct,$t),He($t,ct,Me,Qe,tt),tt.delete(ct)),rs($e,Be,$t)}function su($e,Ae){var Be=$e.length;if(Be)return Ae+=Ae<0?Be:0,An(Ae,Be)?$e[Ae]:ye}function ou($e,Ae,Be){Ae.length?Ae=or(Ae,function(Qe){return jt(Qe)?function(tt){return qn(tt,Qe.length===1?Qe[0]:Qe)}:Qe}):Ae=[Mr];var Me=-1;Ae=or(Ae,Hr(kt()));var He=nu($e,function(Qe,tt,nt){var ct=or(Ae,function(_t){return _t(Qe)});return{criteria:ct,index:++Me,value:Qe}});return Ml(He,function(Qe,tt){return If(Qe,tt,Be)})}function bf($e,Ae){return uu($e,Ae,function(Be,Me){return js($e,Me)})}function uu($e,Ae,Be){for(var Me=-1,He=Ae.length,Qe={};++Me<He;){var tt=Ae[Me],nt=qn($e,tt);Be(nt,tt)&&Ai(Qe,Ln(tt,$e),nt)}return Qe}function mf($e){return function(Ae){return qn(Ae,$e)}}function ds($e,Ae,Be,Me){var He=Me?Ll:Jn,Qe=-1,tt=Ae.length,nt=$e;for($e===Ae&&(Ae=kr(Ae)),Be&&(nt=or($e,Hr(Be)));++Qe<tt;)for(var ct=0,_t=Ae[Qe],$t=Be?Be(_t):_t;(ct=He(nt,$t,ct,Me))>-1;)nt!==$e&&Wi.call(nt,ct,1),Wi.call($e,ct,1);return $e}function cu($e,Ae){for(var Be=$e?Ae.length:0,Me=Be-1;Be--;){var He=Ae[Be];if(Be==Me||He!==Qe){var Qe=He;An(He)?Wi.call($e,He,1):ys($e,He)}}return $e}function fs($e,Ae){return $e+Ji(Ho()*(Ae-$e+1))}function vf($e,Ae,Be,Me){for(var He=-1,Qe=_r(Qi((Ae-$e)/(Be||1)),0),tt=bt(Qe);Qe--;)tt[Me?Qe:++He]=$e,$e+=Be;return tt}function hs($e,Ae){var Be="";if(!$e||Ae<1||Ae>Wt)return Be;do Ae%2&&(Be+=$e),Ae=Ji(Ae/2),Ae&&($e+=$e);while(Ae);return Be}function Gt($e,Ae){return Cs(Du($e,Ae,Mr),$e+"")}function _f($e){return qo(li($e))}function $f($e,Ae){var Be=li($e);return ya(Be,Gn(Ae,0,Be.length))}function Ai($e,Ae,Be,Me){if(!fr($e))return $e;Ae=Ln(Ae,$e);for(var He=-1,Qe=Ae.length,tt=Qe-1,nt=$e;nt!=null&&++He<Qe;){var ct=gn(Ae[He]),_t=Be;if(ct==="__proto__"||ct==="constructor"||ct==="prototype")return $e;if(He!=tt){var $t=nt[ct];_t=Me?Me($t,ct,nt):ye,_t===ye&&(_t=fr($t)?$t:An(Ae[He+1])?[]:{})}$i(nt,ct,_t),nt=nt[ct]}return $e}var lu=Xi?function($e,Ae){return Xi.set($e,Ae),$e}:Mr,wf=Ki?function($e,Ae){return Ki($e,"toString",{configurable:!0,enumerable:!1,value:Zs(Ae),writable:!0})}:Mr;function xf($e){return ya(li($e))}function tn($e,Ae,Be){var Me=-1,He=$e.length;Ae<0&&(Ae=-Ae>He?0:He+Ae),Be=Be>He?He:Be,Be<0&&(Be+=He),He=Ae>Be?0:Be-Ae>>>0,Ae>>>=0;for(var Qe=bt(He);++Me<He;)Qe[Me]=$e[Me+Ae];return Qe}function Ef($e,Ae){var Be;return kn($e,function(Me,He,Qe){return Be=Ae(Me,He,Qe),!Be}),!!Be}function sa($e,Ae,Be){var Me=0,He=$e==null?Me:$e.length;if(typeof Ae=="number"&&Ae===Ae&&He<=ln){for(;Me<He;){var Qe=Me+He>>>1,tt=$e[Qe];tt!==null&&!Gr(tt)&&(Be?tt<=Ae:tt<Ae)?Me=Qe+1:He=Qe}return He}return ps($e,Ae,Mr,Be)}function ps($e,Ae,Be,Me){var He=0,Qe=$e==null?0:$e.length;if(Qe===0)return 0;Ae=Be(Ae);for(var tt=Ae!==Ae,nt=Ae===null,ct=Gr(Ae),_t=Ae===ye;He<Qe;){var $t=Ji((He+Qe)/2),wt=Be($e[$t]),Ot=wt!==ye,Bt=wt===null,Ft=wt===wt,Ht=Gr(wt);if(tt)var Lt=Me||Ft;else _t?Lt=Ft&&(Me||Ot):nt?Lt=Ft&&Ot&&(Me||!Bt):ct?Lt=Ft&&Ot&&!Bt&&(Me||!Ht):Bt||Ht?Lt=!1:Lt=Me?wt<=Ae:wt<Ae;Lt?He=$t+1:Qe=$t}return Sr(Qe,Or)}function du($e,Ae){for(var Be=-1,Me=$e.length,He=0,Qe=[];++Be<Me;){var tt=$e[Be],nt=Ae?Ae(tt):tt;if(!Be||!un(nt,ct)){var ct=nt;Qe[He++]=tt===0?0:tt}}return Qe}function fu($e){return typeof $e=="number"?$e:Gr($e)?dr:+$e}function zr($e){if(typeof $e=="string")return $e;if(jt($e))return or($e,zr)+"";if(Gr($e))return zo?zo.call($e):"";var Ae=$e+"";return Ae=="0"&&1/$e==-Mt?"-0":Ae}function Fn($e,Ae,Be){var Me=-1,He=Li,Qe=$e.length,tt=!0,nt=[],ct=nt;if(Be)tt=!1,He=Ha;else if(Qe>=_e){var _t=Ae?null:kf($e);if(_t)return Di(_t);tt=!1,He=yi,ct=new zn}else ct=Ae?[]:nt;e:for(;++Me<Qe;){var $t=$e[Me],wt=Ae?Ae($t):$t;if($t=Be||$t!==0?$t:0,tt&&wt===wt){for(var Ot=ct.length;Ot--;)if(ct[Ot]===wt)continue e;Ae&&ct.push(wt),nt.push($t)}else He(ct,wt,Be)||(ct!==nt&&ct.push(wt),nt.push($t))}return nt}function ys($e,Ae){return Ae=Ln(Ae,$e),$e=ju($e,Ae),$e==null||delete $e[gn(rn(Ae))]}function hu($e,Ae,Be,Me){return Ai($e,Ae,Be(qn($e,Ae)),Me)}function oa($e,Ae,Be,Me){for(var He=$e.length,Qe=Me?He:-1;(Me?Qe--:++Qe<He)&&Ae($e[Qe],Qe,$e););return Be?tn($e,Me?0:Qe,Me?Qe+1:He):tn($e,Me?Qe+1:0,Me?He:Qe)}function pu($e,Ae){var Be=$e;return Be instanceof Vt&&(Be=Be.value()),za(Ae,function(Me,He){return He.func.apply(He.thisArg,Cn([Me],He.args))},Be)}function gs($e,Ae,Be){var Me=$e.length;if(Me<2)return Me?Fn($e[0]):[];for(var He=-1,Qe=bt(Me);++He<Me;)for(var tt=$e[He],nt=-1;++nt<Me;)nt!=He&&(Qe[He]=wi(Qe[He]||tt,$e[nt],Ae,Be));return Fn(Ar(Qe,1),Ae,Be)}function yu($e,Ae,Be){for(var Me=-1,He=$e.length,Qe=Ae.length,tt={};++Me<He;){var nt=Me<Qe?Ae[Me]:ye;Be(tt,$e[Me],nt)}return tt}function bs($e){return pr($e)?$e:[]}function vs($e){return typeof $e=="function"?$e:Mr}function Ln($e,Ae){return jt($e)?$e:Is($e,Ae)?[$e]:zu(Jt($e))}var Af=Gt;function Mn($e,Ae,Be){var Me=$e.length;return Be=Be===ye?Me:Be,!Ae&&Be>=Me?$e:tn($e,Ae,Be)}var gu=cd||function($e){return Er.clearTimeout($e)};function bu($e,Ae){if(Ae)return $e.slice();var Be=$e.length,Me=Mo?Mo(Be):new $e.constructor(Be);return $e.copy(Me),Me}function _s($e){var Ae=new $e.constructor($e.byteLength);return new Vi(Ae).set(new Vi($e)),Ae}function Tf($e,Ae){var Be=Ae?_s($e.buffer):$e.buffer;return new $e.constructor(Be,$e.byteOffset,$e.byteLength)}function Sf($e){var Ae=new $e.constructor($e.source,Xs.exec($e));return Ae.lastIndex=$e.lastIndex,Ae}function Pf($e){return _i?nr(_i.call($e)):{}}function mu($e,Ae){var Be=Ae?_s($e.buffer):$e.buffer;return new $e.constructor(Be,$e.byteOffset,$e.length)}function vu($e,Ae){if($e!==Ae){var Be=$e!==ye,Me=$e===null,He=$e===$e,Qe=Gr($e),tt=Ae!==ye,nt=Ae===null,ct=Ae===Ae,_t=Gr(Ae);if(!nt&&!_t&&!Qe&&$e>Ae||Qe&&tt&&ct&&!nt&&!_t||Me&&tt&&ct||!Be&&ct||!He)return 1;if(!Me&&!Qe&&!_t&&$e<Ae||_t&&Be&&He&&!Me&&!Qe||nt&&Be&&He||!tt&&He||!ct)return-1}return 0}function If($e,Ae,Be){for(var Me=-1,He=$e.criteria,Qe=Ae.criteria,tt=He.length,nt=Be.length;++Me<tt;){var ct=vu(He[Me],Qe[Me]);if(ct){if(Me>=nt)return ct;var _t=Be[Me];return ct*(_t=="desc"?-1:1)}}return $e.index-Ae.index}function _u($e,Ae,Be,Me){for(var He=-1,Qe=$e.length,tt=Be.length,nt=-1,ct=Ae.length,_t=_r(Qe-tt,0),$t=bt(ct+_t),wt=!Me;++nt<ct;)$t[nt]=Ae[nt];for(;++He<tt;)(wt||He<Qe)&&($t[Be[He]]=$e[He]);for(;_t--;)$t[nt++]=$e[He++];return $t}function $u($e,Ae,Be,Me){for(var He=-1,Qe=$e.length,tt=-1,nt=Be.length,ct=-1,_t=Ae.length,$t=_r(Qe-nt,0),wt=bt($t+_t),Ot=!Me;++He<$t;)wt[He]=$e[He];for(var Bt=He;++ct<_t;)wt[Bt+ct]=Ae[ct];for(;++tt<nt;)(Ot||He<Qe)&&(wt[Bt+Be[tt]]=$e[He++]);return wt}function kr($e,Ae){var Be=-1,Me=$e.length;for(Ae||(Ae=bt(Me));++Be<Me;)Ae[Be]=$e[Be];return Ae}function yn($e,Ae,Be,Me){var He=!Be;Be||(Be={});for(var Qe=-1,tt=Ae.length;++Qe<tt;){var nt=Ae[Qe],ct=Me?Me(Be[nt],$e[nt],nt,Be,$e):ye;ct===ye&&(ct=$e[nt]),He?wn(Be,nt,ct):$i(Be,nt,ct)}return Be}function Of($e,Ae){return yn($e,Ps($e),Ae)}function Rf($e,Ae){return yn($e,Bu($e),Ae)}function ua($e,Ae){return function(Be,Me){var He=jt(Be)?Rl:Qd,Qe=Ae?Ae():{};return He(Be,$e,kt(Me,2),Qe)}}function si($e){return Gt(function(Ae,Be){var Me=-1,He=Be.length,Qe=He>1?Be[He-1]:ye,tt=He>2?Be[2]:ye;for(Qe=$e.length>3&&typeof Qe=="function"?(He--,Qe):ye,tt&&Nr(Be[0],Be[1],tt)&&(Qe=He<3?ye:Qe,He=1),Ae=nr(Ae);++Me<He;){var nt=Be[Me];nt&&$e(Ae,nt,Me,Qe)}return Ae})}function wu($e,Ae){return function(Be,Me){if(Be==null)return Be;if(!Fr(Be))return $e(Be,Me);for(var He=Be.length,Qe=Ae?He:-1,tt=nr(Be);(Ae?Qe--:++Qe<He)&&Me(tt[Qe],Qe,tt)!==!1;);return Be}}function xu($e){return function(Ae,Be,Me){for(var He=-1,Qe=nr(Ae),tt=Me(Ae),nt=tt.length;nt--;){var ct=tt[$e?nt:++He];if(Be(Qe[ct],ct,Qe)===!1)break}return Ae}}function Cf($e,Ae,Be){var Me=Ae&We,He=Ti($e);function Qe(){var tt=this&&this!==Er&&this instanceof Qe?He:$e;return tt.apply(Me?Be:this,arguments)}return Qe}function Eu($e){return function(Ae){Ae=Jt(Ae);var Be=Xn(Ae)?sn(Ae):ye,Me=Be?Be[0]:Ae.charAt(0),He=Be?Mn(Be,1).join(""):Ae.slice(1);return Me[$e]()+He}}function oi($e){return function(Ae){return za(wc($c(Ae).replace(bl,"")),$e,"")}}function Ti($e){return function(){var Ae=arguments;switch(Ae.length){case 0:return new $e;case 1:return new $e(Ae[0]);case 2:return new $e(Ae[0],Ae[1]);case 3:return new $e(Ae[0],Ae[1],Ae[2]);case 4:return new $e(Ae[0],Ae[1],Ae[2],Ae[3]);case 5:return new $e(Ae[0],Ae[1],Ae[2],Ae[3],Ae[4]);case 6:return new $e(Ae[0],Ae[1],Ae[2],Ae[3],Ae[4],Ae[5]);case 7:return new $e(Ae[0],Ae[1],Ae[2],Ae[3],Ae[4],Ae[5],Ae[6])}var Be=ai($e.prototype),Me=$e.apply(Be,Ae);return fr(Me)?Me:Be}}function Nf($e,Ae,Be){var Me=Ti($e);function He(){for(var Qe=arguments.length,tt=bt(Qe),nt=Qe,ct=ui(He);nt--;)tt[nt]=arguments[nt];var _t=Qe<3&&tt[0]!==ct&&tt[Qe-1]!==ct?[]:Nn(tt,ct);if(Qe-=_t.length,Qe<Be)return Iu($e,Ae,ca,He.placeholder,ye,tt,_t,ye,ye,Be-Qe);var $t=this&&this!==Er&&this instanceof He?Me:$e;return Zr($t,this,tt)}return He}function Au($e){return function(Ae,Be,Me){var He=nr(Ae);if(!Fr(Ae)){var Qe=kt(Be,3);Ae=wr(Ae),Be=function(nt){return Qe(He[nt],nt,He)}}var tt=$e(Ae,Be,Me);return tt>-1?He[Qe?Ae[tt]:tt]:ye}}function Tu($e){return En(function(Ae){var Be=Ae.length,Me=Be,He=Xr.prototype.thru;for($e&&Ae.reverse();Me--;){var Qe=Ae[Me];if(typeof Qe!="function")throw new Jr(Pe);if(He&&!tt&&ha(Qe)=="wrapper")var tt=new Xr([],!0)}for(Me=tt?Me:Be;++Me<Be;){Qe=Ae[Me];var nt=ha(Qe),ct=nt=="wrapper"?Ts(Qe):ye;ct&&Os(ct[0])&&ct[1]==(At|it|lt|Pt)&&!ct[4].length&&ct[9]==1?tt=tt[ha(ct[0])].apply(tt,ct[3]):tt=Qe.length==1&&Os(Qe)?tt[nt]():tt.thru(Qe)}return function(){var _t=arguments,$t=_t[0];if(tt&&_t.length==1&&jt($t))return tt.plant($t).value();for(var wt=0,Ot=Be?Ae[wt].apply(this,_t):$t;++wt<Be;)Ot=Ae[wt].call(this,Ot);return Ot}})}function ca($e,Ae,Be,Me,He,Qe,tt,nt,ct,_t){var $t=Ae&At,wt=Ae&We,Ot=Ae&et,Bt=Ae&(it|ht),Ft=Ae&Ut,Ht=Ot?ye:Ti($e);function Lt(){for(var qt=arguments.length,Yt=bt(qt),qr=qt;qr--;)Yt[qr]=arguments[qr];if(Bt)var Br=ui(Lt),Vr=jl(Yt,Br);if(Me&&(Yt=_u(Yt,Me,He,Bt)),Qe&&(Yt=$u(Yt,Qe,tt,Bt)),qt-=Vr,Bt&&qt<_t){var gr=Nn(Yt,Br);return Iu($e,Ae,ca,Lt.placeholder,Be,Yt,gr,nt,ct,_t-qt)}var cn=wt?Be:this,Pn=Ot?cn[$e]:$e;return qt=Yt.length,nt?Yt=Xf(Yt,nt):Ft&&qt>1&&Yt.reverse(),$t&&ct<qt&&(Yt.length=ct),this&&this!==Er&&this instanceof Lt&&(Pn=Ht||Ti(Pn)),Pn.apply(cn,Yt)}return Lt}function Su($e,Ae){return function(Be,Me){return sf(Be,$e,Ae(Me),{})}}function la($e,Ae){return function(Be,Me){var He;if(Be===ye&&Me===ye)return Ae;if(Be!==ye&&(He=Be),Me!==ye){if(He===ye)return Me;typeof Be=="string"||typeof Me=="string"?(Be=zr(Be),Me=zr(Me)):(Be=fu(Be),Me=fu(Me)),He=$e(Be,Me)}return He}}function $s($e){return En(function(Ae){return Ae=or(Ae,Hr(kt())),Gt(function(Be){var Me=this;return $e(Ae,function(He){return Zr(He,Me,Be)})})})}function da($e,Ae){Ae=Ae===ye?" ":zr(Ae);var Be=Ae.length;if(Be<2)return Be?hs(Ae,$e):Ae;var Me=hs(Ae,Qi($e/ei(Ae)));return Xn(Ae)?Mn(sn(Me),0,$e).join(""):Me.slice(0,$e)}function Bf($e,Ae,Be,Me){var He=Ae&We,Qe=Ti($e);function tt(){for(var nt=-1,ct=arguments.length,_t=-1,$t=Me.length,wt=bt($t+ct),Ot=this&&this!==Er&&this instanceof tt?Qe:$e;++_t<$t;)wt[_t]=Me[_t];for(;ct--;)wt[_t++]=arguments[++nt];return Zr(Ot,He?Be:this,wt)}return tt}function Pu($e){return function(Ae,Be,Me){return Me&&typeof Me!="number"&&Nr(Ae,Be,Me)&&(Be=Me=ye),Ae=Sn(Ae),Be===ye?(Be=Ae,Ae=0):Be=Sn(Be),Me=Me===ye?Ae<Be?1:-1:Sn(Me),vf(Ae,Be,Me,$e)}}function fa($e){return function(Ae,Be){return typeof Ae=="string"&&typeof Be=="string"||(Ae=nn(Ae),Be=nn(Be)),$e(Ae,Be)}}function Iu($e,Ae,Be,Me,He,Qe,tt,nt,ct,_t){var $t=Ae&it,wt=$t?tt:ye,Ot=$t?ye:tt,Bt=$t?Qe:ye,Ft=$t?ye:Qe;Ae|=$t?lt:dt,Ae&=~($t?dt:lt),Ae&rt||(Ae&=~(We|et));var Ht=[$e,Ae,He,Bt,wt,Ft,Ot,nt,ct,_t],Lt=Be.apply(ye,Ht);return Os($e)&&Uu(Lt,Ht),Lt.placeholder=Me,Zu(Lt,$e,Ae)}function xs($e){var Ae=vr[$e];return function(Be,Me){if(Be=nn(Be),Me=Me==null?0:Sr(Zt(Me),292),Me&&Zo(Be)){var He=(Jt(Be)+"e").split("e"),Qe=Ae(He[0]+"e"+(+He[1]+Me));return He=(Jt(Qe)+"e").split("e"),+(He[0]+"e"+(+He[1]-Me))}return Ae(Be)}}var kf=ni&&1/Di(new ni([,-0]))[1]==Mt?function($e){return new ni($e)}:Gs;function Ou($e){return function(Ae){var Be=Pr(Ae);return Be==Tr?Qa(Ae):Be==an?Vl(Ae):Dl(Ae,$e(Ae))}}function xn($e,Ae,Be,Me,He,Qe,tt,nt){var ct=Ae&et;if(!ct&&typeof $e!="function")throw new Jr(Pe);var _t=Me?Me.length:0;if(_t||(Ae&=~(lt|dt),Me=He=ye),tt=tt===ye?tt:_r(Zt(tt),0),nt=nt===ye?nt:Zt(nt),_t-=He?He.length:0,Ae&dt){var $t=Me,wt=He;Me=He=ye}var Ot=ct?ye:Ts($e),Bt=[$e,Ae,Be,Me,He,$t,wt,Qe,tt,nt];if(Ot&&Kf(Bt,Ot),$e=Bt[0],Ae=Bt[1],Be=Bt[2],Me=Bt[3],He=Bt[4],nt=Bt[9]=Bt[9]===ye?ct?0:$e.length:_r(Bt[9]-_t,0),!nt&&Ae&(it|ht)&&(Ae&=~(it|ht)),!Ae||Ae==We)var Ft=Cf($e,Ae,Be);else Ae==it||Ae==ht?Ft=Nf($e,Ae,nt):(Ae==lt||Ae==(We|lt))&&!He.length?Ft=Bf($e,Ae,Be,Me):Ft=ca.apply(ye,Bt);var Ht=Ot?lu:Uu;return Zu(Ht(Ft,Bt),$e,Ae)}function Ru($e,Ae,Be,Me){return $e===ye||un($e,ri[Be])&&!rr.call(Me,Be)?Ae:$e}function Cu($e,Ae,Be,Me,He,Qe){return fr($e)&&fr(Ae)&&(Qe.set(Ae,$e),aa($e,Ae,ye,Cu,Qe),Qe.delete(Ae)),$e}function Ff($e){return Oi($e)?ye:$e}function Nu($e,Ae,Be,Me,He,Qe){var tt=Be&ze,nt=$e.length,ct=Ae.length;if(nt!=ct&&!(tt&&ct>nt))return!1;var _t=Qe.get($e),$t=Qe.get(Ae);if(_t&&$t)return _t==Ae&&$t==$e;var wt=-1,Ot=!0,Bt=Be&qe?new zn:ye;for(Qe.set($e,Ae),Qe.set(Ae,$e);++wt<nt;){var Ft=$e[wt],Ht=Ae[wt];if(Me)var Lt=tt?Me(Ht,Ft,wt,Ae,$e,Qe):Me(Ft,Ht,wt,$e,Ae,Qe);if(Lt!==ye){if(Lt)continue;Ot=!1;break}if(Bt){if(!Ga(Ae,function(qt,Yt){if(!yi(Bt,Yt)&&(Ft===qt||He(Ft,qt,Be,Me,Qe)))return Bt.push(Yt)})){Ot=!1;break}}else if(!(Ft===Ht||He(Ft,Ht,Be,Me,Qe))){Ot=!1;break}}return Qe.delete($e),Qe.delete(Ae),Ot}function Lf($e,Ae,Be,Me,He,Qe,tt){switch(Be){case Kn:if($e.byteLength!=Ae.byteLength||$e.byteOffset!=Ae.byteOffset)return!1;$e=$e.buffer,Ae=Ae.buffer;case pi:return!($e.byteLength!=Ae.byteLength||!Qe(new Vi($e),new Vi(Ae)));case bn:case Ur:case On:return un(+$e,+Ae);case jn:return $e.name==Ae.name&&$e.message==Ae.message;case di:case fi:return $e==Ae+"";case Tr:var nt=Qa;case an:var ct=Me&ze;if(nt||(nt=Di),$e.size!=Ae.size&&!ct)return!1;var _t=tt.get($e);if(_t)return _t==Ae;Me|=qe,tt.set($e,Ae);var $t=Nu(nt($e),nt(Ae),Me,He,Qe,tt);return tt.delete($e),$t;case Ci:if(_i)return _i.call($e)==_i.call(Ae)}return!1}function Mf($e,Ae,Be,Me,He,Qe){var tt=Be&ze,nt=Es($e),ct=nt.length,_t=Es(Ae),$t=_t.length;if(ct!=$t&&!tt)return!1;for(var wt=ct;wt--;){var Ot=nt[wt];if(!(tt?Ot in Ae:rr.call(Ae,Ot)))return!1}var Bt=Qe.get($e),Ft=Qe.get(Ae);if(Bt&&Ft)return Bt==Ae&&Ft==$e;var Ht=!0;Qe.set($e,Ae),Qe.set(Ae,$e);for(var Lt=tt;++wt<ct;){Ot=nt[wt];var qt=$e[Ot],Yt=Ae[Ot];if(Me)var qr=tt?Me(Yt,qt,Ot,Ae,$e,Qe):Me(qt,Yt,Ot,$e,Ae,Qe);if(!(qr===ye?qt===Yt||He(qt,Yt,Be,Me,Qe):qr)){Ht=!1;break}Lt||(Lt=Ot=="constructor")}if(Ht&&!Lt){var Br=$e.constructor,Vr=Ae.constructor;Br!=Vr&&"constructor"in $e&&"constructor"in Ae&&!(typeof Br=="function"&&Br instanceof Br&&typeof Vr=="function"&&Vr instanceof Vr)&&(Ht=!1)}return Qe.delete($e),Qe.delete(Ae),Ht}function En($e){return Cs(Du($e,ye,Yu),$e+"")}function Es($e){return Xo($e,wr,Ps)}function As($e){return Xo($e,Lr,Bu)}var Ts=Xi?function($e){return Xi.get($e)}:Gs;function ha($e){for(var Ae=$e.name+"",Be=ii[Ae],Me=rr.call(ii,Ae)?Be.length:0;Me--;){var He=Be[Me],Qe=He.func;if(Qe==null||Qe==$e)return He.name}return Ae}function ui($e){var Ae=rr.call(Ve,"placeholder")?Ve:$e;return Ae.placeholder}function kt(){var $e=Ve.iteratee||Hs;return $e=$e===Hs?ru:$e,arguments.length?$e(arguments[0],arguments[1]):$e}function pa($e,Ae){var Be=$e.__data__;return qf(Ae)?Be[typeof Ae=="string"?"string":"hash"]:Be.map}function Ss($e){for(var Ae=wr($e),Be=Ae.length;Be--;){var Me=Ae[Be],He=$e[Me];Ae[Be]=[Me,He,Lu(He)]}return Ae}function Vn($e,Ae){var Be=zl($e,Ae);return tu(Be)?Be:ye}function Df($e){var Ae=rr.call($e,Zn),Be=$e[Zn];try{$e[Zn]=ye;var Me=!0}catch{}var He=Hi.call($e);return Me&&(Ae?$e[Zn]=Be:delete $e[Zn]),He}var Ps=Xa?function($e){return $e==null?[]:($e=nr($e),Rn(Xa($e),function(Ae){return jo.call($e,Ae)}))}:qs,Bu=Xa?function($e){for(var Ae=[];$e;)Cn(Ae,Ps($e)),$e=Yi($e);return Ae}:qs,Pr=Cr;(es&&Pr(new es(new ArrayBuffer(1)))!=Kn||bi&&Pr(new bi)!=Tr||ts&&Pr(ts.resolve())!=Ws||ni&&Pr(new ni)!=an||mi&&Pr(new mi)!=hi)&&(Pr=function($e){var Ae=Cr($e),Be=Ae==vn?$e.constructor:ye,Me=Be?Yn(Be):"";if(Me)switch(Me){case md:return Kn;case vd:return Tr;case _d:return Ws;case $d:return an;case wd:return hi}return Ae});function jf($e,Ae,Be){for(var Me=-1,He=Be.length;++Me<He;){var Qe=Be[Me],tt=Qe.size;switch(Qe.type){case"drop":$e+=tt;break;case"dropRight":Ae-=tt;break;case"take":Ae=Sr(Ae,$e+tt);break;case"takeRight":$e=_r($e,Ae-tt);break}}return{start:$e,end:Ae}}function Uf($e){var Ae=$e.match(Zc);return Ae?Ae[1].split(Hc):[]}function ku($e,Ae,Be){Ae=Ln(Ae,$e);for(var Me=-1,He=Ae.length,Qe=!1;++Me<He;){var tt=gn(Ae[Me]);if(!(Qe=$e!=null&&Be($e,tt)))break;$e=$e[tt]}return Qe||++Me!=He?Qe:(He=$e==null?0:$e.length,!!He&&wa(He)&&An(tt,He)&&(jt($e)||Wn($e)))}function Zf($e){var Ae=$e.length,Be=new $e.constructor(Ae);return Ae&&typeof $e[0]=="string"&&rr.call($e,"index")&&(Be.index=$e.index,Be.input=$e.input),Be}function Fu($e){return typeof $e.constructor=="function"&&!Si($e)?ai(Yi($e)):{}}function Hf($e,Ae,Be){var Me=$e.constructor;switch(Ae){case pi:return _s($e);case bn:case Ur:return new Me(+$e);case Kn:return Tf($e,Be);case Aa:case Ta:case Sa:case Pa:case Ia:case Oa:case Ra:case Ca:case Na:return mu($e,Be);case Tr:return new Me;case On:case fi:return new Me($e);case di:return Sf($e);case an:return new Me;case Ci:return Pf($e)}}function zf($e,Ae){var Be=Ae.length;if(!Be)return $e;var Me=Be-1;return Ae[Me]=(Be>1?"& ":"")+Ae[Me],Ae=Ae.join(Be>2?", ":" "),$e.replace(Uc,`{
/* [wrapped with `+Ae+`] */
`)}function Gf($e){return jt($e)||Wn($e)||!!(Uo&&$e&&$e[Uo])}function An($e,Ae){var Be=typeof $e;return Ae=Ae??Wt,!!Ae&&(Be=="number"||Be!="symbol"&&Jc.test($e))&&$e>-1&&$e%1==0&&$e<Ae}function Nr($e,Ae,Be){if(!fr(Be))return!1;var Me=typeof Ae;return(Me=="number"?Fr(Be)&&An(Ae,Be.length):Me=="string"&&Ae in Be)?un(Be[Ae],$e):!1}function Is($e,Ae){if(jt($e))return!1;var Be=typeof $e;return Be=="number"||Be=="symbol"||Be=="boolean"||$e==null||Gr($e)?!0:Lc.test($e)||!Fc.test($e)||Ae!=null&&$e in nr(Ae)}function qf($e){var Ae=typeof $e;return Ae=="string"||Ae=="number"||Ae=="symbol"||Ae=="boolean"?$e!=="__proto__":$e===null}function Os($e){var Ae=ha($e),Be=Ve[Ae];if(typeof Be!="function"||!(Ae in Vt.prototype))return!1;if($e===Be)return!0;var Me=Ts(Be);return!!Me&&$e===Me[0]}function Vf($e){return!!Lo&&Lo in $e}var Yf=Ui?Tn:Vs;function Si($e){var Ae=$e&&$e.constructor,Be=typeof Ae=="function"&&Ae.prototype||ri;return $e===Be}function Lu($e){return $e===$e&&!fr($e)}function Mu($e,Ae){return function(Be){return Be==null?!1:Be[$e]===Ae&&(Ae!==ye||$e in nr(Be))}}function Wf($e){var Ae=va($e,function(Me){return Be.size===ke&&Be.clear(),Me}),Be=Ae.cache;return Ae}function Kf($e,Ae){var Be=$e[1],Me=Ae[1],He=Be|Me,Qe=He<(We|et|At),tt=Me==At&&Be==it||Me==At&&Be==Pt&&$e[7].length<=Ae[8]||Me==(At|Pt)&&Ae[7].length<=Ae[8]&&Be==it;if(!(Qe||tt))return $e;Me&We&&($e[2]=Ae[2],He|=Be&We?0:rt);var nt=Ae[3];if(nt){var ct=$e[3];$e[3]=ct?_u(ct,nt,Ae[4]):nt,$e[4]=ct?Nn($e[3],Fe):Ae[4]}return nt=Ae[5],nt&&(ct=$e[5],$e[5]=ct?$u(ct,nt,Ae[6]):nt,$e[6]=ct?Nn($e[5],Fe):Ae[6]),nt=Ae[7],nt&&($e[7]=nt),Me&At&&($e[8]=$e[8]==null?Ae[8]:Sr($e[8],Ae[8])),$e[9]==null&&($e[9]=Ae[9]),$e[0]=Ae[0],$e[1]=He,$e}function Qf($e){var Ae=[];if($e!=null)for(var Be in nr($e))Ae.push(Be);return Ae}function Jf($e){return Hi.call($e)}function Du($e,Ae,Be){return Ae=_r(Ae===ye?$e.length-1:Ae,0),function(){for(var Me=arguments,He=-1,Qe=_r(Me.length-Ae,0),tt=bt(Qe);++He<Qe;)tt[He]=Me[Ae+He];He=-1;for(var nt=bt(Ae+1);++He<Ae;)nt[He]=Me[He];return nt[Ae]=Be(tt),Zr($e,this,nt)}}function ju($e,Ae){return Ae.length<2?$e:qn($e,tn(Ae,0,-1))}function Xf($e,Ae){for(var Be=$e.length,Me=Sr(Ae.length,Be),He=kr($e);Me--;){var Qe=Ae[Me];$e[Me]=An(Qe,Be)?He[Qe]:ye}return $e}function Rs($e,Ae){if(!(Ae==="constructor"&&typeof $e[Ae]=="function")&&Ae!="__proto__")return $e[Ae]}var Uu=Hu(lu),Ii=dd||function($e,Ae){return Er.setTimeout($e,Ae)},Cs=Hu(wf);function Zu($e,Ae,Be){var Me=Ae+"";return Cs($e,zf(Me,eh(Uf(Me),Be)))}function Hu($e){var Ae=0,Be=0;return function(){var Me=yd(),He=Kt-(Me-Be);if(Be=Me,He>0){if(++Ae>=er)return arguments[0]}else Ae=0;return $e.apply(ye,arguments)}}function ya($e,Ae){var Be=-1,Me=$e.length,He=Me-1;for(Ae=Ae===ye?Me:Ae;++Be<Ae;){var Qe=fs(Be,He),tt=$e[Qe];$e[Qe]=$e[Be],$e[Be]=tt}return $e.length=Ae,$e}var zu=Wf(function($e){var Ae=[];return $e.charCodeAt(0)===46&&Ae.push(""),$e.replace(Mc,function(Be,Me,He,Qe){Ae.push(He?Qe.replace(qc,"$1"):Me||Be)}),Ae});function gn($e){if(typeof $e=="string"||Gr($e))return $e;var Ae=$e+"";return Ae=="0"&&1/$e==-Mt?"-0":Ae}function Yn($e){if($e!=null){try{return Zi.call($e)}catch{}try{return $e+""}catch{}}return""}function eh($e,Ae){return Qr(dn,function(Be){var Me="_."+Be[0];Ae&Be[1]&&!Li($e,Me)&&$e.push(Me)}),$e.sort()}function Gu($e){if($e instanceof Vt)return $e.clone();var Ae=new Xr($e.__wrapped__,$e.__chain__);return Ae.__actions__=kr($e.__actions__),Ae.__index__=$e.__index__,Ae.__values__=$e.__values__,Ae}function th($e,Ae,Be){(Be?Nr($e,Ae,Be):Ae===ye)?Ae=1:Ae=_r(Zt(Ae),0);var Me=$e==null?0:$e.length;if(!Me||Ae<1)return[];for(var He=0,Qe=0,tt=bt(Qi(Me/Ae));He<Me;)tt[Qe++]=tn($e,He,He+=Ae);return tt}function rh($e){for(var Ae=-1,Be=$e==null?0:$e.length,Me=0,He=[];++Ae<Be;){var Qe=$e[Ae];Qe&&(He[Me++]=Qe)}return He}function nh(){var $e=arguments.length;if(!$e)return[];for(var Ae=bt($e-1),Be=arguments[0],Me=$e;Me--;)Ae[Me-1]=arguments[Me];return Cn(jt(Be)?kr(Be):[Be],Ar(Ae,1))}var ih=Gt(function($e,Ae){return pr($e)?wi($e,Ar(Ae,1,pr,!0)):[]}),ah=Gt(function($e,Ae){var Be=rn(Ae);return pr(Be)&&(Be=ye),pr($e)?wi($e,Ar(Ae,1,pr,!0),kt(Be,2)):[]}),sh=Gt(function($e,Ae){var Be=rn(Ae);return pr(Be)&&(Be=ye),pr($e)?wi($e,Ar(Ae,1,pr,!0),ye,Be):[]});function oh($e,Ae,Be){var Me=$e==null?0:$e.length;return Me?(Ae=Be||Ae===ye?1:Zt(Ae),tn($e,Ae<0?0:Ae,Me)):[]}function uh($e,Ae,Be){var Me=$e==null?0:$e.length;return Me?(Ae=Be||Ae===ye?1:Zt(Ae),Ae=Me-Ae,tn($e,0,Ae<0?0:Ae)):[]}function ch($e,Ae){return $e&&$e.length?oa($e,kt(Ae,3),!0,!0):[]}function lh($e,Ae){return $e&&$e.length?oa($e,kt(Ae,3),!0):[]}function dh($e,Ae,Be,Me){var He=$e==null?0:$e.length;return He?(Be&&typeof Be!="number"&&Nr($e,Ae,Be)&&(Be=0,Me=He),tf($e,Ae,Be,Me)):[]}function qu($e,Ae,Be){var Me=$e==null?0:$e.length;if(!Me)return-1;var He=Be==null?0:Zt(Be);return He<0&&(He=_r(Me+He,0)),Mi($e,kt(Ae,3),He)}function Vu($e,Ae,Be){var Me=$e==null?0:$e.length;if(!Me)return-1;var He=Me-1;return Be!==ye&&(He=Zt(Be),He=Be<0?_r(Me+He,0):Sr(He,Me-1)),Mi($e,kt(Ae,3),He,!0)}function Yu($e){var Ae=$e==null?0:$e.length;return Ae?Ar($e,1):[]}function fh($e){var Ae=$e==null?0:$e.length;return Ae?Ar($e,Mt):[]}function hh($e,Ae){var Be=$e==null?0:$e.length;return Be?(Ae=Ae===ye?1:Zt(Ae),Ar($e,Ae)):[]}function ph($e){for(var Ae=-1,Be=$e==null?0:$e.length,Me={};++Ae<Be;){var He=$e[Ae];Me[He[0]]=He[1]}return Me}function Wu($e){return $e&&$e.length?$e[0]:ye}function yh($e,Ae,Be){var Me=$e==null?0:$e.length;if(!Me)return-1;var He=Be==null?0:Zt(Be);return He<0&&(He=_r(Me+He,0)),Jn($e,Ae,He)}function gh($e){var Ae=$e==null?0:$e.length;return Ae?tn($e,0,-1):[]}var bh=Gt(function($e){var Ae=or($e,bs);return Ae.length&&Ae[0]===$e[0]?os(Ae):[]}),mh=Gt(function($e){var Ae=rn($e),Be=or($e,bs);return Ae===rn(Be)?Ae=ye:Be.pop(),Be.length&&Be[0]===$e[0]?os(Be,kt(Ae,2)):[]}),vh=Gt(function($e){var Ae=rn($e),Be=or($e,bs);return Ae=typeof Ae=="function"?Ae:ye,Ae&&Be.pop(),Be.length&&Be[0]===$e[0]?os(Be,ye,Ae):[]});function _h($e,Ae){return $e==null?"":hd.call($e,Ae)}function rn($e){var Ae=$e==null?0:$e.length;return Ae?$e[Ae-1]:ye}function $h($e,Ae,Be){var Me=$e==null?0:$e.length;if(!Me)return-1;var He=Me;return Be!==ye&&(He=Zt(Be),He=He<0?_r(Me+He,0):Sr(He,Me-1)),Ae===Ae?Wl($e,Ae,He):Mi($e,Io,He,!0)}function wh($e,Ae){return $e&&$e.length?su($e,Zt(Ae)):ye}var xh=Gt(Ku);function Ku($e,Ae){return $e&&$e.length&&Ae&&Ae.length?ds($e,Ae):$e}function Eh($e,Ae,Be){return $e&&$e.length&&Ae&&Ae.length?ds($e,Ae,kt(Be,2)):$e}function Ah($e,Ae,Be){return $e&&$e.length&&Ae&&Ae.length?ds($e,Ae,ye,Be):$e}var Th=En(function($e,Ae){var Be=$e==null?0:$e.length,Me=ns($e,Ae);return cu($e,or(Ae,function(He){return An(He,Be)?+He:He}).sort(vu)),Me});function Sh($e,Ae){var Be=[];if(!($e&&$e.length))return Be;var Me=-1,He=[],Qe=$e.length;for(Ae=kt(Ae,3);++Me<Qe;){var tt=$e[Me];Ae(tt,Me,$e)&&(Be.push(tt),He.push(Me))}return cu($e,He),Be}function Ns($e){return $e==null?$e:bd.call($e)}function Ph($e,Ae,Be){var Me=$e==null?0:$e.length;return Me?(Be&&typeof Be!="number"&&Nr($e,Ae,Be)?(Ae=0,Be=Me):(Ae=Ae==null?0:Zt(Ae),Be=Be===ye?Me:Zt(Be)),tn($e,Ae,Be)):[]}function Ih($e,Ae){return sa($e,Ae)}function Oh($e,Ae,Be){return ps($e,Ae,kt(Be,2))}function Rh($e,Ae){var Be=$e==null?0:$e.length;if(Be){var Me=sa($e,Ae);if(Me<Be&&un($e[Me],Ae))return Me}return-1}function Ch($e,Ae){return sa($e,Ae,!0)}function Nh($e,Ae,Be){return ps($e,Ae,kt(Be,2),!0)}function Bh($e,Ae){var Be=$e==null?0:$e.length;if(Be){var Me=sa($e,Ae,!0)-1;if(un($e[Me],Ae))return Me}return-1}function kh($e){return $e&&$e.length?du($e):[]}function Fh($e,Ae){return $e&&$e.length?du($e,kt(Ae,2)):[]}function Lh($e){var Ae=$e==null?0:$e.length;return Ae?tn($e,1,Ae):[]}function Mh($e,Ae,Be){return $e&&$e.length?(Ae=Be||Ae===ye?1:Zt(Ae),tn($e,0,Ae<0?0:Ae)):[]}function Dh($e,Ae,Be){var Me=$e==null?0:$e.length;return Me?(Ae=Be||Ae===ye?1:Zt(Ae),Ae=Me-Ae,tn($e,Ae<0?0:Ae,Me)):[]}function jh($e,Ae){return $e&&$e.length?oa($e,kt(Ae,3),!1,!0):[]}function Uh($e,Ae){return $e&&$e.length?oa($e,kt(Ae,3)):[]}var Zh=Gt(function($e){return Fn(Ar($e,1,pr,!0))}),Hh=Gt(function($e){var Ae=rn($e);return pr(Ae)&&(Ae=ye),Fn(Ar($e,1,pr,!0),kt(Ae,2))}),zh=Gt(function($e){var Ae=rn($e);return Ae=typeof Ae=="function"?Ae:ye,Fn(Ar($e,1,pr,!0),ye,Ae)});function Gh($e){return $e&&$e.length?Fn($e):[]}function qh($e,Ae){return $e&&$e.length?Fn($e,kt(Ae,2)):[]}function Vh($e,Ae){return Ae=typeof Ae=="function"?Ae:ye,$e&&$e.length?Fn($e,ye,Ae):[]}function Bs($e){if(!($e&&$e.length))return[];var Ae=0;return $e=Rn($e,function(Be){if(pr(Be))return Ae=_r(Be.length,Ae),!0}),Wa(Ae,function(Be){return or($e,qa(Be))})}function Qu($e,Ae){if(!($e&&$e.length))return[];var Be=Bs($e);return Ae==null?Be:or(Be,function(Me){return Zr(Ae,ye,Me)})}var Yh=Gt(function($e,Ae){return pr($e)?wi($e,Ae):[]}),Wh=Gt(function($e){return gs(Rn($e,pr))}),Kh=Gt(function($e){var Ae=rn($e);return pr(Ae)&&(Ae=ye),gs(Rn($e,pr),kt(Ae,2))}),Qh=Gt(function($e){var Ae=rn($e);return Ae=typeof Ae=="function"?Ae:ye,gs(Rn($e,pr),ye,Ae)}),Jh=Gt(Bs);function Xh($e,Ae){return yu($e||[],Ae||[],$i)}function ep($e,Ae){return yu($e||[],Ae||[],Ai)}var tp=Gt(function($e){var Ae=$e.length,Be=Ae>1?$e[Ae-1]:ye;return Be=typeof Be=="function"?($e.pop(),Be):ye,Qu($e,Be)});function Ju($e){var Ae=Ve($e);return Ae.__chain__=!0,Ae}function rp($e,Ae){return Ae($e),$e}function ga($e,Ae){return Ae($e)}var np=En(function($e){var Ae=$e.length,Be=Ae?$e[0]:0,Me=this.__wrapped__,He=function(Qe){return ns(Qe,$e)};return Ae>1||this.__actions__.length||!(Me instanceof Vt)||!An(Be)?this.thru(He):(Me=Me.slice(Be,+Be+(Ae?1:0)),Me.__actions__.push({func:ga,args:[He],thisArg:ye}),new Xr(Me,this.__chain__).thru(function(Qe){return Ae&&!Qe.length&&Qe.push(ye),Qe}))});function ip(){return Ju(this)}function ap(){return new Xr(this.value(),this.__chain__)}function sp(){this.__values__===ye&&(this.__values__=fc(this.value()));var $e=this.__index__>=this.__values__.length,Ae=$e?ye:this.__values__[this.__index__++];return{done:$e,value:Ae}}function op(){return this}function up($e){for(var Ae,Be=this;Be instanceof ta;){var Me=Gu(Be);Me.__index__=0,Me.__values__=ye,Ae?He.__wrapped__=Me:Ae=Me;var He=Me;Be=Be.__wrapped__}return He.__wrapped__=$e,Ae}function cp(){var $e=this.__wrapped__;if($e instanceof Vt){var Ae=$e;return this.__actions__.length&&(Ae=new Vt(this)),Ae=Ae.reverse(),Ae.__actions__.push({func:ga,args:[Ns],thisArg:ye}),new Xr(Ae,this.__chain__)}return this.thru(Ns)}function lp(){return pu(this.__wrapped__,this.__actions__)}var dp=ua(function($e,Ae,Be){rr.call($e,Be)?++$e[Be]:wn($e,Be,1)});function fp($e,Ae,Be){var Me=jt($e)?So:ef;return Be&&Nr($e,Ae,Be)&&(Ae=ye),Me($e,kt(Ae,3))}function hp($e,Ae){var Be=jt($e)?Rn:Qo;return Be($e,kt(Ae,3))}var pp=Au(qu),yp=Au(Vu);function gp($e,Ae){return Ar(ba($e,Ae),1)}function bp($e,Ae){return Ar(ba($e,Ae),Mt)}function mp($e,Ae,Be){return Be=Be===ye?1:Zt(Be),Ar(ba($e,Ae),Be)}function Xu($e,Ae){var Be=jt($e)?Qr:kn;return Be($e,kt(Ae,3))}function ec($e,Ae){var Be=jt($e)?Cl:Ko;return Be($e,kt(Ae,3))}var vp=ua(function($e,Ae,Be){rr.call($e,Be)?$e[Be].push(Ae):wn($e,Be,[Ae])});function _p($e,Ae,Be,Me){$e=Fr($e)?$e:li($e),Be=Be&&!Me?Zt(Be):0;var He=$e.length;return Be<0&&(Be=_r(He+Be,0)),xa($e)?Be<=He&&$e.indexOf(Ae,Be)>-1:!!He&&Jn($e,Ae,Be)>-1}var $p=Gt(function($e,Ae,Be){var Me=-1,He=typeof Ae=="function",Qe=Fr($e)?bt($e.length):[];return kn($e,function(tt){Qe[++Me]=He?Zr(Ae,tt,Be):xi(tt,Ae,Be)}),Qe}),wp=ua(function($e,Ae,Be){wn($e,Be,Ae)});function ba($e,Ae){var Be=jt($e)?or:nu;return Be($e,kt(Ae,3))}function xp($e,Ae,Be,Me){return $e==null?[]:(jt(Ae)||(Ae=Ae==null?[]:[Ae]),Be=Me?ye:Be,jt(Be)||(Be=Be==null?[]:[Be]),ou($e,Ae,Be))}var Ep=ua(function($e,Ae,Be){$e[Be?0:1].push(Ae)},function(){return[[],[]]});function Ap($e,Ae,Be){var Me=jt($e)?za:Ro,He=arguments.length<3;return Me($e,kt(Ae,4),Be,He,kn)}function Tp($e,Ae,Be){var Me=jt($e)?Nl:Ro,He=arguments.length<3;return Me($e,kt(Ae,4),Be,He,Ko)}function Sp($e,Ae){var Be=jt($e)?Rn:Qo;return Be($e,$a(kt(Ae,3)))}function Pp($e){var Ae=jt($e)?qo:_f;return Ae($e)}function Ip($e,Ae,Be){(Be?Nr($e,Ae,Be):Ae===ye)?Ae=1:Ae=Zt(Ae);var Me=jt($e)?Wd:$f;return Me($e,Ae)}function Op($e){var Ae=jt($e)?Kd:xf;return Ae($e)}function Rp($e){if($e==null)return 0;if(Fr($e))return xa($e)?ei($e):$e.length;var Ae=Pr($e);return Ae==Tr||Ae==an?$e.size:cs($e).length}function Cp($e,Ae,Be){var Me=jt($e)?Ga:Ef;return Be&&Nr($e,Ae,Be)&&(Ae=ye),Me($e,kt(Ae,3))}var Np=Gt(function($e,Ae){if($e==null)return[];var Be=Ae.length;return Be>1&&Nr($e,Ae[0],Ae[1])?Ae=[]:Be>2&&Nr(Ae[0],Ae[1],Ae[2])&&(Ae=[Ae[0]]),ou($e,Ar(Ae,1),[])}),ma=ld||function(){return Er.Date.now()};function Bp($e,Ae){if(typeof Ae!="function")throw new Jr(Pe);return $e=Zt($e),function(){if(--$e<1)return Ae.apply(this,arguments)}}function tc($e,Ae,Be){return Ae=Be?ye:Ae,Ae=$e&&Ae==null?$e.length:Ae,xn($e,At,ye,ye,ye,ye,Ae)}function rc($e,Ae){var Be;if(typeof Ae!="function")throw new Jr(Pe);return $e=Zt($e),function(){return--$e>0&&(Be=Ae.apply(this,arguments)),$e<=1&&(Ae=ye),Be}}var ks=Gt(function($e,Ae,Be){var Me=We;if(Be.length){var He=Nn(Be,ui(ks));Me|=lt}return xn($e,Me,Ae,Be,He)}),nc=Gt(function($e,Ae,Be){var Me=We|et;if(Be.length){var He=Nn(Be,ui(nc));Me|=lt}return xn(Ae,Me,$e,Be,He)});function ic($e,Ae,Be){Ae=Be?ye:Ae;var Me=xn($e,it,ye,ye,ye,ye,ye,Ae);return Me.placeholder=ic.placeholder,Me}function ac($e,Ae,Be){Ae=Be?ye:Ae;var Me=xn($e,ht,ye,ye,ye,ye,ye,Ae);return Me.placeholder=ac.placeholder,Me}function sc($e,Ae,Be){var Me,He,Qe,tt,nt,ct,_t=0,$t=!1,wt=!1,Ot=!0;if(typeof $e!="function")throw new Jr(Pe);Ae=nn(Ae)||0,fr(Be)&&($t=!!Be.leading,wt="maxWait"in Be,Qe=wt?_r(nn(Be.maxWait)||0,Ae):Qe,Ot="trailing"in Be?!!Be.trailing:Ot);function Bt(gr){var cn=Me,Pn=He;return Me=He=ye,_t=gr,tt=$e.apply(Pn,cn),tt}function Ft(gr){return _t=gr,nt=Ii(qt,Ae),$t?Bt(gr):tt}function Ht(gr){var cn=gr-ct,Pn=gr-_t,Ac=Ae-cn;return wt?Sr(Ac,Qe-Pn):Ac}function Lt(gr){var cn=gr-ct,Pn=gr-_t;return ct===ye||cn>=Ae||cn<0||wt&&Pn>=Qe}function qt(){var gr=ma();if(Lt(gr))return Yt(gr);nt=Ii(qt,Ht(gr))}function Yt(gr){return nt=ye,Ot&&Me?Bt(gr):(Me=He=ye,tt)}function qr(){nt!==ye&&gu(nt),_t=0,Me=ct=He=nt=ye}function Br(){return nt===ye?tt:Yt(ma())}function Vr(){var gr=ma(),cn=Lt(gr);if(Me=arguments,He=this,ct=gr,cn){if(nt===ye)return Ft(ct);if(wt)return gu(nt),nt=Ii(qt,Ae),Bt(ct)}return nt===ye&&(nt=Ii(qt,Ae)),tt}return Vr.cancel=qr,Vr.flush=Br,Vr}var kp=Gt(function($e,Ae){return Wo($e,1,Ae)}),Lp=Gt(function($e,Ae,Be){return Wo($e,nn(Ae)||0,Be)});function Mp($e){return xn($e,Ut)}function va($e,Ae){if(typeof $e!="function"||Ae!=null&&typeof Ae!="function")throw new Jr(Pe);var Be=function(){var Me=arguments,He=Ae?Ae.apply(this,Me):Me[0],Qe=Be.cache;if(Qe.has(He))return Qe.get(He);var tt=$e.apply(this,Me);return Be.cache=Qe.set(He,tt)||Qe,tt};return Be.cache=new(va.Cache||$n),Be}va.Cache=$n;function $a($e){if(typeof $e!="function")throw new Jr(Pe);return function(){var Ae=arguments;switch(Ae.length){case 0:return!$e.call(this);case 1:return!$e.call(this,Ae[0]);case 2:return!$e.call(this,Ae[0],Ae[1]);case 3:return!$e.call(this,Ae[0],Ae[1],Ae[2])}return!$e.apply(this,Ae)}}function Dp($e){return rc(2,$e)}var jp=Af(function($e,Ae){Ae=Ae.length==1&&jt(Ae[0])?or(Ae[0],Hr(kt())):or(Ar(Ae,1),Hr(kt()));var Be=Ae.length;return Gt(function(Me){for(var He=-1,Qe=Sr(Me.length,Be);++He<Qe;)Me[He]=Ae[He].call(this,Me[He]);return Zr($e,this,Me)})}),Fs=Gt(function($e,Ae){var Be=Nn(Ae,ui(Fs));return xn($e,lt,ye,Ae,Be)}),oc=Gt(function($e,Ae){var Be=Nn(Ae,ui(oc));return xn($e,dt,ye,Ae,Be)}),Up=En(function($e,Ae){return xn($e,Pt,ye,ye,ye,Ae)});function Zp($e,Ae){if(typeof $e!="function")throw new Jr(Pe);return Ae=Ae===ye?Ae:Zt(Ae),Gt($e,Ae)}function Hp($e,Ae){if(typeof $e!="function")throw new Jr(Pe);return Ae=Ae==null?0:_r(Zt(Ae),0),Gt(function(Be){var Me=Be[Ae],He=Mn(Be,0,Ae);return Me&&Cn(He,Me),Zr($e,this,He)})}function zp($e,Ae,Be){var Me=!0,He=!0;if(typeof $e!="function")throw new Jr(Pe);return fr(Be)&&(Me="leading"in Be?!!Be.leading:Me,He="trailing"in Be?!!Be.trailing:He),sc($e,Ae,{leading:Me,maxWait:Ae,trailing:He})}function Gp($e){return tc($e,1)}function qp($e,Ae){return Fs(vs(Ae),$e)}function Vp(){if(!arguments.length)return[];var $e=arguments[0];return jt($e)?$e:[$e]}function Yp($e){return en($e,je)}function Wp($e,Ae){return Ae=typeof Ae=="function"?Ae:ye,en($e,je,Ae)}function Kp($e){return en($e,Le|je)}function Qp($e,Ae){return Ae=typeof Ae=="function"?Ae:ye,en($e,Le|je,Ae)}function Jp($e,Ae){return Ae==null||Yo($e,Ae,wr(Ae))}function un($e,Ae){return $e===Ae||$e!==$e&&Ae!==Ae}var Xp=fa(ss),e0=fa(function($e,Ae){return $e>=Ae}),Wn=eu(function(){return arguments}())?eu:function($e){return hr($e)&&rr.call($e,"callee")&&!jo.call($e,"callee")},jt=bt.isArray,t0=$o?Hr($o):uf;function Fr($e){return $e!=null&&wa($e.length)&&!Tn($e)}function pr($e){return hr($e)&&Fr($e)}function r0($e){return $e===!0||$e===!1||hr($e)&&Cr($e)==bn}var Dn=fd||Vs,n0=wo?Hr(wo):cf;function i0($e){return hr($e)&&$e.nodeType===1&&!Oi($e)}function a0($e){if($e==null)return!0;if(Fr($e)&&(jt($e)||typeof $e=="string"||typeof $e.splice=="function"||Dn($e)||ci($e)||Wn($e)))return!$e.length;var Ae=Pr($e);if(Ae==Tr||Ae==an)return!$e.size;if(Si($e))return!cs($e).length;for(var Be in $e)if(rr.call($e,Be))return!1;return!0}function s0($e,Ae){return Ei($e,Ae)}function o0($e,Ae,Be){Be=typeof Be=="function"?Be:ye;var Me=Be?Be($e,Ae):ye;return Me===ye?Ei($e,Ae,ye,Be):!!Me}function Ls($e){if(!hr($e))return!1;var Ae=Cr($e);return Ae==jn||Ae==In||typeof $e.message=="string"&&typeof $e.name=="string"&&!Oi($e)}function u0($e){return typeof $e=="number"&&Zo($e)}function Tn($e){if(!fr($e))return!1;var Ae=Cr($e);return Ae==Rr||Ae==mn||Ae==hn||Ae==Tc}function uc($e){return typeof $e=="number"&&$e==Zt($e)}function wa($e){return typeof $e=="number"&&$e>-1&&$e%1==0&&$e<=Wt}function fr($e){var Ae=typeof $e;return $e!=null&&(Ae=="object"||Ae=="function")}function hr($e){return $e!=null&&typeof $e=="object"}var cc=xo?Hr(xo):df;function c0($e,Ae){return $e===Ae||us($e,Ae,Ss(Ae))}function l0($e,Ae,Be){return Be=typeof Be=="function"?Be:ye,us($e,Ae,Ss(Ae),Be)}function d0($e){return lc($e)&&$e!=+$e}function f0($e){if(Yf($e))throw new Dt(we);return tu($e)}function h0($e){return $e===null}function p0($e){return $e==null}function lc($e){return typeof $e=="number"||hr($e)&&Cr($e)==On}function Oi($e){if(!hr($e)||Cr($e)!=vn)return!1;var Ae=Yi($e);if(Ae===null)return!0;var Be=rr.call(Ae,"constructor")&&Ae.constructor;return typeof Be=="function"&&Be instanceof Be&&Zi.call(Be)==sd}var Ms=Eo?Hr(Eo):ff;function y0($e){return uc($e)&&$e>=-Wt&&$e<=Wt}var dc=Ao?Hr(Ao):hf;function xa($e){return typeof $e=="string"||!jt($e)&&hr($e)&&Cr($e)==fi}function Gr($e){return typeof $e=="symbol"||hr($e)&&Cr($e)==Ci}var ci=To?Hr(To):pf;function g0($e){return $e===ye}function b0($e){return hr($e)&&Pr($e)==hi}function m0($e){return hr($e)&&Cr($e)==Pc}var v0=fa(ls),_0=fa(function($e,Ae){return $e<=Ae});function fc($e){if(!$e)return[];if(Fr($e))return xa($e)?sn($e):kr($e);if(gi&&$e[gi])return ql($e[gi]());var Ae=Pr($e),Be=Ae==Tr?Qa:Ae==an?Di:li;return Be($e)}function Sn($e){if(!$e)return $e===0?$e:0;if($e=nn($e),$e===Mt||$e===-Mt){var Ae=$e<0?-1:1;return Ae*tr}return $e===$e?$e:0}function Zt($e){var Ae=Sn($e),Be=Ae%1;return Ae===Ae?Be?Ae-Be:Ae:0}function hc($e){return $e?Gn(Zt($e),0,sr):0}function nn($e){if(typeof $e=="number")return $e;if(Gr($e))return dr;if(fr($e)){var Ae=typeof $e.valueOf=="function"?$e.valueOf():$e;$e=fr(Ae)?Ae+"":Ae}if(typeof $e!="string")return $e===0?$e:+$e;$e=Co($e);var Be=Wc.test($e);return Be||Qc.test($e)?Il($e.slice(2),Be?2:8):Yc.test($e)?dr:+$e}function pc($e){return yn($e,Lr($e))}function $0($e){return $e?Gn(Zt($e),-Wt,Wt):$e===0?$e:0}function Jt($e){return $e==null?"":zr($e)}var w0=si(function($e,Ae){if(Si(Ae)||Fr(Ae)){yn(Ae,wr(Ae),$e);return}for(var Be in Ae)rr.call(Ae,Be)&&$i($e,Be,Ae[Be])}),yc=si(function($e,Ae){yn(Ae,Lr(Ae),$e)}),Ea=si(function($e,Ae,Be,Me){yn(Ae,Lr(Ae),$e,Me)}),x0=si(function($e,Ae,Be,Me){yn(Ae,wr(Ae),$e,Me)}),E0=En(ns);function A0($e,Ae){var Be=ai($e);return Ae==null?Be:Vo(Be,Ae)}var T0=Gt(function($e,Ae){$e=nr($e);var Be=-1,Me=Ae.length,He=Me>2?Ae[2]:ye;for(He&&Nr(Ae[0],Ae[1],He)&&(Me=1);++Be<Me;)for(var Qe=Ae[Be],tt=Lr(Qe),nt=-1,ct=tt.length;++nt<ct;){var _t=tt[nt],$t=$e[_t];($t===ye||un($t,ri[_t])&&!rr.call($e,_t))&&($e[_t]=Qe[_t])}return $e}),S0=Gt(function($e){return $e.push(ye,Cu),Zr(gc,ye,$e)});function P0($e,Ae){return Po($e,kt(Ae,3),pn)}function I0($e,Ae){return Po($e,kt(Ae,3),as)}function O0($e,Ae){return $e==null?$e:is($e,kt(Ae,3),Lr)}function R0($e,Ae){return $e==null?$e:Jo($e,kt(Ae,3),Lr)}function C0($e,Ae){return $e&&pn($e,kt(Ae,3))}function N0($e,Ae){return $e&&as($e,kt(Ae,3))}function B0($e){return $e==null?[]:ia($e,wr($e))}function k0($e){return $e==null?[]:ia($e,Lr($e))}function Ds($e,Ae,Be){var Me=$e==null?ye:qn($e,Ae);return Me===ye?Be:Me}function F0($e,Ae){return $e!=null&&ku($e,Ae,rf)}function js($e,Ae){return $e!=null&&ku($e,Ae,nf)}var L0=Su(function($e,Ae,Be){Ae!=null&&typeof Ae.toString!="function"&&(Ae=Hi.call(Ae)),$e[Ae]=Be},Zs(Mr)),M0=Su(function($e,Ae,Be){Ae!=null&&typeof Ae.toString!="function"&&(Ae=Hi.call(Ae)),rr.call($e,Ae)?$e[Ae].push(Be):$e[Ae]=[Be]},kt),D0=Gt(xi);function wr($e){return Fr($e)?Go($e):cs($e)}function Lr($e){return Fr($e)?Go($e,!0):yf($e)}function j0($e,Ae){var Be={};return Ae=kt(Ae,3),pn($e,function(Me,He,Qe){wn(Be,Ae(Me,He,Qe),Me)}),Be}function U0($e,Ae){var Be={};return Ae=kt(Ae,3),pn($e,function(Me,He,Qe){wn(Be,He,Ae(Me,He,Qe))}),Be}var Z0=si(function($e,Ae,Be){aa($e,Ae,Be)}),gc=si(function($e,Ae,Be,Me){aa($e,Ae,Be,Me)}),H0=En(function($e,Ae){var Be={};if($e==null)return Be;var Me=!1;Ae=or(Ae,function(Qe){return Qe=Ln(Qe,$e),Me||(Me=Qe.length>1),Qe}),yn($e,As($e),Be),Me&&(Be=en(Be,Le|De|je,Ff));for(var He=Ae.length;He--;)ys(Be,Ae[He]);return Be});function z0($e,Ae){return bc($e,$a(kt(Ae)))}var G0=En(function($e,Ae){return $e==null?{}:bf($e,Ae)});function bc($e,Ae){if($e==null)return{};var Be=or(As($e),function(Me){return[Me]});return Ae=kt(Ae),uu($e,Be,function(Me,He){return Ae(Me,He[0])})}function q0($e,Ae,Be){Ae=Ln(Ae,$e);var Me=-1,He=Ae.length;for(He||(He=1,$e=ye);++Me<He;){var Qe=$e==null?ye:$e[gn(Ae[Me])];Qe===ye&&(Me=He,Qe=Be),$e=Tn(Qe)?Qe.call($e):Qe}return $e}function V0($e,Ae,Be){return $e==null?$e:Ai($e,Ae,Be)}function Y0($e,Ae,Be,Me){return Me=typeof Me=="function"?Me:ye,$e==null?$e:Ai($e,Ae,Be,Me)}var mc=Ou(wr),vc=Ou(Lr);function W0($e,Ae,Be){var Me=jt($e),He=Me||Dn($e)||ci($e);if(Ae=kt(Ae,4),Be==null){var Qe=$e&&$e.constructor;He?Be=Me?new Qe:[]:fr($e)?Be=Tn(Qe)?ai(Yi($e)):{}:Be={}}return(He?Qr:pn)($e,function(tt,nt,ct){return Ae(Be,tt,nt,ct)}),Be}function K0($e,Ae){return $e==null?!0:ys($e,Ae)}function Q0($e,Ae,Be){return $e==null?$e:hu($e,Ae,vs(Be))}function J0($e,Ae,Be,Me){return Me=typeof Me=="function"?Me:ye,$e==null?$e:hu($e,Ae,vs(Be),Me)}function li($e){return $e==null?[]:Ka($e,wr($e))}function X0($e){return $e==null?[]:Ka($e,Lr($e))}function ey($e,Ae,Be){return Be===ye&&(Be=Ae,Ae=ye),Be!==ye&&(Be=nn(Be),Be=Be===Be?Be:0),Ae!==ye&&(Ae=nn(Ae),Ae=Ae===Ae?Ae:0),Gn(nn($e),Ae,Be)}function ty($e,Ae,Be){return Ae=Sn(Ae),Be===ye?(Be=Ae,Ae=0):Be=Sn(Be),$e=nn($e),af($e,Ae,Be)}function ry($e,Ae,Be){if(Be&&typeof Be!="boolean"&&Nr($e,Ae,Be)&&(Ae=Be=ye),Be===ye&&(typeof Ae=="boolean"?(Be=Ae,Ae=ye):typeof $e=="boolean"&&(Be=$e,$e=ye)),$e===ye&&Ae===ye?($e=0,Ae=1):($e=Sn($e),Ae===ye?(Ae=$e,$e=0):Ae=Sn(Ae)),$e>Ae){var Me=$e;$e=Ae,Ae=Me}if(Be||$e%1||Ae%1){var He=Ho();return Sr($e+He*(Ae-$e+Pl("1e-"+((He+"").length-1))),Ae)}return fs($e,Ae)}var ny=oi(function($e,Ae,Be){return Ae=Ae.toLowerCase(),$e+(Be?_c(Ae):Ae)});function _c($e){return Us(Jt($e).toLowerCase())}function $c($e){return $e=Jt($e),$e&&$e.replace(Xc,Ul).replace(ml,"")}function iy($e,Ae,Be){$e=Jt($e),Ae=zr(Ae);var Me=$e.length;Be=Be===ye?Me:Gn(Zt(Be),0,Me);var He=Be;return Be-=Ae.length,Be>=0&&$e.slice(Be,He)==Ae}function ay($e){return $e=Jt($e),$e&&Nc.test($e)?$e.replace(Qs,Zl):$e}function sy($e){return $e=Jt($e),$e&&Dc.test($e)?$e.replace(Ba,"\\$&"):$e}var oy=oi(function($e,Ae,Be){return $e+(Be?"-":"")+Ae.toLowerCase()}),uy=oi(function($e,Ae,Be){return $e+(Be?" ":"")+Ae.toLowerCase()}),cy=Eu("toLowerCase");function ly($e,Ae,Be){$e=Jt($e),Ae=Zt(Ae);var Me=Ae?ei($e):0;if(!Ae||Me>=Ae)return $e;var He=(Ae-Me)/2;return da(Ji(He),Be)+$e+da(Qi(He),Be)}function dy($e,Ae,Be){$e=Jt($e),Ae=Zt(Ae);var Me=Ae?ei($e):0;return Ae&&Me<Ae?$e+da(Ae-Me,Be):$e}function fy($e,Ae,Be){$e=Jt($e),Ae=Zt(Ae);var Me=Ae?ei($e):0;return Ae&&Me<Ae?da(Ae-Me,Be)+$e:$e}function hy($e,Ae,Be){return Be||Ae==null?Ae=0:Ae&&(Ae=+Ae),gd(Jt($e).replace(ka,""),Ae||0)}function py($e,Ae,Be){return(Be?Nr($e,Ae,Be):Ae===ye)?Ae=1:Ae=Zt(Ae),hs(Jt($e),Ae)}function yy(){var $e=arguments,Ae=Jt($e[0]);return $e.length<3?Ae:Ae.replace($e[1],$e[2])}var gy=oi(function($e,Ae,Be){return $e+(Be?"_":"")+Ae.toLowerCase()});function by($e,Ae,Be){return Be&&typeof Be!="number"&&Nr($e,Ae,Be)&&(Ae=Be=ye),Be=Be===ye?sr:Be>>>0,Be?($e=Jt($e),$e&&(typeof Ae=="string"||Ae!=null&&!Ms(Ae))&&(Ae=zr(Ae),!Ae&&Xn($e))?Mn(sn($e),0,Be):$e.split(Ae,Be)):[]}var my=oi(function($e,Ae,Be){return $e+(Be?" ":"")+Us(Ae)});function vy($e,Ae,Be){return $e=Jt($e),Be=Be==null?0:Gn(Zt(Be),0,$e.length),Ae=zr(Ae),$e.slice(Be,Be+Ae.length)==Ae}function _y($e,Ae,Be){var Me=Ve.templateSettings;Be&&Nr($e,Ae,Be)&&(Ae=ye),$e=Jt($e),Ae=Ea({},Ae,Me,Ru);var He=Ea({},Ae.imports,Me.imports,Ru),Qe=wr(He),tt=Ka(He,Qe),nt,ct,_t=0,$t=Ae.interpolate||Bi,wt="__p += '",Ot=Ja((Ae.escape||Bi).source+"|"+$t.source+"|"+($t===Js?Vc:Bi).source+"|"+(Ae.evaluate||Bi).source+"|$","g"),Bt="//# sourceURL="+(rr.call(Ae,"sourceURL")?(Ae.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xl+"]")+`
`;$e.replace(Ot,function(Lt,qt,Yt,qr,Br,Vr){return Yt||(Yt=qr),wt+=$e.slice(_t,Vr).replace(el,Hl),qt&&(nt=!0,wt+=`' +
__e(`+qt+`) +
'`),Br&&(ct=!0,wt+=`';
`+Br+`;
__p += '`),Yt&&(wt+=`' +
((__t = (`+Yt+`)) == null ? '' : __t) +
'`),_t=Vr+Lt.length,Lt}),wt+=`';
`;var Ft=rr.call(Ae,"variable")&&Ae.variable;if(!Ft)wt=`with (obj) {
`+wt+`
}
`;else if(Gc.test(Ft))throw new Dt(Ie);wt=(ct?wt.replace(Ic,""):wt).replace(Oc,"$1").replace(Rc,"$1;"),wt="function("+(Ft||"obj")+`) {
`+(Ft?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(nt?", __e = _.escape":"")+(ct?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+wt+`return __p
}`;var Ht=xc(function(){return Qt(Qe,Bt+"return "+wt).apply(ye,tt)});if(Ht.source=wt,Ls(Ht))throw Ht;return Ht}function $y($e){return Jt($e).toLowerCase()}function wy($e){return Jt($e).toUpperCase()}function xy($e,Ae,Be){if($e=Jt($e),$e&&(Be||Ae===ye))return Co($e);if(!$e||!(Ae=zr(Ae)))return $e;var Me=sn($e),He=sn(Ae),Qe=No(Me,He),tt=Bo(Me,He)+1;return Mn(Me,Qe,tt).join("")}function Ey($e,Ae,Be){if($e=Jt($e),$e&&(Be||Ae===ye))return $e.slice(0,Fo($e)+1);if(!$e||!(Ae=zr(Ae)))return $e;var Me=sn($e),He=Bo(Me,sn(Ae))+1;return Mn(Me,0,He).join("")}function Ay($e,Ae,Be){if($e=Jt($e),$e&&(Be||Ae===ye))return $e.replace(ka,"");if(!$e||!(Ae=zr(Ae)))return $e;var Me=sn($e),He=No(Me,sn(Ae));return Mn(Me,He).join("")}function Ty($e,Ae){var Be=St,Me=Nt;if(fr(Ae)){var He="separator"in Ae?Ae.separator:He;Be="length"in Ae?Zt(Ae.length):Be,Me="omission"in Ae?zr(Ae.omission):Me}$e=Jt($e);var Qe=$e.length;if(Xn($e)){var tt=sn($e);Qe=tt.length}if(Be>=Qe)return $e;var nt=Be-ei(Me);if(nt<1)return Me;var ct=tt?Mn(tt,0,nt).join(""):$e.slice(0,nt);if(He===ye)return ct+Me;if(tt&&(nt+=ct.length-nt),Ms(He)){if($e.slice(nt).search(He)){var _t,$t=ct;for(He.global||(He=Ja(He.source,Jt(Xs.exec(He))+"g")),He.lastIndex=0;_t=He.exec($t);)var wt=_t.index;ct=ct.slice(0,wt===ye?nt:wt)}}else if($e.indexOf(zr(He),nt)!=nt){var Ot=ct.lastIndexOf(He);Ot>-1&&(ct=ct.slice(0,Ot))}return ct+Me}function Sy($e){return $e=Jt($e),$e&&Cc.test($e)?$e.replace(Ks,Ql):$e}var Py=oi(function($e,Ae,Be){return $e+(Be?" ":"")+Ae.toUpperCase()}),Us=Eu("toUpperCase");function wc($e,Ae,Be){return $e=Jt($e),Ae=Be?ye:Ae,Ae===ye?Gl($e)?ed($e):Fl($e):$e.match(Ae)||[]}var xc=Gt(function($e,Ae){try{return Zr($e,ye,Ae)}catch(Be){return Ls(Be)?Be:new Dt(Be)}}),Iy=En(function($e,Ae){return Qr(Ae,function(Be){Be=gn(Be),wn($e,Be,ks($e[Be],$e))}),$e});function Oy($e){var Ae=$e==null?0:$e.length,Be=kt();return $e=Ae?or($e,function(Me){if(typeof Me[1]!="function")throw new Jr(Pe);return[Be(Me[0]),Me[1]]}):[],Gt(function(Me){for(var He=-1;++He<Ae;){var Qe=$e[He];if(Zr(Qe[0],this,Me))return Zr(Qe[1],this,Me)}})}function Ry($e){return Xd(en($e,Le))}function Zs($e){return function(){return $e}}function Cy($e,Ae){return $e==null||$e!==$e?Ae:$e}var Ny=Tu(),By=Tu(!0);function Mr($e){return $e}function Hs($e){return ru(typeof $e=="function"?$e:en($e,Le))}function ky($e){return iu(en($e,Le))}function Fy($e,Ae){return au($e,en(Ae,Le))}var Ly=Gt(function($e,Ae){return function(Be){return xi(Be,$e,Ae)}}),My=Gt(function($e,Ae){return function(Be){return xi($e,Be,Ae)}});function zs($e,Ae,Be){var Me=wr(Ae),He=ia(Ae,Me);Be==null&&!(fr(Ae)&&(He.length||!Me.length))&&(Be=Ae,Ae=$e,$e=this,He=ia(Ae,wr(Ae)));var Qe=!(fr(Be)&&"chain"in Be)||!!Be.chain,tt=Tn($e);return Qr(He,function(nt){var ct=Ae[nt];$e[nt]=ct,tt&&($e.prototype[nt]=function(){var _t=this.__chain__;if(Qe||_t){var $t=$e(this.__wrapped__),wt=$t.__actions__=kr(this.__actions__);return wt.push({func:ct,args:arguments,thisArg:$e}),$t.__chain__=_t,$t}return ct.apply($e,Cn([this.value()],arguments))})}),$e}function Dy(){return Er._===this&&(Er._=od),this}function Gs(){}function jy($e){return $e=Zt($e),Gt(function(Ae){return su(Ae,$e)})}var Uy=$s(or),Zy=$s(So),Hy=$s(Ga);function Ec($e){return Is($e)?qa(gn($e)):mf($e)}function zy($e){return function(Ae){return $e==null?ye:qn($e,Ae)}}var Gy=Pu(),qy=Pu(!0);function qs(){return[]}function Vs(){return!1}function Vy(){return{}}function Yy(){return""}function Wy(){return!0}function Ky($e,Ae){if($e=Zt($e),$e<1||$e>Wt)return[];var Be=sr,Me=Sr($e,sr);Ae=kt(Ae),$e-=sr;for(var He=Wa(Me,Ae);++Be<$e;)Ae(Be);return He}function Qy($e){return jt($e)?or($e,gn):Gr($e)?[$e]:kr(zu(Jt($e)))}function Jy($e){var Ae=++ad;return Jt($e)+Ae}var Xy=la(function($e,Ae){return $e+Ae},0),eg=xs("ceil"),tg=la(function($e,Ae){return $e/Ae},1),rg=xs("floor");function ng($e){return $e&&$e.length?na($e,Mr,ss):ye}function ig($e,Ae){return $e&&$e.length?na($e,kt(Ae,2),ss):ye}function ag($e){return Oo($e,Mr)}function sg($e,Ae){return Oo($e,kt(Ae,2))}function og($e){return $e&&$e.length?na($e,Mr,ls):ye}function ug($e,Ae){return $e&&$e.length?na($e,kt(Ae,2),ls):ye}var cg=la(function($e,Ae){return $e*Ae},1),lg=xs("round"),dg=la(function($e,Ae){return $e-Ae},0);function fg($e){return $e&&$e.length?Ya($e,Mr):0}function hg($e,Ae){return $e&&$e.length?Ya($e,kt(Ae,2)):0}return Ve.after=Bp,Ve.ary=tc,Ve.assign=w0,Ve.assignIn=yc,Ve.assignInWith=Ea,Ve.assignWith=x0,Ve.at=E0,Ve.before=rc,Ve.bind=ks,Ve.bindAll=Iy,Ve.bindKey=nc,Ve.castArray=Vp,Ve.chain=Ju,Ve.chunk=th,Ve.compact=rh,Ve.concat=nh,Ve.cond=Oy,Ve.conforms=Ry,Ve.constant=Zs,Ve.countBy=dp,Ve.create=A0,Ve.curry=ic,Ve.curryRight=ac,Ve.debounce=sc,Ve.defaults=T0,Ve.defaultsDeep=S0,Ve.defer=kp,Ve.delay=Lp,Ve.difference=ih,Ve.differenceBy=ah,Ve.differenceWith=sh,Ve.drop=oh,Ve.dropRight=uh,Ve.dropRightWhile=ch,Ve.dropWhile=lh,Ve.fill=dh,Ve.filter=hp,Ve.flatMap=gp,Ve.flatMapDeep=bp,Ve.flatMapDepth=mp,Ve.flatten=Yu,Ve.flattenDeep=fh,Ve.flattenDepth=hh,Ve.flip=Mp,Ve.flow=Ny,Ve.flowRight=By,Ve.fromPairs=ph,Ve.functions=B0,Ve.functionsIn=k0,Ve.groupBy=vp,Ve.initial=gh,Ve.intersection=bh,Ve.intersectionBy=mh,Ve.intersectionWith=vh,Ve.invert=L0,Ve.invertBy=M0,Ve.invokeMap=$p,Ve.iteratee=Hs,Ve.keyBy=wp,Ve.keys=wr,Ve.keysIn=Lr,Ve.map=ba,Ve.mapKeys=j0,Ve.mapValues=U0,Ve.matches=ky,Ve.matchesProperty=Fy,Ve.memoize=va,Ve.merge=Z0,Ve.mergeWith=gc,Ve.method=Ly,Ve.methodOf=My,Ve.mixin=zs,Ve.negate=$a,Ve.nthArg=jy,Ve.omit=H0,Ve.omitBy=z0,Ve.once=Dp,Ve.orderBy=xp,Ve.over=Uy,Ve.overArgs=jp,Ve.overEvery=Zy,Ve.overSome=Hy,Ve.partial=Fs,Ve.partialRight=oc,Ve.partition=Ep,Ve.pick=G0,Ve.pickBy=bc,Ve.property=Ec,Ve.propertyOf=zy,Ve.pull=xh,Ve.pullAll=Ku,Ve.pullAllBy=Eh,Ve.pullAllWith=Ah,Ve.pullAt=Th,Ve.range=Gy,Ve.rangeRight=qy,Ve.rearg=Up,Ve.reject=Sp,Ve.remove=Sh,Ve.rest=Zp,Ve.reverse=Ns,Ve.sampleSize=Ip,Ve.set=V0,Ve.setWith=Y0,Ve.shuffle=Op,Ve.slice=Ph,Ve.sortBy=Np,Ve.sortedUniq=kh,Ve.sortedUniqBy=Fh,Ve.split=by,Ve.spread=Hp,Ve.tail=Lh,Ve.take=Mh,Ve.takeRight=Dh,Ve.takeRightWhile=jh,Ve.takeWhile=Uh,Ve.tap=rp,Ve.throttle=zp,Ve.thru=ga,Ve.toArray=fc,Ve.toPairs=mc,Ve.toPairsIn=vc,Ve.toPath=Qy,Ve.toPlainObject=pc,Ve.transform=W0,Ve.unary=Gp,Ve.union=Zh,Ve.unionBy=Hh,Ve.unionWith=zh,Ve.uniq=Gh,Ve.uniqBy=qh,Ve.uniqWith=Vh,Ve.unset=K0,Ve.unzip=Bs,Ve.unzipWith=Qu,Ve.update=Q0,Ve.updateWith=J0,Ve.values=li,Ve.valuesIn=X0,Ve.without=Yh,Ve.words=wc,Ve.wrap=qp,Ve.xor=Wh,Ve.xorBy=Kh,Ve.xorWith=Qh,Ve.zip=Jh,Ve.zipObject=Xh,Ve.zipObjectDeep=ep,Ve.zipWith=tp,Ve.entries=mc,Ve.entriesIn=vc,Ve.extend=yc,Ve.extendWith=Ea,zs(Ve,Ve),Ve.add=Xy,Ve.attempt=xc,Ve.camelCase=ny,Ve.capitalize=_c,Ve.ceil=eg,Ve.clamp=ey,Ve.clone=Yp,Ve.cloneDeep=Kp,Ve.cloneDeepWith=Qp,Ve.cloneWith=Wp,Ve.conformsTo=Jp,Ve.deburr=$c,Ve.defaultTo=Cy,Ve.divide=tg,Ve.endsWith=iy,Ve.eq=un,Ve.escape=ay,Ve.escapeRegExp=sy,Ve.every=fp,Ve.find=pp,Ve.findIndex=qu,Ve.findKey=P0,Ve.findLast=yp,Ve.findLastIndex=Vu,Ve.findLastKey=I0,Ve.floor=rg,Ve.forEach=Xu,Ve.forEachRight=ec,Ve.forIn=O0,Ve.forInRight=R0,Ve.forOwn=C0,Ve.forOwnRight=N0,Ve.get=Ds,Ve.gt=Xp,Ve.gte=e0,Ve.has=F0,Ve.hasIn=js,Ve.head=Wu,Ve.identity=Mr,Ve.includes=_p,Ve.indexOf=yh,Ve.inRange=ty,Ve.invoke=D0,Ve.isArguments=Wn,Ve.isArray=jt,Ve.isArrayBuffer=t0,Ve.isArrayLike=Fr,Ve.isArrayLikeObject=pr,Ve.isBoolean=r0,Ve.isBuffer=Dn,Ve.isDate=n0,Ve.isElement=i0,Ve.isEmpty=a0,Ve.isEqual=s0,Ve.isEqualWith=o0,Ve.isError=Ls,Ve.isFinite=u0,Ve.isFunction=Tn,Ve.isInteger=uc,Ve.isLength=wa,Ve.isMap=cc,Ve.isMatch=c0,Ve.isMatchWith=l0,Ve.isNaN=d0,Ve.isNative=f0,Ve.isNil=p0,Ve.isNull=h0,Ve.isNumber=lc,Ve.isObject=fr,Ve.isObjectLike=hr,Ve.isPlainObject=Oi,Ve.isRegExp=Ms,Ve.isSafeInteger=y0,Ve.isSet=dc,Ve.isString=xa,Ve.isSymbol=Gr,Ve.isTypedArray=ci,Ve.isUndefined=g0,Ve.isWeakMap=b0,Ve.isWeakSet=m0,Ve.join=_h,Ve.kebabCase=oy,Ve.last=rn,Ve.lastIndexOf=$h,Ve.lowerCase=uy,Ve.lowerFirst=cy,Ve.lt=v0,Ve.lte=_0,Ve.max=ng,Ve.maxBy=ig,Ve.mean=ag,Ve.meanBy=sg,Ve.min=og,Ve.minBy=ug,Ve.stubArray=qs,Ve.stubFalse=Vs,Ve.stubObject=Vy,Ve.stubString=Yy,Ve.stubTrue=Wy,Ve.multiply=cg,Ve.nth=wh,Ve.noConflict=Dy,Ve.noop=Gs,Ve.now=ma,Ve.pad=ly,Ve.padEnd=dy,Ve.padStart=fy,Ve.parseInt=hy,Ve.random=ry,Ve.reduce=Ap,Ve.reduceRight=Tp,Ve.repeat=py,Ve.replace=yy,Ve.result=q0,Ve.round=lg,Ve.runInContext=st,Ve.sample=Pp,Ve.size=Rp,Ve.snakeCase=gy,Ve.some=Cp,Ve.sortedIndex=Ih,Ve.sortedIndexBy=Oh,Ve.sortedIndexOf=Rh,Ve.sortedLastIndex=Ch,Ve.sortedLastIndexBy=Nh,Ve.sortedLastIndexOf=Bh,Ve.startCase=my,Ve.startsWith=vy,Ve.subtract=dg,Ve.sum=fg,Ve.sumBy=hg,Ve.template=_y,Ve.times=Ky,Ve.toFinite=Sn,Ve.toInteger=Zt,Ve.toLength=hc,Ve.toLower=$y,Ve.toNumber=nn,Ve.toSafeInteger=$0,Ve.toString=Jt,Ve.toUpper=wy,Ve.trim=xy,Ve.trimEnd=Ey,Ve.trimStart=Ay,Ve.truncate=Ty,Ve.unescape=Sy,Ve.uniqueId=Jy,Ve.upperCase=Py,Ve.upperFirst=Us,Ve.each=Xu,Ve.eachRight=ec,Ve.first=Wu,zs(Ve,function(){var $e={};return pn(Ve,function(Ae,Be){rr.call(Ve.prototype,Be)||($e[Be]=Ae)}),$e}(),{chain:!1}),Ve.VERSION=ve,Qr(["bind","bindKey","curry","curryRight","partial","partialRight"],function($e){Ve[$e].placeholder=Ve}),Qr(["drop","take"],function($e,Ae){Vt.prototype[$e]=function(Be){Be=Be===ye?1:_r(Zt(Be),0);var Me=this.__filtered__&&!Ae?new Vt(this):this.clone();return Me.__filtered__?Me.__takeCount__=Sr(Be,Me.__takeCount__):Me.__views__.push({size:Sr(Be,sr),type:$e+(Me.__dir__<0?"Right":"")}),Me},Vt.prototype[$e+"Right"]=function(Be){return this.reverse()[$e](Be).reverse()}}),Qr(["filter","map","takeWhile"],function($e,Ae){var Be=Ae+1,Me=Be==br||Be==Ct;Vt.prototype[$e]=function(He){var Qe=this.clone();return Qe.__iteratees__.push({iteratee:kt(He,3),type:Be}),Qe.__filtered__=Qe.__filtered__||Me,Qe}}),Qr(["head","last"],function($e,Ae){var Be="take"+(Ae?"Right":"");Vt.prototype[$e]=function(){return this[Be](1).value()[0]}}),Qr(["initial","tail"],function($e,Ae){var Be="drop"+(Ae?"":"Right");Vt.prototype[$e]=function(){return this.__filtered__?new Vt(this):this[Be](1)}}),Vt.prototype.compact=function(){return this.filter(Mr)},Vt.prototype.find=function($e){return this.filter($e).head()},Vt.prototype.findLast=function($e){return this.reverse().find($e)},Vt.prototype.invokeMap=Gt(function($e,Ae){return typeof $e=="function"?new Vt(this):this.map(function(Be){return xi(Be,$e,Ae)})}),Vt.prototype.reject=function($e){return this.filter($a(kt($e)))},Vt.prototype.slice=function($e,Ae){$e=Zt($e);var Be=this;return Be.__filtered__&&($e>0||Ae<0)?new Vt(Be):($e<0?Be=Be.takeRight(-$e):$e&&(Be=Be.drop($e)),Ae!==ye&&(Ae=Zt(Ae),Be=Ae<0?Be.dropRight(-Ae):Be.take(Ae-$e)),Be)},Vt.prototype.takeRightWhile=function($e){return this.reverse().takeWhile($e).reverse()},Vt.prototype.toArray=function(){return this.take(sr)},pn(Vt.prototype,function($e,Ae){var Be=/^(?:filter|find|map|reject)|While$/.test(Ae),Me=/^(?:head|last)$/.test(Ae),He=Ve[Me?"take"+(Ae=="last"?"Right":""):Ae],Qe=Me||/^find/.test(Ae);He&&(Ve.prototype[Ae]=function(){var tt=this.__wrapped__,nt=Me?[1]:arguments,ct=tt instanceof Vt,_t=nt[0],$t=ct||jt(tt),wt=function(qt){var Yt=He.apply(Ve,Cn([qt],nt));return Me&&Ot?Yt[0]:Yt};$t&&Be&&typeof _t=="function"&&_t.length!=1&&(ct=$t=!1);var Ot=this.__chain__,Bt=!!this.__actions__.length,Ft=Qe&&!Ot,Ht=ct&&!Bt;if(!Qe&&$t){tt=Ht?tt:new Vt(this);var Lt=$e.apply(tt,nt);return Lt.__actions__.push({func:ga,args:[wt],thisArg:ye}),new Xr(Lt,Ot)}return Ft&&Ht?$e.apply(this,nt):(Lt=this.thru(wt),Ft?Me?Lt.value()[0]:Lt.value():Lt)})}),Qr(["pop","push","shift","sort","splice","unshift"],function($e){var Ae=ji[$e],Be=/^(?:push|sort|unshift)$/.test($e)?"tap":"thru",Me=/^(?:pop|shift)$/.test($e);Ve.prototype[$e]=function(){var He=arguments;if(Me&&!this.__chain__){var Qe=this.value();return Ae.apply(jt(Qe)?Qe:[],He)}return this[Be](function(tt){return Ae.apply(jt(tt)?tt:[],He)})}}),pn(Vt.prototype,function($e,Ae){var Be=Ve[Ae];if(Be){var Me=Be.name+"";rr.call(ii,Me)||(ii[Me]=[]),ii[Me].push({name:Ae,func:Be})}}),ii[ca(ye,et).name]=[{name:"wrapper",func:ye}],Vt.prototype.clone=xd,Vt.prototype.reverse=Ed,Vt.prototype.value=Ad,Ve.prototype.at=np,Ve.prototype.chain=ip,Ve.prototype.commit=ap,Ve.prototype.next=sp,Ve.prototype.plant=up,Ve.prototype.reverse=cp,Ve.prototype.toJSON=Ve.prototype.valueOf=Ve.prototype.value=lp,Ve.prototype.first=Ve.prototype.head,gi&&(Ve.prototype[gi]=op),Ve},ti=td();Un?((Un.exports=ti)._=ti,Ua._=ti):Er._=ti}).call(commonjsGlobal)})(lodash$1,lodash$1.exports);var lodashExports=lodash$1.exports;const lodash=getDefaultExportFromCjs(lodashExports);var util;(function(oe){oe.assertEqual=_e=>_e;function he(_e){}oe.assertIs=he;function ye(_e){throw new Error}oe.assertNever=ye,oe.arrayToEnum=_e=>{const we={};for(const Pe of _e)we[Pe]=Pe;return we},oe.getValidEnumValues=_e=>{const we=oe.objectKeys(_e).filter(Ie=>typeof _e[_e[Ie]]!="number"),Pe={};for(const Ie of we)Pe[Ie]=_e[Ie];return oe.objectValues(Pe)},oe.objectValues=_e=>oe.objectKeys(_e).map(function(we){return _e[we]}),oe.objectKeys=typeof Object.keys=="function"?_e=>Object.keys(_e):_e=>{const we=[];for(const Pe in _e)Object.prototype.hasOwnProperty.call(_e,Pe)&&we.push(Pe);return we},oe.find=(_e,we)=>{for(const Pe of _e)if(we(Pe))return Pe},oe.isInteger=typeof Number.isInteger=="function"?_e=>Number.isInteger(_e):_e=>typeof _e=="number"&&isFinite(_e)&&Math.floor(_e)===_e;function ve(_e,we=" | "){return _e.map(Pe=>typeof Pe=="string"?`'${Pe}'`:Pe).join(we)}oe.joinValues=ve,oe.jsonStringifyReplacer=(_e,we)=>typeof we=="bigint"?we.toString():we})(util||(util={}));var objectUtil;(function(oe){oe.mergeShapes=(he,ye)=>({...he,...ye})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=oe=>{switch(typeof oe){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(oe)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(oe)?ZodParsedType.array:oe===null?ZodParsedType.null:oe.then&&typeof oe.then=="function"&&oe.catch&&typeof oe.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&oe instanceof Map?ZodParsedType.map:typeof Set<"u"&&oe instanceof Set?ZodParsedType.set:typeof Date<"u"&&oe instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=oe=>JSON.stringify(oe,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(he){super(),this.issues=[],this.addIssue=ve=>{this.issues=[...this.issues,ve]},this.addIssues=(ve=[])=>{this.issues=[...this.issues,...ve]};const ye=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,ye):this.__proto__=ye,this.name="ZodError",this.issues=he}get errors(){return this.issues}format(he){const ye=he||function(we){return we.message},ve={_errors:[]},_e=we=>{for(const Pe of we.issues)if(Pe.code==="invalid_union")Pe.unionErrors.map(_e);else if(Pe.code==="invalid_return_type")_e(Pe.returnTypeError);else if(Pe.code==="invalid_arguments")_e(Pe.argumentsError);else if(Pe.path.length===0)ve._errors.push(ye(Pe));else{let Ie=ve,Re=0;for(;Re<Pe.path.length;){const ke=Pe.path[Re];Re===Pe.path.length-1?(Ie[ke]=Ie[ke]||{_errors:[]},Ie[ke]._errors.push(ye(Pe))):Ie[ke]=Ie[ke]||{_errors:[]},Ie=Ie[ke],Re++}}};return _e(this),ve}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(he=ye=>ye.message){const ye={},ve=[];for(const _e of this.issues)_e.path.length>0?(ye[_e.path[0]]=ye[_e.path[0]]||[],ye[_e.path[0]].push(he(_e))):ve.push(he(_e));return{formErrors:ve,fieldErrors:ye}}get formErrors(){return this.flatten()}}ZodError.create=oe=>new ZodError(oe);const errorMap=(oe,he)=>{let ye;switch(oe.code){case ZodIssueCode.invalid_type:oe.received===ZodParsedType.undefined?ye="Required":ye=`Expected ${oe.expected}, received ${oe.received}`;break;case ZodIssueCode.invalid_literal:ye=`Invalid literal value, expected ${JSON.stringify(oe.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:ye=`Unrecognized key(s) in object: ${util.joinValues(oe.keys,", ")}`;break;case ZodIssueCode.invalid_union:ye="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:ye=`Invalid discriminator value. Expected ${util.joinValues(oe.options)}`;break;case ZodIssueCode.invalid_enum_value:ye=`Invalid enum value. Expected ${util.joinValues(oe.options)}, received '${oe.received}'`;break;case ZodIssueCode.invalid_arguments:ye="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:ye="Invalid function return type";break;case ZodIssueCode.invalid_date:ye="Invalid date";break;case ZodIssueCode.invalid_string:typeof oe.validation=="object"?"includes"in oe.validation?(ye=`Invalid input: must include "${oe.validation.includes}"`,typeof oe.validation.position=="number"&&(ye=`${ye} at one or more positions greater than or equal to ${oe.validation.position}`)):"startsWith"in oe.validation?ye=`Invalid input: must start with "${oe.validation.startsWith}"`:"endsWith"in oe.validation?ye=`Invalid input: must end with "${oe.validation.endsWith}"`:util.assertNever(oe.validation):oe.validation!=="regex"?ye=`Invalid ${oe.validation}`:ye="Invalid";break;case ZodIssueCode.too_small:oe.type==="array"?ye=`Array must contain ${oe.exact?"exactly":oe.inclusive?"at least":"more than"} ${oe.minimum} element(s)`:oe.type==="string"?ye=`String must contain ${oe.exact?"exactly":oe.inclusive?"at least":"over"} ${oe.minimum} character(s)`:oe.type==="number"?ye=`Number must be ${oe.exact?"exactly equal to ":oe.inclusive?"greater than or equal to ":"greater than "}${oe.minimum}`:oe.type==="date"?ye=`Date must be ${oe.exact?"exactly equal to ":oe.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(oe.minimum))}`:ye="Invalid input";break;case ZodIssueCode.too_big:oe.type==="array"?ye=`Array must contain ${oe.exact?"exactly":oe.inclusive?"at most":"less than"} ${oe.maximum} element(s)`:oe.type==="string"?ye=`String must contain ${oe.exact?"exactly":oe.inclusive?"at most":"under"} ${oe.maximum} character(s)`:oe.type==="number"?ye=`Number must be ${oe.exact?"exactly":oe.inclusive?"less than or equal to":"less than"} ${oe.maximum}`:oe.type==="bigint"?ye=`BigInt must be ${oe.exact?"exactly":oe.inclusive?"less than or equal to":"less than"} ${oe.maximum}`:oe.type==="date"?ye=`Date must be ${oe.exact?"exactly":oe.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(oe.maximum))}`:ye="Invalid input";break;case ZodIssueCode.custom:ye="Invalid input";break;case ZodIssueCode.invalid_intersection_types:ye="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:ye=`Number must be a multiple of ${oe.multipleOf}`;break;case ZodIssueCode.not_finite:ye="Number must be finite";break;default:ye=he.defaultError,util.assertNever(oe)}return{message:ye}};let overrideErrorMap=errorMap;function setErrorMap(oe){overrideErrorMap=oe}function getErrorMap(){return overrideErrorMap}const makeIssue=oe=>{const{data:he,path:ye,errorMaps:ve,issueData:_e}=oe,we=[...ye,..._e.path||[]],Pe={..._e,path:we};let Ie="";const Re=ve.filter(ke=>!!ke).slice().reverse();for(const ke of Re)Ie=ke(Pe,{data:he,defaultError:Ie}).message;return{..._e,path:we,message:_e.message||Ie}},EMPTY_PATH=[];function addIssueToContext(oe,he){const ye=makeIssue({issueData:he,data:oe.data,path:oe.path,errorMaps:[oe.common.contextualErrorMap,oe.schemaErrorMap,getErrorMap(),errorMap].filter(ve=>!!ve)});oe.common.issues.push(ye)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(he,ye){const ve=[];for(const _e of ye){if(_e.status==="aborted")return INVALID;_e.status==="dirty"&&he.dirty(),ve.push(_e.value)}return{status:he.value,value:ve}}static async mergeObjectAsync(he,ye){const ve=[];for(const _e of ye)ve.push({key:await _e.key,value:await _e.value});return ParseStatus.mergeObjectSync(he,ve)}static mergeObjectSync(he,ye){const ve={};for(const _e of ye){const{key:we,value:Pe}=_e;if(we.status==="aborted"||Pe.status==="aborted")return INVALID;we.status==="dirty"&&he.dirty(),Pe.status==="dirty"&&he.dirty(),we.value!=="__proto__"&&(typeof Pe.value<"u"||_e.alwaysSet)&&(ve[we.value]=Pe.value)}return{status:he.value,value:ve}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=oe=>({status:"dirty",value:oe}),OK=oe=>({status:"valid",value:oe}),isAborted=oe=>oe.status==="aborted",isDirty=oe=>oe.status==="dirty",isValid=oe=>oe.status==="valid",isAsync=oe=>typeof Promise<"u"&&oe instanceof Promise;var errorUtil;(function(oe){oe.errToObj=he=>typeof he=="string"?{message:he}:he||{},oe.toString=he=>typeof he=="string"?he:he?.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(he,ye,ve,_e){this._cachedPath=[],this.parent=he,this.data=ye,this._path=ve,this._key=_e}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(oe,he)=>{if(isValid(he))return{success:!0,data:he.value};if(!oe.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const ye=new ZodError(oe.common.issues);return this._error=ye,this._error}}};function processCreateParams(oe){if(!oe)return{};const{errorMap:he,invalid_type_error:ye,required_error:ve,description:_e}=oe;if(he&&(ye||ve))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return he?{errorMap:he,description:_e}:{errorMap:(Pe,Ie)=>Pe.code!=="invalid_type"?{message:Ie.defaultError}:typeof Ie.data>"u"?{message:ve??Ie.defaultError}:{message:ye??Ie.defaultError},description:_e}}class ZodType{constructor(he){this.spa=this.safeParseAsync,this._def=he,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(he){return getParsedType(he.data)}_getOrReturnCtx(he,ye){return ye||{common:he.parent.common,data:he.data,parsedType:getParsedType(he.data),schemaErrorMap:this._def.errorMap,path:he.path,parent:he.parent}}_processInputParams(he){return{status:new ParseStatus,ctx:{common:he.parent.common,data:he.data,parsedType:getParsedType(he.data),schemaErrorMap:this._def.errorMap,path:he.path,parent:he.parent}}}_parseSync(he){const ye=this._parse(he);if(isAsync(ye))throw new Error("Synchronous parse encountered promise.");return ye}_parseAsync(he){const ye=this._parse(he);return Promise.resolve(ye)}parse(he,ye){const ve=this.safeParse(he,ye);if(ve.success)return ve.data;throw ve.error}safeParse(he,ye){var ve;const _e={common:{issues:[],async:(ve=ye?.async)!==null&&ve!==void 0?ve:!1,contextualErrorMap:ye?.errorMap},path:ye?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:he,parsedType:getParsedType(he)},we=this._parseSync({data:he,path:_e.path,parent:_e});return handleResult(_e,we)}async parseAsync(he,ye){const ve=await this.safeParseAsync(he,ye);if(ve.success)return ve.data;throw ve.error}async safeParseAsync(he,ye){const ve={common:{issues:[],contextualErrorMap:ye?.errorMap,async:!0},path:ye?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:he,parsedType:getParsedType(he)},_e=this._parse({data:he,path:ve.path,parent:ve}),we=await(isAsync(_e)?_e:Promise.resolve(_e));return handleResult(ve,we)}refine(he,ye){const ve=_e=>typeof ye=="string"||typeof ye>"u"?{message:ye}:typeof ye=="function"?ye(_e):ye;return this._refinement((_e,we)=>{const Pe=he(_e),Ie=()=>we.addIssue({code:ZodIssueCode.custom,...ve(_e)});return typeof Promise<"u"&&Pe instanceof Promise?Pe.then(Re=>Re?!0:(Ie(),!1)):Pe?!0:(Ie(),!1)})}refinement(he,ye){return this._refinement((ve,_e)=>he(ve)?!0:(_e.addIssue(typeof ye=="function"?ye(ve,_e):ye),!1))}_refinement(he){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:he}})}superRefine(he){return this._refinement(he)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(he){return ZodUnion.create([this,he],this._def)}and(he){return ZodIntersection.create(this,he,this._def)}transform(he){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:he}})}default(he){const ye=typeof he=="function"?he:()=>he;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:ye,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(he){const ye=typeof he=="function"?he:()=>he;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:ye,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(he){const ye=this.constructor;return new ye({...this._def,description:he})}pipe(he){return ZodPipeline.create(this,he)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/[0-9A-HJKMNP-TV-Z]{26}/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,emailRegex=/^([A-Z0-9_+-]+\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,emojiRegex=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=oe=>oe.precision?oe.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${oe.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${oe.precision}}Z$`):oe.precision===0?oe.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):oe.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(oe,he){return!!((he==="v4"||!he)&&ipv4Regex.test(oe)||(he==="v6"||!he)&&ipv6Regex.test(oe))}class ZodString extends ZodType{constructor(){super(...arguments),this._regex=(he,ye,ve)=>this.refinement(_e=>he.test(_e),{validation:ye,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(ve)}),this.nonempty=he=>this.min(1,errorUtil.errToObj(he)),this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(he){if(this._def.coerce&&(he.data=String(he.data)),this._getType(he)!==ZodParsedType.string){const we=this._getOrReturnCtx(he);return addIssueToContext(we,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:we.parsedType}),INVALID}const ve=new ParseStatus;let _e;for(const we of this._def.checks)if(we.kind==="min")he.data.length<we.value&&(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.too_small,minimum:we.value,type:"string",inclusive:!0,exact:!1,message:we.message}),ve.dirty());else if(we.kind==="max")he.data.length>we.value&&(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.too_big,maximum:we.value,type:"string",inclusive:!0,exact:!1,message:we.message}),ve.dirty());else if(we.kind==="length"){const Pe=he.data.length>we.value,Ie=he.data.length<we.value;(Pe||Ie)&&(_e=this._getOrReturnCtx(he,_e),Pe?addIssueToContext(_e,{code:ZodIssueCode.too_big,maximum:we.value,type:"string",inclusive:!0,exact:!0,message:we.message}):Ie&&addIssueToContext(_e,{code:ZodIssueCode.too_small,minimum:we.value,type:"string",inclusive:!0,exact:!0,message:we.message}),ve.dirty())}else if(we.kind==="email")emailRegex.test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"email",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty());else if(we.kind==="emoji")emojiRegex.test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"emoji",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty());else if(we.kind==="uuid")uuidRegex.test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"uuid",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty());else if(we.kind==="cuid")cuidRegex.test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"cuid",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty());else if(we.kind==="cuid2")cuid2Regex.test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty());else if(we.kind==="ulid")ulidRegex.test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"ulid",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty());else if(we.kind==="url")try{new URL(he.data)}catch{_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"url",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty()}else we.kind==="regex"?(we.regex.lastIndex=0,we.regex.test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"regex",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty())):we.kind==="trim"?he.data=he.data.trim():we.kind==="includes"?he.data.includes(we.value,we.position)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.invalid_string,validation:{includes:we.value,position:we.position},message:we.message}),ve.dirty()):we.kind==="toLowerCase"?he.data=he.data.toLowerCase():we.kind==="toUpperCase"?he.data=he.data.toUpperCase():we.kind==="startsWith"?he.data.startsWith(we.value)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.invalid_string,validation:{startsWith:we.value},message:we.message}),ve.dirty()):we.kind==="endsWith"?he.data.endsWith(we.value)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.invalid_string,validation:{endsWith:we.value},message:we.message}),ve.dirty()):we.kind==="datetime"?datetimeRegex(we).test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.invalid_string,validation:"datetime",message:we.message}),ve.dirty()):we.kind==="ip"?isValidIP(he.data,we.version)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"ip",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty()):util.assertNever(we);return{status:ve.value,value:he.data}}_addCheck(he){return new ZodString({...this._def,checks:[...this._def.checks,he]})}email(he){return this._addCheck({kind:"email",...errorUtil.errToObj(he)})}url(he){return this._addCheck({kind:"url",...errorUtil.errToObj(he)})}emoji(he){return this._addCheck({kind:"emoji",...errorUtil.errToObj(he)})}uuid(he){return this._addCheck({kind:"uuid",...errorUtil.errToObj(he)})}cuid(he){return this._addCheck({kind:"cuid",...errorUtil.errToObj(he)})}cuid2(he){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(he)})}ulid(he){return this._addCheck({kind:"ulid",...errorUtil.errToObj(he)})}ip(he){return this._addCheck({kind:"ip",...errorUtil.errToObj(he)})}datetime(he){var ye;return typeof he=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:he}):this._addCheck({kind:"datetime",precision:typeof he?.precision>"u"?null:he?.precision,offset:(ye=he?.offset)!==null&&ye!==void 0?ye:!1,...errorUtil.errToObj(he?.message)})}regex(he,ye){return this._addCheck({kind:"regex",regex:he,...errorUtil.errToObj(ye)})}includes(he,ye){return this._addCheck({kind:"includes",value:he,position:ye?.position,...errorUtil.errToObj(ye?.message)})}startsWith(he,ye){return this._addCheck({kind:"startsWith",value:he,...errorUtil.errToObj(ye)})}endsWith(he,ye){return this._addCheck({kind:"endsWith",value:he,...errorUtil.errToObj(ye)})}min(he,ye){return this._addCheck({kind:"min",value:he,...errorUtil.errToObj(ye)})}max(he,ye){return this._addCheck({kind:"max",value:he,...errorUtil.errToObj(ye)})}length(he,ye){return this._addCheck({kind:"length",value:he,...errorUtil.errToObj(ye)})}get isDatetime(){return!!this._def.checks.find(he=>he.kind==="datetime")}get isEmail(){return!!this._def.checks.find(he=>he.kind==="email")}get isURL(){return!!this._def.checks.find(he=>he.kind==="url")}get isEmoji(){return!!this._def.checks.find(he=>he.kind==="emoji")}get isUUID(){return!!this._def.checks.find(he=>he.kind==="uuid")}get isCUID(){return!!this._def.checks.find(he=>he.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(he=>he.kind==="cuid2")}get isULID(){return!!this._def.checks.find(he=>he.kind==="ulid")}get isIP(){return!!this._def.checks.find(he=>he.kind==="ip")}get minLength(){let he=null;for(const ye of this._def.checks)ye.kind==="min"&&(he===null||ye.value>he)&&(he=ye.value);return he}get maxLength(){let he=null;for(const ye of this._def.checks)ye.kind==="max"&&(he===null||ye.value<he)&&(he=ye.value);return he}}ZodString.create=oe=>{var he;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(he=oe?.coerce)!==null&&he!==void 0?he:!1,...processCreateParams(oe)})};function floatSafeRemainder(oe,he){const ye=(oe.toString().split(".")[1]||"").length,ve=(he.toString().split(".")[1]||"").length,_e=ye>ve?ye:ve,we=parseInt(oe.toFixed(_e).replace(".","")),Pe=parseInt(he.toFixed(_e).replace(".",""));return we%Pe/Math.pow(10,_e)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(he){if(this._def.coerce&&(he.data=Number(he.data)),this._getType(he)!==ZodParsedType.number){const we=this._getOrReturnCtx(he);return addIssueToContext(we,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:we.parsedType}),INVALID}let ve;const _e=new ParseStatus;for(const we of this._def.checks)we.kind==="int"?util.isInteger(he.data)||(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:we.message}),_e.dirty()):we.kind==="min"?(we.inclusive?he.data<we.value:he.data<=we.value)&&(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.too_small,minimum:we.value,type:"number",inclusive:we.inclusive,exact:!1,message:we.message}),_e.dirty()):we.kind==="max"?(we.inclusive?he.data>we.value:he.data>=we.value)&&(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.too_big,maximum:we.value,type:"number",inclusive:we.inclusive,exact:!1,message:we.message}),_e.dirty()):we.kind==="multipleOf"?floatSafeRemainder(he.data,we.value)!==0&&(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.not_multiple_of,multipleOf:we.value,message:we.message}),_e.dirty()):we.kind==="finite"?Number.isFinite(he.data)||(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.not_finite,message:we.message}),_e.dirty()):util.assertNever(we);return{status:_e.value,value:he.data}}gte(he,ye){return this.setLimit("min",he,!0,errorUtil.toString(ye))}gt(he,ye){return this.setLimit("min",he,!1,errorUtil.toString(ye))}lte(he,ye){return this.setLimit("max",he,!0,errorUtil.toString(ye))}lt(he,ye){return this.setLimit("max",he,!1,errorUtil.toString(ye))}setLimit(he,ye,ve,_e){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:he,value:ye,inclusive:ve,message:errorUtil.toString(_e)}]})}_addCheck(he){return new ZodNumber({...this._def,checks:[...this._def.checks,he]})}int(he){return this._addCheck({kind:"int",message:errorUtil.toString(he)})}positive(he){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(he)})}negative(he){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(he)})}nonpositive(he){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(he)})}nonnegative(he){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(he)})}multipleOf(he,ye){return this._addCheck({kind:"multipleOf",value:he,message:errorUtil.toString(ye)})}finite(he){return this._addCheck({kind:"finite",message:errorUtil.toString(he)})}safe(he){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(he)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(he)})}get minValue(){let he=null;for(const ye of this._def.checks)ye.kind==="min"&&(he===null||ye.value>he)&&(he=ye.value);return he}get maxValue(){let he=null;for(const ye of this._def.checks)ye.kind==="max"&&(he===null||ye.value<he)&&(he=ye.value);return he}get isInt(){return!!this._def.checks.find(he=>he.kind==="int"||he.kind==="multipleOf"&&util.isInteger(he.value))}get isFinite(){let he=null,ye=null;for(const ve of this._def.checks){if(ve.kind==="finite"||ve.kind==="int"||ve.kind==="multipleOf")return!0;ve.kind==="min"?(ye===null||ve.value>ye)&&(ye=ve.value):ve.kind==="max"&&(he===null||ve.value<he)&&(he=ve.value)}return Number.isFinite(ye)&&Number.isFinite(he)}}ZodNumber.create=oe=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:oe?.coerce||!1,...processCreateParams(oe)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(he){if(this._def.coerce&&(he.data=BigInt(he.data)),this._getType(he)!==ZodParsedType.bigint){const we=this._getOrReturnCtx(he);return addIssueToContext(we,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:we.parsedType}),INVALID}let ve;const _e=new ParseStatus;for(const we of this._def.checks)we.kind==="min"?(we.inclusive?he.data<we.value:he.data<=we.value)&&(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.too_small,type:"bigint",minimum:we.value,inclusive:we.inclusive,message:we.message}),_e.dirty()):we.kind==="max"?(we.inclusive?he.data>we.value:he.data>=we.value)&&(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.too_big,type:"bigint",maximum:we.value,inclusive:we.inclusive,message:we.message}),_e.dirty()):we.kind==="multipleOf"?he.data%we.value!==BigInt(0)&&(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.not_multiple_of,multipleOf:we.value,message:we.message}),_e.dirty()):util.assertNever(we);return{status:_e.value,value:he.data}}gte(he,ye){return this.setLimit("min",he,!0,errorUtil.toString(ye))}gt(he,ye){return this.setLimit("min",he,!1,errorUtil.toString(ye))}lte(he,ye){return this.setLimit("max",he,!0,errorUtil.toString(ye))}lt(he,ye){return this.setLimit("max",he,!1,errorUtil.toString(ye))}setLimit(he,ye,ve,_e){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:he,value:ye,inclusive:ve,message:errorUtil.toString(_e)}]})}_addCheck(he){return new ZodBigInt({...this._def,checks:[...this._def.checks,he]})}positive(he){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(he)})}negative(he){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(he)})}nonpositive(he){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(he)})}nonnegative(he){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(he)})}multipleOf(he,ye){return this._addCheck({kind:"multipleOf",value:he,message:errorUtil.toString(ye)})}get minValue(){let he=null;for(const ye of this._def.checks)ye.kind==="min"&&(he===null||ye.value>he)&&(he=ye.value);return he}get maxValue(){let he=null;for(const ye of this._def.checks)ye.kind==="max"&&(he===null||ye.value<he)&&(he=ye.value);return he}}ZodBigInt.create=oe=>{var he;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(he=oe?.coerce)!==null&&he!==void 0?he:!1,...processCreateParams(oe)})};class ZodBoolean extends ZodType{_parse(he){if(this._def.coerce&&(he.data=!!he.data),this._getType(he)!==ZodParsedType.boolean){const ve=this._getOrReturnCtx(he);return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:ve.parsedType}),INVALID}return OK(he.data)}}ZodBoolean.create=oe=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:oe?.coerce||!1,...processCreateParams(oe)});class ZodDate extends ZodType{_parse(he){if(this._def.coerce&&(he.data=new Date(he.data)),this._getType(he)!==ZodParsedType.date){const we=this._getOrReturnCtx(he);return addIssueToContext(we,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:we.parsedType}),INVALID}if(isNaN(he.data.getTime())){const we=this._getOrReturnCtx(he);return addIssueToContext(we,{code:ZodIssueCode.invalid_date}),INVALID}const ve=new ParseStatus;let _e;for(const we of this._def.checks)we.kind==="min"?he.data.getTime()<we.value&&(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.too_small,message:we.message,inclusive:!0,exact:!1,minimum:we.value,type:"date"}),ve.dirty()):we.kind==="max"?he.data.getTime()>we.value&&(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.too_big,message:we.message,inclusive:!0,exact:!1,maximum:we.value,type:"date"}),ve.dirty()):util.assertNever(we);return{status:ve.value,value:new Date(he.data.getTime())}}_addCheck(he){return new ZodDate({...this._def,checks:[...this._def.checks,he]})}min(he,ye){return this._addCheck({kind:"min",value:he.getTime(),message:errorUtil.toString(ye)})}max(he,ye){return this._addCheck({kind:"max",value:he.getTime(),message:errorUtil.toString(ye)})}get minDate(){let he=null;for(const ye of this._def.checks)ye.kind==="min"&&(he===null||ye.value>he)&&(he=ye.value);return he!=null?new Date(he):null}get maxDate(){let he=null;for(const ye of this._def.checks)ye.kind==="max"&&(he===null||ye.value<he)&&(he=ye.value);return he!=null?new Date(he):null}}ZodDate.create=oe=>new ZodDate({checks:[],coerce:oe?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(oe)});class ZodSymbol extends ZodType{_parse(he){if(this._getType(he)!==ZodParsedType.symbol){const ve=this._getOrReturnCtx(he);return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:ve.parsedType}),INVALID}return OK(he.data)}}ZodSymbol.create=oe=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(oe)});class ZodUndefined extends ZodType{_parse(he){if(this._getType(he)!==ZodParsedType.undefined){const ve=this._getOrReturnCtx(he);return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:ve.parsedType}),INVALID}return OK(he.data)}}ZodUndefined.create=oe=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(oe)});class ZodNull extends ZodType{_parse(he){if(this._getType(he)!==ZodParsedType.null){const ve=this._getOrReturnCtx(he);return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:ve.parsedType}),INVALID}return OK(he.data)}}ZodNull.create=oe=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(oe)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(he){return OK(he.data)}}ZodAny.create=oe=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(oe)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(he){return OK(he.data)}}ZodUnknown.create=oe=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(oe)});class ZodNever extends ZodType{_parse(he){const ye=this._getOrReturnCtx(he);return addIssueToContext(ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:ye.parsedType}),INVALID}}ZodNever.create=oe=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(oe)});class ZodVoid extends ZodType{_parse(he){if(this._getType(he)!==ZodParsedType.undefined){const ve=this._getOrReturnCtx(he);return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:ve.parsedType}),INVALID}return OK(he.data)}}ZodVoid.create=oe=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(oe)});class ZodArray extends ZodType{_parse(he){const{ctx:ye,status:ve}=this._processInputParams(he),_e=this._def;if(ye.parsedType!==ZodParsedType.array)return addIssueToContext(ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ye.parsedType}),INVALID;if(_e.exactLength!==null){const Pe=ye.data.length>_e.exactLength.value,Ie=ye.data.length<_e.exactLength.value;(Pe||Ie)&&(addIssueToContext(ye,{code:Pe?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:Ie?_e.exactLength.value:void 0,maximum:Pe?_e.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:_e.exactLength.message}),ve.dirty())}if(_e.minLength!==null&&ye.data.length<_e.minLength.value&&(addIssueToContext(ye,{code:ZodIssueCode.too_small,minimum:_e.minLength.value,type:"array",inclusive:!0,exact:!1,message:_e.minLength.message}),ve.dirty()),_e.maxLength!==null&&ye.data.length>_e.maxLength.value&&(addIssueToContext(ye,{code:ZodIssueCode.too_big,maximum:_e.maxLength.value,type:"array",inclusive:!0,exact:!1,message:_e.maxLength.message}),ve.dirty()),ye.common.async)return Promise.all([...ye.data].map((Pe,Ie)=>_e.type._parseAsync(new ParseInputLazyPath(ye,Pe,ye.path,Ie)))).then(Pe=>ParseStatus.mergeArray(ve,Pe));const we=[...ye.data].map((Pe,Ie)=>_e.type._parseSync(new ParseInputLazyPath(ye,Pe,ye.path,Ie)));return ParseStatus.mergeArray(ve,we)}get element(){return this._def.type}min(he,ye){return new ZodArray({...this._def,minLength:{value:he,message:errorUtil.toString(ye)}})}max(he,ye){return new ZodArray({...this._def,maxLength:{value:he,message:errorUtil.toString(ye)}})}length(he,ye){return new ZodArray({...this._def,exactLength:{value:he,message:errorUtil.toString(ye)}})}nonempty(he){return this.min(1,he)}}ZodArray.create=(oe,he)=>new ZodArray({type:oe,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(he)});function deepPartialify(oe){if(oe instanceof ZodObject){const he={};for(const ye in oe.shape){const ve=oe.shape[ye];he[ye]=ZodOptional.create(deepPartialify(ve))}return new ZodObject({...oe._def,shape:()=>he})}else return oe instanceof ZodArray?new ZodArray({...oe._def,type:deepPartialify(oe.element)}):oe instanceof ZodOptional?ZodOptional.create(deepPartialify(oe.unwrap())):oe instanceof ZodNullable?ZodNullable.create(deepPartialify(oe.unwrap())):oe instanceof ZodTuple?ZodTuple.create(oe.items.map(he=>deepPartialify(he))):oe}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const he=this._def.shape(),ye=util.objectKeys(he);return this._cached={shape:he,keys:ye}}_parse(he){if(this._getType(he)!==ZodParsedType.object){const ke=this._getOrReturnCtx(he);return addIssueToContext(ke,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ke.parsedType}),INVALID}const{status:ve,ctx:_e}=this._processInputParams(he),{shape:we,keys:Pe}=this._getCached(),Ie=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const ke in _e.data)Pe.includes(ke)||Ie.push(ke);const Re=[];for(const ke of Pe){const Fe=we[ke],Le=_e.data[ke];Re.push({key:{status:"valid",value:ke},value:Fe._parse(new ParseInputLazyPath(_e,Le,_e.path,ke)),alwaysSet:ke in _e.data})}if(this._def.catchall instanceof ZodNever){const ke=this._def.unknownKeys;if(ke==="passthrough")for(const Fe of Ie)Re.push({key:{status:"valid",value:Fe},value:{status:"valid",value:_e.data[Fe]}});else if(ke==="strict")Ie.length>0&&(addIssueToContext(_e,{code:ZodIssueCode.unrecognized_keys,keys:Ie}),ve.dirty());else if(ke!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const ke=this._def.catchall;for(const Fe of Ie){const Le=_e.data[Fe];Re.push({key:{status:"valid",value:Fe},value:ke._parse(new ParseInputLazyPath(_e,Le,_e.path,Fe)),alwaysSet:Fe in _e.data})}}return _e.common.async?Promise.resolve().then(async()=>{const ke=[];for(const Fe of Re){const Le=await Fe.key;ke.push({key:Le,value:await Fe.value,alwaysSet:Fe.alwaysSet})}return ke}).then(ke=>ParseStatus.mergeObjectSync(ve,ke)):ParseStatus.mergeObjectSync(ve,Re)}get shape(){return this._def.shape()}strict(he){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...he!==void 0?{errorMap:(ye,ve)=>{var _e,we,Pe,Ie;const Re=(Pe=(we=(_e=this._def).errorMap)===null||we===void 0?void 0:we.call(_e,ye,ve).message)!==null&&Pe!==void 0?Pe:ve.defaultError;return ye.code==="unrecognized_keys"?{message:(Ie=errorUtil.errToObj(he).message)!==null&&Ie!==void 0?Ie:Re}:{message:Re}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(he){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...he})})}merge(he){return new ZodObject({unknownKeys:he._def.unknownKeys,catchall:he._def.catchall,shape:()=>({...this._def.shape(),...he._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(he,ye){return this.augment({[he]:ye})}catchall(he){return new ZodObject({...this._def,catchall:he})}pick(he){const ye={};return util.objectKeys(he).forEach(ve=>{he[ve]&&this.shape[ve]&&(ye[ve]=this.shape[ve])}),new ZodObject({...this._def,shape:()=>ye})}omit(he){const ye={};return util.objectKeys(this.shape).forEach(ve=>{he[ve]||(ye[ve]=this.shape[ve])}),new ZodObject({...this._def,shape:()=>ye})}deepPartial(){return deepPartialify(this)}partial(he){const ye={};return util.objectKeys(this.shape).forEach(ve=>{const _e=this.shape[ve];he&&!he[ve]?ye[ve]=_e:ye[ve]=_e.optional()}),new ZodObject({...this._def,shape:()=>ye})}required(he){const ye={};return util.objectKeys(this.shape).forEach(ve=>{if(he&&!he[ve])ye[ve]=this.shape[ve];else{let we=this.shape[ve];for(;we instanceof ZodOptional;)we=we._def.innerType;ye[ve]=we}}),new ZodObject({...this._def,shape:()=>ye})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(oe,he)=>new ZodObject({shape:()=>oe,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(he)});ZodObject.strictCreate=(oe,he)=>new ZodObject({shape:()=>oe,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(he)});ZodObject.lazycreate=(oe,he)=>new ZodObject({shape:oe,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(he)});class ZodUnion extends ZodType{_parse(he){const{ctx:ye}=this._processInputParams(he),ve=this._def.options;function _e(we){for(const Ie of we)if(Ie.result.status==="valid")return Ie.result;for(const Ie of we)if(Ie.result.status==="dirty")return ye.common.issues.push(...Ie.ctx.common.issues),Ie.result;const Pe=we.map(Ie=>new ZodError(Ie.ctx.common.issues));return addIssueToContext(ye,{code:ZodIssueCode.invalid_union,unionErrors:Pe}),INVALID}if(ye.common.async)return Promise.all(ve.map(async we=>{const Pe={...ye,common:{...ye.common,issues:[]},parent:null};return{result:await we._parseAsync({data:ye.data,path:ye.path,parent:Pe}),ctx:Pe}})).then(_e);{let we;const Pe=[];for(const Re of ve){const ke={...ye,common:{...ye.common,issues:[]},parent:null},Fe=Re._parseSync({data:ye.data,path:ye.path,parent:ke});if(Fe.status==="valid")return Fe;Fe.status==="dirty"&&!we&&(we={result:Fe,ctx:ke}),ke.common.issues.length&&Pe.push(ke.common.issues)}if(we)return ye.common.issues.push(...we.ctx.common.issues),we.result;const Ie=Pe.map(Re=>new ZodError(Re));return addIssueToContext(ye,{code:ZodIssueCode.invalid_union,unionErrors:Ie}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(oe,he)=>new ZodUnion({options:oe,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(he)});const getDiscriminator=oe=>oe instanceof ZodLazy?getDiscriminator(oe.schema):oe instanceof ZodEffects?getDiscriminator(oe.innerType()):oe instanceof ZodLiteral?[oe.value]:oe instanceof ZodEnum?oe.options:oe instanceof ZodNativeEnum?Object.keys(oe.enum):oe instanceof ZodDefault?getDiscriminator(oe._def.innerType):oe instanceof ZodUndefined?[void 0]:oe instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(he){const{ctx:ye}=this._processInputParams(he);if(ye.parsedType!==ZodParsedType.object)return addIssueToContext(ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ye.parsedType}),INVALID;const ve=this.discriminator,_e=ye.data[ve],we=this.optionsMap.get(_e);return we?ye.common.async?we._parseAsync({data:ye.data,path:ye.path,parent:ye}):we._parseSync({data:ye.data,path:ye.path,parent:ye}):(addIssueToContext(ye,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[ve]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(he,ye,ve){const _e=new Map;for(const we of ye){const Pe=getDiscriminator(we.shape[he]);if(!Pe)throw new Error(`A discriminator value for key \`${he}\` could not be extracted from all schema options`);for(const Ie of Pe){if(_e.has(Ie))throw new Error(`Discriminator property ${String(he)} has duplicate value ${String(Ie)}`);_e.set(Ie,we)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:he,options:ye,optionsMap:_e,...processCreateParams(ve)})}}function mergeValues(oe,he){const ye=getParsedType(oe),ve=getParsedType(he);if(oe===he)return{valid:!0,data:oe};if(ye===ZodParsedType.object&&ve===ZodParsedType.object){const _e=util.objectKeys(he),we=util.objectKeys(oe).filter(Ie=>_e.indexOf(Ie)!==-1),Pe={...oe,...he};for(const Ie of we){const Re=mergeValues(oe[Ie],he[Ie]);if(!Re.valid)return{valid:!1};Pe[Ie]=Re.data}return{valid:!0,data:Pe}}else if(ye===ZodParsedType.array&&ve===ZodParsedType.array){if(oe.length!==he.length)return{valid:!1};const _e=[];for(let we=0;we<oe.length;we++){const Pe=oe[we],Ie=he[we],Re=mergeValues(Pe,Ie);if(!Re.valid)return{valid:!1};_e.push(Re.data)}return{valid:!0,data:_e}}else return ye===ZodParsedType.date&&ve===ZodParsedType.date&&+oe==+he?{valid:!0,data:oe}:{valid:!1}}class ZodIntersection extends ZodType{_parse(he){const{status:ye,ctx:ve}=this._processInputParams(he),_e=(we,Pe)=>{if(isAborted(we)||isAborted(Pe))return INVALID;const Ie=mergeValues(we.value,Pe.value);return Ie.valid?((isDirty(we)||isDirty(Pe))&&ye.dirty(),{status:ye.value,value:Ie.data}):(addIssueToContext(ve,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return ve.common.async?Promise.all([this._def.left._parseAsync({data:ve.data,path:ve.path,parent:ve}),this._def.right._parseAsync({data:ve.data,path:ve.path,parent:ve})]).then(([we,Pe])=>_e(we,Pe)):_e(this._def.left._parseSync({data:ve.data,path:ve.path,parent:ve}),this._def.right._parseSync({data:ve.data,path:ve.path,parent:ve}))}}ZodIntersection.create=(oe,he,ye)=>new ZodIntersection({left:oe,right:he,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(ye)});class ZodTuple extends ZodType{_parse(he){const{status:ye,ctx:ve}=this._processInputParams(he);if(ve.parsedType!==ZodParsedType.array)return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ve.parsedType}),INVALID;if(ve.data.length<this._def.items.length)return addIssueToContext(ve,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&ve.data.length>this._def.items.length&&(addIssueToContext(ve,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ye.dirty());const we=[...ve.data].map((Pe,Ie)=>{const Re=this._def.items[Ie]||this._def.rest;return Re?Re._parse(new ParseInputLazyPath(ve,Pe,ve.path,Ie)):null}).filter(Pe=>!!Pe);return ve.common.async?Promise.all(we).then(Pe=>ParseStatus.mergeArray(ye,Pe)):ParseStatus.mergeArray(ye,we)}get items(){return this._def.items}rest(he){return new ZodTuple({...this._def,rest:he})}}ZodTuple.create=(oe,he)=>{if(!Array.isArray(oe))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:oe,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(he)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(he){const{status:ye,ctx:ve}=this._processInputParams(he);if(ve.parsedType!==ZodParsedType.object)return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ve.parsedType}),INVALID;const _e=[],we=this._def.keyType,Pe=this._def.valueType;for(const Ie in ve.data)_e.push({key:we._parse(new ParseInputLazyPath(ve,Ie,ve.path,Ie)),value:Pe._parse(new ParseInputLazyPath(ve,ve.data[Ie],ve.path,Ie))});return ve.common.async?ParseStatus.mergeObjectAsync(ye,_e):ParseStatus.mergeObjectSync(ye,_e)}get element(){return this._def.valueType}static create(he,ye,ve){return ye instanceof ZodType?new ZodRecord({keyType:he,valueType:ye,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(ve)}):new ZodRecord({keyType:ZodString.create(),valueType:he,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(ye)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(he){const{status:ye,ctx:ve}=this._processInputParams(he);if(ve.parsedType!==ZodParsedType.map)return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:ve.parsedType}),INVALID;const _e=this._def.keyType,we=this._def.valueType,Pe=[...ve.data.entries()].map(([Ie,Re],ke)=>({key:_e._parse(new ParseInputLazyPath(ve,Ie,ve.path,[ke,"key"])),value:we._parse(new ParseInputLazyPath(ve,Re,ve.path,[ke,"value"]))}));if(ve.common.async){const Ie=new Map;return Promise.resolve().then(async()=>{for(const Re of Pe){const ke=await Re.key,Fe=await Re.value;if(ke.status==="aborted"||Fe.status==="aborted")return INVALID;(ke.status==="dirty"||Fe.status==="dirty")&&ye.dirty(),Ie.set(ke.value,Fe.value)}return{status:ye.value,value:Ie}})}else{const Ie=new Map;for(const Re of Pe){const ke=Re.key,Fe=Re.value;if(ke.status==="aborted"||Fe.status==="aborted")return INVALID;(ke.status==="dirty"||Fe.status==="dirty")&&ye.dirty(),Ie.set(ke.value,Fe.value)}return{status:ye.value,value:Ie}}}}ZodMap.create=(oe,he,ye)=>new ZodMap({valueType:he,keyType:oe,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(ye)});class ZodSet extends ZodType{_parse(he){const{status:ye,ctx:ve}=this._processInputParams(he);if(ve.parsedType!==ZodParsedType.set)return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:ve.parsedType}),INVALID;const _e=this._def;_e.minSize!==null&&ve.data.size<_e.minSize.value&&(addIssueToContext(ve,{code:ZodIssueCode.too_small,minimum:_e.minSize.value,type:"set",inclusive:!0,exact:!1,message:_e.minSize.message}),ye.dirty()),_e.maxSize!==null&&ve.data.size>_e.maxSize.value&&(addIssueToContext(ve,{code:ZodIssueCode.too_big,maximum:_e.maxSize.value,type:"set",inclusive:!0,exact:!1,message:_e.maxSize.message}),ye.dirty());const we=this._def.valueType;function Pe(Re){const ke=new Set;for(const Fe of Re){if(Fe.status==="aborted")return INVALID;Fe.status==="dirty"&&ye.dirty(),ke.add(Fe.value)}return{status:ye.value,value:ke}}const Ie=[...ve.data.values()].map((Re,ke)=>we._parse(new ParseInputLazyPath(ve,Re,ve.path,ke)));return ve.common.async?Promise.all(Ie).then(Re=>Pe(Re)):Pe(Ie)}min(he,ye){return new ZodSet({...this._def,minSize:{value:he,message:errorUtil.toString(ye)}})}max(he,ye){return new ZodSet({...this._def,maxSize:{value:he,message:errorUtil.toString(ye)}})}size(he,ye){return this.min(he,ye).max(he,ye)}nonempty(he){return this.min(1,he)}}ZodSet.create=(oe,he)=>new ZodSet({valueType:oe,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(he)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(he){const{ctx:ye}=this._processInputParams(he);if(ye.parsedType!==ZodParsedType.function)return addIssueToContext(ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:ye.parsedType}),INVALID;function ve(Ie,Re){return makeIssue({data:Ie,path:ye.path,errorMaps:[ye.common.contextualErrorMap,ye.schemaErrorMap,getErrorMap(),errorMap].filter(ke=>!!ke),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:Re}})}function _e(Ie,Re){return makeIssue({data:Ie,path:ye.path,errorMaps:[ye.common.contextualErrorMap,ye.schemaErrorMap,getErrorMap(),errorMap].filter(ke=>!!ke),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:Re}})}const we={errorMap:ye.common.contextualErrorMap},Pe=ye.data;if(this._def.returns instanceof ZodPromise){const Ie=this;return OK(async function(...Re){const ke=new ZodError([]),Fe=await Ie._def.args.parseAsync(Re,we).catch(je=>{throw ke.addIssue(ve(Re,je)),ke}),Le=await Reflect.apply(Pe,this,Fe);return await Ie._def.returns._def.type.parseAsync(Le,we).catch(je=>{throw ke.addIssue(_e(Le,je)),ke})})}else{const Ie=this;return OK(function(...Re){const ke=Ie._def.args.safeParse(Re,we);if(!ke.success)throw new ZodError([ve(Re,ke.error)]);const Fe=Reflect.apply(Pe,this,ke.data),Le=Ie._def.returns.safeParse(Fe,we);if(!Le.success)throw new ZodError([_e(Fe,Le.error)]);return Le.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...he){return new ZodFunction({...this._def,args:ZodTuple.create(he).rest(ZodUnknown.create())})}returns(he){return new ZodFunction({...this._def,returns:he})}implement(he){return this.parse(he)}strictImplement(he){return this.parse(he)}static create(he,ye,ve){return new ZodFunction({args:he||ZodTuple.create([]).rest(ZodUnknown.create()),returns:ye||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(ve)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(he){const{ctx:ye}=this._processInputParams(he);return this._def.getter()._parse({data:ye.data,path:ye.path,parent:ye})}}ZodLazy.create=(oe,he)=>new ZodLazy({getter:oe,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(he)});class ZodLiteral extends ZodType{_parse(he){if(he.data!==this._def.value){const ye=this._getOrReturnCtx(he);return addIssueToContext(ye,{received:ye.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:he.data}}get value(){return this._def.value}}ZodLiteral.create=(oe,he)=>new ZodLiteral({value:oe,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(he)});function createZodEnum(oe,he){return new ZodEnum({values:oe,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(he)})}class ZodEnum extends ZodType{_parse(he){if(typeof he.data!="string"){const ye=this._getOrReturnCtx(he),ve=this._def.values;return addIssueToContext(ye,{expected:util.joinValues(ve),received:ye.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(he.data)===-1){const ye=this._getOrReturnCtx(he),ve=this._def.values;return addIssueToContext(ye,{received:ye.data,code:ZodIssueCode.invalid_enum_value,options:ve}),INVALID}return OK(he.data)}get options(){return this._def.values}get enum(){const he={};for(const ye of this._def.values)he[ye]=ye;return he}get Values(){const he={};for(const ye of this._def.values)he[ye]=ye;return he}get Enum(){const he={};for(const ye of this._def.values)he[ye]=ye;return he}extract(he){return ZodEnum.create(he)}exclude(he){return ZodEnum.create(this.options.filter(ye=>!he.includes(ye)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(he){const ye=util.getValidEnumValues(this._def.values),ve=this._getOrReturnCtx(he);if(ve.parsedType!==ZodParsedType.string&&ve.parsedType!==ZodParsedType.number){const _e=util.objectValues(ye);return addIssueToContext(ve,{expected:util.joinValues(_e),received:ve.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(ye.indexOf(he.data)===-1){const _e=util.objectValues(ye);return addIssueToContext(ve,{received:ve.data,code:ZodIssueCode.invalid_enum_value,options:_e}),INVALID}return OK(he.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(oe,he)=>new ZodNativeEnum({values:oe,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(he)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(he){const{ctx:ye}=this._processInputParams(he);if(ye.parsedType!==ZodParsedType.promise&&ye.common.async===!1)return addIssueToContext(ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:ye.parsedType}),INVALID;const ve=ye.parsedType===ZodParsedType.promise?ye.data:Promise.resolve(ye.data);return OK(ve.then(_e=>this._def.type.parseAsync(_e,{path:ye.path,errorMap:ye.common.contextualErrorMap})))}}ZodPromise.create=(oe,he)=>new ZodPromise({type:oe,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(he)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(he){const{status:ye,ctx:ve}=this._processInputParams(he),_e=this._def.effect||null,we={addIssue:Pe=>{addIssueToContext(ve,Pe),Pe.fatal?ye.abort():ye.dirty()},get path(){return ve.path}};if(we.addIssue=we.addIssue.bind(we),_e.type==="preprocess"){const Pe=_e.transform(ve.data,we);return ve.common.issues.length?{status:"dirty",value:ve.data}:ve.common.async?Promise.resolve(Pe).then(Ie=>this._def.schema._parseAsync({data:Ie,path:ve.path,parent:ve})):this._def.schema._parseSync({data:Pe,path:ve.path,parent:ve})}if(_e.type==="refinement"){const Pe=Ie=>{const Re=_e.refinement(Ie,we);if(ve.common.async)return Promise.resolve(Re);if(Re instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return Ie};if(ve.common.async===!1){const Ie=this._def.schema._parseSync({data:ve.data,path:ve.path,parent:ve});return Ie.status==="aborted"?INVALID:(Ie.status==="dirty"&&ye.dirty(),Pe(Ie.value),{status:ye.value,value:Ie.value})}else return this._def.schema._parseAsync({data:ve.data,path:ve.path,parent:ve}).then(Ie=>Ie.status==="aborted"?INVALID:(Ie.status==="dirty"&&ye.dirty(),Pe(Ie.value).then(()=>({status:ye.value,value:Ie.value}))))}if(_e.type==="transform")if(ve.common.async===!1){const Pe=this._def.schema._parseSync({data:ve.data,path:ve.path,parent:ve});if(!isValid(Pe))return Pe;const Ie=_e.transform(Pe.value,we);if(Ie instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:ye.value,value:Ie}}else return this._def.schema._parseAsync({data:ve.data,path:ve.path,parent:ve}).then(Pe=>isValid(Pe)?Promise.resolve(_e.transform(Pe.value,we)).then(Ie=>({status:ye.value,value:Ie})):Pe);util.assertNever(_e)}}ZodEffects.create=(oe,he,ye)=>new ZodEffects({schema:oe,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:he,...processCreateParams(ye)});ZodEffects.createWithPreprocess=(oe,he,ye)=>new ZodEffects({schema:he,effect:{type:"preprocess",transform:oe},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(ye)});class ZodOptional extends ZodType{_parse(he){return this._getType(he)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(he)}unwrap(){return this._def.innerType}}ZodOptional.create=(oe,he)=>new ZodOptional({innerType:oe,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(he)});class ZodNullable extends ZodType{_parse(he){return this._getType(he)===ZodParsedType.null?OK(null):this._def.innerType._parse(he)}unwrap(){return this._def.innerType}}ZodNullable.create=(oe,he)=>new ZodNullable({innerType:oe,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(he)});class ZodDefault extends ZodType{_parse(he){const{ctx:ye}=this._processInputParams(he);let ve=ye.data;return ye.parsedType===ZodParsedType.undefined&&(ve=this._def.defaultValue()),this._def.innerType._parse({data:ve,path:ye.path,parent:ye})}removeDefault(){return this._def.innerType}}ZodDefault.create=(oe,he)=>new ZodDefault({innerType:oe,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof he.default=="function"?he.default:()=>he.default,...processCreateParams(he)});class ZodCatch extends ZodType{_parse(he){const{ctx:ye}=this._processInputParams(he),ve={...ye,common:{...ye.common,issues:[]}},_e=this._def.innerType._parse({data:ve.data,path:ve.path,parent:{...ve}});return isAsync(_e)?_e.then(we=>({status:"valid",value:we.status==="valid"?we.value:this._def.catchValue({get error(){return new ZodError(ve.common.issues)},input:ve.data})})):{status:"valid",value:_e.status==="valid"?_e.value:this._def.catchValue({get error(){return new ZodError(ve.common.issues)},input:ve.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(oe,he)=>new ZodCatch({innerType:oe,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof he.catch=="function"?he.catch:()=>he.catch,...processCreateParams(he)});class ZodNaN extends ZodType{_parse(he){if(this._getType(he)!==ZodParsedType.nan){const ve=this._getOrReturnCtx(he);return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:ve.parsedType}),INVALID}return{status:"valid",value:he.data}}}ZodNaN.create=oe=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(oe)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(he){const{ctx:ye}=this._processInputParams(he),ve=ye.data;return this._def.type._parse({data:ve,path:ye.path,parent:ye})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(he){const{status:ye,ctx:ve}=this._processInputParams(he);if(ve.common.async)return(async()=>{const we=await this._def.in._parseAsync({data:ve.data,path:ve.path,parent:ve});return we.status==="aborted"?INVALID:we.status==="dirty"?(ye.dirty(),DIRTY(we.value)):this._def.out._parseAsync({data:we.value,path:ve.path,parent:ve})})();{const _e=this._def.in._parseSync({data:ve.data,path:ve.path,parent:ve});return _e.status==="aborted"?INVALID:_e.status==="dirty"?(ye.dirty(),{status:"dirty",value:_e.value}):this._def.out._parseSync({data:_e.value,path:ve.path,parent:ve})}}static create(he,ye){return new ZodPipeline({in:he,out:ye,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(he){const ye=this._def.innerType._parse(he);return isValid(ye)&&(ye.value=Object.freeze(ye.value)),ye}}ZodReadonly.create=(oe,he)=>new ZodReadonly({innerType:oe,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(he)});const custom$1=(oe,he={},ye)=>oe?ZodAny.create().superRefine((ve,_e)=>{var we,Pe;if(!oe(ve)){const Ie=typeof he=="function"?he(ve):typeof he=="string"?{message:he}:he,Re=(Pe=(we=Ie.fatal)!==null&&we!==void 0?we:ye)!==null&&Pe!==void 0?Pe:!0,ke=typeof Ie=="string"?{message:Ie}:Ie;_e.addIssue({code:"custom",...ke,fatal:Re})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(oe){oe.ZodString="ZodString",oe.ZodNumber="ZodNumber",oe.ZodNaN="ZodNaN",oe.ZodBigInt="ZodBigInt",oe.ZodBoolean="ZodBoolean",oe.ZodDate="ZodDate",oe.ZodSymbol="ZodSymbol",oe.ZodUndefined="ZodUndefined",oe.ZodNull="ZodNull",oe.ZodAny="ZodAny",oe.ZodUnknown="ZodUnknown",oe.ZodNever="ZodNever",oe.ZodVoid="ZodVoid",oe.ZodArray="ZodArray",oe.ZodObject="ZodObject",oe.ZodUnion="ZodUnion",oe.ZodDiscriminatedUnion="ZodDiscriminatedUnion",oe.ZodIntersection="ZodIntersection",oe.ZodTuple="ZodTuple",oe.ZodRecord="ZodRecord",oe.ZodMap="ZodMap",oe.ZodSet="ZodSet",oe.ZodFunction="ZodFunction",oe.ZodLazy="ZodLazy",oe.ZodLiteral="ZodLiteral",oe.ZodEnum="ZodEnum",oe.ZodEffects="ZodEffects",oe.ZodNativeEnum="ZodNativeEnum",oe.ZodOptional="ZodOptional",oe.ZodNullable="ZodNullable",oe.ZodDefault="ZodDefault",oe.ZodCatch="ZodCatch",oe.ZodPromise="ZodPromise",oe.ZodBranded="ZodBranded",oe.ZodPipeline="ZodPipeline",oe.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(oe,he={message:`Input not instance of ${oe.name}`})=>custom$1(ye=>ye instanceof oe,he),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:oe=>ZodString.create({...oe,coerce:!0}),number:oe=>ZodNumber.create({...oe,coerce:!0}),boolean:oe=>ZodBoolean.create({...oe,coerce:!0}),bigint:oe=>ZodBigInt.create({...oe,coerce:!0}),date:oe=>ZodDate.create({...oe,coerce:!0})},NEVER=INVALID;var z$2=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom:custom$1,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const identifierRegex=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function joinPath(oe){return oe.length===1?oe[0].toString():oe.reduce((he,ye)=>{if(typeof ye=="number")return he+"["+ye.toString()+"]";if(ye.includes('"'))return he+'["'+escapeQuotes(ye)+'"]';if(!identifierRegex.test(ye))return he+'["'+ye+'"]';const ve=he.length===0?"":".";return he+ve+ye},"")}function escapeQuotes(oe){return oe.replace(/"/g,'\\"')}function isNonEmptyArray(oe){return oe.length!==0}const MAX_ISSUES_IN_MESSAGE=99,ISSUE_SEPARATOR="; ",UNION_SEPARATOR=", or ",PREFIX="Validation error",PREFIX_SEPARATOR=": ";class ValidationError extends Error{details;name;constructor(he,ye=[]){super(he),this.details=ye,this.name="ZodValidationError"}toString(){return this.message}}function getMessageFromZodIssue(oe,he,ye){if(oe.code==="invalid_union")return oe.unionErrors.reduce((ve,_e)=>{const we=_e.issues.map(Pe=>getMessageFromZodIssue(Pe,he,ye)).join(he);return ve.includes(we)||ve.push(we),ve},[]).join(ye);if(isNonEmptyArray(oe.path)){if(oe.path.length===1){const ve=oe.path[0];if(typeof ve=="number")return`${oe.message} at index ${ve}`}return`${oe.message} at "${joinPath(oe.path)}"`}return oe.message}function conditionallyPrefixMessage(oe,he,ye){return he!==null?oe.length>0?[he,oe].join(ye):he:oe.length>0?oe:PREFIX}function fromZodError(oe,he={}){const{maxIssuesInMessage:ye=MAX_ISSUES_IN_MESSAGE,issueSeparator:ve=ISSUE_SEPARATOR,unionSeparator:_e=UNION_SEPARATOR,prefixSeparator:we=PREFIX_SEPARATOR,prefix:Pe=PREFIX}=he,Ie=oe.errors.slice(0,ye).map(ke=>getMessageFromZodIssue(ke,ve,_e)).join(ve),Re=conditionallyPrefixMessage(Ie,Pe,we);return new ValidationError(Re,oe.errors)}var a$8=Object.defineProperty,d$4=(oe,he,ye)=>he in oe?a$8(oe,he,{enumerable:!0,configurable:!0,writable:!0,value:ye}):oe[he]=ye,p$6=(oe,he,ye)=>(d$4(oe,typeof he!="symbol"?he+"":he,ye),ye),t$3=class extends Error{name="MUDContextAlreadyCreatedError";message="MUD context was already created"},s$7=class extends Error{name="MUDContextNotCreatedError";message="MUD context has not been created"};function f$7(oe,he){return fromZodError(oe,{prefix:he,prefixSeparator:`
- `,issueSeparator:`
- `})}const version$1="0.9.8";let BaseError$1=class Ys extends Error{constructor(he,ye={}){const ve=ye.cause instanceof Ys?ye.cause.details:ye.cause?.message?ye.cause.message:ye.details,_e=ye.cause instanceof Ys&&ye.cause.docsPath||ye.docsPath,we=[he||"An error occurred.","",...ye.metaMessages?[...ye.metaMessages,""]:[],..._e?[`Docs: https://abitype.dev${_e}`]:[],...ve?[`Details: ${ve}`]:[],`Version: abitype@${version$1}`].join(`
`);super(we),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),ye.cause&&(this.cause=ye.cause),this.details=ve,this.docsPath=_e,this.metaMessages=ye.metaMessages,this.shortMessage=he}};function execTyped(oe,he){return oe.exec(he)?.groups}const bytesRegex$1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex$1=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,isTupleRegex=/^\(.+?\).*?$/,errorSignatureRegex=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isErrorSignature(oe){return errorSignatureRegex.test(oe)}function execErrorSignature(oe){return execTyped(errorSignatureRegex,oe)}const eventSignatureRegex=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isEventSignature(oe){return eventSignatureRegex.test(oe)}function execEventSignature(oe){return execTyped(eventSignatureRegex,oe)}const functionSignatureRegex=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function isFunctionSignature(oe){return functionSignatureRegex.test(oe)}function execFunctionSignature(oe){return execTyped(functionSignatureRegex,oe)}const structSignatureRegex=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function isStructSignature(oe){return structSignatureRegex.test(oe)}function execStructSignature(oe){return execTyped(structSignatureRegex,oe)}const constructorSignatureRegex=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function isConstructorSignature(oe){return constructorSignatureRegex.test(oe)}function execConstructorSignature(oe){return execTyped(constructorSignatureRegex,oe)}const fallbackSignatureRegex=/^fallback\(\)$/;function isFallbackSignature(oe){return fallbackSignatureRegex.test(oe)}const receiveSignatureRegex=/^receive\(\) external payable$/;function isReceiveSignature(oe){return receiveSignatureRegex.test(oe)}const modifiers=new Set(["memory","indexed","storage","calldata"]),eventModifiers=new Set(["indexed"]),functionModifiers=new Set(["calldata","memory","storage"]);class UnknownTypeError extends BaseError$1{constructor({type:he}){super("Unknown type.",{metaMessages:[`Type "${he}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class UnknownSolidityTypeError extends BaseError$1{constructor({type:he}){super("Unknown type.",{metaMessages:[`Type "${he}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class InvalidAbiParametersError extends BaseError$1{constructor({params:he}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(he,null,2)})`,docsPath:"/api/human.html#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class InvalidParameterError extends BaseError$1{constructor({param:he}){super("Invalid ABI parameter.",{details:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class SolidityProtectedKeywordError extends BaseError$1{constructor({param:he,name:ye}){super("Invalid ABI parameter.",{details:he,metaMessages:[`"${ye}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class InvalidModifierError extends BaseError$1{constructor({param:he,type:ye,modifier:ve}){super("Invalid ABI parameter.",{details:he,metaMessages:[`Modifier "${ve}" not allowed${ye?` in "${ye}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class InvalidFunctionModifierError extends BaseError$1{constructor({param:he,type:ye,modifier:ve}){super("Invalid ABI parameter.",{details:he,metaMessages:[`Modifier "${ve}" not allowed${ye?` in "${ye}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${ve}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class InvalidAbiTypeParameterError extends BaseError$1{constructor({abiParameter:he}){super("Invalid ABI parameter.",{details:JSON.stringify(he,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class InvalidSignatureError extends BaseError$1{constructor({signature:he,type:ye}){super(`Invalid ${ye} signature.`,{details:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class UnknownSignatureError extends BaseError$1{constructor({signature:he}){super("Unknown signature.",{details:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class InvalidStructSignatureError extends BaseError$1{constructor({signature:he}){super("Invalid struct signature.",{details:he,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class CircularReferenceError extends BaseError$1{constructor({type:he}){super("Circular reference detected.",{metaMessages:[`Struct "${he}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class InvalidParenthesisError extends BaseError$1{constructor({current:he,depth:ye}){super("Unbalanced parentheses.",{metaMessages:[`"${he.trim()}" has too many ${ye>0?"opening":"closing"} parentheses.`],details:`Depth "${ye}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function getParameterCacheKey(oe,he){return he?`${he}:${oe}`:oe}const parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function parseSignature(oe,he={}){if(isFunctionSignature(oe)){const ye=execFunctionSignature(oe);if(!ye)throw new InvalidSignatureError({signature:oe,type:"function"});const ve=splitParameters(ye.parameters),_e=[],we=ve.length;for(let Ie=0;Ie<we;Ie++)_e.push(parseAbiParameter(ve[Ie],{modifiers:functionModifiers,structs:he,type:"function"}));const Pe=[];if(ye.returns){const Ie=splitParameters(ye.returns),Re=Ie.length;for(let ke=0;ke<Re;ke++)Pe.push(parseAbiParameter(Ie[ke],{modifiers:functionModifiers,structs:he,type:"function"}))}return{name:ye.name,type:"function",stateMutability:ye.stateMutability??"nonpayable",inputs:_e,outputs:Pe}}if(isEventSignature(oe)){const ye=execEventSignature(oe);if(!ye)throw new InvalidSignatureError({signature:oe,type:"event"});const ve=splitParameters(ye.parameters),_e=[],we=ve.length;for(let Pe=0;Pe<we;Pe++)_e.push(parseAbiParameter(ve[Pe],{modifiers:eventModifiers,structs:he,type:"event"}));return{name:ye.name,type:"event",inputs:_e}}if(isErrorSignature(oe)){const ye=execErrorSignature(oe);if(!ye)throw new InvalidSignatureError({signature:oe,type:"error"});const ve=splitParameters(ye.parameters),_e=[],we=ve.length;for(let Pe=0;Pe<we;Pe++)_e.push(parseAbiParameter(ve[Pe],{structs:he,type:"error"}));return{name:ye.name,type:"error",inputs:_e}}if(isConstructorSignature(oe)){const ye=execConstructorSignature(oe);if(!ye)throw new InvalidSignatureError({signature:oe,type:"constructor"});const ve=splitParameters(ye.parameters),_e=[],we=ve.length;for(let Pe=0;Pe<we;Pe++)_e.push(parseAbiParameter(ve[Pe],{structs:he,type:"constructor"}));return{type:"constructor",stateMutability:ye.stateMutability??"nonpayable",inputs:_e}}if(isFallbackSignature(oe))return{type:"fallback"};if(isReceiveSignature(oe))return{type:"receive",stateMutability:"payable"};throw new UnknownSignatureError({signature:oe})}const abiParameterWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,abiParameterWithTupleRegex=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dynamicIntegerRegex=/^u?int$/;function parseAbiParameter(oe,he){const ye=getParameterCacheKey(oe,he?.type);if(parameterCache.has(ye))return parameterCache.get(ye);const ve=isTupleRegex.test(oe),_e=execTyped(ve?abiParameterWithTupleRegex:abiParameterWithoutTupleRegex,oe);if(!_e)throw new InvalidParameterError({param:oe});if(_e.name&&isSolidityKeyword(_e.name))throw new SolidityProtectedKeywordError({param:oe,name:_e.name});const we=_e.name?{name:_e.name}:{},Pe=_e.modifier==="indexed"?{indexed:!0}:{},Ie=he?.structs??{};let Re,ke={};if(ve){Re="tuple";const Le=splitParameters(_e.type),De=[],je=Le.length;for(let ze=0;ze<je;ze++)De.push(parseAbiParameter(Le[ze],{structs:Ie}));ke={components:De}}else if(_e.type in Ie)Re="tuple",ke={components:Ie[_e.type]};else if(dynamicIntegerRegex.test(_e.type))Re=`${_e.type}256`;else if(Re=_e.type,he?.type!=="struct"&&!isSolidityType(Re))throw new UnknownSolidityTypeError({type:Re});if(_e.modifier){if(!he?.modifiers?.has?.(_e.modifier))throw new InvalidModifierError({param:oe,type:he?.type,modifier:_e.modifier});if(functionModifiers.has(_e.modifier)&&!isValidDataLocation(Re,!!_e.array))throw new InvalidFunctionModifierError({param:oe,type:he?.type,modifier:_e.modifier})}const Fe={type:`${Re}${_e.array??""}`,...we,...Pe,...ke};return parameterCache.set(ye,Fe),Fe}function splitParameters(oe,he=[],ye="",ve=0){if(oe===""){if(ye==="")return he;if(ve!==0)throw new InvalidParenthesisError({current:ye,depth:ve});return he.push(ye.trim()),he}const _e=oe.length;for(let we=0;we<_e;we++){const Pe=oe[we],Ie=oe.slice(we+1);switch(Pe){case",":return ve===0?splitParameters(Ie,[...he,ye.trim()]):splitParameters(Ie,he,`${ye}${Pe}`,ve);case"(":return splitParameters(Ie,he,`${ye}${Pe}`,ve+1);case")":return splitParameters(Ie,he,`${ye}${Pe}`,ve-1);default:return splitParameters(Ie,he,`${ye}${Pe}`,ve)}}return[]}function isSolidityType(oe){return oe==="address"||oe==="bool"||oe==="function"||oe==="string"||bytesRegex$1.test(oe)||integerRegex$1.test(oe)}const protectedKeywordsRegex=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function isSolidityKeyword(oe){return oe==="address"||oe==="bool"||oe==="function"||oe==="string"||oe==="tuple"||bytesRegex$1.test(oe)||integerRegex$1.test(oe)||protectedKeywordsRegex.test(oe)}function isValidDataLocation(oe,he){return he||oe==="bytes"||oe==="string"||oe==="tuple"}function parseStructs(oe){const he={},ye=oe.length;for(let Pe=0;Pe<ye;Pe++){const Ie=oe[Pe];if(!isStructSignature(Ie))continue;const Re=execStructSignature(Ie);if(!Re)throw new InvalidSignatureError({signature:Ie,type:"struct"});const ke=Re.properties.split(";"),Fe=[],Le=ke.length;for(let De=0;De<Le;De++){const ze=ke[De].trim();if(!ze)continue;const qe=parseAbiParameter(ze,{type:"struct"});Fe.push(qe)}if(!Fe.length)throw new InvalidStructSignatureError({signature:Ie});he[Re.name]=Fe}const ve={},_e=Object.entries(he),we=_e.length;for(let Pe=0;Pe<we;Pe++){const[Ie,Re]=_e[Pe];ve[Ie]=resolveStructs(Re,he)}return ve}const typeWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function resolveStructs(oe,he,ye=new Set){const ve=[],_e=oe.length;for(let we=0;we<_e;we++){const Pe=oe[we];if(isTupleRegex.test(Pe.type))ve.push(Pe);else{const Re=execTyped(typeWithoutTupleRegex,Pe.type);if(!Re?.type)throw new InvalidAbiTypeParameterError({abiParameter:Pe});const{array:ke,type:Fe}=Re;if(Fe in he){if(ye.has(Fe))throw new CircularReferenceError({type:Fe});ve.push({...Pe,type:`tuple${ke??""}`,components:resolveStructs(he[Fe]??[],he,new Set([...ye,Fe]))})}else if(isSolidityType(Fe))ve.push(Pe);else throw new UnknownTypeError({type:Fe})}}return ve}function parseAbi(oe){const he=parseStructs(oe),ye=[],ve=oe.length;for(let _e=0;_e<ve;_e++){const we=oe[_e];isStructSignature(we)||ye.push(parseSignature(we,he))}return ye}function parseAbiParameters(oe){const he=[];if(typeof oe=="string"){const ye=splitParameters(oe),ve=ye.length;for(let _e=0;_e<ve;_e++)he.push(parseAbiParameter(ye[_e],{modifiers}))}else{const ye=parseStructs(oe),ve=oe.length;for(let _e=0;_e<ve;_e++){const we=oe[_e];if(isStructSignature(we))continue;const Pe=splitParameters(we),Ie=Pe.length;for(let Re=0;Re<Ie;Re++)he.push(parseAbiParameter(Pe[Re],{modifiers,structs:ye}))}}if(he.length===0)throw new InvalidAbiParametersError({params:oe});return he}function formatAbiItem(oe,{includeName:he=!1}={}){if(oe.type!=="function"&&oe.type!=="event"&&oe.type!=="error")throw new InvalidDefinitionTypeError(oe.type);return`${oe.name}(${formatAbiParams(oe.inputs,{includeName:he})})`}function formatAbiParams(oe,{includeName:he=!1}={}){return oe?oe.map(ye=>formatAbiParam(ye,{includeName:he})).join(he?", ":","):""}function formatAbiParam(oe,{includeName:he}){return oe.type.startsWith("tuple")?`(${formatAbiParams(oe.components,{includeName:he})})${oe.type.slice(5)}`:oe.type+(he&&oe.name?` ${oe.name}`:"")}function isHex(oe,{strict:he=!0}={}){return!oe||typeof oe!="string"?!1:he?/^0x[0-9a-fA-F]*$/.test(oe):oe.startsWith("0x")}function size$1(oe){return isHex(oe,{strict:!1})?Math.ceil((oe.length-2)/2):oe.length}const version="1.13.2",getContractAddress=oe=>oe,getUrl$1=oe=>oe,getVersion=()=>`viem@${version}`;class BaseError extends Error{constructor(he,ye={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:getVersion()});const ve=ye.cause instanceof BaseError?ye.cause.details:ye.cause?.message?ye.cause.message:ye.details,_e=ye.cause instanceof BaseError&&ye.cause.docsPath||ye.docsPath;this.message=[he||"An error occurred.","",...ye.metaMessages?[...ye.metaMessages,""]:[],..._e?[`Docs: https://viem.sh${_e}.html${ye.docsSlug?`#${ye.docsSlug}`:""}`]:[],...ve?[`Details: ${ve}`]:[],`Version: ${this.version}`].join(`
`),ye.cause&&(this.cause=ye.cause),this.details=ve,this.docsPath=_e,this.metaMessages=ye.metaMessages,this.shortMessage=he}walk(he){return walk(this,he)}}function walk(oe,he){return he?.(oe)?oe:oe&&typeof oe=="object"&&"cause"in oe?walk(oe.cause,he):he?null:oe}class AbiConstructorNotFoundError extends BaseError{constructor({docsPath:he}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class AbiConstructorParamsNotFoundError extends BaseError{constructor({docsPath:he}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class AbiDecodingDataSizeTooSmallError extends BaseError{constructor({data:he,params:ye,size:ve}){super([`Data size of ${ve} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(ye,{includeName:!0})})`,`Data:   ${he} (${ve} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=he,this.params=ye,this.size=ve}}class AbiDecodingZeroDataError extends BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class AbiEncodingArrayLengthMismatchError extends BaseError{constructor({expectedLength:he,givenLength:ye,type:ve}){super([`ABI encoding array length mismatch for type ${ve}.`,`Expected length: ${he}`,`Given length: ${ye}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class AbiEncodingBytesSizeMismatchError extends BaseError{constructor({expectedSize:he,value:ye}){super(`Size of bytes "${ye}" (bytes${size$1(ye)}) does not match expected size (bytes${he}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class AbiEncodingLengthMismatchError extends BaseError{constructor({expectedLength:he,givenLength:ye}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${he}`,`Given length (values): ${ye}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class AbiErrorSignatureNotFoundError extends BaseError{constructor(he,{docsPath:ye}){super([`Encoded error signature "${he}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${he}.`].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=he}}class AbiEventSignatureEmptyTopicsError extends BaseError{constructor({docsPath:he}){super("Cannot extract event signature from empty topics.",{docsPath:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class AbiEventSignatureNotFoundError extends BaseError{constructor(he,{docsPath:ye}){super([`Encoded event signature "${he}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${he}.`].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class AbiEventNotFoundError extends BaseError{constructor(he,{docsPath:ye}={}){super([`Event ${he?`"${he}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class AbiFunctionNotFoundError extends BaseError{constructor(he,{docsPath:ye}={}){super([`Function ${he?`"${he}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class AbiFunctionOutputsNotFoundError extends BaseError{constructor(he,{docsPath:ye}){super([`Function "${he}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class AbiFunctionSignatureNotFoundError extends BaseError{constructor(he,{docsPath:ye}){super([`Encoded function signature "${he}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${he}.`].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionSignatureNotFoundError"})}}class BytesSizeMismatchError extends BaseError{constructor({expectedSize:he,givenSize:ye}){super(`Expected bytes${he}, got bytes${ye}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class DecodeLogDataMismatch extends BaseError{constructor({abiItem:he,data:ye,params:ve,size:_e}){super([`Data size of ${_e} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(ve,{includeName:!0})})`,`Data:   ${ye} (${_e} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=he,this.data=ye,this.params=ve,this.size=_e}}class DecodeLogTopicsMismatch extends BaseError{constructor({abiItem:he,param:ye}){super([`Expected a topic for indexed event parameter${ye.name?` "${ye.name}"`:""} on event "${formatAbiItem(he,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=he}}class InvalidAbiEncodingTypeError extends BaseError{constructor(he,{docsPath:ye}){super([`Type "${he}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class InvalidAbiDecodingTypeError extends BaseError{constructor(he,{docsPath:ye}){super([`Type "${he}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class InvalidArrayError extends BaseError{constructor(he){super([`Value "${he}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class InvalidDefinitionTypeError extends BaseError{constructor(he){super([`"${he}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class UnsupportedPackedAbiType extends BaseError{constructor(he){super(`Type "${he}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}class FilterTypeNotSupportedError extends BaseError{constructor(he){super(`Filter type "${he}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class SliceOffsetOutOfBoundsError extends BaseError{constructor({offset:he,position:ye,size:ve}){super(`Slice ${ye==="start"?"starting":"ending"} at offset "${he}" is out-of-bounds (size: ${ve}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:he,targetSize:ye,type:ve}){super(`${ve.charAt(0).toUpperCase()}${ve.slice(1).toLowerCase()} size (${he}) exceeds padding size (${ye}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function pad(oe,{dir:he,size:ye=32}={}){return typeof oe=="string"?padHex(oe,{dir:he,size:ye}):padBytes(oe,{dir:he,size:ye})}function padHex(oe,{dir:he,size:ye=32}={}){if(ye===null)return oe;const ve=oe.replace("0x","");if(ve.length>ye*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(ve.length/2),targetSize:ye,type:"hex"});return`0x${ve[he==="right"?"padEnd":"padStart"](ye*2,"0")}`}function padBytes(oe,{dir:he,size:ye=32}={}){if(ye===null)return oe;if(oe.length>ye)throw new SizeExceedsPaddingSizeError({size:oe.length,targetSize:ye,type:"bytes"});const ve=new Uint8Array(ye);for(let _e=0;_e<ye;_e++){const we=he==="right";ve[we?_e:ye-_e-1]=oe[we?_e:oe.length-_e-1]}return ve}class IntegerOutOfRangeError extends BaseError{constructor({max:he,min:ye,signed:ve,size:_e,value:we}){super(`Number "${we}" is not in safe ${_e?`${_e*8}-bit ${ve?"signed":"unsigned"} `:""}integer range ${he?`(${ye} to ${he})`:`(above ${ye})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class InvalidHexBooleanError extends BaseError{constructor(he){super(`Hex value "${he}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:he,maxSize:ye}){super(`Size cannot exceed ${ye} bytes. Given size: ${he} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function trim(oe,{dir:he="left"}={}){let ye=typeof oe=="string"?oe.replace("0x",""):oe,ve=0;for(let _e=0;_e<ye.length-1&&ye[he==="left"?_e:ye.length-_e-1].toString()==="0";_e++)ve++;return ye=he==="left"?ye.slice(ve):ye.slice(0,ye.length-ve),typeof oe=="string"?(ye.length===1&&he==="right"&&(ye=`${ye}0`),`0x${ye.length%2===1?`0${ye}`:ye}`):ye}function assertSize(oe,{size:he}){if(size$1(oe)>he)throw new SizeOverflowError({givenSize:size$1(oe),maxSize:he})}function hexToBigInt(oe,he={}){const{signed:ye}=he;he.size&&assertSize(oe,{size:he.size});const ve=BigInt(oe);if(!ye)return ve;const _e=(oe.length-2)/2,we=(1n<<BigInt(_e)*8n-1n)-1n;return ve<=we?ve:ve-BigInt(`0x${"f".padStart(_e*2,"f")}`)-1n}function hexToBool(oe,he={}){let ye=oe;if(he.size&&(assertSize(ye,{size:he.size}),ye=trim(ye)),trim(ye)==="0x00")return!1;if(trim(ye)==="0x01")return!0;throw new InvalidHexBooleanError(ye)}function hexToNumber$1(oe,he={}){return Number(hexToBigInt(oe,he))}function hexToString(oe,he={}){let ye=hexToBytes$1(oe);return he.size&&(assertSize(ye,{size:he.size}),ye=trim(ye,{dir:"right"})),new TextDecoder().decode(ye)}const hexes$1=Array.from({length:256},(oe,he)=>he.toString(16).padStart(2,"0"));function toHex(oe,he={}){return typeof oe=="number"||typeof oe=="bigint"?numberToHex(oe,he):typeof oe=="string"?stringToHex(oe,he):typeof oe=="boolean"?boolToHex(oe,he):bytesToHex$1(oe,he)}function boolToHex(oe,he={}){const ye=`0x${Number(oe)}`;return typeof he.size=="number"?(assertSize(ye,{size:he.size}),pad(ye,{size:he.size})):ye}function bytesToHex$1(oe,he={}){let ye="";for(let _e=0;_e<oe.length;_e++)ye+=hexes$1[oe[_e]];const ve=`0x${ye}`;return typeof he.size=="number"?(assertSize(ve,{size:he.size}),pad(ve,{dir:"right",size:he.size})):ve}function numberToHex(oe,he={}){const{signed:ye,size:ve}=he,_e=BigInt(oe);let we;ve?ye?we=(1n<<BigInt(ve)*8n-1n)-1n:we=2n**(BigInt(ve)*8n)-1n:typeof oe=="number"&&(we=BigInt(Number.MAX_SAFE_INTEGER));const Pe=typeof we=="bigint"&&ye?-we-1n:0;if(we&&_e>we||_e<Pe){const Re=typeof oe=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:we?`${we}${Re}`:void 0,min:`${Pe}${Re}`,signed:ye,size:ve,value:`${oe}${Re}`})}const Ie=`0x${(ye&&_e<0?(1n<<BigInt(ve*8))+BigInt(_e):_e).toString(16)}`;return ve?pad(Ie,{size:ve}):Ie}const encoder$1=new TextEncoder;function stringToHex(oe,he={}){const ye=encoder$1.encode(oe);return bytesToHex$1(ye,he)}const encoder=new TextEncoder;function toBytes$1(oe,he={}){return typeof oe=="number"||typeof oe=="bigint"?numberToBytes(oe,he):typeof oe=="boolean"?boolToBytes(oe,he):isHex(oe)?hexToBytes$1(oe,he):stringToBytes(oe,he)}function boolToBytes(oe,he={}){const ye=new Uint8Array(1);return ye[0]=Number(oe),typeof he.size=="number"?(assertSize(ye,{size:he.size}),pad(ye,{size:he.size})):ye}const charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(oe){if(oe>=charCodeMap.zero&&oe<=charCodeMap.nine)return oe-charCodeMap.zero;if(oe>=charCodeMap.A&&oe<=charCodeMap.F)return oe-(charCodeMap.A-10);if(oe>=charCodeMap.a&&oe<=charCodeMap.f)return oe-(charCodeMap.a-10)}function hexToBytes$1(oe,he={}){let ye=oe;he.size&&(assertSize(ye,{size:he.size}),ye=pad(ye,{dir:"right",size:he.size}));let ve=ye.slice(2);ve.length%2&&(ve=`0${ve}`);const _e=ve.length/2,we=new Uint8Array(_e);for(let Pe=0,Ie=0;Pe<_e;Pe++){const Re=charCodeToBase16(ve.charCodeAt(Ie++)),ke=charCodeToBase16(ve.charCodeAt(Ie++));if(Re===void 0||ke===void 0)throw new BaseError(`Invalid byte sequence ("${ve[Ie-2]}${ve[Ie-1]}" in "${ve}").`);we[Pe]=Re*16+ke}return we}function numberToBytes(oe,he){const ye=numberToHex(oe,he);return hexToBytes$1(ye)}function stringToBytes(oe,he={}){const ye=encoder.encode(oe);return typeof he.size=="number"?(assertSize(ye,{size:he.size}),pad(ye,{dir:"right",size:he.size})):ye}const paramsRegex=/((function|event)\s)?(.*)(\((.*)\))/;function extractFunctionParts(oe){const he=oe.match(paramsRegex),ye=he?.[2]||void 0,ve=he?.[3],_e=he?.[5]||void 0;return{type:ye,name:ve,params:_e}}function extractFunctionName(oe){return extractFunctionParts(oe).name}function extractFunctionParams(oe){return extractFunctionParts(oe).params?.split(",").map(ve=>ve.trim().split(" "))?.map(ve=>({type:ve[0],name:ve[1]==="indexed"?ve[2]:ve[1],...ve[1]==="indexed"?{indexed:!0}:{}}))}const getFunctionSignature=oe=>{if(typeof oe=="string"){const he=extractFunctionName(oe),ye=extractFunctionParams(oe)||[];return`${he}(${ye.map(({type:ve})=>ve).join(",")})`}return formatAbiItem(oe)},getEventSignature=oe=>getFunctionSignature(oe);function number(oe){if(!Number.isSafeInteger(oe)||oe<0)throw new Error(`Wrong positive integer: ${oe}`)}function bytes(oe,...he){if(!(oe instanceof Uint8Array))throw new Error("Expected Uint8Array");if(he.length>0&&!he.includes(oe.length))throw new Error(`Expected Uint8Array of length ${he}, not of length=${oe.length}`)}function hash$2(oe){if(typeof oe!="function"||typeof oe.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(oe.outputLen),number(oe.blockLen)}function exists(oe,he=!0){if(oe.destroyed)throw new Error("Hash instance has been destroyed");if(he&&oe.finished)throw new Error("Hash#digest() has already been called")}function output(oe,he){bytes(oe);const ye=he.outputLen;if(oe.length<ye)throw new Error(`digestInto() expects output buffer of length at least ${ye}`)}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(oe,he=!1){return he?{h:Number(oe&U32_MASK64),l:Number(oe>>_32n&U32_MASK64)}:{h:Number(oe>>_32n&U32_MASK64)|0,l:Number(oe&U32_MASK64)|0}}function split(oe,he=!1){let ye=new Uint32Array(oe.length),ve=new Uint32Array(oe.length);for(let _e=0;_e<oe.length;_e++){const{h:we,l:Pe}=fromBig(oe[_e],he);[ye[_e],ve[_e]]=[we,Pe]}return[ye,ve]}const toBig=(oe,he)=>BigInt(oe>>>0)<<_32n|BigInt(he>>>0),shrSH=(oe,he,ye)=>oe>>>ye,shrSL=(oe,he,ye)=>oe<<32-ye|he>>>ye,rotrSH=(oe,he,ye)=>oe>>>ye|he<<32-ye,rotrSL=(oe,he,ye)=>oe<<32-ye|he>>>ye,rotrBH=(oe,he,ye)=>oe<<64-ye|he>>>ye-32,rotrBL=(oe,he,ye)=>oe>>>ye-32|he<<64-ye,rotr32H=(oe,he)=>he,rotr32L=(oe,he)=>oe,rotlSH=(oe,he,ye)=>oe<<ye|he>>>32-ye,rotlSL=(oe,he,ye)=>he<<ye|oe>>>32-ye,rotlBH=(oe,he,ye)=>he<<ye-32|oe>>>64-ye,rotlBL=(oe,he,ye)=>oe<<ye-32|he>>>64-ye;function add(oe,he,ye,ve){const _e=(he>>>0)+(ve>>>0);return{h:oe+ye+(_e/2**32|0)|0,l:_e|0}}const add3L=(oe,he,ye)=>(oe>>>0)+(he>>>0)+(ye>>>0),add3H=(oe,he,ye,ve)=>he+ye+ve+(oe/2**32|0)|0,add4L=(oe,he,ye,ve)=>(oe>>>0)+(he>>>0)+(ye>>>0)+(ve>>>0),add4H=(oe,he,ye,ve,_e)=>he+ye+ve+_e+(oe/2**32|0)|0,add5L=(oe,he,ye,ve,_e)=>(oe>>>0)+(he>>>0)+(ye>>>0)+(ve>>>0)+(_e>>>0),add5H=(oe,he,ye,ve,_e,we)=>he+ye+ve+_e+we+(oe/2**32|0)|0,u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L},u64$1=u64,crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$1=oe=>oe instanceof Uint8Array,u32=oe=>new Uint32Array(oe.buffer,oe.byteOffset,Math.floor(oe.byteLength/4)),createView=oe=>new DataView(oe.buffer,oe.byteOffset,oe.byteLength),rotr=(oe,he)=>oe<<32-he|oe>>>he,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");const nextTick=async()=>{};async function asyncLoop(oe,he,ye){let ve=Date.now();for(let _e=0;_e<oe;_e++){ye(_e);const we=Date.now()-ve;we>=0&&we<he||(await nextTick(),ve+=we)}}function utf8ToBytes$1(oe){if(typeof oe!="string")throw new Error(`utf8ToBytes expected string, got ${typeof oe}`);return new Uint8Array(new TextEncoder().encode(oe))}function toBytes(oe){if(typeof oe=="string"&&(oe=utf8ToBytes$1(oe)),!u8a$1(oe))throw new Error(`expected Uint8Array, got ${typeof oe}`);return oe}function concatBytes$2(...oe){const he=new Uint8Array(oe.reduce((ve,_e)=>ve+_e.length,0));let ye=0;return oe.forEach(ve=>{if(!u8a$1(ve))throw new Error("Uint8Array expected");he.set(ve,ye),ye+=ve.length}),he}let Hash$2=class{clone(){return this._cloneInto()}};const toStr={}.toString;function checkOpts(oe,he){if(he!==void 0&&toStr.call(he)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(oe,he)}function wrapConstructor(oe){const he=ve=>oe().update(toBytes(ve)).digest(),ye=oe();return he.outputLen=ye.outputLen,he.blockLen=ye.blockLen,he.create=()=>oe(),he}function wrapXOFConstructorWithOpts(oe){const he=(ve,_e)=>oe(_e).update(toBytes(ve)).digest(),ye=oe({});return he.outputLen=ye.outputLen,he.blockLen=ye.blockLen,he.create=ve=>oe(ve),he}function randomBytes(oe=32){if(crypto&&typeof crypto.getRandomValues=="function")return crypto.getRandomValues(new Uint8Array(oe));throw new Error("crypto.getRandomValues must be defined")}const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$5=BigInt(0),_1n$5=BigInt(1),_2n$4=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let oe=0,he=_1n$5,ye=1,ve=0;oe<24;oe++){[ye,ve]=[ve,(2*ye+3*ve)%5],SHA3_PI.push(2*(5*ve+ye)),SHA3_ROTL.push((oe+1)*(oe+2)/2%64);let _e=_0n$5;for(let we=0;we<7;we++)he=(he<<_1n$5^(he>>_7n)*_0x71n)%_256n,he&_2n$4&&(_e^=_1n$5<<(_1n$5<<BigInt(we))-_1n$5);_SHA3_IOTA.push(_e)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split(_SHA3_IOTA,!0),rotlH=(oe,he,ye)=>ye>32?rotlBH(oe,he,ye):rotlSH(oe,he,ye),rotlL=(oe,he,ye)=>ye>32?rotlBL(oe,he,ye):rotlSL(oe,he,ye);function keccakP(oe,he=24){const ye=new Uint32Array(10);for(let ve=24-he;ve<24;ve++){for(let Pe=0;Pe<10;Pe++)ye[Pe]=oe[Pe]^oe[Pe+10]^oe[Pe+20]^oe[Pe+30]^oe[Pe+40];for(let Pe=0;Pe<10;Pe+=2){const Ie=(Pe+8)%10,Re=(Pe+2)%10,ke=ye[Re],Fe=ye[Re+1],Le=rotlH(ke,Fe,1)^ye[Ie],De=rotlL(ke,Fe,1)^ye[Ie+1];for(let je=0;je<50;je+=10)oe[Pe+je]^=Le,oe[Pe+je+1]^=De}let _e=oe[2],we=oe[3];for(let Pe=0;Pe<24;Pe++){const Ie=SHA3_ROTL[Pe],Re=rotlH(_e,we,Ie),ke=rotlL(_e,we,Ie),Fe=SHA3_PI[Pe];_e=oe[Fe],we=oe[Fe+1],oe[Fe]=Re,oe[Fe+1]=ke}for(let Pe=0;Pe<50;Pe+=10){for(let Ie=0;Ie<10;Ie++)ye[Ie]=oe[Pe+Ie];for(let Ie=0;Ie<10;Ie++)oe[Pe+Ie]^=~ye[(Ie+2)%10]&ye[(Ie+4)%10]}oe[0]^=SHA3_IOTA_H[ve],oe[1]^=SHA3_IOTA_L[ve]}ye.fill(0)}class Keccak extends Hash$2{constructor(he,ye,ve,_e=!1,we=24){if(super(),this.blockLen=he,this.suffix=ye,this.outputLen=ve,this.enableXOF=_e,this.rounds=we,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number(ve),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(he){exists(this);const{blockLen:ye,state:ve}=this;he=toBytes(he);const _e=he.length;for(let we=0;we<_e;){const Pe=Math.min(ye-this.pos,_e-we);for(let Ie=0;Ie<Pe;Ie++)ve[this.pos++]^=he[we++];this.pos===ye&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:he,suffix:ye,pos:ve,blockLen:_e}=this;he[ve]^=ye,ye&128&&ve===_e-1&&this.keccak(),he[_e-1]^=128,this.keccak()}writeInto(he){exists(this,!1),bytes(he),this.finish();const ye=this.state,{blockLen:ve}=this;for(let _e=0,we=he.length;_e<we;){this.posOut>=ve&&this.keccak();const Pe=Math.min(ve-this.posOut,we-_e);he.set(ye.subarray(this.posOut,this.posOut+Pe),_e),this.posOut+=Pe,_e+=Pe}return he}xofInto(he){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(he)}xof(he){return number(he),this.xofInto(new Uint8Array(he))}digestInto(he){if(output(he,this),this.finished)throw new Error("digest() was already called");return this.writeInto(he),this.destroy(),he}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(he){const{blockLen:ye,suffix:ve,outputLen:_e,rounds:we,enableXOF:Pe}=this;return he||(he=new Keccak(ye,ve,_e,Pe,we)),he.state32.set(this.state32),he.pos=this.pos,he.posOut=this.posOut,he.finished=this.finished,he.rounds=we,he.suffix=ve,he.outputLen=_e,he.enableXOF=Pe,he.destroyed=this.destroyed,he}}const gen=(oe,he,ye)=>wrapConstructor(()=>new Keccak(he,oe,ye)),sha3_224=gen(6,144,224/8),sha3_256=gen(6,136,256/8),sha3_384=gen(6,104,384/8),sha3_512=gen(6,72,512/8),keccak_224=gen(1,144,224/8),keccak_256=gen(1,136,256/8),keccak_384=gen(1,104,384/8),keccak_512=gen(1,72,512/8),genShake=(oe,he,ye)=>wrapXOFConstructorWithOpts((ve={})=>new Keccak(he,oe,ve.dkLen===void 0?ye:ve.dkLen,!0)),shake128=genShake(31,168,128/8),shake256=genShake(31,136,256/8),sha3=Object.freeze(Object.defineProperty({__proto__:null,Keccak,keccakP,keccak_224,keccak_256,keccak_384,keccak_512,sha3_224,sha3_256,sha3_384,sha3_512,shake128,shake256},Symbol.toStringTag,{value:"Module"}));function keccak256(oe,he){const ye=he||"hex",ve=keccak_256(isHex(oe,{strict:!1})?toBytes$1(oe):oe);return ye==="bytes"?ve:toHex(ve)}const hash$1=oe=>keccak256(toBytes$1(oe)),getEventSelector=oe=>hash$1(getEventSignature(oe));class InvalidAddressError extends BaseError{constructor({address:he}){super(`Address "${he}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const addressRegex=/^0x[a-fA-F0-9]{40}$/;function isAddress(oe){return addressRegex.test(oe)}function concat(oe){return typeof oe[0]=="string"?concatHex(oe):concatBytes$1(oe)}function concatBytes$1(oe){let he=0;for(const _e of oe)he+=_e.length;const ye=new Uint8Array(he);let ve=0;for(const _e of oe)ye.set(_e,ve),ve+=_e.length;return ye}function concatHex(oe){return`0x${oe.reduce((he,ye)=>he+ye.replace("0x",""),"")}`}function slice(oe,he,ye,{strict:ve}={}){return isHex(oe,{strict:!1})?sliceHex(oe,he,ye,{strict:ve}):sliceBytes(oe,he,ye,{strict:ve})}function assertStartOffset(oe,he){if(typeof he=="number"&&he>0&&he>size$1(oe)-1)throw new SliceOffsetOutOfBoundsError({offset:he,position:"start",size:size$1(oe)})}function assertEndOffset(oe,he,ye){if(typeof he=="number"&&typeof ye=="number"&&size$1(oe)!==ye-he)throw new SliceOffsetOutOfBoundsError({offset:ye,position:"end",size:size$1(oe)})}function sliceBytes(oe,he,ye,{strict:ve}={}){assertStartOffset(oe,he);const _e=oe.slice(he,ye);return ve&&assertEndOffset(_e,he,ye),_e}function sliceHex(oe,he,ye,{strict:ve}={}){assertStartOffset(oe,he);const _e=`0x${oe.replace("0x","").slice((he??0)*2,(ye??oe.length)*2)}`;return ve&&assertEndOffset(_e,he,ye),_e}function encodeAbiParameters(oe,he){if(oe.length!==he.length)throw new AbiEncodingLengthMismatchError({expectedLength:oe.length,givenLength:he.length});const ye=prepareParams({params:oe,values:he}),ve=encodeParams(ye);return ve.length===0?"0x":ve}function prepareParams({params:oe,values:he}){const ye=[];for(let ve=0;ve<oe.length;ve++)ye.push(prepareParam({param:oe[ve],value:he[ve]}));return ye}function prepareParam({param:oe,value:he}){const ye=getArrayComponents(oe.type);if(ye){const[ve,_e]=ye;return encodeArray(he,{length:ve,param:{...oe,type:_e}})}if(oe.type==="tuple")return encodeTuple(he,{param:oe});if(oe.type==="address")return encodeAddress(he);if(oe.type==="bool")return encodeBool(he);if(oe.type.startsWith("uint")||oe.type.startsWith("int")){const ve=oe.type.startsWith("int");return encodeNumber(he,{signed:ve})}if(oe.type.startsWith("bytes"))return encodeBytes(he,{param:oe});if(oe.type==="string")return encodeString(he);throw new InvalidAbiEncodingTypeError(oe.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function encodeParams(oe){let he=0;for(let we=0;we<oe.length;we++){const{dynamic:Pe,encoded:Ie}=oe[we];Pe?he+=32:he+=size$1(Ie)}const ye=[],ve=[];let _e=0;for(let we=0;we<oe.length;we++){const{dynamic:Pe,encoded:Ie}=oe[we];Pe?(ye.push(numberToHex(he+_e,{size:32})),ve.push(Ie),_e+=size$1(Ie)):ye.push(Ie)}return concat([...ye,...ve])}function encodeAddress(oe){if(!isAddress(oe))throw new InvalidAddressError({address:oe});return{dynamic:!1,encoded:padHex(oe.toLowerCase())}}function encodeArray(oe,{length:he,param:ye}){const ve=he===null;if(!Array.isArray(oe))throw new InvalidArrayError(oe);if(!ve&&oe.length!==he)throw new AbiEncodingArrayLengthMismatchError({expectedLength:he,givenLength:oe.length,type:`${ye.type}[${he}]`});let _e=!1;const we=[];for(let Pe=0;Pe<oe.length;Pe++){const Ie=prepareParam({param:ye,value:oe[Pe]});Ie.dynamic&&(_e=!0),we.push(Ie)}if(ve||_e){const Pe=encodeParams(we);if(ve){const Ie=numberToHex(we.length,{size:32});return{dynamic:!0,encoded:we.length>0?concat([Ie,Pe]):Ie}}if(_e)return{dynamic:!0,encoded:Pe}}return{dynamic:!1,encoded:concat(we.map(({encoded:Pe})=>Pe))}}function encodeBytes(oe,{param:he}){const[,ye]=he.type.split("bytes"),ve=size$1(oe);if(!ye){let _e=oe;return ve%32!==0&&(_e=padHex(_e,{dir:"right",size:Math.ceil((oe.length-2)/2/32)*32})),{dynamic:!0,encoded:concat([padHex(numberToHex(ve,{size:32})),_e])}}if(ve!==parseInt(ye))throw new AbiEncodingBytesSizeMismatchError({expectedSize:parseInt(ye),value:oe});return{dynamic:!1,encoded:padHex(oe,{dir:"right"})}}function encodeBool(oe){return{dynamic:!1,encoded:padHex(boolToHex(oe))}}function encodeNumber(oe,{signed:he}){return{dynamic:!1,encoded:numberToHex(oe,{size:32,signed:he})}}function encodeString(oe){const he=stringToHex(oe),ye=Math.ceil(size$1(he)/32),ve=[];for(let _e=0;_e<ye;_e++)ve.push(padHex(slice(he,_e*32,(_e+1)*32),{dir:"right"}));return{dynamic:!0,encoded:concat([padHex(numberToHex(size$1(he),{size:32})),...ve])}}function encodeTuple(oe,{param:he}){let ye=!1;const ve=[];for(let _e=0;_e<he.components.length;_e++){const we=he.components[_e],Pe=Array.isArray(oe)?_e:we.name,Ie=prepareParam({param:we,value:oe[Pe]});ve.push(Ie),Ie.dynamic&&(ye=!0)}return{dynamic:ye,encoded:ye?encodeParams(ve):concat(ve.map(({encoded:_e})=>_e))}}function getArrayComponents(oe){const he=oe.match(/^(.*)\[(\d+)?\]$/);return he?[he[2]?Number(he[2]):null,he[1]]:void 0}const hash=oe=>keccak256(toBytes$1(oe)),getFunctionSelector=oe=>slice(hash(getFunctionSignature(oe)),0,4);function getAbiItem({abi:oe,args:he=[],name:ye}){const ve=isHex(ye,{strict:!1}),_e=oe.filter(we=>ve?we.type==="function"?getFunctionSelector(we)===ye:we.type==="event"?getEventSelector(we)===ye:!1:"name"in we&&we.name===ye);if(_e.length!==0){if(_e.length===1)return _e[0];for(const we of _e){if(!("inputs"in we))continue;if(!he||he.length===0){if(!we.inputs||we.inputs.length===0)return we;continue}if(!we.inputs||we.inputs.length===0||we.inputs.length!==he.length)continue;if(he.every((Ie,Re)=>{const ke="inputs"in we&&we.inputs[Re];return ke?isArgOfType(Ie,ke):!1}))return we}return _e[0]}}function isArgOfType(oe,he){const ye=typeof oe,ve=he.type;switch(ve){case"address":return isAddress(oe);case"bool":return ye==="boolean";case"function":return ye==="string";case"string":return ye==="string";default:return ve==="tuple"&&"components"in he?Object.values(he.components).every((_e,we)=>isArgOfType(Object.values(oe)[we],_e)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(ve)?ye==="number"||ye==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(ve)?ye==="string"||oe instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(ve)?Array.isArray(oe)&&oe.every(_e=>isArgOfType(_e,{...he,type:ve.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function encodeEventTopics({abi:oe,eventName:he,args:ye}){let ve=oe[0];if(he&&(ve=getAbiItem({abi:oe,args:ye,name:he}),!ve))throw new AbiEventNotFoundError(he,{docsPath:"/docs/contract/encodeEventTopics"});if(ve.type!=="event")throw new AbiEventNotFoundError(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const _e=formatAbiItem(ve),we=getEventSelector(_e);let Pe=[];if(ye&&"inputs"in ve){const Ie=ve.inputs?.filter(ke=>"indexed"in ke&&ke.indexed),Re=Array.isArray(ye)?ye:Object.values(ye).length>0?Ie?.map(ke=>ye[ke.name])??[]:[];Re.length>0&&(Pe=Ie?.map((ke,Fe)=>Array.isArray(Re[Fe])?Re[Fe].map((Le,De)=>encodeArg({param:ke,value:Re[Fe][De]})):Re[Fe]?encodeArg({param:ke,value:Re[Fe]}):null)??[])}return[we,...Pe]}function encodeArg({param:oe,value:he}){if(oe.type==="string"||oe.type==="bytes")return keccak256(toBytes$1(he));if(oe.type==="tuple"||oe.type.match(/^(.*)\[(\d+)?\]$/))throw new FilterTypeNotSupportedError(oe.type);return encodeAbiParameters([oe],[he])}function createFilterRequestScope(oe,{method:he}){const ye={};return oe.transport.type==="fallback"&&oe.transport.onResponse?.(({method:ve,response:_e,status:we,transport:Pe})=>{we==="success"&&he===ve&&(ye[_e]=Pe.request)}),ve=>ye[ve]||oe.request}async function createContractEventFilter(oe,{address:he,abi:ye,args:ve,eventName:_e,fromBlock:we,strict:Pe,toBlock:Ie}){const Re=createFilterRequestScope(oe,{method:"eth_newFilter"}),ke=_e?encodeEventTopics({abi:ye,args:ve,eventName:_e}):void 0,Fe=await oe.request({method:"eth_newFilter",params:[{address:he,fromBlock:typeof we=="bigint"?numberToHex(we):we,toBlock:typeof Ie=="bigint"?numberToHex(Ie):Ie,topics:ke}]});return{abi:ye,args:ve,eventName:_e,id:Fe,request:Re(Fe),strict:Pe,type:"event"}}function parseAccount(oe){return typeof oe=="string"?{address:oe,type:"json-rpc"}:oe}function encodeFunctionData({abi:oe,args:he,functionName:ye}){let ve=oe[0];if(ye&&(ve=getAbiItem({abi:oe,args:he,name:ye}),!ve))throw new AbiFunctionNotFoundError(ye,{docsPath:"/docs/contract/encodeFunctionData"});if(ve.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const _e=formatAbiItem(ve),we=getFunctionSelector(_e),Pe="inputs"in ve&&ve.inputs?encodeAbiParameters(ve.inputs,he??[]):void 0;return concatHex([we,Pe??"0x"])}const panicReasons={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function checksumAddress(oe,he){const ye=he?`${he}${oe.toLowerCase()}`:oe.substring(2).toLowerCase(),ve=keccak256(stringToBytes(ye),"bytes"),_e=(he?ye.substring(`${he}0x`.length):ye).split("");for(let we=0;we<40;we+=2)ve[we>>1]>>4>=8&&_e[we]&&(_e[we]=_e[we].toUpperCase()),(ve[we>>1]&15)>=8&&_e[we+1]&&(_e[we+1]=_e[we+1].toUpperCase());return`0x${_e.join("")}`}function getAddress(oe,he){if(!isAddress(oe))throw new InvalidAddressError({address:oe});return checksumAddress(oe,he)}function decodeAbiParameters(oe,he){if(he==="0x"&&oe.length>0)throw new AbiDecodingZeroDataError;if(size$1(he)&&size$1(he)<32)throw new AbiDecodingDataSizeTooSmallError({data:he,params:oe,size:size$1(he)});return decodeParams({data:he,params:oe})}function decodeParams({data:oe,params:he}){const ye=[];let ve=0;for(let _e=0;_e<he.length;_e++){if(ve>=size$1(oe))throw new AbiDecodingDataSizeTooSmallError({data:oe,params:he,size:size$1(oe)});const we=he[_e],{consumed:Pe,value:Ie}=decodeParam({data:oe,param:we,position:ve});ye.push(Ie),ve+=Pe}return ye}function decodeParam({data:oe,param:he,position:ye}){const ve=getArrayComponents(he.type);if(ve){const[we,Pe]=ve;return decodeArray(oe,{length:we,param:{...he,type:Pe},position:ye})}if(he.type==="tuple")return decodeTuple(oe,{param:he,position:ye});if(he.type==="string")return decodeString(oe,{position:ye});if(he.type.startsWith("bytes"))return decodeBytes(oe,{param:he,position:ye});const _e=slice(oe,ye,ye+32,{strict:!0});if(he.type.startsWith("uint")||he.type.startsWith("int"))return decodeNumber(_e,{param:he});if(he.type==="address")return decodeAddress(_e);if(he.type==="bool")return decodeBool(_e);throw new InvalidAbiDecodingTypeError(he.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function decodeAddress(oe){return{consumed:32,value:checksumAddress(slice(oe,-20))}}function decodeArray(oe,{param:he,length:ye,position:ve}){if(!ye){const Pe=hexToNumber$1(slice(oe,ve,ve+32,{strict:!0})),Ie=hexToNumber$1(slice(oe,Pe,Pe+32,{strict:!0}));let Re=0;const ke=[];for(let Fe=0;Fe<Ie;++Fe){const Le=decodeParam({data:slice(oe,Pe+32),param:he,position:Re});Re+=Le.consumed,ke.push(Le.value)}return{value:ke,consumed:32}}if(hasDynamicChild(he)){const Ie=!getArrayComponents(he.type)?.[0];let Re=0;const ke=[];for(let Fe=0;Fe<ye;++Fe){const Le=hexToNumber$1(slice(oe,ve,ve+32,{strict:!0})),De=decodeParam({data:slice(oe,Le),param:he,position:Ie?Re:Fe*32});Re+=De.consumed,ke.push(De.value)}return{value:ke,consumed:32}}let _e=0;const we=[];for(let Pe=0;Pe<ye;++Pe){const Ie=decodeParam({data:oe,param:he,position:ve+_e});_e+=Ie.consumed,we.push(Ie.value)}return{value:we,consumed:_e}}function decodeBool(oe){return{consumed:32,value:hexToBool(oe)}}function decodeBytes(oe,{param:he,position:ye}){const[ve,_e]=he.type.split("bytes");if(!_e){const Pe=hexToNumber$1(slice(oe,ye,ye+32,{strict:!0})),Ie=hexToNumber$1(slice(oe,Pe,Pe+32,{strict:!0}));return Ie===0?{consumed:32,value:"0x"}:{consumed:32,value:slice(oe,Pe+32,Pe+32+Ie,{strict:!0})}}return{consumed:32,value:slice(oe,ye,ye+parseInt(_e),{strict:!0})}}function decodeNumber(oe,{param:he}){const ye=he.type.startsWith("int");return{consumed:32,value:parseInt(he.type.split("int")[1]||"256")>48?hexToBigInt(oe,{signed:ye}):hexToNumber$1(oe,{signed:ye})}}function decodeString(oe,{position:he}){const ye=hexToNumber$1(slice(oe,he,he+32,{strict:!0})),ve=hexToNumber$1(slice(oe,ye,ye+32,{strict:!0}));return ve===0?{consumed:32,value:""}:{consumed:32,value:hexToString(trim(slice(oe,ye+32,ye+32+ve,{strict:!0})))}}function decodeTuple(oe,{param:he,position:ye}){const ve=he.components.length===0||he.components.some(({name:Pe})=>!Pe),_e=ve?[]:{};let we=0;if(hasDynamicChild(he)){const Pe=hexToNumber$1(slice(oe,ye,ye+32,{strict:!0}));for(let Ie=0;Ie<he.components.length;++Ie){const Re=he.components[Ie],ke=decodeParam({data:slice(oe,Pe),param:Re,position:we});we+=ke.consumed,_e[ve?Ie:Re?.name]=ke.value}return{consumed:32,value:_e}}for(let Pe=0;Pe<he.components.length;++Pe){const Ie=he.components[Pe],Re=decodeParam({data:oe,param:Ie,position:ye+we});we+=Re.consumed,_e[ve?Pe:Ie?.name]=Re.value}return{consumed:we,value:_e}}function hasDynamicChild(oe){const{type:he}=oe;if(he==="string"||he==="bytes"||he.endsWith("[]"))return!0;if(he==="tuple")return oe.components?.some(hasDynamicChild);const ye=getArrayComponents(oe.type);return!!(ye&&hasDynamicChild({...oe,type:ye[1]}))}function decodeErrorResult({abi:oe,data:he}){const ye=slice(he,0,4);if(ye==="0x")throw new AbiDecodingZeroDataError;const _e=[...oe||[],solidityError,solidityPanic].find(we=>we.type==="error"&&ye===getFunctionSelector(formatAbiItem(we)));if(!_e)throw new AbiErrorSignatureNotFoundError(ye,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:_e,args:"inputs"in _e&&_e.inputs&&_e.inputs.length>0?decodeAbiParameters(_e.inputs,slice(he,4)):void 0,errorName:_e.name}}const stringify=(oe,he,ye)=>JSON.stringify(oe,(ve,_e)=>{const we=typeof _e=="bigint"?_e.toString():_e;return typeof he=="function"?he(ve,we):we},ye);function formatAbiItemWithArgs({abiItem:oe,args:he,includeFunctionName:ye=!0,includeName:ve=!1}){if("name"in oe&&"inputs"in oe&&oe.inputs)return`${ye?oe.name:""}(${oe.inputs.map((_e,we)=>`${ve&&_e.name?`${_e.name}: `:""}${typeof he[we]=="object"?stringify(he[we]):he[we]}`).join(", ")})`}const etherUnits={gwei:9,wei:18},gweiUnits={ether:-9,wei:9},weiUnits={ether:-18,gwei:-9};function formatUnits(oe,he){let ye=oe.toString();const ve=ye.startsWith("-");ve&&(ye=ye.slice(1)),ye=ye.padStart(he,"0");let[_e,we]=[ye.slice(0,ye.length-he),ye.slice(ye.length-he)];return we=we.replace(/(0+)$/,""),`${ve?"-":""}${_e||"0"}${we?`.${we}`:""}`}function formatEther(oe,he="wei"){return formatUnits(oe,etherUnits[he])}function formatGwei(oe,he="wei"){return formatUnits(oe,gweiUnits[he])}function prettyPrint(oe){const he=Object.entries(oe).map(([ve,_e])=>_e===void 0||_e===!1?null:[ve,_e]).filter(Boolean),ye=he.reduce((ve,[_e])=>Math.max(ve,_e.length),0);return he.map(([ve,_e])=>`  ${`${ve}:`.padEnd(ye+1)}  ${_e}`).join(`
`)}class FeeConflictError extends BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class InvalidLegacyVError extends BaseError{constructor({v:he}){super(`Invalid \`v\` value "${he}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class InvalidSerializableTransactionError extends BaseError{constructor({transaction:he}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",prettyPrint(he),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class InvalidStorageKeySizeError extends BaseError{constructor({storageKey:he}){super(`Size for storage key "${he}" is invalid. Expected 32 bytes. Got ${Math.floor((he.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class TransactionExecutionError extends BaseError{constructor(he,{account:ye,docsPath:ve,chain:_e,data:we,gas:Pe,gasPrice:Ie,maxFeePerGas:Re,maxPriorityFeePerGas:ke,nonce:Fe,to:Le,value:De}){const je=prettyPrint({chain:_e&&`${_e?.name} (id: ${_e?.id})`,from:ye?.address,to:Le,value:typeof De<"u"&&`${formatEther(De)} ${_e?.nativeCurrency.symbol||"ETH"}`,data:we,gas:Pe,gasPrice:typeof Ie<"u"&&`${formatGwei(Ie)} gwei`,maxFeePerGas:typeof Re<"u"&&`${formatGwei(Re)} gwei`,maxPriorityFeePerGas:typeof ke<"u"&&`${formatGwei(ke)} gwei`,nonce:Fe});super(he.shortMessage,{cause:he,docsPath:ve,metaMessages:[...he.metaMessages?[...he.metaMessages," "]:[],"Request Arguments:",je].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=he}}class TransactionNotFoundError extends BaseError{constructor({blockHash:he,blockNumber:ye,blockTag:ve,hash:_e,index:we}){let Pe="Transaction";ve&&we!==void 0&&(Pe=`Transaction at block time "${ve}" at index "${we}"`),he&&we!==void 0&&(Pe=`Transaction at block hash "${he}" at index "${we}"`),ye&&we!==void 0&&(Pe=`Transaction at block number "${ye}" at index "${we}"`),_e&&(Pe=`Transaction with hash "${_e}"`),super(`${Pe} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class TransactionReceiptNotFoundError extends BaseError{constructor({hash:he}){super(`Transaction receipt with hash "${he}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class WaitForTransactionReceiptTimeoutError extends BaseError{constructor({hash:he}){super(`Timed out while waiting for transaction with hash "${he}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class CallExecutionError extends BaseError{constructor(he,{account:ye,docsPath:ve,chain:_e,data:we,gas:Pe,gasPrice:Ie,maxFeePerGas:Re,maxPriorityFeePerGas:ke,nonce:Fe,to:Le,value:De}){const je=ye?parseAccount(ye):void 0,ze=prettyPrint({from:je?.address,to:Le,value:typeof De<"u"&&`${formatEther(De)} ${_e?.nativeCurrency.symbol||"ETH"}`,data:we,gas:Pe,gasPrice:typeof Ie<"u"&&`${formatGwei(Ie)} gwei`,maxFeePerGas:typeof Re<"u"&&`${formatGwei(Re)} gwei`,maxPriorityFeePerGas:typeof ke<"u"&&`${formatGwei(ke)} gwei`,nonce:Fe});super(he.shortMessage,{cause:he,docsPath:ve,metaMessages:[...he.metaMessages?[...he.metaMessages," "]:[],"Raw Call Arguments:",ze].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=he}}class ContractFunctionExecutionError extends BaseError{constructor(he,{abi:ye,args:ve,contractAddress:_e,docsPath:we,functionName:Pe,sender:Ie}){const Re=getAbiItem({abi:ye,args:ve,name:Pe}),ke=Re?formatAbiItemWithArgs({abiItem:Re,args:ve,includeFunctionName:!1,includeName:!1}):void 0,Fe=Re?formatAbiItem(Re,{includeName:!0}):void 0,Le=prettyPrint({address:_e&&getContractAddress(_e),function:Fe,args:ke&&ke!=="()"&&`${[...Array(Pe?.length??0).keys()].map(()=>" ").join("")}${ke}`,sender:Ie});super(he.shortMessage||`An unknown error occurred while executing the contract function "${Pe}".`,{cause:he,docsPath:we,metaMessages:[...he.metaMessages?[...he.metaMessages," "]:[],"Contract Call:",Le].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=ye,this.args=ve,this.cause=he,this.contractAddress=_e,this.functionName=Pe,this.sender=Ie}}class ContractFunctionRevertedError extends BaseError{constructor({abi:he,data:ye,functionName:ve,message:_e}){let we,Pe,Ie,Re;if(ye&&ye!=="0x")try{Pe=decodeErrorResult({abi:he,data:ye});const{abiItem:Fe,errorName:Le,args:De}=Pe;if(Le==="Error")Re=De[0];else if(Le==="Panic"){const[je]=De;Re=panicReasons[je]}else{const je=Fe?formatAbiItem(Fe,{includeName:!0}):void 0,ze=Fe&&De?formatAbiItemWithArgs({abiItem:Fe,args:De,includeFunctionName:!1,includeName:!1}):void 0;Ie=[je?`Error: ${je}`:"",ze&&ze!=="()"?`       ${[...Array(Le?.length??0).keys()].map(()=>" ").join("")}${ze}`:""]}}catch(Fe){we=Fe}else _e&&(Re=_e);let ke;we instanceof AbiErrorSignatureNotFoundError&&(ke=we.signature,Ie=[`Unable to decode signature "${ke}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${ke}.`]),super(Re&&Re!=="execution reverted"||ke?[`The contract function "${ve}" reverted with the following ${ke?"signature":"reason"}:`,Re||ke].join(`
`):`The contract function "${ve}" reverted.`,{cause:we,metaMessages:Ie}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=Pe,this.reason=Re,this.signature=ke}}class ContractFunctionZeroDataError extends BaseError{constructor({functionName:he}){super(`The contract function "${he}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${he}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class RawContractError extends BaseError{constructor({data:he,message:ye}){super(ye||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=he}}class HttpRequestError extends BaseError{constructor({body:he,details:ye,headers:ve,status:_e,url:we}){super("HTTP request failed.",{details:ye,metaMessages:[_e&&`Status: ${_e}`,`URL: ${getUrl$1(we)}`,he&&`Request body: ${stringify(he)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=he,this.headers=ve,this.status=_e,this.url=we}}class WebSocketRequestError extends BaseError{constructor({body:he,details:ye,url:ve}){super("WebSocket request failed.",{details:ye,metaMessages:[`URL: ${getUrl$1(ve)}`,`Request body: ${stringify(he)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class RpcRequestError extends BaseError{constructor({body:he,error:ye,url:ve}){super("RPC Request failed.",{cause:ye,details:ye.message,metaMessages:[`URL: ${getUrl$1(ve)}`,`Request body: ${stringify(he)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=ye.code}}let TimeoutError$1=class extends BaseError{constructor({body:he,url:ye}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${getUrl$1(ye)}`,`Request body: ${stringify(he)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}};const unknownErrorCode=-1;class RpcError extends BaseError{constructor(he,{code:ye,docsPath:ve,metaMessages:_e,shortMessage:we}){super(we,{cause:he,docsPath:ve,metaMessages:_e||he?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=he.name,this.code=he instanceof RpcRequestError?he.code:ye??unknownErrorCode}}class ProviderRpcError extends RpcError{constructor(he,ye){super(he,ye),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=ye.data}}class ParseRpcError extends RpcError{constructor(he){super(he,{code:ParseRpcError.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(ParseRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class InvalidRequestRpcError extends RpcError{constructor(he){super(he,{code:InvalidRequestRpcError.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(InvalidRequestRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class MethodNotFoundRpcError extends RpcError{constructor(he){super(he,{code:MethodNotFoundRpcError.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(MethodNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class InvalidParamsRpcError extends RpcError{constructor(he){super(he,{code:InvalidParamsRpcError.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(InvalidParamsRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class InternalRpcError extends RpcError{constructor(he){super(he,{code:InternalRpcError.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(InternalRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class InvalidInputRpcError extends RpcError{constructor(he){super(he,{code:InvalidInputRpcError.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(InvalidInputRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ResourceNotFoundRpcError extends RpcError{constructor(he){super(he,{code:ResourceNotFoundRpcError.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ResourceNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ResourceUnavailableRpcError extends RpcError{constructor(he){super(he,{code:ResourceUnavailableRpcError.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(ResourceUnavailableRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class TransactionRejectedRpcError extends RpcError{constructor(he){super(he,{code:TransactionRejectedRpcError.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(TransactionRejectedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class MethodNotSupportedRpcError extends RpcError{constructor(he){super(he,{code:MethodNotSupportedRpcError.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(MethodNotSupportedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class LimitExceededRpcError extends RpcError{constructor(he){super(he,{code:LimitExceededRpcError.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(LimitExceededRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class JsonRpcVersionUnsupportedError extends RpcError{constructor(he){super(he,{code:JsonRpcVersionUnsupportedError.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(JsonRpcVersionUnsupportedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class UserRejectedRequestError extends ProviderRpcError{constructor(he){super(he,{code:UserRejectedRequestError.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(UserRejectedRequestError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class UnauthorizedProviderError extends ProviderRpcError{constructor(he){super(he,{code:UnauthorizedProviderError.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(UnauthorizedProviderError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class UnsupportedProviderMethodError extends ProviderRpcError{constructor(he){super(he,{code:UnsupportedProviderMethodError.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(UnsupportedProviderMethodError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ProviderDisconnectedError extends ProviderRpcError{constructor(he){super(he,{code:ProviderDisconnectedError.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(ProviderDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ChainDisconnectedError extends ProviderRpcError{constructor(he){super(he,{code:ChainDisconnectedError.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ChainDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class SwitchChainError extends ProviderRpcError{constructor(he){super(he,{code:SwitchChainError.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(SwitchChainError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class UnknownRpcError extends RpcError{constructor(he){super(he,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const EXECUTION_REVERTED_ERROR_CODE=3;function getContractError(oe,{abi:he,address:ye,args:ve,docsPath:_e,functionName:we,sender:Pe}){const{code:Ie,data:Re,message:ke,shortMessage:Fe}=oe instanceof RawContractError?oe:oe instanceof BaseError?oe.walk(De=>"data"in De)||oe.walk():{},Le=(()=>oe instanceof AbiDecodingZeroDataError?new ContractFunctionZeroDataError({functionName:we}):[EXECUTION_REVERTED_ERROR_CODE,InternalRpcError.code].includes(Ie)&&(Re||ke||Fe)?new ContractFunctionRevertedError({abi:he,data:typeof Re=="object"?Re.data:Re,functionName:we,message:Fe??ke}):oe)();return new ContractFunctionExecutionError(Le,{abi:he,args:ve,contractAddress:ye,docsPath:_e,functionName:we,sender:Pe})}class AccountNotFoundError extends BaseError{constructor({docsPath:he}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:he,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class EstimateGasExecutionError extends BaseError{constructor(he,{account:ye,docsPath:ve,chain:_e,data:we,gas:Pe,gasPrice:Ie,maxFeePerGas:Re,maxPriorityFeePerGas:ke,nonce:Fe,to:Le,value:De}){const je=prettyPrint({from:ye?.address,to:Le,value:typeof De<"u"&&`${formatEther(De)} ${_e?.nativeCurrency.symbol||"ETH"}`,data:we,gas:Pe,gasPrice:typeof Ie<"u"&&`${formatGwei(Ie)} gwei`,maxFeePerGas:typeof Re<"u"&&`${formatGwei(Re)} gwei`,maxPriorityFeePerGas:typeof ke<"u"&&`${formatGwei(ke)} gwei`,nonce:Fe});super(he.shortMessage,{cause:he,docsPath:ve,metaMessages:[...he.metaMessages?[...he.metaMessages," "]:[],"Estimate Gas Arguments:",je].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=he}}class ExecutionRevertedError extends BaseError{constructor({cause:he,message:ye}={}){const ve=ye?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${ve?`with reason: ${ve}`:"for an unknown reason"}.`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(ExecutionRevertedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ExecutionRevertedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class FeeCapTooHighError extends BaseError{constructor({cause:he,maxFeePerGas:ye}={}){super(`The fee cap (\`maxFeePerGas\`${ye?` = ${formatGwei(ye)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(FeeCapTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class FeeCapTooLowError extends BaseError{constructor({cause:he,maxFeePerGas:ye}={}){super(`The fee cap (\`maxFeePerGas\`${ye?` = ${formatGwei(ye)}`:""} gwei) cannot be lower than the block base fee.`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(FeeCapTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class NonceTooHighError extends BaseError{constructor({cause:he,nonce:ye}={}){super(`Nonce provided for the transaction ${ye?`(${ye}) `:""}is higher than the next one expected.`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(NonceTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class NonceTooLowError extends BaseError{constructor({cause:he,nonce:ye}={}){super([`Nonce provided for the transaction ${ye?`(${ye}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(NonceTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class NonceMaxValueError extends BaseError{constructor({cause:he,nonce:ye}={}){super(`Nonce provided for the transaction ${ye?`(${ye}) `:""}exceeds the maximum allowed nonce.`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(NonceMaxValueError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class InsufficientFundsError extends BaseError{constructor({cause:he}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:he,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(InsufficientFundsError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class IntrinsicGasTooHighError extends BaseError{constructor({cause:he,gas:ye}={}){super(`The amount of gas ${ye?`(${ye}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(IntrinsicGasTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class IntrinsicGasTooLowError extends BaseError{constructor({cause:he,gas:ye}={}){super(`The amount of gas ${ye?`(${ye}) `:""}provided for the transaction is too low.`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(IntrinsicGasTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class TransactionTypeNotSupportedError extends BaseError{constructor({cause:he}){super("The transaction type is not supported for this chain.",{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(TransactionTypeNotSupportedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class TipAboveFeeCapError extends BaseError{constructor({cause:he,maxPriorityFeePerGas:ye,maxFeePerGas:ve}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${ye?` = ${formatGwei(ye)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${ve?` = ${formatGwei(ve)} gwei`:""}).`].join(`
`),{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(TipAboveFeeCapError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class UnknownNodeError extends BaseError{constructor({cause:he}){super(`An error occurred while executing: ${he?.shortMessage}`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function getNodeError(oe,he){const ye=(oe.details||"").toLowerCase(),ve=oe.walk(_e=>_e.code===ExecutionRevertedError.code);return ve instanceof BaseError?new ExecutionRevertedError({cause:oe,message:ve.details}):ExecutionRevertedError.nodeMessage.test(ye)?new ExecutionRevertedError({cause:oe,message:oe.details}):FeeCapTooHighError.nodeMessage.test(ye)?new FeeCapTooHighError({cause:oe,maxFeePerGas:he?.maxFeePerGas}):FeeCapTooLowError.nodeMessage.test(ye)?new FeeCapTooLowError({cause:oe,maxFeePerGas:he?.maxFeePerGas}):NonceTooHighError.nodeMessage.test(ye)?new NonceTooHighError({cause:oe,nonce:he?.nonce}):NonceTooLowError.nodeMessage.test(ye)?new NonceTooLowError({cause:oe,nonce:he?.nonce}):NonceMaxValueError.nodeMessage.test(ye)?new NonceMaxValueError({cause:oe,nonce:he?.nonce}):InsufficientFundsError.nodeMessage.test(ye)?new InsufficientFundsError({cause:oe}):IntrinsicGasTooHighError.nodeMessage.test(ye)?new IntrinsicGasTooHighError({cause:oe,gas:he?.gas}):IntrinsicGasTooLowError.nodeMessage.test(ye)?new IntrinsicGasTooLowError({cause:oe,gas:he?.gas}):TransactionTypeNotSupportedError.nodeMessage.test(ye)?new TransactionTypeNotSupportedError({cause:oe}):TipAboveFeeCapError.nodeMessage.test(ye)?new TipAboveFeeCapError({cause:oe,maxFeePerGas:he?.maxFeePerGas,maxPriorityFeePerGas:he?.maxPriorityFeePerGas}):new UnknownNodeError({cause:oe})}function getEstimateGasError(oe,{docsPath:he,...ye}){const ve=(()=>{const _e=getNodeError(oe,ye);return _e instanceof UnknownNodeError?oe:_e})();return new EstimateGasExecutionError(ve,{docsPath:he,...ye})}function extract(oe,{format:he}){return he?Object.keys(he({})).reduce((ve,_e)=>(oe?.hasOwnProperty(_e)&&(ve[_e]=oe[_e]),ve),{}):{}}const rpcTransactionType={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function formatTransactionRequest(oe){return{...oe,gas:typeof oe.gas<"u"?numberToHex(oe.gas):void 0,gasPrice:typeof oe.gasPrice<"u"?numberToHex(oe.gasPrice):void 0,maxFeePerGas:typeof oe.maxFeePerGas<"u"?numberToHex(oe.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof oe.maxPriorityFeePerGas<"u"?numberToHex(oe.maxPriorityFeePerGas):void 0,nonce:typeof oe.nonce<"u"?numberToHex(oe.nonce):void 0,type:typeof oe.type<"u"?rpcTransactionType[oe.type]:void 0,value:typeof oe.value<"u"?numberToHex(oe.value):void 0}}function assertRequest(oe){const{account:he,gasPrice:ye,maxFeePerGas:ve,maxPriorityFeePerGas:_e,to:we}=oe,Pe=he?parseAccount(he):void 0;if(Pe&&!isAddress(Pe.address))throw new InvalidAddressError({address:Pe.address});if(we&&!isAddress(we))throw new InvalidAddressError({address:we});if(typeof ye<"u"&&(typeof ve<"u"||typeof _e<"u"))throw new FeeConflictError;if(ve&&ve>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:ve});if(_e&&ve&&_e>ve)throw new TipAboveFeeCapError({maxFeePerGas:ve,maxPriorityFeePerGas:_e})}class BaseFeeScalarError extends BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Eip1559FeesNotSupportedError extends BaseError{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class MaxFeePerGasTooLowError extends BaseError{constructor({maxPriorityFeePerGas:he}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${formatGwei(he)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class BlockNotFoundError extends BaseError{constructor({blockHash:he,blockNumber:ye}){let ve="Block";he&&(ve=`Block at hash "${he}"`),ye&&(ve=`Block at number "${ye}"`),super(`${ve} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function formatTransaction(oe){const he={...oe,blockHash:oe.blockHash?oe.blockHash:null,blockNumber:oe.blockNumber?BigInt(oe.blockNumber):null,chainId:oe.chainId?hexToNumber$1(oe.chainId):void 0,gas:oe.gas?BigInt(oe.gas):void 0,gasPrice:oe.gasPrice?BigInt(oe.gasPrice):void 0,maxFeePerGas:oe.maxFeePerGas?BigInt(oe.maxFeePerGas):void 0,maxPriorityFeePerGas:oe.maxPriorityFeePerGas?BigInt(oe.maxPriorityFeePerGas):void 0,nonce:oe.nonce?hexToNumber$1(oe.nonce):void 0,to:oe.to?oe.to:null,transactionIndex:oe.transactionIndex?Number(oe.transactionIndex):null,type:oe.type?transactionType[oe.type]:void 0,typeHex:oe.type?oe.type:void 0,value:oe.value?BigInt(oe.value):void 0,v:oe.v?BigInt(oe.v):void 0};return he.type==="legacy"&&(delete he.accessList,delete he.maxFeePerGas,delete he.maxPriorityFeePerGas),he.type==="eip2930"&&(delete he.maxFeePerGas,delete he.maxPriorityFeePerGas),he}function formatBlock(oe){const he=oe.transactions?.map(ye=>typeof ye=="string"?ye:formatTransaction(ye));return{...oe,baseFeePerGas:oe.baseFeePerGas?BigInt(oe.baseFeePerGas):null,difficulty:oe.difficulty?BigInt(oe.difficulty):void 0,gasLimit:oe.gasLimit?BigInt(oe.gasLimit):void 0,gasUsed:oe.gasUsed?BigInt(oe.gasUsed):void 0,hash:oe.hash?oe.hash:null,logsBloom:oe.logsBloom?oe.logsBloom:null,nonce:oe.nonce?oe.nonce:null,number:oe.number?BigInt(oe.number):null,size:oe.size?BigInt(oe.size):void 0,timestamp:oe.timestamp?BigInt(oe.timestamp):void 0,transactions:he,totalDifficulty:oe.totalDifficulty?BigInt(oe.totalDifficulty):null}}async function getBlock(oe,{blockHash:he,blockNumber:ye,blockTag:ve,includeTransactions:_e}={}){const we=ve??"latest",Pe=_e??!1,Ie=ye!==void 0?numberToHex(ye):void 0;let Re=null;if(he?Re=await oe.request({method:"eth_getBlockByHash",params:[he,Pe]}):Re=await oe.request({method:"eth_getBlockByNumber",params:[Ie||we,Pe]}),!Re)throw new BlockNotFoundError({blockHash:he,blockNumber:ye});return(oe.chain?.formatters?.block?.format||formatBlock)(Re)}async function getGasPrice(oe){const he=await oe.request({method:"eth_gasPrice"});return BigInt(he)}async function estimateMaxPriorityFeePerGas(oe,he){return internal_estimateMaxPriorityFeePerGas(oe,he)}async function internal_estimateMaxPriorityFeePerGas(oe,he){const{block:ye,chain:ve=oe.chain,request:_e}=he||{};if(typeof ve?.fees?.defaultPriorityFee=="function"){const we=ye||await getBlock(oe);return ve.fees.defaultPriorityFee({block:we,client:oe,request:_e})}else if(ve?.fees?.defaultPriorityFee)return ve?.fees?.defaultPriorityFee;try{const we=await oe.request({method:"eth_maxPriorityFeePerGas"});return hexToBigInt(we)}catch{const[we,Pe]=await Promise.all([ye?Promise.resolve(ye):getBlock(oe),getGasPrice(oe)]);if(typeof we.baseFeePerGas!="bigint")throw new Eip1559FeesNotSupportedError;const Ie=Pe-we.baseFeePerGas;return Ie<0n?0n:Ie}}async function estimateFeesPerGas(oe,he){return internal_estimateFeesPerGas(oe,he)}async function internal_estimateFeesPerGas(oe,he){const{block:ye,chain:ve=oe.chain,request:_e,type:we="eip1559"}=he||{},Pe=await(async()=>typeof ve?.fees?.baseFeeMultiplier=="function"?ve.fees.baseFeeMultiplier({block:ye,client:oe,request:_e}):ve?.fees?.baseFeeMultiplier??1.2)();if(Pe<1)throw new BaseFeeScalarError;const Re=10**(Pe.toString().split(".")[1]?.length??0),ke=De=>De*BigInt(Math.ceil(Pe*Re))/BigInt(Re),Fe=ye||await getBlock(oe);if(typeof ve?.fees?.estimateFeesPerGas=="function")return ve.fees.estimateFeesPerGas({block:ye,client:oe,multiply:ke,request:_e,type:we});if(we==="eip1559"){if(typeof Fe.baseFeePerGas!="bigint")throw new Eip1559FeesNotSupportedError;const De=_e?.maxPriorityFeePerGas?_e.maxPriorityFeePerGas:await internal_estimateMaxPriorityFeePerGas(oe,{block:Fe,chain:ve,request:_e}),je=ke(Fe.baseFeePerGas);return{maxFeePerGas:_e?.maxFeePerGas??je+De,maxPriorityFeePerGas:De}}return{gasPrice:_e?.gasPrice??ke(await getGasPrice(oe))}}async function getTransactionCount(oe,{address:he,blockTag:ye="latest",blockNumber:ve}){const _e=await oe.request({method:"eth_getTransactionCount",params:[he,ve?numberToHex(ve):ye]});return hexToNumber$1(_e)}function getTransactionType(oe){if(oe.type)return oe.type;if(typeof oe.maxFeePerGas<"u"||typeof oe.maxPriorityFeePerGas<"u")return"eip1559";if(typeof oe.gasPrice<"u")return typeof oe.accessList<"u"?"eip2930":"legacy";throw new InvalidSerializableTransactionError({transaction:oe})}async function prepareTransactionRequest(oe,he){const{account:ye=oe.account,chain:ve,gas:_e,nonce:we,type:Pe}=he;if(!ye)throw new AccountNotFoundError;const Ie=parseAccount(ye),Re=await getBlock(oe,{blockTag:"latest"}),ke={...he,from:Ie.address};if(typeof we>"u"&&(ke.nonce=await getTransactionCount(oe,{address:Ie.address,blockTag:"pending"})),typeof Pe>"u")try{ke.type=getTransactionType(ke)}catch{ke.type=typeof Re.baseFeePerGas=="bigint"?"eip1559":"legacy"}if(ke.type==="eip1559"){const{maxFeePerGas:Fe,maxPriorityFeePerGas:Le}=await internal_estimateFeesPerGas(oe,{block:Re,chain:ve,request:ke});if(typeof he.maxPriorityFeePerGas>"u"&&he.maxFeePerGas&&he.maxFeePerGas<Le)throw new MaxFeePerGasTooLowError({maxPriorityFeePerGas:Le});ke.maxPriorityFeePerGas=Le,ke.maxFeePerGas=Fe}else{if(typeof he.maxFeePerGas<"u"||typeof he.maxPriorityFeePerGas<"u")throw new Eip1559FeesNotSupportedError;const{gasPrice:Fe}=await internal_estimateFeesPerGas(oe,{block:Re,chain:ve,request:ke,type:"legacy"});ke.gasPrice=Fe}return typeof _e>"u"&&(ke.gas=await estimateGas(oe,{...ke,account:{address:Ie.address,type:"json-rpc"}})),assertRequest(ke),ke}async function estimateGas(oe,he){const ye=he.account??oe.account;if(!ye)throw new AccountNotFoundError({docsPath:"/docs/actions/public/estimateGas"});const ve=parseAccount(ye);try{const{accessList:_e,blockNumber:we,blockTag:Pe,data:Ie,gas:Re,gasPrice:ke,maxFeePerGas:Fe,maxPriorityFeePerGas:Le,nonce:De,to:je,value:ze,...qe}=ve.type==="local"?await prepareTransactionRequest(oe,he):he,et=(we?numberToHex(we):void 0)||Pe;assertRequest(he);const rt=oe.chain?.formatters?.transactionRequest?.format||formatTransactionRequest,it=rt({...extract(qe,{format:rt}),from:ve.address,accessList:_e,data:Ie,gas:Re,gasPrice:ke,maxFeePerGas:Fe,maxPriorityFeePerGas:Le,nonce:De,to:je,value:ze}),ht=await oe.request({method:"eth_estimateGas",params:et?[it,et]:[it]});return BigInt(ht)}catch(_e){throw getEstimateGasError(_e,{...he,account:ve,chain:oe.chain})}}async function estimateContractGas(oe,{abi:he,address:ye,args:ve,functionName:_e,...we}){const Pe=encodeFunctionData({abi:he,args:ve,functionName:_e});try{return await estimateGas(oe,{data:Pe,to:ye,...we})}catch(Ie){const Re=we.account?parseAccount(we.account):void 0;throw getContractError(Ie,{abi:he,address:ye,args:ve,docsPath:"/docs/contract/estimateContractGas",functionName:_e,sender:Re?.address})}}const docsPath$2="/docs/contract/decodeEventLog";function decodeEventLog({abi:oe,data:he,strict:ye,topics:ve}){const _e=ye??!0,[we,...Pe]=ve;if(!we)throw new AbiEventSignatureEmptyTopicsError({docsPath:docsPath$2});const Ie=oe.find(ze=>ze.type==="event"&&we===getEventSelector(formatAbiItem(ze)));if(!(Ie&&"name"in Ie)||Ie.type!=="event")throw new AbiEventSignatureNotFoundError(we,{docsPath:docsPath$2});const{name:Re,inputs:ke}=Ie,Fe=ke?.some(ze=>!("name"in ze&&ze.name));let Le=Fe?[]:{};const De=ke.filter(ze=>"indexed"in ze&&ze.indexed);if(Pe.length>0)for(let ze=0;ze<De.length;ze++){const qe=De[ze],We=Pe[ze];if(!We)throw new DecodeLogTopicsMismatch({abiItem:Ie,param:qe});Le[qe.name||ze]=decodeTopic({param:qe,value:We})}const je=ke.filter(ze=>!("indexed"in ze&&ze.indexed));if(je.length>0){if(he&&he!=="0x")try{const ze=decodeAbiParameters(je,he);if(ze)if(Fe)Le=[...Le,...ze];else for(let qe=0;qe<je.length;qe++)Le[je[qe].name]=ze[qe]}catch(ze){if(_e)throw ze instanceof AbiDecodingDataSizeTooSmallError?new DecodeLogDataMismatch({abiItem:Ie,data:ze.data,params:ze.params,size:ze.size}):ze}else if(_e)throw new DecodeLogDataMismatch({abiItem:Ie,data:"0x",params:je,size:0})}return{eventName:Re,args:Object.values(Le).length>0?Le:void 0}}function decodeTopic({param:oe,value:he}){return oe.type==="string"||oe.type==="bytes"||oe.type==="tuple"||oe.type.match(/^(.*)\[(\d+)?\]$/)?he:(decodeAbiParameters([oe],he)||[])[0]}function formatLog(oe,{args:he,eventName:ye}={}){return{...oe,blockHash:oe.blockHash?oe.blockHash:null,blockNumber:oe.blockNumber?BigInt(oe.blockNumber):null,logIndex:oe.logIndex?Number(oe.logIndex):null,transactionHash:oe.transactionHash?oe.transactionHash:null,transactionIndex:oe.transactionIndex?Number(oe.transactionIndex):null,...ye?{args:he,eventName:ye}:{}}}async function getLogs(oe,{address:he,blockHash:ye,fromBlock:ve,toBlock:_e,event:we,events:Pe,args:Ie,strict:Re}={}){const ke=Re??!1,Fe=Pe??(we?[we]:void 0);let Le=[];Fe&&(Le=[Fe.flatMap(je=>encodeEventTopics({abi:[je],eventName:je.name,args:Ie}))],we&&(Le=Le[0]));let De;return ye?De=await oe.request({method:"eth_getLogs",params:[{address:he,topics:Le,blockHash:ye}]}):De=await oe.request({method:"eth_getLogs",params:[{address:he,topics:Le,fromBlock:typeof ve=="bigint"?numberToHex(ve):ve,toBlock:typeof _e=="bigint"?numberToHex(_e):_e}]}),De.map(je=>{try{const{eventName:ze,args:qe}=Fe?decodeEventLog({abi:Fe,data:je.data,topics:je.topics,strict:ke}):{eventName:void 0,args:void 0};return formatLog(je,{args:qe,eventName:ze})}catch(ze){let qe,We;if(ze instanceof DecodeLogDataMismatch||ze instanceof DecodeLogTopicsMismatch){if(ke)return;qe=ze.abiItem.name,We=ze.abiItem.inputs?.some(et=>!("name"in et&&et.name))}return formatLog(je,{args:We?[]:{},eventName:qe})}}).filter(Boolean)}async function getContractEvents(oe,{abi:he,address:ye,args:ve,blockHash:_e,eventName:we,fromBlock:Pe,toBlock:Ie,strict:Re}){const ke=we?getAbiItem({abi:he,name:we}):void 0,Fe=ke?void 0:he.filter(Le=>Le.type==="event");return getLogs(oe,{address:ye,args:ve,blockHash:_e,event:ke,events:Fe,fromBlock:Pe,toBlock:Ie,strict:Re})}const docsPath$1="/docs/contract/decodeFunctionResult";function decodeFunctionResult({abi:oe,args:he,functionName:ye,data:ve}){let _e=oe[0];if(ye&&(_e=getAbiItem({abi:oe,args:he,name:ye}),!_e))throw new AbiFunctionNotFoundError(ye,{docsPath:docsPath$1});if(_e.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:docsPath$1});if(!_e.outputs)throw new AbiFunctionOutputsNotFoundError(_e.name,{docsPath:docsPath$1});const we=decodeAbiParameters(_e.outputs,ve);if(we&&we.length>1)return we;if(we&&we.length===1)return we[0]}const scriptRel="modulepreload",assetsURL=function(oe){return"/"+oe},seen={},__vitePreload=function(he,ye,ve){if(!ye||ye.length===0)return he();const _e=document.getElementsByTagName("link");return Promise.all(ye.map(we=>{if(we=assetsURL(we),we in seen)return;seen[we]=!0;const Pe=we.endsWith(".css"),Ie=Pe?'[rel="stylesheet"]':"";if(!!ve)for(let Fe=_e.length-1;Fe>=0;Fe--){const Le=_e[Fe];if(Le.href===we&&(!Pe||Le.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${we}"]${Ie}`))return;const ke=document.createElement("link");if(ke.rel=Pe?"stylesheet":scriptRel,Pe||(ke.as="script",ke.crossOrigin=""),ke.href=we,document.head.appendChild(ke),Pe)return new Promise((Fe,Le)=>{ke.addEventListener("load",Fe),ke.addEventListener("error",()=>Le(new Error(`Unable to preload CSS for ${we}`)))})})).then(()=>he()).catch(we=>{const Pe=new Event("vite:preloadError",{cancelable:!0});if(Pe.payload=we,window.dispatchEvent(Pe),!Pe.defaultPrevented)throw we})},multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],universalResolverErrors=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],universalResolverResolveAbi=[...universalResolverErrors,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],universalResolverReverseAbi=[...universalResolverErrors,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],addressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],universalSignatureValidatorAbi=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],aggregate3Signature="0x82ad56cb";class ChainDoesNotSupportContract extends BaseError{constructor({blockNumber:he,chain:ye,contract:ve}){super(`Chain "${ye.name}" does not support contract "${ve.name}".`,{metaMessages:["This could be due to any of the following:",...he&&ve.blockCreated&&ve.blockCreated>he?[`- The contract "${ve.name}" was not deployed until block ${ve.blockCreated} (current block ${he}).`]:[`- The chain does not have the contract "${ve.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class ChainMismatchError extends BaseError{constructor({chain:he,currentChainId:ye}){super(`The current chain of the wallet (id: ${ye}) does not match the target chain for the transaction (id: ${he.id}  ${he.name}).`,{metaMessages:[`Current Chain ID:  ${ye}`,`Expected Chain ID: ${he.id}  ${he.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class ChainNotFoundError extends BaseError{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class ClientChainNotConfiguredError extends BaseError{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class InvalidChainIdError extends BaseError{constructor({chainId:he}){super(`Chain ID "${he}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}function assertCurrentChain({chain:oe,currentChainId:he}){if(!oe)throw new ChainNotFoundError;if(he!==oe.id)throw new ChainMismatchError({chain:oe,currentChainId:he})}function defineChain(oe,he={}){const{fees:ye=oe.fees,formatters:ve=oe.formatters,serializers:_e=oe.serializers}=he;return{...oe,fees:ye,formatters:ve,serializers:_e}}function getChainContractAddress({blockNumber:oe,chain:he,contract:ye}){const ve=he?.contracts?.[ye];if(!ve)throw new ChainDoesNotSupportContract({chain:he,contract:{name:ye}});if(oe&&ve.blockCreated&&ve.blockCreated>oe)throw new ChainDoesNotSupportContract({blockNumber:oe,chain:he,contract:{name:ye,blockCreated:ve.blockCreated}});return ve.address}function getCallError(oe,{docsPath:he,...ye}){const ve=(()=>{const _e=getNodeError(oe,ye);return _e instanceof UnknownNodeError?oe:_e})();return new CallExecutionError(ve,{docsPath:he,...ye})}const schedulerCache=new Map;function createBatchScheduler({fn:oe,id:he,shouldSplitBatch:ye,wait:ve=0}){const _e=async()=>{const ke=Ie();we();const Fe=ke.map(({args:Le})=>Le);Fe.length!==0&&oe(Fe).then(Le=>{ke.forEach(({pendingPromise:De},je)=>De.resolve?.([Le[je],Le]))}).catch(Le=>{ke.forEach(({pendingPromise:De})=>De.reject?.(Le))})},we=()=>schedulerCache.delete(he),Pe=()=>Ie().map(({args:ke})=>ke),Ie=()=>schedulerCache.get(he)||[],Re=ke=>schedulerCache.set(he,[...Ie(),ke]);return{flush:we,async schedule(ke){const Fe={},Le=new Promise((ze,qe)=>{Fe.resolve=ze,Fe.reject=qe});return ye?.([...Pe(),ke])&&_e(),Ie().length>0?(Re({args:ke,pendingPromise:Fe}),Le):(Re({args:ke,pendingPromise:Fe}),setTimeout(_e,ve),Le)}}}async function call(oe,he){const{account:ye=oe.account,batch:ve=!!oe.batch?.multicall,blockNumber:_e,blockTag:we="latest",accessList:Pe,data:Ie,gas:Re,gasPrice:ke,maxFeePerGas:Fe,maxPriorityFeePerGas:Le,nonce:De,to:je,value:ze,...qe}=he,We=ye?parseAccount(ye):void 0;try{assertRequest(he);const rt=(_e?numberToHex(_e):void 0)||we,it=oe.chain?.formatters?.transactionRequest?.format||formatTransactionRequest,ht=it({...extract(qe,{format:it}),from:We?.address,accessList:Pe,data:Ie,gas:Re,gasPrice:ke,maxFeePerGas:Fe,maxPriorityFeePerGas:Le,nonce:De,to:je,value:ze});if(ve&&shouldPerformMulticall({request:ht}))try{return await scheduleMulticall(oe,{...ht,blockNumber:_e,blockTag:we})}catch(dt){if(!(dt instanceof ClientChainNotConfiguredError)&&!(dt instanceof ChainDoesNotSupportContract))throw dt}const lt=await oe.request({method:"eth_call",params:rt?[ht,rt]:[ht]});return lt==="0x"?{data:void 0}:{data:lt}}catch(et){const rt=getRevertErrorData(et),{offchainLookup:it,offchainLookupSignature:ht}=await __vitePreload(()=>Promise.resolve().then(()=>ccip),void 0);if(rt?.slice(0,10)===ht&&je)return{data:await it(oe,{data:rt,to:je})};throw getCallError(et,{...he,account:We,chain:oe.chain})}}function shouldPerformMulticall({request:oe}){const{data:he,to:ye,...ve}=oe;return!(!he||he.startsWith(aggregate3Signature)||!ye||Object.values(ve).filter(_e=>typeof _e<"u").length>0)}async function scheduleMulticall(oe,he){const{batchSize:ye=1024,wait:ve=0}=typeof oe.batch?.multicall=="object"?oe.batch.multicall:{},{blockNumber:_e,blockTag:we="latest",data:Pe,multicallAddress:Ie,to:Re}=he;let ke=Ie;if(!ke){if(!oe.chain)throw new ClientChainNotConfiguredError;ke=getChainContractAddress({blockNumber:_e,chain:oe.chain,contract:"multicall3"})}const Le=(_e?numberToHex(_e):void 0)||we,{schedule:De}=createBatchScheduler({id:`${oe.uid}.${Le}`,wait:ve,shouldSplitBatch(qe){return qe.reduce((et,{data:rt})=>et+(rt.length-2),0)>ye*2},fn:async qe=>{const We=qe.map(it=>({allowFailure:!0,callData:it.data,target:it.to})),et=encodeFunctionData({abi:multicall3Abi,args:[We],functionName:"aggregate3"}),rt=await oe.request({method:"eth_call",params:[{data:et,to:ke},Le]});return decodeFunctionResult({abi:multicall3Abi,args:[We],functionName:"aggregate3",data:rt||"0x"})}}),[{returnData:je,success:ze}]=await De({data:Pe,to:Re});if(!ze)throw new RawContractError({data:je});return je==="0x"?{data:void 0}:{data:je}}function getRevertErrorData(oe){if(!(oe instanceof BaseError))return;const he=oe.walk();return typeof he.data=="object"?he.data.data:he.data}async function readContract(oe,{abi:he,address:ye,args:ve,functionName:_e,...we}){const Pe=encodeFunctionData({abi:he,args:ve,functionName:_e});try{const{data:Ie}=await call(oe,{data:Pe,to:ye,...we});return decodeFunctionResult({abi:he,args:ve,functionName:_e,data:Ie||"0x"})}catch(Ie){throw getContractError(Ie,{abi:he,address:ye,args:ve,docsPath:"/docs/contract/readContract",functionName:_e})}}async function simulateContract(oe,{abi:he,address:ye,args:ve,dataSuffix:_e,functionName:we,...Pe}){const Ie=Pe.account?parseAccount(Pe.account):void 0,Re=encodeFunctionData({abi:he,args:ve,functionName:we});try{const{data:ke}=await call(oe,{batch:!1,data:`${Re}${_e?_e.replace("0x",""):""}`,to:ye,...Pe});return{result:decodeFunctionResult({abi:he,args:ve,functionName:we,data:ke||"0x"}),request:{abi:he,address:ye,args:ve,dataSuffix:_e,functionName:we,...Pe}}}catch(ke){throw getContractError(ke,{abi:he,address:ye,args:ve,docsPath:"/docs/contract/simulateContract",functionName:we,sender:Ie?.address})}}const listenersCache=new Map,cleanupCache=new Map;let callbackCount=0;function observe(oe,he,ye){const ve=++callbackCount,_e=()=>listenersCache.get(oe)||[],we=()=>{const Fe=_e();listenersCache.set(oe,Fe.filter(Le=>Le.id!==ve))},Pe=()=>{const Fe=cleanupCache.get(oe);_e().length===1&&Fe&&Fe(),we()},Ie=_e();if(listenersCache.set(oe,[...Ie,{id:ve,fns:he}]),Ie&&Ie.length>0)return Pe;const Re={};for(const Fe in he)Re[Fe]=(...Le)=>{const De=_e();De.length!==0&&De.forEach(je=>je.fns[Fe]?.(...Le))};const ke=ye(Re);return typeof ke=="function"&&cleanupCache.set(oe,ke),Pe}async function wait(oe){return new Promise(he=>setTimeout(he,oe))}function poll(oe,{emitOnBegin:he,initialWaitTime:ye,interval:ve}){let _e=!0;const we=()=>_e=!1;return(async()=>{let Ie;he&&(Ie=await oe({unpoll:we}));const Re=await ye?.(Ie)??ve;await wait(Re);const ke=async()=>{_e&&(await oe({unpoll:we}),await wait(ve),ke())};ke()})(),we}const promiseCache=new Map,responseCache=new Map;function getCache(oe){const he=(_e,we)=>({clear:()=>we.delete(_e),get:()=>we.get(_e),set:Pe=>we.set(_e,Pe)}),ye=he(oe,promiseCache),ve=he(oe,responseCache);return{clear:()=>{ye.clear(),ve.clear()},promise:ye,response:ve}}async function withCache(oe,{cacheKey:he,cacheTime:ye=1/0}){const ve=getCache(he),_e=ve.response.get();if(_e&&ye>0&&new Date().getTime()-_e.created.getTime()<ye)return _e.data;let we=ve.promise.get();we||(we=oe(),ve.promise.set(we));try{const Pe=await we;return ve.response.set({created:new Date,data:Pe}),Pe}finally{ve.promise.clear()}}const cacheKey=oe=>`blockNumber.${oe}`;async function getBlockNumber(oe,{cacheTime:he=oe.cacheTime,maxAge:ye}={}){const ve=await withCache(()=>oe.request({method:"eth_blockNumber"}),{cacheKey:cacheKey(oe.uid),cacheTime:ye??he});return BigInt(ve)}async function getFilterChanges(oe,{filter:he}){const ye="strict"in he&&he.strict;return(await he.request({method:"eth_getFilterChanges",params:[he.id]})).map(_e=>{if(typeof _e=="string")return _e;try{const{eventName:we,args:Pe}="abi"in he&&he.abi?decodeEventLog({abi:he.abi,data:_e.data,topics:_e.topics,strict:ye}):{eventName:void 0,args:void 0};return formatLog(_e,{args:Pe,eventName:we})}catch(we){let Pe,Ie;if(we instanceof DecodeLogDataMismatch||we instanceof DecodeLogTopicsMismatch){if("strict"in he&&he.strict)return;Pe=we.abiItem.name,Ie=we.abiItem.inputs?.some(Re=>!("name"in Re&&Re.name))}return formatLog(_e,{args:Ie?[]:{},eventName:Pe})}}).filter(Boolean)}async function uninstallFilter(oe,{filter:he}){return he.request({method:"eth_uninstallFilter",params:[he.id]})}function watchContractEvent(oe,{abi:he,address:ye,args:ve,batch:_e=!0,eventName:we,onError:Pe,onLogs:Ie,poll:Re,pollingInterval:ke=oe.pollingInterval,strict:Fe}){return(typeof Re<"u"?Re:oe.transport.type!=="webSocket")?(()=>{const ze=stringify(["watchContractEvent",ye,ve,_e,oe.uid,we,ke]),qe=Fe??!1;return observe(ze,{onLogs:Ie,onError:Pe},We=>{let et,rt,it=!1;const ht=poll(async()=>{if(!it){try{rt=await createContractEventFilter(oe,{abi:he,address:ye,args:ve,eventName:we,strict:qe})}catch{}it=!0;return}try{let lt;if(rt)lt=await getFilterChanges(oe,{filter:rt});else{const dt=await getBlockNumber(oe);et&&et!==dt?lt=await getContractEvents(oe,{abi:he,address:ye,args:ve,fromBlock:et+1n,toBlock:dt,strict:qe}):lt=[],et=dt}if(lt.length===0)return;_e?We.onLogs(lt):lt.forEach(dt=>We.onLogs([dt]))}catch(lt){rt&&lt instanceof InvalidInputRpcError&&(it=!1),We.onError?.(lt)}},{emitOnBegin:!0,interval:ke});return async()=>{rt&&await uninstallFilter(oe,{filter:rt}),ht()}})})():(()=>{let ze=!0,qe=()=>ze=!1;return(async()=>{try{const We=we?encodeEventTopics({abi:he,eventName:we,args:ve}):[],{unsubscribe:et}=await oe.transport.subscribe({params:["logs",{address:ye,topics:We}],onData(rt){if(!ze)return;const it=rt.result;try{const{eventName:ht,args:lt}=decodeEventLog({abi:he,data:it.data,topics:it.topics,strict:Fe}),dt=formatLog(it,{args:lt,eventName:ht});Ie([dt])}catch(ht){let lt,dt;if(ht instanceof DecodeLogDataMismatch||ht instanceof DecodeLogTopicsMismatch){if(Fe)return;lt=ht.abiItem.name,dt=ht.abiItem.inputs?.some(Pt=>!("name"in Pt&&Pt.name))}const At=formatLog(it,{args:dt?[]:{},eventName:lt});Ie([At])}},onError(rt){Pe?.(rt)}});qe=et,ze||qe()}catch(We){Pe?.(We)}})(),qe})()}function getTransactionError(oe,{docsPath:he,...ye}){const ve=(()=>{const _e=getNodeError(oe,ye);return _e instanceof UnknownNodeError?oe:_e})();return new TransactionExecutionError(ve,{docsPath:he,...ye})}async function getChainId(oe){const he=await oe.request({method:"eth_chainId"});return hexToNumber$1(he)}async function sendRawTransaction(oe,{serializedTransaction:he}){return oe.request({method:"eth_sendRawTransaction",params:[he]})}async function sendTransaction(oe,he){const{account:ye=oe.account,chain:ve=oe.chain,accessList:_e,data:we,gas:Pe,gasPrice:Ie,maxFeePerGas:Re,maxPriorityFeePerGas:ke,nonce:Fe,to:Le,value:De,...je}=he;if(!ye)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const ze=parseAccount(ye);try{assertRequest(he);let qe;if(ve!==null&&(qe=await getChainId(oe),assertCurrentChain({currentChainId:qe,chain:ve})),ze.type==="local"){const rt=await prepareTransactionRequest(oe,{account:ze,accessList:_e,chain:ve,data:we,gas:Pe,gasPrice:Ie,maxFeePerGas:Re,maxPriorityFeePerGas:ke,nonce:Fe,to:Le,value:De,...je});qe||(qe=await getChainId(oe));const it=ve?.serializers?.transaction,ht=await ze.signTransaction({...rt,chainId:qe},{serializer:it});return await sendRawTransaction(oe,{serializedTransaction:ht})}const We=ve?.formatters?.transactionRequest?.format||formatTransactionRequest,et=We({...extract(je,{format:We}),accessList:_e,data:we,from:ze.address,gas:Pe,gasPrice:Ie,maxFeePerGas:Re,maxPriorityFeePerGas:ke,nonce:Fe,to:Le,value:De});return await oe.request({method:"eth_sendTransaction",params:[et]})}catch(qe){throw getTransactionError(qe,{...he,account:ze,chain:he.chain||void 0})}}async function writeContract(oe,{abi:he,address:ye,args:ve,dataSuffix:_e,functionName:we,...Pe}){const Ie=encodeFunctionData({abi:he,args:ve,functionName:we});return await sendTransaction(oe,{data:`${Ie}${_e?_e.replace("0x",""):""}`,to:ye,...Pe})}function getContract({abi:oe,address:he,publicClient:ye,walletClient:ve}){const _e=ye!=null,we=ve!=null,Pe={};let Ie=!1,Re=!1,ke=!1;for(const Fe of oe)if(Fe.type==="function"?Fe.stateMutability==="view"||Fe.stateMutability==="pure"?Ie=!0:Re=!0:Fe.type==="event"&&(ke=!0),Ie&&Re&&ke)break;return _e&&(Ie&&(Pe.read=new Proxy({},{get(Fe,Le){return(...De)=>{const{args:je,options:ze}=getFunctionParameters(De);return readContract(ye,{abi:oe,address:he,functionName:Le,args:je,...ze})}}})),Re&&(Pe.simulate=new Proxy({},{get(Fe,Le){return(...De)=>{const{args:je,options:ze}=getFunctionParameters(De);return simulateContract(ye,{abi:oe,address:he,functionName:Le,args:je,...ze})}}})),ke&&(Pe.createEventFilter=new Proxy({},{get(Fe,Le){return(...De)=>{const je=oe.find(We=>We.type==="event"&&We.name===Le),{args:ze,options:qe}=getEventParameters(De,je);return createContractEventFilter(ye,{abi:oe,address:he,eventName:Le,args:ze,...qe})}}}),Pe.getEvents=new Proxy({},{get(Fe,Le){return(...De)=>{const je=oe.find(We=>We.type==="event"&&We.name===Le),{args:ze,options:qe}=getEventParameters(De,je);return getContractEvents(ye,{abi:oe,address:he,eventName:Le,args:ze,...qe})}}}),Pe.watchEvent=new Proxy({},{get(Fe,Le){return(...De)=>{const je=oe.find(We=>We.type==="event"&&We.name===Le),{args:ze,options:qe}=getEventParameters(De,je);return watchContractEvent(ye,{abi:oe,address:he,eventName:Le,args:ze,...qe})}}}))),we&&Re&&(Pe.write=new Proxy({},{get(Fe,Le){return(...De)=>{const{args:je,options:ze}=getFunctionParameters(De);return writeContract(ve,{abi:oe,address:he,functionName:Le,args:je,...ze})}}})),(_e||we)&&Re&&(Pe.estimateGas=new Proxy({},{get(Fe,Le){return(...De)=>{const{args:je,options:ze}=getFunctionParameters(De);return estimateContractGas(ye??ve,{abi:oe,address:he,functionName:Le,args:je,...ze,account:ze.account??ve.account})}}})),Pe.address=he,Pe.abi=oe,Pe}function getFunctionParameters(oe){const he=oe.length&&Array.isArray(oe[0]),ye=he?oe[0]:[],ve=(he?oe[1]:oe[0])??{};return{args:ye,options:ve}}function getEventParameters(oe,he){let ye=!1;Array.isArray(oe[0])?ye=!0:oe.length===1?ye=he.inputs.some(we=>we.indexed):oe.length===2&&(ye=!0);const ve=ye?oe[0]:void 0,_e=(ye?oe[1]:oe[0])??{};return{args:ve,options:_e}}async function addChain(oe,{chain:he}){const{id:ye,name:ve,nativeCurrency:_e,rpcUrls:we,blockExplorers:Pe}=he;await oe.request({method:"wallet_addEthereumChain",params:[{chainId:numberToHex(ye),chainName:ve,nativeCurrency:_e,rpcUrls:we.default.http,blockExplorerUrls:Pe?Object.values(Pe).map(({url:Ie})=>Ie):void 0}]})}function publicKeyToAddress(oe){const he=keccak256(`0x${oe.substring(4)}`).substring(26);return checksumAddress(`0x${he}`)}const size=256;let index=size,buffer;function uid(oe=11){if(!buffer||index+oe>size*2){buffer="",index=0;for(let he=0;he<size;he++)buffer+=(256+Math.random()*256|0).toString(16).substring(1)}return buffer.substring(index,index+++oe)}function createClient(oe){const{batch:he,cacheTime:ye=oe.pollingInterval??4e3,key:ve="base",name:_e="Base Client",pollingInterval:we=4e3,type:Pe="base"}=oe,Ie=oe.chain,Re=oe.account?parseAccount(oe.account):void 0,{config:ke,request:Fe,value:Le}=oe.transport({chain:Ie,pollingInterval:we}),De={...ke,...Le},je={account:Re,batch:he,cacheTime:ye,chain:Ie,key:ve,name:_e,pollingInterval:we,request:Fe,transport:De,type:Pe,uid:uid()};function ze(qe){return We=>{const et=We(qe);for(const it in je)delete et[it];const rt={...qe,...et};return Object.assign(rt,{extend:ze(rt)})}}return Object.assign(je,{extend:ze(je)})}function withRetry(oe,{delay:he=100,retryCount:ye=2,shouldRetry:ve=()=>!0}={}){return new Promise((_e,we)=>{const Pe=async({count:Ie=0}={})=>{const Re=async({error:ke})=>{const Fe=typeof he=="function"?he({count:Ie,error:ke}):he;Fe&&await wait(Fe),Pe({count:Ie+1})};try{const ke=await oe();_e(ke)}catch(ke){if(Ie<ye&&await ve({count:Ie,error:ke}))return Re({error:ke});we(ke)}};Pe()})}const isDeterministicError=oe=>"code"in oe?oe.code!==-1&&oe.code!==-32004&&oe.code!==-32005&&oe.code!==-32042&&oe.code!==-32603:oe instanceof HttpRequestError&&oe.status?oe.status!==403&&oe.status!==408&&oe.status!==413&&oe.status!==429&&oe.status!==500&&oe.status!==502&&oe.status!==503&&oe.status!==504:!1;function buildRequest(oe,{retryDelay:he=150,retryCount:ye=3}={}){return async ve=>withRetry(async()=>{try{return await oe(ve)}catch(_e){const we=_e;switch(we.code){case ParseRpcError.code:throw new ParseRpcError(we);case InvalidRequestRpcError.code:throw new InvalidRequestRpcError(we);case MethodNotFoundRpcError.code:throw new MethodNotFoundRpcError(we);case InvalidParamsRpcError.code:throw new InvalidParamsRpcError(we);case InternalRpcError.code:throw new InternalRpcError(we);case InvalidInputRpcError.code:throw new InvalidInputRpcError(we);case ResourceNotFoundRpcError.code:throw new ResourceNotFoundRpcError(we);case ResourceUnavailableRpcError.code:throw new ResourceUnavailableRpcError(we);case TransactionRejectedRpcError.code:throw new TransactionRejectedRpcError(we);case MethodNotSupportedRpcError.code:throw new MethodNotSupportedRpcError(we);case LimitExceededRpcError.code:throw new LimitExceededRpcError(we);case JsonRpcVersionUnsupportedError.code:throw new JsonRpcVersionUnsupportedError(we);case UserRejectedRequestError.code:throw new UserRejectedRequestError(we);case UnauthorizedProviderError.code:throw new UnauthorizedProviderError(we);case UnsupportedProviderMethodError.code:throw new UnsupportedProviderMethodError(we);case ProviderDisconnectedError.code:throw new ProviderDisconnectedError(we);case ChainDisconnectedError.code:throw new ChainDisconnectedError(we);case SwitchChainError.code:throw new SwitchChainError(we);case 5e3:throw new UserRejectedRequestError(we);default:throw _e instanceof BaseError?_e:new UnknownRpcError(we)}}},{delay:({count:_e,error:we})=>{if(we&&we instanceof HttpRequestError){const Pe=we?.headers?.get("Retry-After");if(Pe?.match(/\d/))return parseInt(Pe)*1e3}return~~(1<<_e)*he},retryCount:ye,shouldRetry:({error:_e})=>!isDeterministicError(_e)})}function createTransport({key:oe,name:he,request:ye,retryCount:ve=3,retryDelay:_e=150,timeout:we,type:Pe},Ie){return{config:{key:oe,name:he,request:ye,retryCount:ve,retryDelay:_e,timeout:we,type:Pe},request:buildRequest(ye,{retryCount:ve,retryDelay:_e}),value:Ie}}function custom(oe,he={}){const{key:ye="custom",name:ve="Custom Provider",retryDelay:_e}=he;return({retryCount:we})=>createTransport({key:ye,name:ve,request:oe.request.bind(oe),retryCount:he.retryCount??we,retryDelay:_e,type:"custom"})}function fallback(oe,he={}){const{key:ye="fallback",name:ve="Fallback",rank:_e=!1,retryCount:we,retryDelay:Pe}=he;return({chain:Ie,pollingInterval:Re=4e3,timeout:ke})=>{let Fe=oe,Le=()=>{};const De=createTransport({key:ye,name:ve,async request({method:je,params:ze}){const qe=async(We=0)=>{const et=Fe[We]({chain:Ie,retryCount:0,timeout:ke});try{const rt=await et.request({method:je,params:ze});return Le({method:je,params:ze,response:rt,transport:et,status:"success"}),rt}catch(rt){if(Le({error:rt,method:je,params:ze,transport:et,status:"error"}),isDeterministicError(rt)||We===Fe.length-1)throw rt;return qe(We+1)}};return qe()},retryCount:we,retryDelay:Pe,type:"fallback"},{onResponse:je=>Le=je,transports:Fe.map(je=>je({chain:Ie,retryCount:0}))});if(_e){const je=typeof _e=="object"?_e:{};rankTransports({chain:Ie,interval:je.interval??Re,onTransports:ze=>Fe=ze,sampleCount:je.sampleCount,timeout:je.timeout,transports:Fe,weights:je.weights})}return De}}function rankTransports({chain:oe,interval:he=4e3,onTransports:ye,sampleCount:ve=10,timeout:_e=1e3,transports:we,weights:Pe={}}){const{stability:Ie=.7,latency:Re=.3}=Pe,ke=[],Fe=async()=>{const Le=await Promise.all(we.map(async ze=>{const qe=ze({chain:oe,retryCount:0,timeout:_e}),We=Date.now();let et,rt;try{await qe.request({method:"net_listening"}),rt=1}catch{rt=0}finally{et=Date.now()}return{latency:et-We,success:rt}}));ke.push(Le),ke.length>ve&&ke.shift();const De=Math.max(...ke.map(ze=>Math.max(...ze.map(({latency:qe})=>qe)))),je=we.map((ze,qe)=>{const We=ke.map(lt=>lt[qe].latency),rt=1-We.reduce((lt,dt)=>lt+dt,0)/We.length/De,it=ke.map(lt=>lt[qe].success),ht=it.reduce((lt,dt)=>lt+dt,0)/it.length;return ht===0?[0,qe]:[Re*rt+Ie*ht,qe]}).sort((ze,qe)=>qe[0]-ze[0]);ye(je.map(([,ze])=>we[ze])),await wait(he),Fe()};Fe()}class UrlRequiredError extends BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}var ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof globalThis<"u"?ws=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);const WebSocket$1=ws;function withTimeout(oe,{errorInstance:he,timeout:ye,signal:ve}){return new Promise((_e,we)=>{(async()=>{let Pe;try{const Ie=new AbortController;ye>0&&(Pe=setTimeout(()=>{ve?Ie.abort():we(he)},ye)),_e(await oe({signal:Ie?.signal}))}catch(Ie){Ie.name==="AbortError"&&we(he),we(Ie)}finally{clearTimeout(Pe)}})()})}let id=0;async function http$1(oe,{body:he,fetchOptions:ye={},timeout:ve=1e4}){const{headers:_e,method:we,signal:Pe}=ye;try{const Ie=await withTimeout(async({signal:ke})=>await fetch(oe,{...ye,body:Array.isArray(he)?stringify(he.map(Le=>({jsonrpc:"2.0",id:Le.id??id++,...Le}))):stringify({jsonrpc:"2.0",id:he.id??id++,...he}),headers:{..._e,"Content-Type":"application/json"},method:we||"POST",signal:Pe||(ve>0?ke:void 0)}),{errorInstance:new TimeoutError$1({body:he,url:oe}),timeout:ve,signal:!0});let Re;if(Ie.headers.get("Content-Type")?.startsWith("application/json")?Re=await Ie.json():Re=await Ie.text(),!Ie.ok)throw new HttpRequestError({body:he,details:stringify(Re.error)||Ie.statusText,headers:Ie.headers,status:Ie.status,url:oe});return Re}catch(Ie){throw Ie instanceof HttpRequestError||Ie instanceof TimeoutError$1?Ie:new HttpRequestError({body:he,details:Ie.message,url:oe})}}const socketsCache=new Map;async function getSocket(oe){let he=socketsCache.get(oe);if(he)return he;const{schedule:ye}=createBatchScheduler({id:oe,fn:async()=>{let we=WebSocket$1;WebSocket$1.constructor||(we=WebSocket$1.WebSocket);const Pe=new we(oe),Ie=new Map,Re=new Map,ke=({data:Le})=>{const De=JSON.parse(Le),je=De.method==="eth_subscription",ze=je?De.params.subscription:De.id,qe=je?Re:Ie,We=qe.get(ze);We&&We({data:Le}),je||qe.delete(ze)},Fe=()=>{socketsCache.delete(oe),Pe.removeEventListener("close",Fe),Pe.removeEventListener("message",ke)};return Pe.addEventListener("close",Fe),Pe.addEventListener("message",ke),Pe.readyState===WebSocket$1.CONNECTING&&await new Promise((Le,De)=>{Pe&&(Pe.onopen=Le,Pe.onerror=De)}),he=Object.assign(Pe,{requests:Ie,subscriptions:Re}),socketsCache.set(oe,he),[he]}}),[ve,[_e]]=await ye();return _e}function webSocket$1(oe,{body:he,onResponse:ye}){if(oe.readyState===oe.CLOSED||oe.readyState===oe.CLOSING)throw new WebSocketRequestError({body:he,url:oe.url,details:"Socket is closed."});const ve=id++,_e=({data:we})=>{const Pe=JSON.parse(we);typeof Pe.id=="number"&&ve!==Pe.id||(ye?.(Pe),he.method==="eth_subscribe"&&typeof Pe.result=="string"&&oe.subscriptions.set(Pe.result,_e),he.method==="eth_unsubscribe"&&oe.subscriptions.delete(he.params?.[0]))};return oe.requests.set(ve,_e),oe.send(JSON.stringify({jsonrpc:"2.0",...he,id:ve})),oe}async function webSocketAsync(oe,{body:he,timeout:ye=1e4}){return withTimeout(()=>new Promise(ve=>rpc.webSocket(oe,{body:he,onResponse:ve})),{errorInstance:new TimeoutError$1({body:he,url:oe.url}),timeout:ye})}const rpc={http:http$1,webSocket:webSocket$1,webSocketAsync};function http(oe,he={}){const{batch:ye,fetchOptions:ve,key:_e="http",name:we="HTTP JSON-RPC",retryDelay:Pe}=he;return({chain:Ie,retryCount:Re,timeout:ke})=>{const{batchSize:Fe=1e3,wait:Le=0}=typeof ye=="object"?ye:{},De=he.retryCount??Re,je=ke??he.timeout??1e4,ze=oe||Ie?.rpcUrls.default.http[0];if(!ze)throw new UrlRequiredError;return createTransport({key:_e,name:we,async request({method:qe,params:We}){const et={method:qe,params:We},{schedule:rt}=createBatchScheduler({id:`${oe}`,wait:Le,shouldSplitBatch(dt){return dt.length>Fe},fn:dt=>rpc.http(ze,{body:dt,fetchOptions:ve,timeout:je})}),it=async dt=>ye?rt(dt):[await rpc.http(ze,{body:dt,fetchOptions:ve,timeout:je})],[{error:ht,result:lt}]=await it(et);if(ht)throw new RpcRequestError({body:et,error:ht,url:ze});return lt},retryCount:De,retryDelay:Pe,timeout:je,type:"http"},{url:oe})}}function isNullUniversalResolverError(oe,he){if(!(oe instanceof BaseError))return!1;const ye=oe.walk(ve=>ve instanceof ContractFunctionRevertedError);return ye instanceof ContractFunctionRevertedError?!!(ye.data?.errorName==="ResolverNotFound"||ye.data?.errorName==="ResolverWildcardNotSupported"||ye.reason?.includes("Wildcard on non-extended resolvers is not supported")||he==="reverse"&&ye.reason===panicReasons[50]):!1}function encodedLabelToLabelhash(oe){if(oe.length!==66||oe.indexOf("[")!==0||oe.indexOf("]")!==65)return null;const he=`0x${oe.slice(1,65)}`;return isHex(he)?he:null}function namehash(oe){let he=new Uint8Array(32).fill(0);if(!oe)return bytesToHex$1(he);const ye=oe.split(".");for(let ve=ye.length-1;ve>=0;ve-=1){const _e=encodedLabelToLabelhash(ye[ve]),we=_e?toBytes$1(_e):keccak256(stringToBytes(ye[ve]),"bytes");he=keccak256(concat([he,we]),"bytes")}return bytesToHex$1(he)}function encodeLabelhash(oe){return`[${oe.slice(2)}]`}function labelhash(oe){const he=new Uint8Array(32).fill(0);return oe?encodedLabelToLabelhash(oe)||keccak256(stringToBytes(oe)):bytesToHex$1(he)}function packetToBytes(oe){const he=oe.replace(/^\.|\.$/gm,"");if(he.length===0)return new Uint8Array(1);const ye=new Uint8Array(stringToBytes(he).byteLength+2);let ve=0;const _e=he.split(".");for(let we=0;we<_e.length;we++){let Pe=stringToBytes(_e[we]);Pe.byteLength>255&&(Pe=stringToBytes(encodeLabelhash(labelhash(_e[we])))),ye[ve]=Pe.length,ye.set(Pe,ve+1),ve+=Pe.length+1}return ye.byteLength!==ve+1?ye.slice(0,ve+1):ye}async function getEnsAddress(oe,{blockNumber:he,blockTag:ye,coinType:ve,name:_e,universalResolverAddress:we}){let Pe=we;if(!Pe){if(!oe.chain)throw new Error("client chain not configured. universalResolverAddress is required.");Pe=getChainContractAddress({blockNumber:he,chain:oe.chain,contract:"ensUniversalResolver"})}try{const Ie=encodeFunctionData({abi:addressResolverAbi,functionName:"addr",...ve!=null?{args:[namehash(_e),BigInt(ve)]}:{args:[namehash(_e)]}}),Re=await readContract(oe,{address:Pe,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(_e)),Ie],blockNumber:he,blockTag:ye});if(Re[0]==="0x")return null;const ke=decodeFunctionResult({abi:addressResolverAbi,args:ve!=null?[namehash(_e),BigInt(ve)]:void 0,functionName:"addr",data:Re[0]});return ke==="0x"||trim(ke)==="0x00"?null:ke}catch(Ie){if(isNullUniversalResolverError(Ie,"resolve"))return null;throw Ie}}class EnsAvatarInvalidMetadataError extends BaseError{constructor({data:he}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(he)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class EnsAvatarInvalidNftUriError extends BaseError{constructor({reason:he}){super(`ENS NFT avatar URI is invalid. ${he}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class EnsAvatarUriResolutionError extends BaseError{constructor({uri:he}){super(`Unable to resolve ENS avatar URI "${he}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class EnsAvatarUnsupportedNamespaceError extends BaseError{constructor({namespace:he}){super(`ENS NFT avatar namespace "${he}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const networkRegex=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ipfsHashRegex=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,base64Regex=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,dataURIRegex=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function isImageUri(oe){try{const he=await fetch(oe,{method:"HEAD"});return he.status===200?he.headers.get("content-type")?.startsWith("image/"):!1}catch(he){return typeof he=="object"&&typeof he.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(ye=>{const ve=new Image;ve.onload=()=>{ye(!0)},ve.onerror=()=>{ye(!1)},ve.src=oe})}}function getGateway(oe,he){return oe?oe.endsWith("/")?oe.slice(0,-1):oe:he}function resolveAvatarUri({uri:oe,gatewayUrls:he}){const ye=base64Regex.test(oe);if(ye)return{uri:oe,isOnChain:!0,isEncoded:ye};const ve=getGateway(he?.ipfs,"https://ipfs.io"),_e=getGateway(he?.arweave,"https://arweave.net"),we=oe.match(networkRegex),{protocol:Pe,subpath:Ie,target:Re,subtarget:ke=""}=we?.groups||{},Fe=Pe==="ipns:/"||Ie==="ipns/",Le=Pe==="ipfs:/"||Ie==="ipfs/"||ipfsHashRegex.test(oe);if(oe.startsWith("http")&&!Fe&&!Le){let je=oe;return he?.arweave&&(je=oe.replace(/https:\/\/arweave.net/g,he?.arweave)),{uri:je,isOnChain:!1,isEncoded:!1}}if((Fe||Le)&&Re)return{uri:`${ve}/${Fe?"ipns":"ipfs"}/${Re}${ke}`,isOnChain:!1,isEncoded:!1};if(Pe==="ar:/"&&Re)return{uri:`${_e}/${Re}${ke||""}`,isOnChain:!1,isEncoded:!1};let De=oe.replace(dataURIRegex,"");if(De.startsWith("<svg")&&(De=`data:image/svg+xml;base64,${btoa(De)}`),De.startsWith("data:")||De.startsWith("{"))return{uri:De,isOnChain:!0,isEncoded:!1};throw new EnsAvatarUriResolutionError({uri:oe})}function getJsonImage(oe){if(typeof oe!="object"||!("image"in oe)&&!("image_url"in oe)&&!("image_data"in oe))throw new EnsAvatarInvalidMetadataError({data:oe});return oe.image||oe.image_url||oe.image_data}async function getMetadataAvatarUri({gatewayUrls:oe,uri:he}){try{const ye=await fetch(he).then(_e=>_e.json());return await parseAvatarUri({gatewayUrls:oe,uri:getJsonImage(ye)})}catch{throw new EnsAvatarUriResolutionError({uri:he})}}async function parseAvatarUri({gatewayUrls:oe,uri:he}){const{uri:ye,isOnChain:ve}=resolveAvatarUri({uri:he,gatewayUrls:oe});if(ve||await isImageUri(ye))return ye;throw new EnsAvatarUriResolutionError({uri:he})}function parseNftUri(oe){let he=oe;he.startsWith("did:nft:")&&(he=he.replace("did:nft:","").replace(/_/g,"/"));const[ye,ve,_e]=he.split("/"),[we,Pe]=ye.split(":"),[Ie,Re]=ve.split(":");if(!we||we.toLowerCase()!=="eip155")throw new EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!Pe)throw new EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!Re)throw new EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!_e)throw new EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!Ie)throw new EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:parseInt(Pe),namespace:Ie.toLowerCase(),contractAddress:Re,tokenID:_e}}async function getNftTokenUri(oe,{nft:he}){if(he.namespace==="erc721")return readContract(oe,{address:he.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(he.tokenID)]});if(he.namespace==="erc1155")return readContract(oe,{address:he.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(he.tokenID)]});throw new EnsAvatarUnsupportedNamespaceError({namespace:he.namespace})}async function parseAvatarRecord(oe,{gatewayUrls:he,record:ye}){return/eip155:/i.test(ye)?parseNftAvatarUri(oe,{gatewayUrls:he,record:ye}):parseAvatarUri({uri:ye,gatewayUrls:he})}async function parseNftAvatarUri(oe,{gatewayUrls:he,record:ye}){const ve=parseNftUri(ye),_e=await getNftTokenUri(oe,{nft:ve}),{uri:we,isOnChain:Pe,isEncoded:Ie}=resolveAvatarUri({uri:_e,gatewayUrls:he});if(Pe&&(we.includes("data:application/json;base64,")||we.startsWith("{"))){const ke=Ie?atob(we.replace("data:application/json;base64,","")):we,Fe=JSON.parse(ke);return parseAvatarUri({uri:getJsonImage(Fe),gatewayUrls:he})}let Re=ve.tokenID;return ve.namespace==="erc1155"&&(Re=Re.replace("0x","").padStart(64,"0")),getMetadataAvatarUri({gatewayUrls:he,uri:we.replace(/(?:0x)?{id}/,Re)})}async function getEnsText(oe,{blockNumber:he,blockTag:ye,name:ve,key:_e,universalResolverAddress:we}){let Pe=we;if(!Pe){if(!oe.chain)throw new Error("client chain not configured. universalResolverAddress is required.");Pe=getChainContractAddress({blockNumber:he,chain:oe.chain,contract:"ensUniversalResolver"})}try{const Ie=await readContract(oe,{address:Pe,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(ve)),encodeFunctionData({abi:textResolverAbi,functionName:"text",args:[namehash(ve),_e]})],blockNumber:he,blockTag:ye});if(Ie[0]==="0x")return null;const Re=decodeFunctionResult({abi:textResolverAbi,functionName:"text",data:Ie[0]});return Re===""?null:Re}catch(Ie){if(isNullUniversalResolverError(Ie,"resolve"))return null;throw Ie}}async function getEnsAvatar(oe,{blockNumber:he,blockTag:ye,gatewayUrls:ve,name:_e,universalResolverAddress:we}){const Pe=await getEnsText(oe,{blockNumber:he,blockTag:ye,key:"avatar",name:_e,universalResolverAddress:we});if(!Pe)return null;try{return await parseAvatarRecord(oe,{record:Pe,gatewayUrls:ve})}catch{return null}}async function getEnsName(oe,{address:he,blockNumber:ye,blockTag:ve,universalResolverAddress:_e}){let we=_e;if(!we){if(!oe.chain)throw new Error("client chain not configured. universalResolverAddress is required.");we=getChainContractAddress({blockNumber:ye,chain:oe.chain,contract:"ensUniversalResolver"})}const Pe=`${he.toLowerCase().substring(2)}.addr.reverse`;try{return(await readContract(oe,{address:we,abi:universalResolverReverseAbi,functionName:"reverse",args:[toHex(packetToBytes(Pe))],blockNumber:ye,blockTag:ve}))[0]}catch(Ie){if(isNullUniversalResolverError(Ie,"reverse"))return null;throw Ie}}async function getEnsResolver(oe,{blockNumber:he,blockTag:ye,name:ve,universalResolverAddress:_e}){let we=_e;if(!we){if(!oe.chain)throw new Error("client chain not configured. universalResolverAddress is required.");we=getChainContractAddress({blockNumber:he,chain:oe.chain,contract:"ensUniversalResolver"})}const[Pe]=await readContract(oe,{address:we,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[toHex(packetToBytes(ve))],blockNumber:he,blockTag:ye});return Pe}async function createBlockFilter(oe){const he=createFilterRequestScope(oe,{method:"eth_newBlockFilter"}),ye=await oe.request({method:"eth_newBlockFilter"});return{id:ye,request:he(ye),type:"block"}}async function createEventFilter(oe,{address:he,args:ye,event:ve,events:_e,fromBlock:we,strict:Pe,toBlock:Ie}={}){const Re=_e??(ve?[ve]:void 0),ke=createFilterRequestScope(oe,{method:"eth_newFilter"});let Fe=[];Re&&(Fe=[Re.flatMap(De=>encodeEventTopics({abi:[De],eventName:De.name,args:ye}))],ve&&(Fe=Fe[0]));const Le=await oe.request({method:"eth_newFilter",params:[{address:he,fromBlock:typeof we=="bigint"?numberToHex(we):we,toBlock:typeof Ie=="bigint"?numberToHex(Ie):Ie,...Fe.length?{topics:Fe}:{}}]});return{abi:Re,args:ye,eventName:ve?ve.name:void 0,fromBlock:we,id:Le,request:ke(Le),strict:Pe,toBlock:Ie,type:"event"}}async function createPendingTransactionFilter(oe){const he=createFilterRequestScope(oe,{method:"eth_newPendingTransactionFilter"}),ye=await oe.request({method:"eth_newPendingTransactionFilter"});return{id:ye,request:he(ye),type:"transaction"}}async function getBalance(oe,{address:he,blockNumber:ye,blockTag:ve="latest"}){const _e=ye?numberToHex(ye):void 0,we=await oe.request({method:"eth_getBalance",params:[he,_e||ve]});return BigInt(we)}async function getBlockTransactionCount(oe,{blockHash:he,blockNumber:ye,blockTag:ve="latest"}={}){const _e=ye!==void 0?numberToHex(ye):void 0;let we;return he?we=await oe.request({method:"eth_getBlockTransactionCountByHash",params:[he]}):we=await oe.request({method:"eth_getBlockTransactionCountByNumber",params:[_e||ve]}),hexToNumber$1(we)}async function getBytecode(oe,{address:he,blockNumber:ye,blockTag:ve="latest"}){const _e=ye!==void 0?numberToHex(ye):void 0,we=await oe.request({method:"eth_getCode",params:[he,_e||ve]});if(we!=="0x")return we}function formatFeeHistory(oe){return{baseFeePerGas:oe.baseFeePerGas.map(he=>BigInt(he)),gasUsedRatio:oe.gasUsedRatio,oldestBlock:BigInt(oe.oldestBlock),reward:oe.reward?.map(he=>he.map(ye=>BigInt(ye)))}}async function getFeeHistory(oe,{blockCount:he,blockNumber:ye,blockTag:ve="latest",rewardPercentiles:_e}){const we=ye?numberToHex(ye):void 0,Pe=await oe.request({method:"eth_feeHistory",params:[numberToHex(he),we||ve,_e]});return formatFeeHistory(Pe)}async function getFilterLogs(oe,{filter:he}){const ye=he.strict??!1;return(await he.request({method:"eth_getFilterLogs",params:[he.id]})).map(_e=>{try{const{eventName:we,args:Pe}="abi"in he&&he.abi?decodeEventLog({abi:he.abi,data:_e.data,topics:_e.topics,strict:ye}):{eventName:void 0,args:void 0};return formatLog(_e,{args:Pe,eventName:we})}catch(we){let Pe,Ie;if(we instanceof DecodeLogDataMismatch||we instanceof DecodeLogTopicsMismatch){if("strict"in he&&he.strict)return;Pe=we.abiItem.name,Ie=we.abiItem.inputs?.some(Re=>!("name"in Re&&Re.name))}return formatLog(_e,{args:Ie?[]:{},eventName:Pe})}}).filter(Boolean)}async function getStorageAt(oe,{address:he,blockNumber:ye,blockTag:ve="latest",slot:_e}){const we=ye!==void 0?numberToHex(ye):void 0;return await oe.request({method:"eth_getStorageAt",params:[he,_e,we||ve]})}async function getTransaction(oe,{blockHash:he,blockNumber:ye,blockTag:ve,hash:_e,index:we}){const Pe=ve||"latest",Ie=ye!==void 0?numberToHex(ye):void 0;let Re=null;if(_e?Re=await oe.request({method:"eth_getTransactionByHash",params:[_e]}):he?Re=await oe.request({method:"eth_getTransactionByBlockHashAndIndex",params:[he,numberToHex(we)]}):(Ie||Pe)&&(Re=await oe.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[Ie||Pe,numberToHex(we)]})),!Re)throw new TransactionNotFoundError({blockHash:he,blockNumber:ye,blockTag:Pe,hash:_e,index:we});return(oe.chain?.formatters?.transaction?.format||formatTransaction)(Re)}async function getTransactionConfirmations(oe,{hash:he,transactionReceipt:ye}){const[ve,_e]=await Promise.all([getBlockNumber(oe),he?getTransaction(oe,{hash:he}):void 0]),we=ye?.blockNumber||_e?.blockNumber;return we?ve-we+1n:0n}const statuses={"0x0":"reverted","0x1":"success"};function formatTransactionReceipt(oe){return{...oe,blockNumber:oe.blockNumber?BigInt(oe.blockNumber):null,contractAddress:oe.contractAddress?oe.contractAddress:null,cumulativeGasUsed:oe.cumulativeGasUsed?BigInt(oe.cumulativeGasUsed):null,effectiveGasPrice:oe.effectiveGasPrice?BigInt(oe.effectiveGasPrice):null,gasUsed:oe.gasUsed?BigInt(oe.gasUsed):null,logs:oe.logs?oe.logs.map(he=>formatLog(he)):null,to:oe.to?oe.to:null,transactionIndex:oe.transactionIndex?hexToNumber$1(oe.transactionIndex):null,status:oe.status?statuses[oe.status]:null,type:oe.type?transactionType[oe.type]||oe.type:null}}async function getTransactionReceipt(oe,{hash:he}){const ye=await oe.request({method:"eth_getTransactionReceipt",params:[he]});if(!ye)throw new TransactionReceiptNotFoundError({hash:he});return(oe.chain?.formatters?.transactionReceipt?.format||formatTransactionReceipt)(ye)}async function multicall(oe,he){const{allowFailure:ye=!0,batchSize:ve,blockNumber:_e,blockTag:we,contracts:Pe,multicallAddress:Ie}=he,Re=ve??(typeof oe.batch?.multicall=="object"&&oe.batch.multicall.batchSize||1024);let ke=Ie;if(!ke){if(!oe.chain)throw new Error("client chain not configured. multicallAddress is required.");ke=getChainContractAddress({blockNumber:_e,chain:oe.chain,contract:"multicall3"})}const Fe=[[]];let Le=0,De=0;for(let qe=0;qe<Pe.length;qe++){const{abi:We,address:et,args:rt,functionName:it}=Pe[qe];try{const ht=encodeFunctionData({abi:We,args:rt,functionName:it});De+=(ht.length-2)/2,Re>0&&De>Re&&Fe[Le].length>0&&(Le++,De=(ht.length-2)/2,Fe[Le]=[]),Fe[Le]=[...Fe[Le],{allowFailure:!0,callData:ht,target:et}]}catch(ht){const lt=getContractError(ht,{abi:We,address:et,args:rt,docsPath:"/docs/contract/multicall",functionName:it});if(!ye)throw lt;Fe[Le]=[...Fe[Le],{allowFailure:!0,callData:"0x",target:et}]}}const je=await Promise.allSettled(Fe.map(qe=>readContract(oe,{abi:multicall3Abi,address:ke,args:[qe],blockNumber:_e,blockTag:we,functionName:"aggregate3"}))),ze=[];for(let qe=0;qe<je.length;qe++){const We=je[qe];if(We.status==="rejected"){if(!ye)throw We.reason;for(let rt=0;rt<Fe[qe].length;rt++)ze.push({status:"failure",error:We.reason,result:void 0});continue}const et=We.value;for(let rt=0;rt<et.length;rt++){const{returnData:it,success:ht}=et[rt],{callData:lt}=Fe[qe][rt],{abi:dt,address:At,functionName:Pt,args:Ut}=Pe[ze.length];try{if(lt==="0x")throw new AbiDecodingZeroDataError;if(!ht)throw new RawContractError({data:it});const St=decodeFunctionResult({abi:dt,args:Ut,data:it,functionName:Pt});ze.push(ye?{result:St,status:"success"}:St)}catch(St){const Nt=getContractError(St,{abi:dt,address:At,args:Ut,docsPath:"/docs/contract/multicall",functionName:Pt});if(!ye)throw Nt;ze.push({error:Nt,result:void 0,status:"failure"})}}}if(ze.length!==Pe.length)throw new BaseError("multicall results mismatch");return ze}class OffchainLookupError extends BaseError{constructor({callbackSelector:he,cause:ye,data:ve,extraData:_e,sender:we,urls:Pe}){super(ye.shortMessage||"An error occurred while fetching for an offchain result.",{cause:ye,metaMessages:[...ye.metaMessages||[],ye.metaMessages?.length?"":[],"Offchain Gateway Call:",Pe&&["  Gateway URL(s):",...Pe.map(Ie=>`    ${getUrl$1(Ie)}`)],`  Sender: ${we}`,`  Data: ${ve}`,`  Callback selector: ${he}`,`  Extra data: ${_e}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class OffchainLookupResponseMalformedError extends BaseError{constructor({result:he,url:ye}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${getUrl$1(ye)}`,`Response: ${stringify(he)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class OffchainLookupSenderMismatchError extends BaseError{constructor({sender:he,to:ye}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${ye}`,`OffchainLookup sender address: ${he}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}function isAddressEqual(oe,he){if(!isAddress(oe))throw new InvalidAddressError({address:oe});if(!isAddress(he))throw new InvalidAddressError({address:he});return oe.toLowerCase()===he.toLowerCase()}const offchainLookupSignature="0x556f1830",offchainLookupAbiItem={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function offchainLookup(oe,{blockNumber:he,blockTag:ye,data:ve,to:_e}){const{args:we}=decodeErrorResult({data:ve,abi:[offchainLookupAbiItem]}),[Pe,Ie,Re,ke,Fe]=we;try{if(!isAddressEqual(_e,Pe))throw new OffchainLookupSenderMismatchError({sender:Pe,to:_e});const Le=await ccipFetch({data:Re,sender:Pe,urls:Ie}),{data:De}=await call(oe,{blockNumber:he,blockTag:ye,data:concat([ke,encodeAbiParameters([{type:"bytes"},{type:"bytes"}],[Le,Fe])]),to:_e});return De}catch(Le){throw new OffchainLookupError({callbackSelector:ke,cause:Le,data:ve,extraData:Fe,sender:Pe,urls:Ie})}}async function ccipFetch({data:oe,sender:he,urls:ye}){let ve=new Error("An unknown error occurred.");for(let _e=0;_e<ye.length;_e++){const we=ye[_e],Pe=we.includes("{sender}")||we.includes("{data}")?"GET":"POST",Ie=Pe==="POST"?{data:oe,sender:he}:void 0;try{const Re=await fetch(we.replace("{sender}",he).replace("{data}",oe),{body:JSON.stringify(Ie),method:Pe});let ke;if(Re.headers.get("Content-Type")?.startsWith("application/json")?ke=(await Re.json()).data:ke=await Re.text(),!Re.ok){ve=new HttpRequestError({body:Ie,details:stringify(ke.error)||Re.statusText,headers:Re.headers,status:Re.status,url:we});continue}if(!isHex(ke)){ve=new OffchainLookupResponseMalformedError({result:ke,url:we});continue}return ke}catch(Re){ve=new HttpRequestError({body:Ie,details:Re.message,url:we})}}throw ve}const ccip=Object.freeze(Object.defineProperty({__proto__:null,ccipFetch,offchainLookup,offchainLookupAbiItem,offchainLookupSignature},Symbol.toStringTag,{value:"Module"})),arrayRegex=/^(.*)\[([0-9]*)\]$/,bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function hashTypedData({domain:oe,message:he,primaryType:ye,types:ve}){const _e=typeof oe>"u"?{}:oe,we={EIP712Domain:getTypesForEIP712Domain({domain:_e}),...ve};validateTypedData({domain:_e,message:he,primaryType:ye,types:we});const Pe=["0x1901"];return _e&&Pe.push(hashDomain({domain:_e,types:we})),ye!=="EIP712Domain"&&Pe.push(hashStruct({data:he,primaryType:ye,types:we})),keccak256(concat(Pe))}function hashDomain({domain:oe,types:he}){return hashStruct({data:oe,primaryType:"EIP712Domain",types:he})}function hashStruct({data:oe,primaryType:he,types:ye}){const ve=encodeData({data:oe,primaryType:he,types:ye});return keccak256(ve)}function encodeData({data:oe,primaryType:he,types:ye}){const ve=[{type:"bytes32"}],_e=[hashType({primaryType:he,types:ye})];for(const we of ye[he]){const[Pe,Ie]=encodeField({types:ye,name:we.name,type:we.type,value:oe[we.name]});ve.push(Pe),_e.push(Ie)}return encodeAbiParameters(ve,_e)}function hashType({primaryType:oe,types:he}){const ye=toHex(encodeType({primaryType:oe,types:he}));return keccak256(ye)}function encodeType({primaryType:oe,types:he}){let ye="";const ve=findTypeDependencies({primaryType:oe,types:he});ve.delete(oe);const _e=[oe,...Array.from(ve).sort()];for(const we of _e)ye+=`${we}(${he[we].map(({name:Pe,type:Ie})=>`${Ie} ${Pe}`).join(",")})`;return ye}function findTypeDependencies({primaryType:oe,types:he},ye=new Set){const _e=oe.match(/^\w*/u)?.[0];if(ye.has(_e)||he[_e]===void 0)return ye;ye.add(_e);for(const we of he[_e])findTypeDependencies({primaryType:we.type,types:he},ye);return ye}function encodeField({types:oe,name:he,type:ye,value:ve}){if(oe[ye]!==void 0)return[{type:"bytes32"},keccak256(encodeData({data:ve,primaryType:ye,types:oe}))];if(ye==="bytes")return ve=`0x${(ve.length%2?"0":"")+ve.slice(2)}`,[{type:"bytes32"},keccak256(ve)];if(ye==="string")return[{type:"bytes32"},keccak256(toHex(ve))];if(ye.lastIndexOf("]")===ye.length-1){const _e=ye.slice(0,ye.lastIndexOf("[")),we=ve.map(Pe=>encodeField({name:he,type:_e,types:oe,value:Pe}));return[{type:"bytes32"},keccak256(encodeAbiParameters(we.map(([Pe])=>Pe),we.map(([,Pe])=>Pe)))]}return[{type:ye},ve]}function validateTypedData({domain:oe,message:he,primaryType:ye,types:ve}){const _e=ve,we=(Pe,Ie)=>{for(const Re of Pe){const{name:ke,type:Fe}=Re,Le=Fe,De=Ie[ke],je=Le.match(integerRegex);if(je&&(typeof De=="number"||typeof De=="bigint")){const[We,et,rt]=je;numberToHex(De,{signed:et==="int",size:parseInt(rt)/8})}if(Le==="address"&&typeof De=="string"&&!isAddress(De))throw new InvalidAddressError({address:De});const ze=Le.match(bytesRegex);if(ze){const[We,et]=ze;if(et&&size$1(De)!==parseInt(et))throw new BytesSizeMismatchError({expectedSize:parseInt(et),givenSize:size$1(De)})}const qe=_e[Le];qe&&we(qe,De)}};if(_e.EIP712Domain&&oe&&we(_e.EIP712Domain,oe),ye!=="EIP712Domain"){const Pe=_e[ye];we(Pe,he)}}function getTypesForEIP712Domain({domain:oe}){return[typeof oe?.name=="string"&&{name:"name",type:"string"},oe?.version&&{name:"version",type:"string"},typeof oe?.chainId=="number"&&{name:"chainId",type:"uint256"},oe?.verifyingContract&&{name:"verifyingContract",type:"address"},oe?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function decodeFunctionData({abi:oe,data:he}){const ye=slice(he,0,4),ve=oe.find(_e=>_e.type==="function"&&ye===getFunctionSelector(formatAbiItem(_e)));if(!ve)throw new AbiFunctionSignatureNotFoundError(ye,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:ve.name,args:"inputs"in ve&&ve.inputs&&ve.inputs.length>0?decodeAbiParameters(ve.inputs,slice(he,4)):void 0}}const docsPath="/docs/contract/encodeDeployData";function encodeDeployData({abi:oe,args:he,bytecode:ye}){if(!he||he.length===0)return ye;const ve=oe.find(we=>"type"in we&&we.type==="constructor");if(!ve)throw new AbiConstructorNotFoundError({docsPath});if(!("inputs"in ve))throw new AbiConstructorParamsNotFoundError({docsPath});if(!ve.inputs||ve.inputs.length===0)throw new AbiConstructorParamsNotFoundError({docsPath});const _e=encodeAbiParameters(ve.inputs,he);return concatHex([ye,_e])}function encodePacked(oe,he){if(oe.length!==he.length)throw new AbiEncodingLengthMismatchError({expectedLength:oe.length,givenLength:he.length});const ye=[];for(let ve=0;ve<oe.length;ve++){const _e=oe[ve],we=he[ve];ye.push(encode(_e,we))}return concatHex(ye)}function encode(oe,he,ye=!1){if(oe==="address"){const Pe=he;if(!isAddress(Pe))throw new InvalidAddressError({address:Pe});return pad(Pe.toLowerCase(),{size:ye?32:null})}if(oe==="string")return stringToHex(he);if(oe==="bytes")return he;if(oe==="bool")return pad(boolToHex(he),{size:ye?32:1});const ve=oe.match(integerRegex);if(ve){const[Pe,Ie,Re="256"]=ve,ke=parseInt(Re)/8;return numberToHex(he,{size:ye?32:ke,signed:Ie==="int"})}const _e=oe.match(bytesRegex);if(_e){const[Pe,Ie]=_e;if(parseInt(Ie)!==(he.length-2)/2)throw new BytesSizeMismatchError({expectedSize:parseInt(Ie),givenSize:(he.length-2)/2});return pad(he,{dir:"right",size:ye?32:null})}const we=oe.match(arrayRegex);if(we&&Array.isArray(he)){const[Pe,Ie]=we,Re=[];for(let ke=0;ke<he.length;ke++)Re.push(encode(Ie,he[ke],!0));return Re.length===0?"0x":concatHex(Re)}throw new UnsupportedPackedAbiType(oe)}class NegativeOffsetError extends BaseError{constructor({offset:he}){super(`Offset \`${he}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class PositionOutOfBoundsError extends BaseError{constructor({length:he,position:ye}){super(`Position \`${ye}\` is out of bounds (\`0 < position < ${he}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}const staticCursor={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,assertPosition(oe){if(oe<0||oe>this.bytes.length-1)throw new PositionOutOfBoundsError({length:this.bytes.length,position:oe})},decrementPosition(oe){if(oe<0)throw new NegativeOffsetError({offset:oe});const he=this.position-oe;this.assertPosition(he),this.position=he},incrementPosition(oe){if(oe<0)throw new NegativeOffsetError({offset:oe});const he=this.position+oe;this.assertPosition(he),this.position=he},inspectByte(oe){const he=oe??this.position;return this.assertPosition(he),this.bytes[he]},inspectBytes(oe,he){const ye=he??this.position;return this.assertPosition(ye+oe-1),this.bytes.subarray(ye,ye+oe)},inspectUint8(oe){const he=oe??this.position;return this.assertPosition(he),this.bytes[he]},inspectUint16(oe){const he=oe??this.position;return this.assertPosition(he+1),this.dataView.getUint16(he)},inspectUint24(oe){const he=oe??this.position;return this.assertPosition(he+2),(this.dataView.getUint16(he)<<8)+this.dataView.getUint8(he+2)},inspectUint32(oe){const he=oe??this.position;return this.assertPosition(he+3),this.dataView.getUint32(he)},pushByte(oe){this.assertPosition(this.position),this.bytes[this.position]=oe,this.position++},pushBytes(oe){this.assertPosition(this.position+oe.length-1),this.bytes.set(oe,this.position),this.position+=oe.length},pushUint8(oe){this.assertPosition(this.position),this.bytes[this.position]=oe,this.position++},pushUint16(oe){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,oe),this.position+=2},pushUint24(oe){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,oe>>8),this.dataView.setUint8(this.position+2,oe&255),this.position+=3},pushUint32(oe){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,oe),this.position+=4},readByte(){const oe=this.inspectByte();return this.position++,oe},readBytes(oe){const he=this.inspectBytes(oe);return this.position+=oe,he},readUint8(){const oe=this.inspectUint8();return this.position+=1,oe},readUint16(){const oe=this.inspectUint16();return this.position+=2,oe},readUint24(){const oe=this.inspectUint24();return this.position+=3,oe},readUint32(){const oe=this.inspectUint32();return this.position+=4,oe},setPosition(oe){this.assertPosition(oe),this.position=oe}};function createCursor(oe){const he=Object.create(staticCursor);return he.bytes=oe,he.dataView=new DataView(oe.buffer,oe.byteOffset,oe.byteLength),he}function toRlp(oe,he="hex"){const ye=getEncodable(oe),ve=createCursor(new Uint8Array(ye.length));return ye.encode(ve),he==="hex"?bytesToHex$1(ve.bytes):ve.bytes}function getEncodable(oe){return Array.isArray(oe)?getEncodableList(oe.map(he=>getEncodable(he))):getEncodableBytes(oe)}function getEncodableList(oe){const he=oe.reduce((_e,we)=>_e+we.length,0),ye=getSizeOfLength(he);return{length:(()=>he<=55?1+he:1+ye+he)(),encode(_e){he<=55?_e.pushByte(192+he):(_e.pushByte(192+55+ye),ye===1?_e.pushUint8(he):ye===2?_e.pushUint16(he):ye===3?_e.pushUint24(he):_e.pushUint32(he)),oe.forEach(we=>we.encode(_e))}}}function getEncodableBytes(oe){const he=typeof oe=="string"?hexToBytes$1(oe):oe,ye=getSizeOfLength(he.length);return{length:(()=>he.length===1&&he[0]<128?1:he.length<=55?1+he.length:1+ye+he.length)(),encode(_e){he.length===1&&he[0]<128?_e.pushBytes(he):he.length<=55?(_e.pushByte(128+he.length),_e.pushBytes(he)):(_e.pushByte(128+55+ye),ye===1?_e.pushUint8(he.length):ye===2?_e.pushUint16(he.length):ye===3?_e.pushUint24(he.length):_e.pushUint32(he.length),_e.pushBytes(he))}}}function getSizeOfLength(oe){if(oe<2**8)return 1;if(oe<2**16)return 2;if(oe<2**24)return 3;if(oe<2**32)return 4;throw new BaseError("Length is too large.")}function hashMessage(oe,he){const ye=(()=>typeof oe=="string"?stringToBytes(oe):oe.raw instanceof Uint8Array?oe.raw:toBytes$1(oe.raw))(),ve=stringToBytes(`Ethereum Signed Message:
${ye.length}`);return keccak256(concat([ve,ye]),he)}function assertTransactionEIP1559(oe){const{chainId:he,maxPriorityFeePerGas:ye,gasPrice:ve,maxFeePerGas:_e,to:we}=oe;if(he<=0)throw new InvalidChainIdError({chainId:he});if(we&&!isAddress(we))throw new InvalidAddressError({address:we});if(ve)throw new BaseError("`gasPrice` is not a valid EIP-1559 Transaction attribute.");if(_e&&_e>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:_e});if(ye&&_e&&ye>_e)throw new TipAboveFeeCapError({maxFeePerGas:_e,maxPriorityFeePerGas:ye})}function assertTransactionEIP2930(oe){const{chainId:he,maxPriorityFeePerGas:ye,gasPrice:ve,maxFeePerGas:_e,to:we}=oe;if(he<=0)throw new InvalidChainIdError({chainId:he});if(we&&!isAddress(we))throw new InvalidAddressError({address:we});if(ye||_e)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(ve&&ve>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:ve})}function assertTransactionLegacy(oe){const{chainId:he,maxPriorityFeePerGas:ye,gasPrice:ve,maxFeePerGas:_e,to:we,accessList:Pe}=oe;if(we&&!isAddress(we))throw new InvalidAddressError({address:we});if(typeof he<"u"&&he<=0)throw new InvalidChainIdError({chainId:he});if(ye||_e)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(ve&&ve>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:ve});if(Pe)throw new BaseError("`accessList` is not a valid Legacy Transaction attribute.")}function serializeAccessList(oe){if(!oe||oe.length===0)return[];const he=[];for(let ye=0;ye<oe.length;ye++){const{address:ve,storageKeys:_e}=oe[ye];for(let we=0;we<_e.length;we++)if(_e[we].length-2!==64)throw new InvalidStorageKeySizeError({storageKey:_e[we]});if(!isAddress(ve))throw new InvalidAddressError({address:ve});he.push([ve,_e])}return he}function serializeTransaction(oe,he){const ye=getTransactionType(oe);return ye==="eip1559"?serializeTransactionEIP1559(oe,he):ye==="eip2930"?serializeTransactionEIP2930(oe,he):serializeTransactionLegacy(oe,he)}function serializeTransactionEIP1559(oe,he){const{chainId:ye,gas:ve,nonce:_e,to:we,value:Pe,maxFeePerGas:Ie,maxPriorityFeePerGas:Re,accessList:ke,data:Fe}=oe;assertTransactionEIP1559(oe);const Le=serializeAccessList(ke),De=[toHex(ye),_e?toHex(_e):"0x",Re?toHex(Re):"0x",Ie?toHex(Ie):"0x",ve?toHex(ve):"0x",we??"0x",Pe?toHex(Pe):"0x",Fe??"0x",Le];return he&&De.push(he.v===27n?"0x":toHex(1),trim(he.r),trim(he.s)),concatHex(["0x02",toRlp(De)])}function serializeTransactionEIP2930(oe,he){const{chainId:ye,gas:ve,data:_e,nonce:we,to:Pe,value:Ie,accessList:Re,gasPrice:ke}=oe;assertTransactionEIP2930(oe);const Fe=serializeAccessList(Re),Le=[toHex(ye),we?toHex(we):"0x",ke?toHex(ke):"0x",ve?toHex(ve):"0x",Pe??"0x",Ie?toHex(Ie):"0x",_e??"0x",Fe];return he&&Le.push(he.v===27n?"0x":toHex(1),he.r,he.s),concatHex(["0x01",toRlp(Le)])}function serializeTransactionLegacy(oe,he){const{chainId:ye=0,gas:ve,data:_e,nonce:we,to:Pe,value:Ie,gasPrice:Re}=oe;assertTransactionLegacy(oe);let ke=[we?toHex(we):"0x",Re?toHex(Re):"0x",ve?toHex(ve):"0x",Pe??"0x",Ie?toHex(Ie):"0x",_e??"0x"];if(he){let Fe=27n+(he.v===27n?0n:1n);if(ye>0)Fe=BigInt(ye*2)+BigInt(35n+he.v-27n);else if(he.v!==Fe)throw new InvalidLegacyVError({v:he.v});ke=[...ke,toHex(Fe),he.r,he.s]}else ye>0&&(ke=[...ke,toHex(ye),"0x","0x"]);return toRlp(ke)}function parseUnits(oe,he){let[ye,ve="0"]=oe.split(".");const _e=ye.startsWith("-");if(_e&&(ye=ye.slice(1)),ve=ve.replace(/(0+)$/,""),he===0)Math.round(+`.${ve}`)===1&&(ye=`${BigInt(ye)+1n}`),ve="";else if(ve.length>he){const[we,Pe,Ie]=[ve.slice(0,he-1),ve.slice(he-1,he),ve.slice(he)],Re=Math.round(+`${Pe}.${Ie}`);Re>9?ve=`${BigInt(we)+BigInt(1)}0`.padStart(we.length+1,"0"):ve=`${we}${Re}`,ve.length>he&&(ve=ve.slice(1),ye=`${BigInt(ye)+1n}`),ve=ve.slice(0,he)}else ve=ve.padEnd(he,"0");return BigInt(`${_e?"-":""}${ye}${ve}`)}function parseEther(oe,he="wei"){return parseUnits(oe,etherUnits[he])}const universalSignatureValidatorByteCode="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$4=BigInt(1),_2n$3=BigInt(2),u8a=oe=>oe instanceof Uint8Array,hexes=Array.from({length:256},(oe,he)=>he.toString(16).padStart(2,"0"));function bytesToHex(oe){if(!u8a(oe))throw new Error("Uint8Array expected");let he="";for(let ye=0;ye<oe.length;ye++)he+=hexes[oe[ye]];return he}function numberToHexUnpadded(oe){const he=oe.toString(16);return he.length&1?`0${he}`:he}function hexToNumber(oe){if(typeof oe!="string")throw new Error("hex string expected, got "+typeof oe);return BigInt(oe===""?"0":`0x${oe}`)}function hexToBytes(oe){if(typeof oe!="string")throw new Error("hex string expected, got "+typeof oe);const he=oe.length;if(he%2)throw new Error("padded hex string expected, got unpadded hex of length "+he);const ye=new Uint8Array(he/2);for(let ve=0;ve<ye.length;ve++){const _e=ve*2,we=oe.slice(_e,_e+2),Pe=Number.parseInt(we,16);if(Number.isNaN(Pe)||Pe<0)throw new Error("Invalid byte sequence");ye[ve]=Pe}return ye}function bytesToNumberBE(oe){return hexToNumber(bytesToHex(oe))}function bytesToNumberLE(oe){if(!u8a(oe))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(oe).reverse()))}function numberToBytesBE(oe,he){return hexToBytes(oe.toString(16).padStart(he*2,"0"))}function numberToBytesLE(oe,he){return numberToBytesBE(oe,he).reverse()}function numberToVarBytesBE(oe){return hexToBytes(numberToHexUnpadded(oe))}function ensureBytes(oe,he,ye){let ve;if(typeof he=="string")try{ve=hexToBytes(he)}catch(we){throw new Error(`${oe} must be valid hex string, got "${he}". Cause: ${we}`)}else if(u8a(he))ve=Uint8Array.from(he);else throw new Error(`${oe} must be hex string or Uint8Array`);const _e=ve.length;if(typeof ye=="number"&&_e!==ye)throw new Error(`${oe} expected ${ye} bytes, got ${_e}`);return ve}function concatBytes(...oe){const he=new Uint8Array(oe.reduce((ve,_e)=>ve+_e.length,0));let ye=0;return oe.forEach(ve=>{if(!u8a(ve))throw new Error("Uint8Array expected");he.set(ve,ye),ye+=ve.length}),he}function equalBytes(oe,he){if(oe.length!==he.length)return!1;for(let ye=0;ye<oe.length;ye++)if(oe[ye]!==he[ye])return!1;return!0}function utf8ToBytes(oe){if(typeof oe!="string")throw new Error(`utf8ToBytes expected string, got ${typeof oe}`);return new Uint8Array(new TextEncoder().encode(oe))}function bitLen(oe){let he;for(he=0;oe>_0n$4;oe>>=_1n$4,he+=1);return he}function bitGet(oe,he){return oe>>BigInt(he)&_1n$4}const bitSet=(oe,he,ye)=>oe|(ye?_1n$4:_0n$4)<<BigInt(he),bitMask=oe=>(_2n$3<<BigInt(oe-1))-_1n$4,u8n=oe=>new Uint8Array(oe),u8fr=oe=>Uint8Array.from(oe);function createHmacDrbg(oe,he,ye){if(typeof oe!="number"||oe<2)throw new Error("hashLen must be a number");if(typeof he!="number"||he<2)throw new Error("qByteLen must be a number");if(typeof ye!="function")throw new Error("hmacFn must be a function");let ve=u8n(oe),_e=u8n(oe),we=0;const Pe=()=>{ve.fill(1),_e.fill(0),we=0},Ie=(...Le)=>ye(_e,ve,...Le),Re=(Le=u8n())=>{_e=Ie(u8fr([0]),Le),ve=Ie(),Le.length!==0&&(_e=Ie(u8fr([1]),Le),ve=Ie())},ke=()=>{if(we++>=1e3)throw new Error("drbg: tried 1000 values");let Le=0;const De=[];for(;Le<he;){ve=Ie();const je=ve.slice();De.push(je),Le+=ve.length}return concatBytes(...De)};return(Le,De)=>{Pe(),Re(Le);let je;for(;!(je=De(ke()));)Re();return Pe(),je}}const validatorFns={bigint:oe=>typeof oe=="bigint",function:oe=>typeof oe=="function",boolean:oe=>typeof oe=="boolean",string:oe=>typeof oe=="string",stringOrUint8Array:oe=>typeof oe=="string"||oe instanceof Uint8Array,isSafeInteger:oe=>Number.isSafeInteger(oe),array:oe=>Array.isArray(oe),field:(oe,he)=>he.Fp.isValid(oe),hash:oe=>typeof oe=="function"&&Number.isSafeInteger(oe.outputLen)};function validateObject(oe,he,ye={}){const ve=(_e,we,Pe)=>{const Ie=validatorFns[we];if(typeof Ie!="function")throw new Error(`Invalid validator "${we}", expected function`);const Re=oe[_e];if(!(Pe&&Re===void 0)&&!Ie(Re,oe))throw new Error(`Invalid param ${String(_e)}=${Re} (${typeof Re}), expected ${we}`)};for(const[_e,we]of Object.entries(he))ve(_e,we,!1);for(const[_e,we]of Object.entries(ye))ve(_e,we,!0);return oe}const ut=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen,bitMask,bitSet,bytesToHex,bytesToNumberBE,bytesToNumberLE,concatBytes,createHmacDrbg,ensureBytes,equalBytes,hexToBytes,hexToNumber,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes,validateObject},Symbol.toStringTag,{value:"Module"}));function isBytesEqual(oe,he){const ye=isHex(oe)?toBytes$1(oe):oe,ve=isHex(he)?toBytes$1(he):he;return equalBytes(ye,ve)}async function verifyHash(oe,{address:he,hash:ye,signature:ve,..._e}){const we=isHex(ve)?ve:toHex(ve);try{const{data:Pe}=await call(oe,{data:encodeDeployData({abi:universalSignatureValidatorAbi,args:[he,ye,we],bytecode:universalSignatureValidatorByteCode}),..._e});return isBytesEqual(Pe??"0x0","0x1")}catch(Pe){if(Pe instanceof CallExecutionError)return!1;throw Pe}}async function verifyMessage(oe,{address:he,message:ye,signature:ve,..._e}){const we=hashMessage(ye);return verifyHash(oe,{address:he,hash:we,signature:ve,..._e})}async function verifyTypedData(oe,{address:he,signature:ye,message:ve,primaryType:_e,types:we,domain:Pe,...Ie}){const Re=hashTypedData({message:ve,primaryType:_e,types:we,domain:Pe});return verifyHash(oe,{address:he,hash:Re,signature:ye,...Ie})}function watchBlockNumber(oe,{emitOnBegin:he=!1,emitMissed:ye=!1,onBlockNumber:ve,onError:_e,poll:we,pollingInterval:Pe=oe.pollingInterval}){const Ie=typeof we<"u"?we:oe.transport.type!=="webSocket";let Re;return Ie?(()=>{const Le=stringify(["watchBlockNumber",oe.uid,he,ye,Pe]);return observe(Le,{onBlockNumber:ve,onError:_e},De=>poll(async()=>{try{const je=await getBlockNumber(oe,{cacheTime:0});if(Re){if(je===Re)return;if(je-Re>1&&ye)for(let ze=Re+1n;ze<je;ze++)De.onBlockNumber(ze,Re),Re=ze}(!Re||je>Re)&&(De.onBlockNumber(je,Re),Re=je)}catch(je){De.onError?.(je)}},{emitOnBegin:he,interval:Pe}))})():(()=>{let Le=!0,De=()=>Le=!1;return(async()=>{try{const{unsubscribe:je}=await oe.transport.subscribe({params:["newHeads"],onData(ze){if(!Le)return;const qe=hexToBigInt(ze.result?.number);ve(qe,Re),Re=qe},onError(ze){_e?.(ze)}});De=je,Le||De()}catch(je){_e?.(je)}})(),De})()}async function waitForTransactionReceipt(oe,{confirmations:he=1,hash:ye,onReplaced:ve,pollingInterval:_e=oe.pollingInterval,timeout:we}){const Pe=stringify(["waitForTransactionReceipt",oe.uid,ye]);let Ie,Re,ke,Fe=!1;return new Promise((Le,De)=>{we&&setTimeout(()=>De(new WaitForTransactionReceiptTimeoutError({hash:ye})),we);const je=observe(Pe,{onReplaced:ve,resolve:Le,reject:De},ze=>{const qe=watchBlockNumber(oe,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:_e,async onBlockNumber(We){if(Fe)return;let et=We;const rt=it=>{qe(),it(),je()};try{if(ke){if(he>1&&(!ke.blockNumber||et-ke.blockNumber+1n<he))return;rt(()=>ze.resolve(ke));return}if(Ie||(Fe=!0,await withRetry(async()=>{Ie=await getTransaction(oe,{hash:ye}),Ie.blockNumber&&(et=Ie.blockNumber)},{delay:({count:it})=>~~(1<<it)*200,retryCount:6}),Fe=!1),ke=await getTransactionReceipt(oe,{hash:ye}),he>1&&(!ke.blockNumber||et-ke.blockNumber+1n<he))return;rt(()=>ze.resolve(ke))}catch(it){if(Ie&&(it instanceof TransactionNotFoundError||it instanceof TransactionReceiptNotFoundError))try{Re=Ie;const lt=(await getBlock(oe,{blockNumber:et,includeTransactions:!0})).transactions.find(({from:At,nonce:Pt})=>At===Re.from&&Pt===Re.nonce);if(!lt||(ke=await getTransactionReceipt(oe,{hash:lt.hash}),he>1&&(!ke.blockNumber||et-ke.blockNumber+1n<he)))return;let dt="replaced";lt.to===Re.to&&lt.value===Re.value?dt="repriced":lt.from===lt.to&&lt.value===0n&&(dt="cancelled"),rt(()=>{ze.onReplaced?.({reason:dt,replacedTransaction:Re,transaction:lt,transactionReceipt:ke}),ze.resolve(ke)})}catch(ht){rt(()=>ze.reject(ht))}else rt(()=>ze.reject(it))}}})})})}function watchBlocks(oe,{blockTag:he="latest",emitMissed:ye=!1,emitOnBegin:ve=!1,onBlock:_e,onError:we,includeTransactions:Pe,poll:Ie,pollingInterval:Re=oe.pollingInterval}){const ke=typeof Ie<"u"?Ie:oe.transport.type!=="webSocket",Fe=Pe??!1;let Le;return ke?(()=>{const ze=stringify(["watchBlocks",oe.uid,ye,ve,Fe,Re]);return observe(ze,{onBlock:_e,onError:we},qe=>poll(async()=>{try{const We=await getBlock(oe,{blockTag:he,includeTransactions:Fe});if(We.number&&Le?.number){if(We.number===Le.number)return;if(We.number-Le.number>1&&ye)for(let et=Le?.number+1n;et<We.number;et++){const rt=await getBlock(oe,{blockNumber:et,includeTransactions:Fe});qe.onBlock(rt,Le),Le=rt}}(!Le?.number||he==="pending"&&!We?.number||We.number&&We.number>Le.number)&&(qe.onBlock(We,Le),Le=We)}catch(We){qe.onError?.(We)}},{emitOnBegin:ve,interval:Re}))})():(()=>{let ze=!0,qe=()=>ze=!1;return(async()=>{try{const{unsubscribe:We}=await oe.transport.subscribe({params:["newHeads"],onData(et){if(!ze)return;const it=(oe.chain?.formatters?.block?.format||formatBlock)(et.result);_e(it,Le),Le=it},onError(et){we?.(et)}});qe=We,ze||qe()}catch(We){we?.(We)}})(),qe})()}function watchEvent(oe,{address:he,args:ye,batch:ve=!0,event:_e,events:we,onError:Pe,onLogs:Ie,poll:Re,pollingInterval:ke=oe.pollingInterval,strict:Fe}){const Le=typeof Re<"u"?Re:oe.transport.type!=="webSocket",De=Fe??!1;return Le?(()=>{const qe=stringify(["watchEvent",he,ye,ve,oe.uid,_e,ke]);return observe(qe,{onLogs:Ie,onError:Pe},We=>{let et,rt,it=!1;const ht=poll(async()=>{if(!it){try{rt=await createEventFilter(oe,{address:he,args:ye,event:_e,events:we,strict:De})}catch{}it=!0;return}try{let lt;if(rt)lt=await getFilterChanges(oe,{filter:rt});else{const dt=await getBlockNumber(oe);et&&et!==dt?lt=await getLogs(oe,{address:he,args:ye,event:_e,events:we,fromBlock:et+1n,toBlock:dt}):lt=[],et=dt}if(lt.length===0)return;ve?We.onLogs(lt):lt.forEach(dt=>We.onLogs([dt]))}catch(lt){rt&&lt instanceof InvalidInputRpcError&&(it=!1),We.onError?.(lt)}},{emitOnBegin:!0,interval:ke});return async()=>{rt&&await uninstallFilter(oe,{filter:rt}),ht()}})})():(()=>{let qe=!0,We=()=>qe=!1;return(async()=>{try{const et=we??(_e?[_e]:void 0);let rt=[];et&&(rt=[et.flatMap(ht=>encodeEventTopics({abi:[ht],eventName:ht.name,args:ye}))],_e&&(rt=rt[0]));const{unsubscribe:it}=await oe.transport.subscribe({params:["logs",{address:he,topics:rt}],onData(ht){if(!qe)return;const lt=ht.result;try{const{eventName:dt,args:At}=decodeEventLog({abi:et,data:lt.data,topics:lt.topics,strict:De}),Pt=formatLog(lt,{args:At,eventName:dt});Ie([Pt])}catch(dt){let At,Pt;if(dt instanceof DecodeLogDataMismatch||dt instanceof DecodeLogTopicsMismatch){if(Fe)return;At=dt.abiItem.name,Pt=dt.abiItem.inputs?.some(St=>!("name"in St&&St.name))}const Ut=formatLog(lt,{args:Pt?[]:{},eventName:At});Ie([Ut])}},onError(ht){Pe?.(ht)}});We=it,qe||We()}catch(et){Pe?.(et)}})(),We})()}function watchPendingTransactions(oe,{batch:he=!0,onError:ye,onTransactions:ve,poll:_e,pollingInterval:we=oe.pollingInterval}){return(typeof _e<"u"?_e:oe.transport.type!=="webSocket")?(()=>{const ke=stringify(["watchPendingTransactions",oe.uid,he,we]);return observe(ke,{onTransactions:ve,onError:ye},Fe=>{let Le;const De=poll(async()=>{try{if(!Le)try{Le=await createPendingTransactionFilter(oe);return}catch(ze){throw De(),ze}const je=await getFilterChanges(oe,{filter:Le});if(je.length===0)return;he?Fe.onTransactions(je):je.forEach(ze=>Fe.onTransactions([ze]))}catch(je){Fe.onError?.(je)}},{emitOnBegin:!0,interval:we});return async()=>{Le&&await uninstallFilter(oe,{filter:Le}),De()}})})():(()=>{let ke=!0,Fe=()=>ke=!1;return(async()=>{try{const{unsubscribe:Le}=await oe.transport.subscribe({params:["newPendingTransactions"],onData(De){if(!ke)return;const je=De.result;ve([je])},onError(De){ye?.(De)}});Fe=Le,ke||Fe()}catch(Le){ye?.(Le)}})(),Fe})()}function publicActions(oe){return{call:he=>call(oe,he),createBlockFilter:()=>createBlockFilter(oe),createContractEventFilter:he=>createContractEventFilter(oe,he),createEventFilter:he=>createEventFilter(oe,he),createPendingTransactionFilter:()=>createPendingTransactionFilter(oe),estimateContractGas:he=>estimateContractGas(oe,he),estimateGas:he=>estimateGas(oe,he),getBalance:he=>getBalance(oe,he),getBlock:he=>getBlock(oe,he),getBlockNumber:he=>getBlockNumber(oe,he),getBlockTransactionCount:he=>getBlockTransactionCount(oe,he),getBytecode:he=>getBytecode(oe,he),getChainId:()=>getChainId(oe),getContractEvents:he=>getContractEvents(oe,he),getEnsAddress:he=>getEnsAddress(oe,he),getEnsAvatar:he=>getEnsAvatar(oe,he),getEnsName:he=>getEnsName(oe,he),getEnsResolver:he=>getEnsResolver(oe,he),getEnsText:he=>getEnsText(oe,he),getFeeHistory:he=>getFeeHistory(oe,he),estimateFeesPerGas:he=>estimateFeesPerGas(oe,he),getFilterChanges:he=>getFilterChanges(oe,he),getFilterLogs:he=>getFilterLogs(oe,he),getGasPrice:()=>getGasPrice(oe),getLogs:he=>getLogs(oe,he),estimateMaxPriorityFeePerGas:he=>estimateMaxPriorityFeePerGas(oe,he),getStorageAt:he=>getStorageAt(oe,he),getTransaction:he=>getTransaction(oe,he),getTransactionConfirmations:he=>getTransactionConfirmations(oe,he),getTransactionCount:he=>getTransactionCount(oe,he),getTransactionReceipt:he=>getTransactionReceipt(oe,he),multicall:he=>multicall(oe,he),prepareTransactionRequest:he=>prepareTransactionRequest(oe,he),readContract:he=>readContract(oe,he),sendRawTransaction:he=>sendRawTransaction(oe,he),simulateContract:he=>simulateContract(oe,he),verifyMessage:he=>verifyMessage(oe,he),verifyTypedData:he=>verifyTypedData(oe,he),uninstallFilter:he=>uninstallFilter(oe,he),waitForTransactionReceipt:he=>waitForTransactionReceipt(oe,he),watchBlocks:he=>watchBlocks(oe,he),watchBlockNumber:he=>watchBlockNumber(oe,he),watchContractEvent:he=>watchContractEvent(oe,he),watchEvent:he=>watchEvent(oe,he),watchPendingTransactions:he=>watchPendingTransactions(oe,he)}}function createPublicClient(oe){const{key:he="public",name:ye="Public Client"}=oe;return createClient({...oe,key:he,name:ye,type:"publicClient"}).extend(publicActions)}function deployContract(oe,{abi:he,args:ye,bytecode:ve,..._e}){const we=encodeDeployData({abi:he,args:ye,bytecode:ve});return sendTransaction(oe,{..._e,data:we})}async function getAddresses(oe){return(await oe.request({method:"eth_accounts"})).map(ye=>checksumAddress(ye))}async function getPermissions(oe){return await oe.request({method:"wallet_getPermissions"})}async function requestAddresses(oe){return(await oe.request({method:"eth_requestAccounts"})).map(ye=>getAddress(ye))}async function requestPermissions(oe,he){return oe.request({method:"wallet_requestPermissions",params:[he]})}async function signMessage$1(oe,{account:he=oe.account,message:ye}){if(!he)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const ve=parseAccount(he);if(ve.type==="local")return ve.signMessage({message:ye});const _e=(()=>typeof ye=="string"?stringToHex(ye):ye.raw instanceof Uint8Array?toHex(ye.raw):ye.raw)();return oe.request({method:"personal_sign",params:[_e,ve.address]})}async function signTransaction$1(oe,he){const{account:ye=oe.account,chain:ve=oe.chain,..._e}=he;if(!ye)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});const we=parseAccount(ye);assertRequest({account:we,...he});const Pe=await getChainId(oe);ve!==null&&assertCurrentChain({currentChainId:Pe,chain:ve});const Re=(ve?.formatters||oe.chain?.formatters)?.transactionRequest?.format||formatTransactionRequest;return we.type==="local"?we.signTransaction({chainId:Pe,..._e},{serializer:oe.chain?.serializers?.transaction}):await oe.request({method:"eth_signTransaction",params:[{...Re(_e),chainId:numberToHex(Pe),from:we.address}]})}async function signTypedData$1(oe,{account:he=oe.account,domain:ye,message:ve,primaryType:_e,types:we}){if(!he)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const Pe=parseAccount(he),Ie={EIP712Domain:getTypesForEIP712Domain({domain:ye}),...we};if(validateTypedData({domain:ye,message:ve,primaryType:_e,types:Ie}),Pe.type==="local")return Pe.signTypedData({domain:ye,primaryType:_e,types:Ie,message:ve});const Re=stringify({domain:ye??{},primaryType:_e,types:Ie,message:ve},(ke,Fe)=>isHex(Fe)?Fe.toLowerCase():Fe);return oe.request({method:"eth_signTypedData_v4",params:[Pe.address,Re]})}async function switchChain(oe,{id:he}){await oe.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex(he)}]})}async function watchAsset(oe,he){return await oe.request({method:"wallet_watchAsset",params:he})}function walletActions(oe){return{addChain:he=>addChain(oe,he),deployContract:he=>deployContract(oe,he),getAddresses:()=>getAddresses(oe),getChainId:()=>getChainId(oe),getPermissions:()=>getPermissions(oe),prepareTransactionRequest:he=>prepareTransactionRequest(oe,he),requestAddresses:()=>requestAddresses(oe),requestPermissions:he=>requestPermissions(oe,he),sendRawTransaction:he=>sendRawTransaction(oe,he),sendTransaction:he=>sendTransaction(oe,he),signMessage:he=>signMessage$1(oe,he),signTransaction:he=>signTransaction$1(oe,he),signTypedData:he=>signTypedData$1(oe,he),switchChain:he=>switchChain(oe,he),watchAsset:he=>watchAsset(oe,he),writeContract:he=>writeContract(oe,he)}}function createWalletClient(oe){const{key:he="wallet",name:ye="Wallet Client",transport:ve}=oe;return createClient({...oe,key:he,name:ye,transport:we=>ve({...we,retryCount:0}),type:"walletClient"}).extend(walletActions)}function webSocket(oe,he={}){const{key:ye="webSocket",name:ve="WebSocket JSON-RPC",retryDelay:_e}=he;return({chain:we,retryCount:Pe,timeout:Ie})=>{const Re=he.retryCount??Pe,ke=Ie??he.timeout??1e4,Fe=oe||we?.rpcUrls.default.webSocket?.[0];if(!Fe)throw new UrlRequiredError;return createTransport({key:ye,name:ve,async request({method:Le,params:De}){const je={method:Le,params:De},ze=await getSocket(Fe),{error:qe,result:We}=await rpc.webSocketAsync(ze,{body:je,timeout:ke});if(qe)throw new RpcRequestError({body:je,error:qe,url:Fe});return We},retryCount:Re,retryDelay:_e,timeout:ke,type:"webSocket"},{getSocket(){return getSocket(Fe)},async subscribe({params:Le,onData:De,onError:je}){const ze=await getSocket(Fe),{result:qe}=await new Promise((We,et)=>rpc.webSocket(ze,{body:{method:"eth_subscribe",params:Le},onResponse(rt){if(rt.error){et(rt.error),je?.(rt.error);return}if(typeof rt.id=="number"){We(rt);return}rt.method==="eth_subscription"&&De(rt.params)}}));return{subscriptionId:qe,async unsubscribe(){return new Promise(We=>rpc.webSocket(ze,{body:{method:"eth_unsubscribe",params:[qe]},onResponse:We}))}}}})}}const maxInt32=2n**(32n-1n)-1n,maxUint256=2n**256n-1n;function setBigUint64(oe,he,ye,ve){if(typeof oe.setBigUint64=="function")return oe.setBigUint64(he,ye,ve);const _e=BigInt(32),we=BigInt(4294967295),Pe=Number(ye>>_e&we),Ie=Number(ye&we),Re=ve?4:0,ke=ve?0:4;oe.setUint32(he+Re,Pe,ve),oe.setUint32(he+ke,Ie,ve)}class SHA2 extends Hash$2{constructor(he,ye,ve,_e){super(),this.blockLen=he,this.outputLen=ye,this.padOffset=ve,this.isLE=_e,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(he),this.view=createView(this.buffer)}update(he){exists(this);const{view:ye,buffer:ve,blockLen:_e}=this;he=toBytes(he);const we=he.length;for(let Pe=0;Pe<we;){const Ie=Math.min(_e-this.pos,we-Pe);if(Ie===_e){const Re=createView(he);for(;_e<=we-Pe;Pe+=_e)this.process(Re,Pe);continue}ve.set(he.subarray(Pe,Pe+Ie),this.pos),this.pos+=Ie,Pe+=Ie,this.pos===_e&&(this.process(ye,0),this.pos=0)}return this.length+=he.length,this.roundClean(),this}digestInto(he){exists(this),output(he,this),this.finished=!0;const{buffer:ye,view:ve,blockLen:_e,isLE:we}=this;let{pos:Pe}=this;ye[Pe++]=128,this.buffer.subarray(Pe).fill(0),this.padOffset>_e-Pe&&(this.process(ve,0),Pe=0);for(let Le=Pe;Le<_e;Le++)ye[Le]=0;setBigUint64(ve,_e-8,BigInt(this.length*8),we),this.process(ve,0);const Ie=createView(he),Re=this.outputLen;if(Re%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const ke=Re/4,Fe=this.get();if(ke>Fe.length)throw new Error("_sha2: outputLen bigger than state");for(let Le=0;Le<ke;Le++)Ie.setUint32(4*Le,Fe[Le],we)}digest(){const{buffer:he,outputLen:ye}=this;this.digestInto(he);const ve=he.slice(0,ye);return this.destroy(),ve}_cloneInto(he){he||(he=new this.constructor),he.set(...this.get());const{blockLen:ye,buffer:ve,length:_e,finished:we,destroyed:Pe,pos:Ie}=this;return he.length=_e,he.pos=Ie,he.finished=we,he.destroyed=Pe,_e%ye&&he.buffer.set(ve),he}}const Chi=(oe,he,ye)=>oe&he^~oe&ye,Maj=(oe,he,ye)=>oe&he^oe&ye^he&ye,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:he,B:ye,C:ve,D:_e,E:we,F:Pe,G:Ie,H:Re}=this;return[he,ye,ve,_e,we,Pe,Ie,Re]}set(he,ye,ve,_e,we,Pe,Ie,Re){this.A=he|0,this.B=ye|0,this.C=ve|0,this.D=_e|0,this.E=we|0,this.F=Pe|0,this.G=Ie|0,this.H=Re|0}process(he,ye){for(let Le=0;Le<16;Le++,ye+=4)SHA256_W[Le]=he.getUint32(ye,!1);for(let Le=16;Le<64;Le++){const De=SHA256_W[Le-15],je=SHA256_W[Le-2],ze=rotr(De,7)^rotr(De,18)^De>>>3,qe=rotr(je,17)^rotr(je,19)^je>>>10;SHA256_W[Le]=qe+SHA256_W[Le-7]+ze+SHA256_W[Le-16]|0}let{A:ve,B:_e,C:we,D:Pe,E:Ie,F:Re,G:ke,H:Fe}=this;for(let Le=0;Le<64;Le++){const De=rotr(Ie,6)^rotr(Ie,11)^rotr(Ie,25),je=Fe+De+Chi(Ie,Re,ke)+SHA256_K[Le]+SHA256_W[Le]|0,qe=(rotr(ve,2)^rotr(ve,13)^rotr(ve,22))+Maj(ve,_e,we)|0;Fe=ke,ke=Re,Re=Ie,Ie=Pe+je|0,Pe=we,we=_e,_e=ve,ve=je+qe|0}ve=ve+this.A|0,_e=_e+this.B|0,we=we+this.C|0,Pe=Pe+this.D|0,Ie=Ie+this.E|0,Re=Re+this.F|0,ke=ke+this.G|0,Fe=Fe+this.H|0,this.set(ve,_e,we,Pe,Ie,Re,ke,Fe)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const sha256=wrapConstructor(()=>new SHA256),sha224=wrapConstructor(()=>new SHA224),sha256$1=Object.freeze(Object.defineProperty({__proto__:null,sha224,sha256},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$3=BigInt(1),_2n$2=BigInt(2),_3n$1=BigInt(3),_4n$1=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(oe,he){const ye=oe%he;return ye>=_0n$3?ye:he+ye}function pow(oe,he,ye){if(ye<=_0n$3||he<_0n$3)throw new Error("Expected power/modulo > 0");if(ye===_1n$3)return _0n$3;let ve=_1n$3;for(;he>_0n$3;)he&_1n$3&&(ve=ve*oe%ye),oe=oe*oe%ye,he>>=_1n$3;return ve}function pow2(oe,he,ye){let ve=oe;for(;he-- >_0n$3;)ve*=ve,ve%=ye;return ve}function invert$1(oe,he){if(oe===_0n$3||he<=_0n$3)throw new Error(`invert: expected positive integers, got n=${oe} mod=${he}`);let ye=mod(oe,he),ve=he,_e=_0n$3,we=_1n$3;for(;ye!==_0n$3;){const Ie=ve/ye,Re=ve%ye,ke=_e-we*Ie;ve=ye,ye=Re,_e=we,we=ke}if(ve!==_1n$3)throw new Error("invert: does not exist");return mod(_e,he)}function tonelliShanks(oe){const he=(oe-_1n$3)/_2n$2;let ye,ve,_e;for(ye=oe-_1n$3,ve=0;ye%_2n$2===_0n$3;ye/=_2n$2,ve++);for(_e=_2n$2;_e<oe&&pow(_e,he,oe)!==oe-_1n$3;_e++);if(ve===1){const Pe=(oe+_1n$3)/_4n$1;return function(Re,ke){const Fe=Re.pow(ke,Pe);if(!Re.eql(Re.sqr(Fe),ke))throw new Error("Cannot find square root");return Fe}}const we=(ye+_1n$3)/_2n$2;return function(Ie,Re){if(Ie.pow(Re,he)===Ie.neg(Ie.ONE))throw new Error("Cannot find square root");let ke=ve,Fe=Ie.pow(Ie.mul(Ie.ONE,_e),ye),Le=Ie.pow(Re,we),De=Ie.pow(Re,ye);for(;!Ie.eql(De,Ie.ONE);){if(Ie.eql(De,Ie.ZERO))return Ie.ZERO;let je=1;for(let qe=Ie.sqr(De);je<ke&&!Ie.eql(qe,Ie.ONE);je++)qe=Ie.sqr(qe);const ze=Ie.pow(Fe,_1n$3<<BigInt(ke-je-1));Fe=Ie.sqr(ze),Le=Ie.mul(Le,ze),De=Ie.mul(De,Fe),ke=je}return Le}}function FpSqrt(oe){if(oe%_4n$1===_3n$1){const he=(oe+_1n$3)/_4n$1;return function(ve,_e){const we=ve.pow(_e,he);if(!ve.eql(ve.sqr(we),_e))throw new Error("Cannot find square root");return we}}if(oe%_8n===_5n){const he=(oe-_5n)/_8n;return function(ve,_e){const we=ve.mul(_e,_2n$2),Pe=ve.pow(we,he),Ie=ve.mul(_e,Pe),Re=ve.mul(ve.mul(Ie,_2n$2),Pe),ke=ve.mul(Ie,ve.sub(Re,ve.ONE));if(!ve.eql(ve.sqr(ke),_e))throw new Error("Cannot find square root");return ke}}return tonelliShanks(oe)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(oe){const he={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},ye=FIELD_FIELDS.reduce((ve,_e)=>(ve[_e]="function",ve),he);return validateObject(oe,ye)}function FpPow(oe,he,ye){if(ye<_0n$3)throw new Error("Expected power > 0");if(ye===_0n$3)return oe.ONE;if(ye===_1n$3)return he;let ve=oe.ONE,_e=he;for(;ye>_0n$3;)ye&_1n$3&&(ve=oe.mul(ve,_e)),_e=oe.sqr(_e),ye>>=_1n$3;return ve}function FpInvertBatch(oe,he){const ye=new Array(he.length),ve=he.reduce((we,Pe,Ie)=>oe.is0(Pe)?we:(ye[Ie]=we,oe.mul(we,Pe)),oe.ONE),_e=oe.inv(ve);return he.reduceRight((we,Pe,Ie)=>oe.is0(Pe)?we:(ye[Ie]=oe.mul(we,ye[Ie]),oe.mul(we,Pe)),_e),ye}function nLength(oe,he){const ye=he!==void 0?he:oe.toString(2).length,ve=Math.ceil(ye/8);return{nBitLength:ye,nByteLength:ve}}function Field(oe,he,ye=!1,ve={}){if(oe<=_0n$3)throw new Error(`Expected Field ORDER > 0, got ${oe}`);const{nBitLength:_e,nByteLength:we}=nLength(oe,he);if(we>2048)throw new Error("Field lengths over 2048 bytes are not supported");const Pe=FpSqrt(oe),Ie=Object.freeze({ORDER:oe,BITS:_e,BYTES:we,MASK:bitMask(_e),ZERO:_0n$3,ONE:_1n$3,create:Re=>mod(Re,oe),isValid:Re=>{if(typeof Re!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof Re}`);return _0n$3<=Re&&Re<oe},is0:Re=>Re===_0n$3,isOdd:Re=>(Re&_1n$3)===_1n$3,neg:Re=>mod(-Re,oe),eql:(Re,ke)=>Re===ke,sqr:Re=>mod(Re*Re,oe),add:(Re,ke)=>mod(Re+ke,oe),sub:(Re,ke)=>mod(Re-ke,oe),mul:(Re,ke)=>mod(Re*ke,oe),pow:(Re,ke)=>FpPow(Ie,Re,ke),div:(Re,ke)=>mod(Re*invert$1(ke,oe),oe),sqrN:Re=>Re*Re,addN:(Re,ke)=>Re+ke,subN:(Re,ke)=>Re-ke,mulN:(Re,ke)=>Re*ke,inv:Re=>invert$1(Re,oe),sqrt:ve.sqrt||(Re=>Pe(Ie,Re)),invertBatch:Re=>FpInvertBatch(Ie,Re),cmov:(Re,ke,Fe)=>Fe?ke:Re,toBytes:Re=>ye?numberToBytesLE(Re,we):numberToBytesBE(Re,we),fromBytes:Re=>{if(Re.length!==we)throw new Error(`Fp.fromBytes: expected ${we}, got ${Re.length}`);return ye?bytesToNumberLE(Re):bytesToNumberBE(Re)}});return Object.freeze(Ie)}function getFieldBytesLength(oe){if(typeof oe!="bigint")throw new Error("field order must be bigint");const he=oe.toString(2).length;return Math.ceil(he/8)}function getMinHashLength(oe){const he=getFieldBytesLength(oe);return he+Math.ceil(he/2)}function mapHashToField(oe,he,ye=!1){const ve=oe.length,_e=getFieldBytesLength(he),we=getMinHashLength(he);if(ve<16||ve<we||ve>1024)throw new Error(`expected ${we}-1024 bytes of input, got ${ve}`);const Pe=ye?bytesToNumberBE(oe):bytesToNumberLE(oe),Ie=mod(Pe,he-_1n$3)+_1n$3;return ye?numberToBytesLE(Ie,_e):numberToBytesBE(Ie,_e)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$2=BigInt(1);function wNAF(oe,he){const ye=(_e,we)=>{const Pe=we.negate();return _e?Pe:we},ve=_e=>{const we=Math.ceil(he/_e)+1,Pe=2**(_e-1);return{windows:we,windowSize:Pe}};return{constTimeNegate:ye,unsafeLadder(_e,we){let Pe=oe.ZERO,Ie=_e;for(;we>_0n$2;)we&_1n$2&&(Pe=Pe.add(Ie)),Ie=Ie.double(),we>>=_1n$2;return Pe},precomputeWindow(_e,we){const{windows:Pe,windowSize:Ie}=ve(we),Re=[];let ke=_e,Fe=ke;for(let Le=0;Le<Pe;Le++){Fe=ke,Re.push(Fe);for(let De=1;De<Ie;De++)Fe=Fe.add(ke),Re.push(Fe);ke=Fe.double()}return Re},wNAF(_e,we,Pe){const{windows:Ie,windowSize:Re}=ve(_e);let ke=oe.ZERO,Fe=oe.BASE;const Le=BigInt(2**_e-1),De=2**_e,je=BigInt(_e);for(let ze=0;ze<Ie;ze++){const qe=ze*Re;let We=Number(Pe&Le);Pe>>=je,We>Re&&(We-=De,Pe+=_1n$2);const et=qe,rt=qe+Math.abs(We)-1,it=ze%2!==0,ht=We<0;We===0?Fe=Fe.add(ye(it,we[et])):ke=ke.add(ye(ht,we[rt]))}return{p:ke,f:Fe}},wNAFCached(_e,we,Pe,Ie){const Re=_e._WINDOW_SIZE||1;let ke=we.get(_e);return ke||(ke=this.precomputeWindow(_e,Re),Re!==1&&we.set(_e,Ie(ke))),this.wNAF(Re,ke,Pe)}}}function validateBasic(oe){return validateField(oe.Fp),validateObject(oe,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(oe.n,oe.nBitLength),...oe,p:oe.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(oe){const he=validateBasic(oe);validateObject(he,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:ye,Fp:ve,a:_e}=he;if(ye){if(!ve.eql(_e,ve.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof ye!="object"||typeof ye.beta!="bigint"||typeof ye.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...he})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor(he=""){super(he)}},_parseInt(oe){const{Err:he}=DER;if(oe.length<2||oe[0]!==2)throw new he("Invalid signature integer tag");const ye=oe[1],ve=oe.subarray(2,ye+2);if(!ye||ve.length!==ye)throw new he("Invalid signature integer: wrong length");if(ve[0]&128)throw new he("Invalid signature integer: negative");if(ve[0]===0&&!(ve[1]&128))throw new he("Invalid signature integer: unnecessary leading zero");return{d:b2n(ve),l:oe.subarray(ye+2)}},toSig(oe){const{Err:he}=DER,ye=typeof oe=="string"?h2b(oe):oe;if(!(ye instanceof Uint8Array))throw new Error("ui8a expected");let ve=ye.length;if(ve<2||ye[0]!=48)throw new he("Invalid signature tag");if(ye[1]!==ve-2)throw new he("Invalid signature: incorrect length");const{d:_e,l:we}=DER._parseInt(ye.subarray(2)),{d:Pe,l:Ie}=DER._parseInt(we);if(Ie.length)throw new he("Invalid signature: left bytes after parsing");return{r:_e,s:Pe}},hexFromSig(oe){const he=ke=>Number.parseInt(ke[0],16)&8?"00"+ke:ke,ye=ke=>{const Fe=ke.toString(16);return Fe.length&1?`0${Fe}`:Fe},ve=he(ye(oe.s)),_e=he(ye(oe.r)),we=ve.length/2,Pe=_e.length/2,Ie=ye(we),Re=ye(Pe);return`30${ye(Pe+we+4)}02${Re}${_e}02${Ie}${ve}`}},_0n$1=BigInt(0),_1n$1=BigInt(1),_2n$1=BigInt(2),_3n=BigInt(3),_4n=BigInt(4);function weierstrassPoints(oe){const he=validatePointOpts(oe),{Fp:ye}=he,ve=he.toBytes||((ze,qe,We)=>{const et=qe.toAffine();return concatBytes(Uint8Array.from([4]),ye.toBytes(et.x),ye.toBytes(et.y))}),_e=he.fromBytes||(ze=>{const qe=ze.subarray(1),We=ye.fromBytes(qe.subarray(0,ye.BYTES)),et=ye.fromBytes(qe.subarray(ye.BYTES,2*ye.BYTES));return{x:We,y:et}});function we(ze){const{a:qe,b:We}=he,et=ye.sqr(ze),rt=ye.mul(et,ze);return ye.add(ye.add(rt,ye.mul(ze,qe)),We)}if(!ye.eql(ye.sqr(he.Gy),we(he.Gx)))throw new Error("bad generator point: equation left != right");function Pe(ze){return typeof ze=="bigint"&&_0n$1<ze&&ze<he.n}function Ie(ze){if(!Pe(ze))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Re(ze){const{allowedPrivateKeyLengths:qe,nByteLength:We,wrapPrivateKey:et,n:rt}=he;if(qe&&typeof ze!="bigint"){if(ze instanceof Uint8Array&&(ze=bytesToHex(ze)),typeof ze!="string"||!qe.includes(ze.length))throw new Error("Invalid key");ze=ze.padStart(We*2,"0")}let it;try{it=typeof ze=="bigint"?ze:bytesToNumberBE(ensureBytes("private key",ze,We))}catch{throw new Error(`private key must be ${We} bytes, hex or bigint, not ${typeof ze}`)}return et&&(it=mod(it,rt)),Ie(it),it}const ke=new Map;function Fe(ze){if(!(ze instanceof Le))throw new Error("ProjectivePoint expected")}class Le{constructor(qe,We,et){if(this.px=qe,this.py=We,this.pz=et,qe==null||!ye.isValid(qe))throw new Error("x required");if(We==null||!ye.isValid(We))throw new Error("y required");if(et==null||!ye.isValid(et))throw new Error("z required")}static fromAffine(qe){const{x:We,y:et}=qe||{};if(!qe||!ye.isValid(We)||!ye.isValid(et))throw new Error("invalid affine point");if(qe instanceof Le)throw new Error("projective point not allowed");const rt=it=>ye.eql(it,ye.ZERO);return rt(We)&&rt(et)?Le.ZERO:new Le(We,et,ye.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(qe){const We=ye.invertBatch(qe.map(et=>et.pz));return qe.map((et,rt)=>et.toAffine(We[rt])).map(Le.fromAffine)}static fromHex(qe){const We=Le.fromAffine(_e(ensureBytes("pointHex",qe)));return We.assertValidity(),We}static fromPrivateKey(qe){return Le.BASE.multiply(Re(qe))}_setWindowSize(qe){this._WINDOW_SIZE=qe,ke.delete(this)}assertValidity(){if(this.is0()){if(he.allowInfinityPoint&&!ye.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:qe,y:We}=this.toAffine();if(!ye.isValid(qe)||!ye.isValid(We))throw new Error("bad point: x or y not FE");const et=ye.sqr(We),rt=we(qe);if(!ye.eql(et,rt))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:qe}=this.toAffine();if(ye.isOdd)return!ye.isOdd(qe);throw new Error("Field doesn't support isOdd")}equals(qe){Fe(qe);const{px:We,py:et,pz:rt}=this,{px:it,py:ht,pz:lt}=qe,dt=ye.eql(ye.mul(We,lt),ye.mul(it,rt)),At=ye.eql(ye.mul(et,lt),ye.mul(ht,rt));return dt&&At}negate(){return new Le(this.px,ye.neg(this.py),this.pz)}double(){const{a:qe,b:We}=he,et=ye.mul(We,_3n),{px:rt,py:it,pz:ht}=this;let lt=ye.ZERO,dt=ye.ZERO,At=ye.ZERO,Pt=ye.mul(rt,rt),Ut=ye.mul(it,it),St=ye.mul(ht,ht),Nt=ye.mul(rt,it);return Nt=ye.add(Nt,Nt),At=ye.mul(rt,ht),At=ye.add(At,At),lt=ye.mul(qe,At),dt=ye.mul(et,St),dt=ye.add(lt,dt),lt=ye.sub(Ut,dt),dt=ye.add(Ut,dt),dt=ye.mul(lt,dt),lt=ye.mul(Nt,lt),At=ye.mul(et,At),St=ye.mul(qe,St),Nt=ye.sub(Pt,St),Nt=ye.mul(qe,Nt),Nt=ye.add(Nt,At),At=ye.add(Pt,Pt),Pt=ye.add(At,Pt),Pt=ye.add(Pt,St),Pt=ye.mul(Pt,Nt),dt=ye.add(dt,Pt),St=ye.mul(it,ht),St=ye.add(St,St),Pt=ye.mul(St,Nt),lt=ye.sub(lt,Pt),At=ye.mul(St,Ut),At=ye.add(At,At),At=ye.add(At,At),new Le(lt,dt,At)}add(qe){Fe(qe);const{px:We,py:et,pz:rt}=this,{px:it,py:ht,pz:lt}=qe;let dt=ye.ZERO,At=ye.ZERO,Pt=ye.ZERO;const Ut=he.a,St=ye.mul(he.b,_3n);let Nt=ye.mul(We,it),er=ye.mul(et,ht),Kt=ye.mul(rt,lt),br=ye.add(We,et),It=ye.add(it,ht);br=ye.mul(br,It),It=ye.add(Nt,er),br=ye.sub(br,It),It=ye.add(We,rt);let Ct=ye.add(it,lt);return It=ye.mul(It,Ct),Ct=ye.add(Nt,Kt),It=ye.sub(It,Ct),Ct=ye.add(et,rt),dt=ye.add(ht,lt),Ct=ye.mul(Ct,dt),dt=ye.add(er,Kt),Ct=ye.sub(Ct,dt),Pt=ye.mul(Ut,It),dt=ye.mul(St,Kt),Pt=ye.add(dt,Pt),dt=ye.sub(er,Pt),Pt=ye.add(er,Pt),At=ye.mul(dt,Pt),er=ye.add(Nt,Nt),er=ye.add(er,Nt),Kt=ye.mul(Ut,Kt),It=ye.mul(St,It),er=ye.add(er,Kt),Kt=ye.sub(Nt,Kt),Kt=ye.mul(Ut,Kt),It=ye.add(It,Kt),Nt=ye.mul(er,It),At=ye.add(At,Nt),Nt=ye.mul(Ct,It),dt=ye.mul(br,dt),dt=ye.sub(dt,Nt),Nt=ye.mul(br,er),Pt=ye.mul(Ct,Pt),Pt=ye.add(Pt,Nt),new Le(dt,At,Pt)}subtract(qe){return this.add(qe.negate())}is0(){return this.equals(Le.ZERO)}wNAF(qe){return je.wNAFCached(this,ke,qe,We=>{const et=ye.invertBatch(We.map(rt=>rt.pz));return We.map((rt,it)=>rt.toAffine(et[it])).map(Le.fromAffine)})}multiplyUnsafe(qe){const We=Le.ZERO;if(qe===_0n$1)return We;if(Ie(qe),qe===_1n$1)return this;const{endo:et}=he;if(!et)return je.unsafeLadder(this,qe);let{k1neg:rt,k1:it,k2neg:ht,k2:lt}=et.splitScalar(qe),dt=We,At=We,Pt=this;for(;it>_0n$1||lt>_0n$1;)it&_1n$1&&(dt=dt.add(Pt)),lt&_1n$1&&(At=At.add(Pt)),Pt=Pt.double(),it>>=_1n$1,lt>>=_1n$1;return rt&&(dt=dt.negate()),ht&&(At=At.negate()),At=new Le(ye.mul(At.px,et.beta),At.py,At.pz),dt.add(At)}multiply(qe){Ie(qe);let We=qe,et,rt;const{endo:it}=he;if(it){const{k1neg:ht,k1:lt,k2neg:dt,k2:At}=it.splitScalar(We);let{p:Pt,f:Ut}=this.wNAF(lt),{p:St,f:Nt}=this.wNAF(At);Pt=je.constTimeNegate(ht,Pt),St=je.constTimeNegate(dt,St),St=new Le(ye.mul(St.px,it.beta),St.py,St.pz),et=Pt.add(St),rt=Ut.add(Nt)}else{const{p:ht,f:lt}=this.wNAF(We);et=ht,rt=lt}return Le.normalizeZ([et,rt])[0]}multiplyAndAddUnsafe(qe,We,et){const rt=Le.BASE,it=(lt,dt)=>dt===_0n$1||dt===_1n$1||!lt.equals(rt)?lt.multiplyUnsafe(dt):lt.multiply(dt),ht=it(this,We).add(it(qe,et));return ht.is0()?void 0:ht}toAffine(qe){const{px:We,py:et,pz:rt}=this,it=this.is0();qe==null&&(qe=it?ye.ONE:ye.inv(rt));const ht=ye.mul(We,qe),lt=ye.mul(et,qe),dt=ye.mul(rt,qe);if(it)return{x:ye.ZERO,y:ye.ZERO};if(!ye.eql(dt,ye.ONE))throw new Error("invZ was invalid");return{x:ht,y:lt}}isTorsionFree(){const{h:qe,isTorsionFree:We}=he;if(qe===_1n$1)return!0;if(We)return We(Le,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:qe,clearCofactor:We}=he;return qe===_1n$1?this:We?We(Le,this):this.multiplyUnsafe(he.h)}toRawBytes(qe=!0){return this.assertValidity(),ve(Le,this,qe)}toHex(qe=!0){return bytesToHex(this.toRawBytes(qe))}}Le.BASE=new Le(he.Gx,he.Gy,ye.ONE),Le.ZERO=new Le(ye.ZERO,ye.ONE,ye.ZERO);const De=he.nBitLength,je=wNAF(Le,he.endo?Math.ceil(De/2):De);return{CURVE:he,ProjectivePoint:Le,normPrivateKeyToScalar:Re,weierstrassEquation:we,isWithinCurveOrder:Pe}}function validateOpts(oe){const he=validateBasic(oe);return validateObject(he,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...he})}function weierstrass(oe){const he=validateOpts(oe),{Fp:ye,n:ve}=he,_e=ye.BYTES+1,we=2*ye.BYTES+1;function Pe(It){return _0n$1<It&&It<ye.ORDER}function Ie(It){return mod(It,ve)}function Re(It){return invert$1(It,ve)}const{ProjectivePoint:ke,normPrivateKeyToScalar:Fe,weierstrassEquation:Le,isWithinCurveOrder:De}=weierstrassPoints({...he,toBytes(It,Ct,Mt){const Wt=Ct.toAffine(),tr=ye.toBytes(Wt.x),dr=concatBytes;return Mt?dr(Uint8Array.from([Ct.hasEvenY()?2:3]),tr):dr(Uint8Array.from([4]),tr,ye.toBytes(Wt.y))},fromBytes(It){const Ct=It.length,Mt=It[0],Wt=It.subarray(1);if(Ct===_e&&(Mt===2||Mt===3)){const tr=bytesToNumberBE(Wt);if(!Pe(tr))throw new Error("Point is not on curve");const dr=Le(tr);let sr=ye.sqrt(dr);const Or=(sr&_1n$1)===_1n$1;return(Mt&1)===1!==Or&&(sr=ye.neg(sr)),{x:tr,y:sr}}else if(Ct===we&&Mt===4){const tr=ye.fromBytes(Wt.subarray(0,ye.BYTES)),dr=ye.fromBytes(Wt.subarray(ye.BYTES,2*ye.BYTES));return{x:tr,y:dr}}else throw new Error(`Point of length ${Ct} was invalid. Expected ${_e} compressed bytes or ${we} uncompressed bytes`)}}),je=It=>bytesToHex(numberToBytesBE(It,he.nByteLength));function ze(It){const Ct=ve>>_1n$1;return It>Ct}function qe(It){return ze(It)?Ie(-It):It}const We=(It,Ct,Mt)=>bytesToNumberBE(It.slice(Ct,Mt));class et{constructor(Ct,Mt,Wt){this.r=Ct,this.s=Mt,this.recovery=Wt,this.assertValidity()}static fromCompact(Ct){const Mt=he.nByteLength;return Ct=ensureBytes("compactSignature",Ct,Mt*2),new et(We(Ct,0,Mt),We(Ct,Mt,2*Mt))}static fromDER(Ct){const{r:Mt,s:Wt}=DER.toSig(ensureBytes("DER",Ct));return new et(Mt,Wt)}assertValidity(){if(!De(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!De(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Ct){return new et(this.r,this.s,Ct)}recoverPublicKey(Ct){const{r:Mt,s:Wt,recovery:tr}=this,dr=At(ensureBytes("msgHash",Ct));if(tr==null||![0,1,2,3].includes(tr))throw new Error("recovery id invalid");const sr=tr===2||tr===3?Mt+he.n:Mt;if(sr>=ye.ORDER)throw new Error("recovery id 2 or 3 invalid");const Or=tr&1?"03":"02",ln=ke.fromHex(Or+je(sr)),dn=Re(sr),jr=Ie(-dr*dn),fn=Ie(Wt*dn),hn=ke.BASE.multiplyAndAddUnsafe(ln,jr,fn);if(!hn)throw new Error("point at infinify");return hn.assertValidity(),hn}hasHighS(){return ze(this.s)}normalizeS(){return this.hasHighS()?new et(this.r,Ie(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return je(this.r)+je(this.s)}}const rt={isValidPrivateKey(It){try{return Fe(It),!0}catch{return!1}},normPrivateKeyToScalar:Fe,randomPrivateKey:()=>{const It=getMinHashLength(he.n);return mapHashToField(he.randomBytes(It),he.n)},precompute(It=8,Ct=ke.BASE){return Ct._setWindowSize(It),Ct.multiply(BigInt(3)),Ct}};function it(It,Ct=!0){return ke.fromPrivateKey(It).toRawBytes(Ct)}function ht(It){const Ct=It instanceof Uint8Array,Mt=typeof It=="string",Wt=(Ct||Mt)&&It.length;return Ct?Wt===_e||Wt===we:Mt?Wt===2*_e||Wt===2*we:It instanceof ke}function lt(It,Ct,Mt=!0){if(ht(It))throw new Error("first arg must be private key");if(!ht(Ct))throw new Error("second arg must be public key");return ke.fromHex(Ct).multiply(Fe(It)).toRawBytes(Mt)}const dt=he.bits2int||function(It){const Ct=bytesToNumberBE(It),Mt=It.length*8-he.nBitLength;return Mt>0?Ct>>BigInt(Mt):Ct},At=he.bits2int_modN||function(It){return Ie(dt(It))},Pt=bitMask(he.nBitLength);function Ut(It){if(typeof It!="bigint")throw new Error("bigint expected");if(!(_0n$1<=It&&It<Pt))throw new Error(`bigint expected < 2^${he.nBitLength}`);return numberToBytesBE(It,he.nByteLength)}function St(It,Ct,Mt=Nt){if(["recovered","canonical"].some(Ur=>Ur in Mt))throw new Error("sign() legacy options not supported");const{hash:Wt,randomBytes:tr}=he;let{lowS:dr,prehash:sr,extraEntropy:Or}=Mt;dr==null&&(dr=!0),It=ensureBytes("msgHash",It),sr&&(It=ensureBytes("prehashed msgHash",Wt(It)));const ln=At(It),dn=Fe(Ct),jr=[Ut(dn),Ut(ln)];if(Or!=null){const Ur=Or===!0?tr(ye.BYTES):Or;jr.push(ensureBytes("extraEntropy",Ur))}const fn=concatBytes(...jr),hn=ln;function bn(Ur){const In=dt(Ur);if(!De(In))return;const jn=Re(In),Rr=ke.BASE.multiply(In).toAffine(),mn=Ie(Rr.x);if(mn===_0n$1)return;const Tr=Ie(jn*Ie(hn+mn*dn));if(Tr===_0n$1)return;let On=(Rr.x===mn?0:2)|Number(Rr.y&_1n$1),Ri=Tr;return dr&&ze(Tr)&&(Ri=qe(Tr),On^=1),new et(mn,Ri,On)}return{seed:fn,k2sig:bn}}const Nt={lowS:he.lowS,prehash:!1},er={lowS:he.lowS,prehash:!1};function Kt(It,Ct,Mt=Nt){const{seed:Wt,k2sig:tr}=St(It,Ct,Mt),dr=he;return createHmacDrbg(dr.hash.outputLen,dr.nByteLength,dr.hmac)(Wt,tr)}ke.BASE._setWindowSize(8);function br(It,Ct,Mt,Wt=er){const tr=It;if(Ct=ensureBytes("msgHash",Ct),Mt=ensureBytes("publicKey",Mt),"strict"in Wt)throw new Error("options.strict was renamed to lowS");const{lowS:dr,prehash:sr}=Wt;let Or,ln;try{if(typeof tr=="string"||tr instanceof Uint8Array)try{Or=et.fromDER(tr)}catch(Rr){if(!(Rr instanceof DER.Err))throw Rr;Or=et.fromCompact(tr)}else if(typeof tr=="object"&&typeof tr.r=="bigint"&&typeof tr.s=="bigint"){const{r:Rr,s:mn}=tr;Or=new et(Rr,mn)}else throw new Error("PARSE");ln=ke.fromHex(Mt)}catch(Rr){if(Rr.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(dr&&Or.hasHighS())return!1;sr&&(Ct=he.hash(Ct));const{r:dn,s:jr}=Or,fn=At(Ct),hn=Re(jr),bn=Ie(fn*hn),Ur=Ie(dn*hn),In=ke.BASE.multiplyAndAddUnsafe(ln,bn,Ur)?.toAffine();return In?Ie(In.x)===dn:!1}return{CURVE:he,getPublicKey:it,getSharedSecret:lt,sign:Kt,verify:br,ProjectivePoint:ke,Signature:et,utils:rt}}function SWUFpSqrtRatio(oe,he){const ye=oe.ORDER;let ve=_0n$1;for(let ze=ye-_1n$1;ze%_2n$1===_0n$1;ze/=_2n$1)ve+=_1n$1;const _e=ve,we=_2n$1<<_e-_1n$1-_1n$1,Pe=we*_2n$1,Ie=(ye-_1n$1)/Pe,Re=(Ie-_1n$1)/_2n$1,ke=Pe-_1n$1,Fe=we,Le=oe.pow(he,Ie),De=oe.pow(he,(Ie+_1n$1)/_2n$1);let je=(ze,qe)=>{let We=Le,et=oe.pow(qe,ke),rt=oe.sqr(et);rt=oe.mul(rt,qe);let it=oe.mul(ze,rt);it=oe.pow(it,Re),it=oe.mul(it,et),et=oe.mul(it,qe),rt=oe.mul(it,ze);let ht=oe.mul(rt,et);it=oe.pow(ht,Fe);let lt=oe.eql(it,oe.ONE);et=oe.mul(rt,De),it=oe.mul(ht,We),rt=oe.cmov(et,rt,lt),ht=oe.cmov(it,ht,lt);for(let dt=_e;dt>_1n$1;dt--){let At=dt-_2n$1;At=_2n$1<<At-_1n$1;let Pt=oe.pow(ht,At);const Ut=oe.eql(Pt,oe.ONE);et=oe.mul(rt,We),We=oe.mul(We,We),Pt=oe.mul(ht,We),rt=oe.cmov(et,rt,Ut),ht=oe.cmov(Pt,ht,Ut)}return{isValid:lt,value:rt}};if(oe.ORDER%_4n===_3n){const ze=(oe.ORDER-_3n)/_4n,qe=oe.sqrt(oe.neg(he));je=(We,et)=>{let rt=oe.sqr(et);const it=oe.mul(We,et);rt=oe.mul(rt,it);let ht=oe.pow(rt,ze);ht=oe.mul(ht,it);const lt=oe.mul(ht,qe),dt=oe.mul(oe.sqr(ht),et),At=oe.eql(dt,We);let Pt=oe.cmov(lt,ht,At);return{isValid:At,value:Pt}}}return je}function mapToCurveSimpleSWU(oe,he){if(validateField(oe),!oe.isValid(he.A)||!oe.isValid(he.B)||!oe.isValid(he.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const ye=SWUFpSqrtRatio(oe,he.Z);if(!oe.isOdd)throw new Error("Fp.isOdd is not implemented!");return ve=>{let _e,we,Pe,Ie,Re,ke,Fe,Le;_e=oe.sqr(ve),_e=oe.mul(_e,he.Z),we=oe.sqr(_e),we=oe.add(we,_e),Pe=oe.add(we,oe.ONE),Pe=oe.mul(Pe,he.B),Ie=oe.cmov(he.Z,oe.neg(we),!oe.eql(we,oe.ZERO)),Ie=oe.mul(Ie,he.A),we=oe.sqr(Pe),ke=oe.sqr(Ie),Re=oe.mul(ke,he.A),we=oe.add(we,Re),we=oe.mul(we,Pe),ke=oe.mul(ke,Ie),Re=oe.mul(ke,he.B),we=oe.add(we,Re),Fe=oe.mul(_e,Pe);const{isValid:De,value:je}=ye(we,ke);Le=oe.mul(_e,ve),Le=oe.mul(Le,je),Fe=oe.cmov(Fe,Pe,De),Le=oe.cmov(Le,je,De);const ze=oe.isOdd(ve)===oe.isOdd(Le);return Le=oe.cmov(oe.neg(Le),Le,ze),Fe=oe.div(Fe,Ie),{x:Fe,y:Le}}}function validateDST(oe){if(oe instanceof Uint8Array)return oe;if(typeof oe=="string")return utf8ToBytes(oe);throw new Error("DST must be Uint8Array or string")}const os2ip=bytesToNumberBE;function i2osp(oe,he){if(oe<0||oe>=1<<8*he)throw new Error(`bad I2OSP call: value=${oe} length=${he}`);const ye=Array.from({length:he}).fill(0);for(let ve=he-1;ve>=0;ve--)ye[ve]=oe&255,oe>>>=8;return new Uint8Array(ye)}function strxor(oe,he){const ye=new Uint8Array(oe.length);for(let ve=0;ve<oe.length;ve++)ye[ve]=oe[ve]^he[ve];return ye}function isBytes(oe){if(!(oe instanceof Uint8Array))throw new Error("Uint8Array expected")}function isNum(oe){if(!Number.isSafeInteger(oe))throw new Error("number expected")}function expand_message_xmd(oe,he,ye,ve){isBytes(oe),isBytes(he),isNum(ye),he.length>255&&(he=ve(concatBytes(utf8ToBytes("H2C-OVERSIZE-DST-"),he)));const{outputLen:_e,blockLen:we}=ve,Pe=Math.ceil(ye/_e);if(Pe>255)throw new Error("Invalid xmd length");const Ie=concatBytes(he,i2osp(he.length,1)),Re=i2osp(0,we),ke=i2osp(ye,2),Fe=new Array(Pe),Le=ve(concatBytes(Re,oe,ke,i2osp(0,1),Ie));Fe[0]=ve(concatBytes(Le,i2osp(1,1),Ie));for(let je=1;je<=Pe;je++){const ze=[strxor(Le,Fe[je-1]),i2osp(je+1,1),Ie];Fe[je]=ve(concatBytes(...ze))}return concatBytes(...Fe).slice(0,ye)}function expand_message_xof(oe,he,ye,ve,_e){if(isBytes(oe),isBytes(he),isNum(ye),he.length>255){const we=Math.ceil(2*ve/8);he=_e.create({dkLen:we}).update(utf8ToBytes("H2C-OVERSIZE-DST-")).update(he).digest()}if(ye>65535||he.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return _e.create({dkLen:ye}).update(oe).update(i2osp(ye,2)).update(he).update(i2osp(he.length,1)).digest()}function hash_to_field(oe,he,ye){validateObject(ye,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:ve,k:_e,m:we,hash:Pe,expand:Ie,DST:Re}=ye;isBytes(oe),isNum(he);const ke=validateDST(Re),Fe=ve.toString(2).length,Le=Math.ceil((Fe+_e)/8),De=he*we*Le;let je;if(Ie==="xmd")je=expand_message_xmd(oe,ke,De,Pe);else if(Ie==="xof")je=expand_message_xof(oe,ke,De,_e,Pe);else if(Ie==="_internal_pass")je=oe;else throw new Error('expand must be "xmd" or "xof"');const ze=new Array(he);for(let qe=0;qe<he;qe++){const We=new Array(we);for(let et=0;et<we;et++){const rt=Le*(et+qe*we),it=je.subarray(rt,rt+Le);We[et]=mod(os2ip(it),ve)}ze[qe]=We}return ze}function isogenyMap(oe,he){const ye=he.map(ve=>Array.from(ve).reverse());return(ve,_e)=>{const[we,Pe,Ie,Re]=ye.map(ke=>ke.reduce((Fe,Le)=>oe.add(oe.mul(Fe,ve),Le)));return ve=oe.div(we,Pe),_e=oe.mul(_e,oe.div(Ie,Re)),{x:ve,y:_e}}}function createHasher(oe,he,ye){if(typeof he!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(ve,_e){const we=hash_to_field(ve,2,{...ye,DST:ye.DST,..._e}),Pe=oe.fromAffine(he(we[0])),Ie=oe.fromAffine(he(we[1])),Re=Pe.add(Ie).clearCofactor();return Re.assertValidity(),Re},encodeToCurve(ve,_e){const we=hash_to_field(ve,1,{...ye,DST:ye.encodeDST,..._e}),Pe=oe.fromAffine(he(we[0])).clearCofactor();return Pe.assertValidity(),Pe}}}class HMAC extends Hash$2{constructor(he,ye){super(),this.finished=!1,this.destroyed=!1,hash$2(he);const ve=toBytes(ye);if(this.iHash=he.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const _e=this.blockLen,we=new Uint8Array(_e);we.set(ve.length>_e?he.create().update(ve).digest():ve);for(let Pe=0;Pe<we.length;Pe++)we[Pe]^=54;this.iHash.update(we),this.oHash=he.create();for(let Pe=0;Pe<we.length;Pe++)we[Pe]^=106;this.oHash.update(we),we.fill(0)}update(he){return exists(this),this.iHash.update(he),this}digestInto(he){exists(this),bytes(he,this.outputLen),this.finished=!0,this.iHash.digestInto(he),this.oHash.update(he),this.oHash.digestInto(he),this.destroy()}digest(){const he=new Uint8Array(this.oHash.outputLen);return this.digestInto(he),he}_cloneInto(he){he||(he=Object.create(Object.getPrototypeOf(this),{}));const{oHash:ye,iHash:ve,finished:_e,destroyed:we,blockLen:Pe,outputLen:Ie}=this;return he=he,he.finished=_e,he.destroyed=we,he.blockLen=Pe,he.outputLen=Ie,he.oHash=ye._cloneInto(he.oHash),he.iHash=ve._cloneInto(he.iHash),he}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(oe,he,ye)=>new HMAC(oe,he).update(ye).digest();hmac.create=(oe,he)=>new HMAC(oe,he);const hmac$1=Object.freeze(Object.defineProperty({__proto__:null,HMAC,hmac},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(oe){return{hash:oe,hmac:(he,...ye)=>hmac(oe,he,concatBytes$2(...ye)),randomBytes}}function createCurve(oe,he){const ye=ve=>weierstrass({...oe,...getHash(ve)});return Object.freeze({...ye(he),create:ye})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(oe,he)=>(oe+he/_2n)/he;function sqrtMod(oe){const he=secp256k1P,ye=BigInt(3),ve=BigInt(6),_e=BigInt(11),we=BigInt(22),Pe=BigInt(23),Ie=BigInt(44),Re=BigInt(88),ke=oe*oe*oe%he,Fe=ke*ke*oe%he,Le=pow2(Fe,ye,he)*Fe%he,De=pow2(Le,ye,he)*Fe%he,je=pow2(De,_2n,he)*ke%he,ze=pow2(je,_e,he)*je%he,qe=pow2(ze,we,he)*ze%he,We=pow2(qe,Ie,he)*qe%he,et=pow2(We,Re,he)*We%he,rt=pow2(et,Ie,he)*qe%he,it=pow2(rt,ye,he)*Fe%he,ht=pow2(it,Pe,he)*ze%he,lt=pow2(ht,ve,he)*ke%he,dt=pow2(lt,_2n,he);if(!Fp.eql(Fp.sqr(dt),oe))throw new Error("Cannot find square root");return dt}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:oe=>{const he=secp256k1N,ye=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),ve=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),_e=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),we=ye,Pe=BigInt("0x100000000000000000000000000000000"),Ie=divNearest(we*oe,he),Re=divNearest(-ve*oe,he);let ke=mod(oe-Ie*ye-Re*_e,he),Fe=mod(-Ie*ve-Re*we,he);const Le=ke>Pe,De=Fe>Pe;if(Le&&(ke=he-ke),De&&(Fe=he-Fe),ke>Pe||Fe>Pe)throw new Error("splitScalar: Endomorphism failed, k="+oe);return{k1neg:Le,k1:ke,k2neg:De,k2:Fe}}}},sha256),_0n=BigInt(0),fe=oe=>typeof oe=="bigint"&&_0n<oe&&oe<secp256k1P,ge$1=oe=>typeof oe=="bigint"&&_0n<oe&&oe<secp256k1N,TAGGED_HASH_PREFIXES={};function taggedHash(oe,...he){let ye=TAGGED_HASH_PREFIXES[oe];if(ye===void 0){const ve=sha256(Uint8Array.from(oe,_e=>_e.charCodeAt(0)));ye=concatBytes(ve,ve),TAGGED_HASH_PREFIXES[oe]=ye}return sha256(concatBytes(ye,...he))}const pointToBytes=oe=>oe.toRawBytes(!0).slice(1),numTo32b=oe=>numberToBytesBE(oe,32),modP=oe=>mod(oe,secp256k1P),modN=oe=>mod(oe,secp256k1N),Point=secp256k1.ProjectivePoint,GmulAdd=(oe,he,ye)=>Point.BASE.multiplyAndAddUnsafe(oe,he,ye);function schnorrGetExtPubKey(oe){let he=secp256k1.utils.normPrivateKeyToScalar(oe),ye=Point.fromPrivateKey(he);return{scalar:ye.hasEvenY()?he:modN(-he),bytes:pointToBytes(ye)}}function lift_x(oe){if(!fe(oe))throw new Error("bad x: need 0 < x < p");const he=modP(oe*oe),ye=modP(he*oe+BigInt(7));let ve=sqrtMod(ye);ve%_2n!==_0n&&(ve=modP(-ve));const _e=new Point(oe,ve,_1n);return _e.assertValidity(),_e}function challenge(...oe){return modN(bytesToNumberBE(taggedHash("BIP0340/challenge",...oe)))}function schnorrGetPublicKey(oe){return schnorrGetExtPubKey(oe).bytes}function schnorrSign(oe,he,ye=randomBytes(32)){const ve=ensureBytes("message",oe),{bytes:_e,scalar:we}=schnorrGetExtPubKey(he),Pe=ensureBytes("auxRand",ye,32),Ie=numTo32b(we^bytesToNumberBE(taggedHash("BIP0340/aux",Pe))),Re=taggedHash("BIP0340/nonce",Ie,_e,ve),ke=modN(bytesToNumberBE(Re));if(ke===_0n)throw new Error("sign failed: k is zero");const{bytes:Fe,scalar:Le}=schnorrGetExtPubKey(ke),De=challenge(Fe,_e,ve),je=new Uint8Array(64);if(je.set(Fe,0),je.set(numTo32b(modN(Le+De*we)),32),!schnorrVerify(je,ve,_e))throw new Error("sign: Invalid signature produced");return je}function schnorrVerify(oe,he,ye){const ve=ensureBytes("signature",oe,64),_e=ensureBytes("message",he),we=ensureBytes("publicKey",ye,32);try{const Pe=lift_x(bytesToNumberBE(we)),Ie=bytesToNumberBE(ve.subarray(0,32));if(!fe(Ie))return!1;const Re=bytesToNumberBE(ve.subarray(32,64));if(!ge$1(Re))return!1;const ke=challenge(numTo32b(Ie),pointToBytes(Pe),_e),Fe=GmulAdd(Pe,Re,modN(-ke));return!(!Fe||!Fe.hasEvenY()||Fe.toAffine().x!==Ie)}catch{return!1}}const schnorr=(()=>({getPublicKey:schnorrGetPublicKey,sign:schnorrSign,verify:schnorrVerify,utils:{randomPrivateKey:secp256k1.utils.randomPrivateKey,lift_x,pointToBytes,numberToBytesBE,bytesToNumberBE,taggedHash,mod}}))(),isoMap=(()=>isogenyMap(Fp,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(oe=>oe.map(he=>BigInt(he)))))(),mapSWU=(()=>mapToCurveSimpleSWU(Fp,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Fp.create(BigInt("-11"))}))(),htf=(()=>createHasher(secp256k1.ProjectivePoint,oe=>{const{x:he,y:ye}=mapSWU(Fp.create(oe[0]));return isoMap(he,ye)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Fp.ORDER,m:1,k:128,expand:"xmd",hash:sha256}))(),hashToCurve=(()=>htf.hashToCurve)(),encodeToCurve=(()=>htf.encodeToCurve)(),secp256k1$1=Object.freeze(Object.defineProperty({__proto__:null,encodeToCurve,hashToCurve,schnorr,secp256k1},Symbol.toStringTag,{value:"Module"}));function signatureToHex({r:oe,s:he,v:ye}){return`0x${new secp256k1.Signature(hexToBigInt(oe),hexToBigInt(he)).toCompactHex()}${toHex(ye).slice(2)}`}var r$6=class extends Error{name="MUDError"},z$1=16,g$5=14;function d$3(oe,he){/^\w+$/.test(oe)||he.addIssue({code:ZodIssueCode.custom,message:"Name must contain only alphanumeric & underscore characters"})}function x$3(oe,he){d$3(oe,he),/^[A-Z]/.test(oe)||he.addIssue({code:ZodIssueCode.custom,message:"Name must start with a capital letter"})}function C$1(oe,he){d$3(oe,he),/^[a-z]/.test(oe)||he.addIssue({code:ZodIssueCode.custom,message:"Name must start with a lowercase letter"})}function h$2(oe,he){oe.length===0&&he.addIssue({code:ZodIssueCode.custom,message:"Enum must not be empty"}),oe.length>=256&&he.addIssue({code:ZodIssueCode.custom,message:"Length of enum must be < 256"});let ye=M$7(oe);ye.length>0&&he.addIssue({code:ZodIssueCode.custom,message:`Enum must not have duplicate names for: ${ye.join(", ")}`})}function c$2(oe,he){return(ye,ve)=>{if(ye===""){oe&&ve.addIssue({code:ZodIssueCode.custom,message:"Route must not be empty"});return}ye[0]!=="/"&&ve.addIssue({code:ZodIssueCode.custom,message:'Route must start with "/"'}),ye[ye.length-1]==="/"&&ve.addIssue({code:ZodIssueCode.custom,message:'Route must not end with "/"'});let _e=ye.split("/");he&&_e.length>2&&ve.addIssue({code:ZodIssueCode.custom,message:'Route must only have one level (e.g. "/foo")'});for(let we=1;we<_e.length;we++)_e[we]===""&&ve.addIssue({code:ZodIssueCode.custom,message:'Route must not contain empty route fragments (e.g. "//")'}),/^\w+$/.test(_e[we])||ve.addIssue({code:ZodIssueCode.custom,message:"Route must contain only alphanumeric & underscore characters"})}}var R$3=c$2(!0,!1),y$8=c$2(!1,!1),b$3=c$2(!0,!0);function D$1(oe,he){isAddress(oe)||he.addIssue({code:ZodIssueCode.custom,message:"Address must be a valid Ethereum address"})}function M$7(oe){let he=new Set,ye=new Set;for(let ve of oe)he.has(ve)&&ye.add(ve),he.add(ve);return[...ye]}function E$6(oe,he){oe.length>g$5&&he.addIssue({code:ZodIssueCode.custom,message:`Namespace must be <= ${g$5} characters`}),/^\w*$/.test(oe)||he.addIssue({code:ZodIssueCode.custom,message:"Selector must contain only alphanumeric & underscore characters"})}function S$2(oe){let he=oe.match(/^(\w+)\[(\d+)\]$/);return he?{elementType:he[1],staticLength:Number.parseInt(he[2])}:null}var v$3=z$2.string().superRefine(x$3),B$2=z$2.string().superRefine(C$1),G$3=z$2.string().superRefine(d$3),O$3=z$2.string().superRefine(E$6),V$4=z$2.array(v$3).superRefine(h$2);z$2.string().superRefine(R$3);z$2.string().superRefine(b$3);z$2.string().superRefine(y$8);var P$7=z$2.string().superRefine(D$1),l$4=class{static isCreated(){return this._global.__mudCoreContext!==void 0}static createContext(){if(this.isCreated())throw new t$3;let he=this._global,ye=new l$4;return he.__mudCoreContext=ye,ye}static getContext(){let he=this._global.__mudCoreContext;if(he===void 0)throw new s$7;return he}configExtenders=[]},i$7=l$4;p$6(i$7,"_global",typeof globalThis>"u"?window.global??{}:globalThis);function q$4(oe){let he=oe,ye=i$7.getContext();for(let ve of ye.configExtenders)he=ve(he);return he}function K$4(oe){i$7.getContext().configExtenders.push(oe)}var N$6=(oe=>(oe[oe.TABLE_ID=0]="TABLE_ID",oe[oe.SYSTEM_ADDRESS=1]="SYSTEM_ADDRESS",oe))(N$6||{});function te$2(oe){return{type:0,input:oe}}var o$2={registerFunctionSelector:!0,openAccess:!0,accessList:[]},t$2={worldContractName:void 0,worldInterfaceName:"IWorld",systems:{},excludeSystems:[],postDeployScript:"PostDeploy",deploysDirectory:"./deploys",worldsFile:"./worlds.json",worldgenDirectory:"world",worldImportPath:"@latticexyz/world/src/",modules:[]},r$5=v$3,a$7=v$3,i$6=z$2.array(r$5.or(P$7)).default(o$2.accessList),d$2=z$2.intersection(z$2.object({name:G$3.optional(),registerFunctionSelectors:z$2.boolean().default(o$2.registerFunctionSelector)}),z$2.discriminatedUnion("openAccess",[z$2.object({openAccess:z$2.literal(!0).default(o$2.openAccess)}),z$2.object({openAccess:z$2.literal(!1),accessList:i$6})])),u$3=z$2.object({value:z$2.union([z$2.string(),z$2.number(),z$2.instanceof(Uint8Array)]),type:z$2.string()}),m$4=z$2.object({type:z$2.nativeEnum(N$6),input:z$2.string()}),p$5=z$2.object({name:a$7,root:z$2.boolean().default(!1),args:z$2.array(z$2.union([u$3,m$4])).default([])}),y$7=z$2.object({worldContractName:z$2.string().optional(),worldInterfaceName:z$2.string().default(t$2.worldInterfaceName),systems:z$2.record(r$5,d$2).default(t$2.systems),excludeSystems:z$2.array(r$5).default(t$2.excludeSystems),postDeployScript:z$2.string().default(t$2.postDeployScript),deploysDirectory:z$2.string().default(t$2.deploysDirectory),worldsFile:z$2.string().default(t$2.worldsFile),worldgenDirectory:z$2.string().default(t$2.worldgenDirectory),worldImportPath:z$2.string().default(t$2.worldImportPath),modules:z$2.array(p$5).default(t$2.modules)}),w$6=y$7.catchall(z$2.any()),I$5=(oe=>(oe[oe.UINT8=0]="UINT8",oe[oe.UINT16=1]="UINT16",oe[oe.UINT24=2]="UINT24",oe[oe.UINT32=3]="UINT32",oe[oe.UINT40=4]="UINT40",oe[oe.UINT48=5]="UINT48",oe[oe.UINT56=6]="UINT56",oe[oe.UINT64=7]="UINT64",oe[oe.UINT72=8]="UINT72",oe[oe.UINT80=9]="UINT80",oe[oe.UINT88=10]="UINT88",oe[oe.UINT96=11]="UINT96",oe[oe.UINT104=12]="UINT104",oe[oe.UINT112=13]="UINT112",oe[oe.UINT120=14]="UINT120",oe[oe.UINT128=15]="UINT128",oe[oe.UINT136=16]="UINT136",oe[oe.UINT144=17]="UINT144",oe[oe.UINT152=18]="UINT152",oe[oe.UINT160=19]="UINT160",oe[oe.UINT168=20]="UINT168",oe[oe.UINT176=21]="UINT176",oe[oe.UINT184=22]="UINT184",oe[oe.UINT192=23]="UINT192",oe[oe.UINT200=24]="UINT200",oe[oe.UINT208=25]="UINT208",oe[oe.UINT216=26]="UINT216",oe[oe.UINT224=27]="UINT224",oe[oe.UINT232=28]="UINT232",oe[oe.UINT240=29]="UINT240",oe[oe.UINT248=30]="UINT248",oe[oe.UINT256=31]="UINT256",oe[oe.INT8=32]="INT8",oe[oe.INT16=33]="INT16",oe[oe.INT24=34]="INT24",oe[oe.INT32=35]="INT32",oe[oe.INT40=36]="INT40",oe[oe.INT48=37]="INT48",oe[oe.INT56=38]="INT56",oe[oe.INT64=39]="INT64",oe[oe.INT72=40]="INT72",oe[oe.INT80=41]="INT80",oe[oe.INT88=42]="INT88",oe[oe.INT96=43]="INT96",oe[oe.INT104=44]="INT104",oe[oe.INT112=45]="INT112",oe[oe.INT120=46]="INT120",oe[oe.INT128=47]="INT128",oe[oe.INT136=48]="INT136",oe[oe.INT144=49]="INT144",oe[oe.INT152=50]="INT152",oe[oe.INT160=51]="INT160",oe[oe.INT168=52]="INT168",oe[oe.INT176=53]="INT176",oe[oe.INT184=54]="INT184",oe[oe.INT192=55]="INT192",oe[oe.INT200=56]="INT200",oe[oe.INT208=57]="INT208",oe[oe.INT216=58]="INT216",oe[oe.INT224=59]="INT224",oe[oe.INT232=60]="INT232",oe[oe.INT240=61]="INT240",oe[oe.INT248=62]="INT248",oe[oe.INT256=63]="INT256",oe[oe.BYTES1=64]="BYTES1",oe[oe.BYTES2=65]="BYTES2",oe[oe.BYTES3=66]="BYTES3",oe[oe.BYTES4=67]="BYTES4",oe[oe.BYTES5=68]="BYTES5",oe[oe.BYTES6=69]="BYTES6",oe[oe.BYTES7=70]="BYTES7",oe[oe.BYTES8=71]="BYTES8",oe[oe.BYTES9=72]="BYTES9",oe[oe.BYTES10=73]="BYTES10",oe[oe.BYTES11=74]="BYTES11",oe[oe.BYTES12=75]="BYTES12",oe[oe.BYTES13=76]="BYTES13",oe[oe.BYTES14=77]="BYTES14",oe[oe.BYTES15=78]="BYTES15",oe[oe.BYTES16=79]="BYTES16",oe[oe.BYTES17=80]="BYTES17",oe[oe.BYTES18=81]="BYTES18",oe[oe.BYTES19=82]="BYTES19",oe[oe.BYTES20=83]="BYTES20",oe[oe.BYTES21=84]="BYTES21",oe[oe.BYTES22=85]="BYTES22",oe[oe.BYTES23=86]="BYTES23",oe[oe.BYTES24=87]="BYTES24",oe[oe.BYTES25=88]="BYTES25",oe[oe.BYTES26=89]="BYTES26",oe[oe.BYTES27=90]="BYTES27",oe[oe.BYTES28=91]="BYTES28",oe[oe.BYTES29=92]="BYTES29",oe[oe.BYTES30=93]="BYTES30",oe[oe.BYTES31=94]="BYTES31",oe[oe.BYTES32=95]="BYTES32",oe[oe.BOOL=96]="BOOL",oe[oe.ADDRESS=97]="ADDRESS",oe[oe.UINT8_ARRAY=98]="UINT8_ARRAY",oe[oe.UINT16_ARRAY=99]="UINT16_ARRAY",oe[oe.UINT24_ARRAY=100]="UINT24_ARRAY",oe[oe.UINT32_ARRAY=101]="UINT32_ARRAY",oe[oe.UINT40_ARRAY=102]="UINT40_ARRAY",oe[oe.UINT48_ARRAY=103]="UINT48_ARRAY",oe[oe.UINT56_ARRAY=104]="UINT56_ARRAY",oe[oe.UINT64_ARRAY=105]="UINT64_ARRAY",oe[oe.UINT72_ARRAY=106]="UINT72_ARRAY",oe[oe.UINT80_ARRAY=107]="UINT80_ARRAY",oe[oe.UINT88_ARRAY=108]="UINT88_ARRAY",oe[oe.UINT96_ARRAY=109]="UINT96_ARRAY",oe[oe.UINT104_ARRAY=110]="UINT104_ARRAY",oe[oe.UINT112_ARRAY=111]="UINT112_ARRAY",oe[oe.UINT120_ARRAY=112]="UINT120_ARRAY",oe[oe.UINT128_ARRAY=113]="UINT128_ARRAY",oe[oe.UINT136_ARRAY=114]="UINT136_ARRAY",oe[oe.UINT144_ARRAY=115]="UINT144_ARRAY",oe[oe.UINT152_ARRAY=116]="UINT152_ARRAY",oe[oe.UINT160_ARRAY=117]="UINT160_ARRAY",oe[oe.UINT168_ARRAY=118]="UINT168_ARRAY",oe[oe.UINT176_ARRAY=119]="UINT176_ARRAY",oe[oe.UINT184_ARRAY=120]="UINT184_ARRAY",oe[oe.UINT192_ARRAY=121]="UINT192_ARRAY",oe[oe.UINT200_ARRAY=122]="UINT200_ARRAY",oe[oe.UINT208_ARRAY=123]="UINT208_ARRAY",oe[oe.UINT216_ARRAY=124]="UINT216_ARRAY",oe[oe.UINT224_ARRAY=125]="UINT224_ARRAY",oe[oe.UINT232_ARRAY=126]="UINT232_ARRAY",oe[oe.UINT240_ARRAY=127]="UINT240_ARRAY",oe[oe.UINT248_ARRAY=128]="UINT248_ARRAY",oe[oe.UINT256_ARRAY=129]="UINT256_ARRAY",oe[oe.INT8_ARRAY=130]="INT8_ARRAY",oe[oe.INT16_ARRAY=131]="INT16_ARRAY",oe[oe.INT24_ARRAY=132]="INT24_ARRAY",oe[oe.INT32_ARRAY=133]="INT32_ARRAY",oe[oe.INT40_ARRAY=134]="INT40_ARRAY",oe[oe.INT48_ARRAY=135]="INT48_ARRAY",oe[oe.INT56_ARRAY=136]="INT56_ARRAY",oe[oe.INT64_ARRAY=137]="INT64_ARRAY",oe[oe.INT72_ARRAY=138]="INT72_ARRAY",oe[oe.INT80_ARRAY=139]="INT80_ARRAY",oe[oe.INT88_ARRAY=140]="INT88_ARRAY",oe[oe.INT96_ARRAY=141]="INT96_ARRAY",oe[oe.INT104_ARRAY=142]="INT104_ARRAY",oe[oe.INT112_ARRAY=143]="INT112_ARRAY",oe[oe.INT120_ARRAY=144]="INT120_ARRAY",oe[oe.INT128_ARRAY=145]="INT128_ARRAY",oe[oe.INT136_ARRAY=146]="INT136_ARRAY",oe[oe.INT144_ARRAY=147]="INT144_ARRAY",oe[oe.INT152_ARRAY=148]="INT152_ARRAY",oe[oe.INT160_ARRAY=149]="INT160_ARRAY",oe[oe.INT168_ARRAY=150]="INT168_ARRAY",oe[oe.INT176_ARRAY=151]="INT176_ARRAY",oe[oe.INT184_ARRAY=152]="INT184_ARRAY",oe[oe.INT192_ARRAY=153]="INT192_ARRAY",oe[oe.INT200_ARRAY=154]="INT200_ARRAY",oe[oe.INT208_ARRAY=155]="INT208_ARRAY",oe[oe.INT216_ARRAY=156]="INT216_ARRAY",oe[oe.INT224_ARRAY=157]="INT224_ARRAY",oe[oe.INT232_ARRAY=158]="INT232_ARRAY",oe[oe.INT240_ARRAY=159]="INT240_ARRAY",oe[oe.INT248_ARRAY=160]="INT248_ARRAY",oe[oe.INT256_ARRAY=161]="INT256_ARRAY",oe[oe.BYTES1_ARRAY=162]="BYTES1_ARRAY",oe[oe.BYTES2_ARRAY=163]="BYTES2_ARRAY",oe[oe.BYTES3_ARRAY=164]="BYTES3_ARRAY",oe[oe.BYTES4_ARRAY=165]="BYTES4_ARRAY",oe[oe.BYTES5_ARRAY=166]="BYTES5_ARRAY",oe[oe.BYTES6_ARRAY=167]="BYTES6_ARRAY",oe[oe.BYTES7_ARRAY=168]="BYTES7_ARRAY",oe[oe.BYTES8_ARRAY=169]="BYTES8_ARRAY",oe[oe.BYTES9_ARRAY=170]="BYTES9_ARRAY",oe[oe.BYTES10_ARRAY=171]="BYTES10_ARRAY",oe[oe.BYTES11_ARRAY=172]="BYTES11_ARRAY",oe[oe.BYTES12_ARRAY=173]="BYTES12_ARRAY",oe[oe.BYTES13_ARRAY=174]="BYTES13_ARRAY",oe[oe.BYTES14_ARRAY=175]="BYTES14_ARRAY",oe[oe.BYTES15_ARRAY=176]="BYTES15_ARRAY",oe[oe.BYTES16_ARRAY=177]="BYTES16_ARRAY",oe[oe.BYTES17_ARRAY=178]="BYTES17_ARRAY",oe[oe.BYTES18_ARRAY=179]="BYTES18_ARRAY",oe[oe.BYTES19_ARRAY=180]="BYTES19_ARRAY",oe[oe.BYTES20_ARRAY=181]="BYTES20_ARRAY",oe[oe.BYTES21_ARRAY=182]="BYTES21_ARRAY",oe[oe.BYTES22_ARRAY=183]="BYTES22_ARRAY",oe[oe.BYTES23_ARRAY=184]="BYTES23_ARRAY",oe[oe.BYTES24_ARRAY=185]="BYTES24_ARRAY",oe[oe.BYTES25_ARRAY=186]="BYTES25_ARRAY",oe[oe.BYTES26_ARRAY=187]="BYTES26_ARRAY",oe[oe.BYTES27_ARRAY=188]="BYTES27_ARRAY",oe[oe.BYTES28_ARRAY=189]="BYTES28_ARRAY",oe[oe.BYTES29_ARRAY=190]="BYTES29_ARRAY",oe[oe.BYTES30_ARRAY=191]="BYTES30_ARRAY",oe[oe.BYTES31_ARRAY=192]="BYTES31_ARRAY",oe[oe.BYTES32_ARRAY=193]="BYTES32_ARRAY",oe[oe.BOOL_ARRAY=194]="BOOL_ARRAY",oe[oe.ADDRESS_ARRAY=195]="ADDRESS_ARRAY",oe[oe.BYTES=196]="BYTES",oe[oe.STRING=197]="STRING",oe))(I$5||{}),Y$2={0:"uint8",1:"uint16",2:"uint24",3:"uint32",4:"uint40",5:"uint48",6:"uint56",7:"uint64",8:"uint72",9:"uint80",10:"uint88",11:"uint96",12:"uint104",13:"uint112",14:"uint120",15:"uint128",16:"uint136",17:"uint144",18:"uint152",19:"uint160",20:"uint168",21:"uint176",22:"uint184",23:"uint192",24:"uint200",25:"uint208",26:"uint216",27:"uint224",28:"uint232",29:"uint240",30:"uint248",31:"uint256",32:"int8",33:"int16",34:"int24",35:"int32",36:"int40",37:"int48",38:"int56",39:"int64",40:"int72",41:"int80",42:"int88",43:"int96",44:"int104",45:"int112",46:"int120",47:"int128",48:"int136",49:"int144",50:"int152",51:"int160",52:"int168",53:"int176",54:"int184",55:"int192",56:"int200",57:"int208",58:"int216",59:"int224",60:"int232",61:"int240",62:"int248",63:"int256",64:"bytes1",65:"bytes2",66:"bytes3",67:"bytes4",68:"bytes5",69:"bytes6",70:"bytes7",71:"bytes8",72:"bytes9",73:"bytes10",74:"bytes11",75:"bytes12",76:"bytes13",77:"bytes14",78:"bytes15",79:"bytes16",80:"bytes17",81:"bytes18",82:"bytes19",83:"bytes20",84:"bytes21",85:"bytes22",86:"bytes23",87:"bytes24",88:"bytes25",89:"bytes26",90:"bytes27",91:"bytes28",92:"bytes29",93:"bytes30",94:"bytes31",95:"bytes32",96:"bool",97:"address",98:"uint8[]",99:"uint16[]",100:"uint24[]",101:"uint32[]",102:"uint40[]",103:"uint48[]",104:"uint56[]",105:"uint64[]",106:"uint72[]",107:"uint80[]",108:"uint88[]",109:"uint96[]",110:"uint104[]",111:"uint112[]",112:"uint120[]",113:"uint128[]",114:"uint136[]",115:"uint144[]",116:"uint152[]",117:"uint160[]",118:"uint168[]",119:"uint176[]",120:"uint184[]",121:"uint192[]",122:"uint200[]",123:"uint208[]",124:"uint216[]",125:"uint224[]",126:"uint232[]",127:"uint240[]",128:"uint248[]",129:"uint256[]",130:"int8[]",131:"int16[]",132:"int24[]",133:"int32[]",134:"int40[]",135:"int48[]",136:"int56[]",137:"int64[]",138:"int72[]",139:"int80[]",140:"int88[]",141:"int96[]",142:"int104[]",143:"int112[]",144:"int120[]",145:"int128[]",146:"int136[]",147:"int144[]",148:"int152[]",149:"int160[]",150:"int168[]",151:"int176[]",152:"int184[]",153:"int192[]",154:"int200[]",155:"int208[]",156:"int216[]",157:"int224[]",158:"int232[]",159:"int240[]",160:"int248[]",161:"int256[]",162:"bytes1[]",163:"bytes2[]",164:"bytes3[]",165:"bytes4[]",166:"bytes5[]",167:"bytes6[]",168:"bytes7[]",169:"bytes8[]",170:"bytes9[]",171:"bytes10[]",172:"bytes11[]",173:"bytes12[]",174:"bytes13[]",175:"bytes14[]",176:"bytes15[]",177:"bytes16[]",178:"bytes17[]",179:"bytes18[]",180:"bytes19[]",181:"bytes20[]",182:"bytes21[]",183:"bytes22[]",184:"bytes23[]",185:"bytes24[]",186:"bytes25[]",187:"bytes26[]",188:"bytes27[]",189:"bytes28[]",190:"bytes29[]",191:"bytes30[]",192:"bytes31[]",193:"bytes32[]",194:"bool[]",195:"address[]",196:"bytes",197:"string"},s$6=Object.values(Y$2),_$2=Object.fromEntries(Object.entries(Y$2).map(([oe,he])=>[he,parseInt(oe)]));function n$2(oe){let he=oe.valueOf();return he<32?he+1:he<64?he+1-32:he<96?he+1-64:oe==96?1:oe==97?20:0}var U$1=s$6.filter(oe=>n$2(_$2[oe])>0),n$1=/\[\]$/;function b$2(oe){return n$1.test(oe)}function r$4(oe){return oe.replace(n$1,"")}var i$5=["uint8","uint16","uint24","uint32","uint40","uint48","uint56","uint64","uint72","uint80","uint88","uint96","uint104","uint112","uint120","uint128","uint136","uint144","uint152","uint160","uint168","uint176","uint184","uint192","uint200","uint208","uint216","uint224","uint232","uint240","uint248","uint256","int8","int16","int24","int32","int40","int48","int56","int64","int72","int80","int88","int96","int104","int112","int120","int128","int136","int144","int152","int160","int168","int176","int184","int192","int200","int208","int216","int224","int232","int240","int248","int256","bytes1","bytes2","bytes3","bytes4","bytes5","bytes6","bytes7","bytes8","bytes9","bytes10","bytes11","bytes12","bytes13","bytes14","bytes15","bytes16","bytes17","bytes18","bytes19","bytes20","bytes21","bytes22","bytes23","bytes24","bytes25","bytes26","bytes27","bytes28","bytes29","bytes30","bytes31","bytes32","bool","address","uint8[]","uint16[]","uint24[]","uint32[]","uint40[]","uint48[]","uint56[]","uint64[]","uint72[]","uint80[]","uint88[]","uint96[]","uint104[]","uint112[]","uint120[]","uint128[]","uint136[]","uint144[]","uint152[]","uint160[]","uint168[]","uint176[]","uint184[]","uint192[]","uint200[]","uint208[]","uint216[]","uint224[]","uint232[]","uint240[]","uint248[]","uint256[]","int8[]","int16[]","int24[]","int32[]","int40[]","int48[]","int56[]","int64[]","int72[]","int80[]","int88[]","int96[]","int104[]","int112[]","int120[]","int128[]","int136[]","int144[]","int152[]","int160[]","int168[]","int176[]","int184[]","int192[]","int200[]","int208[]","int216[]","int224[]","int232[]","int240[]","int248[]","int256[]","bytes1[]","bytes2[]","bytes3[]","bytes4[]","bytes5[]","bytes6[]","bytes7[]","bytes8[]","bytes9[]","bytes10[]","bytes11[]","bytes12[]","bytes13[]","bytes14[]","bytes15[]","bytes16[]","bytes17[]","bytes18[]","bytes19[]","bytes20[]","bytes21[]","bytes22[]","bytes23[]","bytes24[]","bytes25[]","bytes26[]","bytes27[]","bytes28[]","bytes29[]","bytes30[]","bytes31[]","bytes32[]","bool[]","address[]","bytes","string"],e$4=i$5.slice(0,98),y$6=i$5.slice(98),s$5={"uint8[]":[],"uint16[]":[],"uint24[]":[],"uint32[]":[],"uint40[]":[],"uint48[]":[],"uint56[]":[],"uint64[]":[],"uint72[]":[],"uint80[]":[],"uint88[]":[],"uint96[]":[],"uint104[]":[],"uint112[]":[],"uint120[]":[],"uint128[]":[],"uint136[]":[],"uint144[]":[],"uint152[]":[],"uint160[]":[],"uint168[]":[],"uint176[]":[],"uint184[]":[],"uint192[]":[],"uint200[]":[],"uint208[]":[],"uint216[]":[],"uint224[]":[],"uint232[]":[],"uint240[]":[],"uint248[]":[],"uint256[]":[],"int8[]":[],"int16[]":[],"int24[]":[],"int32[]":[],"int40[]":[],"int48[]":[],"int56[]":[],"int64[]":[],"int72[]":[],"int80[]":[],"int88[]":[],"int96[]":[],"int104[]":[],"int112[]":[],"int120[]":[],"int128[]":[],"int136[]":[],"int144[]":[],"int152[]":[],"int160[]":[],"int168[]":[],"int176[]":[],"int184[]":[],"int192[]":[],"int200[]":[],"int208[]":[],"int216[]":[],"int224[]":[],"int232[]":[],"int240[]":[],"int248[]":[],"int256[]":[],"bytes1[]":[],"bytes2[]":[],"bytes3[]":[],"bytes4[]":[],"bytes5[]":[],"bytes6[]":[],"bytes7[]":[],"bytes8[]":[],"bytes9[]":[],"bytes10[]":[],"bytes11[]":[],"bytes12[]":[],"bytes13[]":[],"bytes14[]":[],"bytes15[]":[],"bytes16[]":[],"bytes17[]":[],"bytes18[]":[],"bytes19[]":[],"bytes20[]":[],"bytes21[]":[],"bytes22[]":[],"bytes23[]":[],"bytes24[]":[],"bytes25[]":[],"bytes26[]":[],"bytes27[]":[],"bytes28[]":[],"bytes29[]":[],"bytes30[]":[],"bytes31[]":[],"bytes32[]":[],"bool[]":[],"address[]":[],bytes:"0x",string:""};function x$2(oe){return y$6.includes(oe)}var a$6={uint8:0,uint16:0,uint24:0,uint32:0,uint40:0,uint48:0,uint56:0n,uint64:0n,uint72:0n,uint80:0n,uint88:0n,uint96:0n,uint104:0n,uint112:0n,uint120:0n,uint128:0n,uint136:0n,uint144:0n,uint152:0n,uint160:0n,uint168:0n,uint176:0n,uint184:0n,uint192:0n,uint200:0n,uint208:0n,uint216:0n,uint224:0n,uint232:0n,uint240:0n,uint248:0n,uint256:0n,int8:0,int16:0,int24:0,int32:0,int40:0,int48:0,int56:0n,int64:0n,int72:0n,int80:0n,int88:0n,int96:0n,int104:0n,int112:0n,int120:0n,int128:0n,int136:0n,int144:0n,int152:0n,int160:0n,int168:0n,int176:0n,int184:0n,int192:0n,int200:0n,int208:0n,int216:0n,int224:0n,int232:0n,int240:0n,int248:0n,int256:0n,bytes1:"0x00",bytes2:"0x0000",bytes3:"0x000000",bytes4:"0x00000000",bytes5:"0x0000000000",bytes6:"0x000000000000",bytes7:"0x00000000000000",bytes8:"0x0000000000000000",bytes9:"0x000000000000000000",bytes10:"0x00000000000000000000",bytes11:"0x0000000000000000000000",bytes12:"0x000000000000000000000000",bytes13:"0x00000000000000000000000000",bytes14:"0x0000000000000000000000000000",bytes15:"0x000000000000000000000000000000",bytes16:"0x00000000000000000000000000000000",bytes17:"0x0000000000000000000000000000000000",bytes18:"0x000000000000000000000000000000000000",bytes19:"0x00000000000000000000000000000000000000",bytes20:"0x0000000000000000000000000000000000000000",bytes21:"0x000000000000000000000000000000000000000000",bytes22:"0x00000000000000000000000000000000000000000000",bytes23:"0x0000000000000000000000000000000000000000000000",bytes24:"0x000000000000000000000000000000000000000000000000",bytes25:"0x00000000000000000000000000000000000000000000000000",bytes26:"0x0000000000000000000000000000000000000000000000000000",bytes27:"0x000000000000000000000000000000000000000000000000000000",bytes28:"0x00000000000000000000000000000000000000000000000000000000",bytes29:"0x0000000000000000000000000000000000000000000000000000000000",bytes30:"0x000000000000000000000000000000000000000000000000000000000000",bytes31:"0x00000000000000000000000000000000000000000000000000000000000000",bytes32:"0x0000000000000000000000000000000000000000000000000000000000000000",bool:!1,address:"0x0000000000000000000000000000000000000000"},g$4={uint8:1,uint16:2,uint24:3,uint32:4,uint40:5,uint48:6,uint56:7,uint64:8,uint72:9,uint80:10,uint88:11,uint96:12,uint104:13,uint112:14,uint120:15,uint128:16,uint136:17,uint144:18,uint152:19,uint160:20,uint168:21,uint176:22,uint184:23,uint192:24,uint200:25,uint208:26,uint216:27,uint224:28,uint232:29,uint240:30,uint248:31,uint256:32,int8:1,int16:2,int24:3,int32:4,int40:5,int48:6,int56:7,int64:8,int72:9,int80:10,int88:11,int96:12,int104:13,int112:14,int120:15,int128:16,int136:17,int144:18,int152:19,int160:20,int168:21,int176:22,int184:23,int192:24,int200:25,int208:26,int216:27,int224:28,int232:29,int240:30,int248:31,int256:32,bytes1:1,bytes2:2,bytes3:3,bytes4:4,bytes5:5,bytes6:6,bytes7:7,bytes8:8,bytes9:9,bytes10:10,bytes11:11,bytes12:12,bytes13:13,bytes14:14,bytes15:15,bytes16:16,bytes17:17,bytes18:18,bytes19:19,bytes20:20,bytes21:21,bytes22:22,bytes23:23,bytes24:24,bytes25:25,bytes26:26,bytes27:27,bytes28:28,bytes29:29,bytes30:30,bytes31:31,bytes32:32,bool:1,address:20};function f$6(oe){return e$4.includes(oe)}function a$5(oe,he){throw new Error(he??`Unexpected value: ${oe}`)}function i$4(...oe){return oe.reduce((he,ye)=>ye>he?ye:he)}function f$5(...oe){return oe.reduce((he,ye)=>ye<he?ye:he)}function m$3(oe,he){return oe<he?-1:oe>he?1:0}function*y$5(oe,he){for(let ye=0;ye<oe.length;ye+=he)yield oe.slice(ye,ye+he)}function w$5(oe){return oe!==void 0}function R$2(oe,he){return Object.fromEntries(Object.entries(oe).map(([ye,ve])=>[ye,he(ve,ye)]))}function O$2(oe){return new Promise(he=>setTimeout(()=>he(),oe))}var browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var oe=1e3,he=oe*60,ye=he*60,ve=ye*24,_e=ve*7,we=ve*365.25;ms=function(Fe,Le){Le=Le||{};var De=typeof Fe;if(De==="string"&&Fe.length>0)return Pe(Fe);if(De==="number"&&isFinite(Fe))return Le.long?Re(Fe):Ie(Fe);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Fe))};function Pe(Fe){if(Fe=String(Fe),!(Fe.length>100)){var Le=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Fe);if(Le){var De=parseFloat(Le[1]),je=(Le[2]||"ms").toLowerCase();switch(je){case"years":case"year":case"yrs":case"yr":case"y":return De*we;case"weeks":case"week":case"w":return De*_e;case"days":case"day":case"d":return De*ve;case"hours":case"hour":case"hrs":case"hr":case"h":return De*ye;case"minutes":case"minute":case"mins":case"min":case"m":return De*he;case"seconds":case"second":case"secs":case"sec":case"s":return De*oe;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return De;default:return}}}}function Ie(Fe){var Le=Math.abs(Fe);return Le>=ve?Math.round(Fe/ve)+"d":Le>=ye?Math.round(Fe/ye)+"h":Le>=he?Math.round(Fe/he)+"m":Le>=oe?Math.round(Fe/oe)+"s":Fe+"ms"}function Re(Fe){var Le=Math.abs(Fe);return Le>=ve?ke(Fe,Le,ve,"day"):Le>=ye?ke(Fe,Le,ye,"hour"):Le>=he?ke(Fe,Le,he,"minute"):Le>=oe?ke(Fe,Le,oe,"second"):Fe+" ms"}function ke(Fe,Le,De,je){var ze=Le>=De*1.5;return Math.round(Fe/De)+" "+je+(ze?"s":"")}return ms}function setup(oe){ye.debug=ye,ye.default=ye,ye.coerce=Re,ye.disable=we,ye.enable=_e,ye.enabled=Pe,ye.humanize=requireMs(),ye.destroy=ke,Object.keys(oe).forEach(Fe=>{ye[Fe]=oe[Fe]}),ye.names=[],ye.skips=[],ye.formatters={};function he(Fe){let Le=0;for(let De=0;De<Fe.length;De++)Le=(Le<<5)-Le+Fe.charCodeAt(De),Le|=0;return ye.colors[Math.abs(Le)%ye.colors.length]}ye.selectColor=he;function ye(Fe){let Le,De=null,je,ze;function qe(...We){if(!qe.enabled)return;const et=qe,rt=Number(new Date),it=rt-(Le||rt);et.diff=it,et.prev=Le,et.curr=rt,Le=rt,We[0]=ye.coerce(We[0]),typeof We[0]!="string"&&We.unshift("%O");let ht=0;We[0]=We[0].replace(/%([a-zA-Z%])/g,(dt,At)=>{if(dt==="%%")return"%";ht++;const Pt=ye.formatters[At];if(typeof Pt=="function"){const Ut=We[ht];dt=Pt.call(et,Ut),We.splice(ht,1),ht--}return dt}),ye.formatArgs.call(et,We),(et.log||ye.log).apply(et,We)}return qe.namespace=Fe,qe.useColors=ye.useColors(),qe.color=ye.selectColor(Fe),qe.extend=ve,qe.destroy=ye.destroy,Object.defineProperty(qe,"enabled",{enumerable:!0,configurable:!1,get:()=>De!==null?De:(je!==ye.namespaces&&(je=ye.namespaces,ze=ye.enabled(Fe)),ze),set:We=>{De=We}}),typeof ye.init=="function"&&ye.init(qe),qe}function ve(Fe,Le){const De=ye(this.namespace+(typeof Le>"u"?":":Le)+Fe);return De.log=this.log,De}function _e(Fe){ye.save(Fe),ye.namespaces=Fe,ye.names=[],ye.skips=[];let Le;const De=(typeof Fe=="string"?Fe:"").split(/[\s,]+/),je=De.length;for(Le=0;Le<je;Le++)De[Le]&&(Fe=De[Le].replace(/\*/g,".*?"),Fe[0]==="-"?ye.skips.push(new RegExp("^"+Fe.slice(1)+"$")):ye.names.push(new RegExp("^"+Fe+"$")))}function we(){const Fe=[...ye.names.map(Ie),...ye.skips.map(Ie).map(Le=>"-"+Le)].join(",");return ye.enable(""),Fe}function Pe(Fe){if(Fe[Fe.length-1]==="*")return!0;let Le,De;for(Le=0,De=ye.skips.length;Le<De;Le++)if(ye.skips[Le].test(Fe))return!1;for(Le=0,De=ye.names.length;Le<De;Le++)if(ye.names[Le].test(Fe))return!0;return!1}function Ie(Fe){return Fe.toString().substring(2,Fe.toString().length-2).replace(/\.\*\?$/,"*")}function Re(Fe){return Fe instanceof Error?Fe.stack||Fe.message:Fe}function ke(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return ye.enable(ye.load()),ye}var common=setup;(function(oe,he){he.formatArgs=ve,he.save=_e,he.load=we,he.useColors=ye,he.storage=Pe(),he.destroy=(()=>{let Re=!1;return()=>{Re||(Re=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),he.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ye(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function ve(Re){if(Re[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+Re[0]+(this.useColors?"%c ":" ")+"+"+oe.exports.humanize(this.diff),!this.useColors)return;const ke="color: "+this.color;Re.splice(1,0,ke,"color: inherit");let Fe=0,Le=0;Re[0].replace(/%[a-zA-Z%]/g,De=>{De!=="%%"&&(Fe++,De==="%c"&&(Le=Fe))}),Re.splice(Le,0,ke)}he.log=console.debug||console.log||(()=>{});function _e(Re){try{Re?he.storage.setItem("debug",Re):he.storage.removeItem("debug")}catch{}}function we(){let Re;try{Re=he.storage.getItem("debug")}catch{}return!Re&&typeof process<"u"&&"env"in process&&(Re={}.DEBUG),Re}function Pe(){try{return localStorage}catch{}}oe.exports=common(he);const{formatters:Ie}=oe.exports;Ie.j=function(Re){try{return JSON.stringify(Re)}catch(ke){return"[UnexpectedJSONParseError]: "+ke.message}}})(browser,browser.exports);var browserExports=browser.exports;const debug=getDefaultExportFromCjs(browserExports);var e$3=debug("mud:common"),r$3=debug("mud:common");e$3.log=console.debug.bind(console);r$3.log=console.error.bind(console);const Rho=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Id=Uint8Array.from({length:16},(oe,he)=>he),Pi=Id.map(oe=>(9*oe+5)%16);let idxL=[Id],idxR=[Pi];for(let oe=0;oe<4;oe++)for(let he of[idxL,idxR])he.push(he[oe].map(ye=>Rho[ye]));const shifts=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(oe=>new Uint8Array(oe)),shiftsL=idxL.map((oe,he)=>oe.map(ye=>shifts[he][ye])),shiftsR=idxR.map((oe,he)=>oe.map(ye=>shifts[he][ye])),Kl=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Kr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),rotl=(oe,he)=>oe<<he|oe>>>32-he;function f$4(oe,he,ye,ve){return oe===0?he^ye^ve:oe===1?he&ye|~he&ve:oe===2?(he|~ye)^ve:oe===3?he&ve|ye&~ve:he^(ye|~ve)}const BUF=new Uint32Array(16);class RIPEMD160 extends SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:he,h1:ye,h2:ve,h3:_e,h4:we}=this;return[he,ye,ve,_e,we]}set(he,ye,ve,_e,we){this.h0=he|0,this.h1=ye|0,this.h2=ve|0,this.h3=_e|0,this.h4=we|0}process(he,ye){for(let je=0;je<16;je++,ye+=4)BUF[je]=he.getUint32(ye,!0);let ve=this.h0|0,_e=ve,we=this.h1|0,Pe=we,Ie=this.h2|0,Re=Ie,ke=this.h3|0,Fe=ke,Le=this.h4|0,De=Le;for(let je=0;je<5;je++){const ze=4-je,qe=Kl[je],We=Kr[je],et=idxL[je],rt=idxR[je],it=shiftsL[je],ht=shiftsR[je];for(let lt=0;lt<16;lt++){const dt=rotl(ve+f$4(je,we,Ie,ke)+BUF[et[lt]]+qe,it[lt])+Le|0;ve=Le,Le=ke,ke=rotl(Ie,10)|0,Ie=we,we=dt}for(let lt=0;lt<16;lt++){const dt=rotl(_e+f$4(ze,Pe,Re,Fe)+BUF[rt[lt]]+We,ht[lt])+De|0;_e=De,De=Fe,Fe=rotl(Re,10)|0,Re=Pe,Pe=dt}}this.set(this.h1+Ie+Fe|0,this.h2+ke+De|0,this.h3+Le+_e|0,this.h4+ve+Pe|0,this.h0+we+Re|0)}roundClean(){BUF.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const ripemd160=wrapConstructor(()=>new RIPEMD160),ripemd160$1=Object.freeze(Object.defineProperty({__proto__:null,RIPEMD160,ripemd160},Symbol.toStringTag,{value:"Module"})),[SHA512_Kh,SHA512_Kl]=(()=>u64$1.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(oe=>BigInt(oe))))(),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:he,Al:ye,Bh:ve,Bl:_e,Ch:we,Cl:Pe,Dh:Ie,Dl:Re,Eh:ke,El:Fe,Fh:Le,Fl:De,Gh:je,Gl:ze,Hh:qe,Hl:We}=this;return[he,ye,ve,_e,we,Pe,Ie,Re,ke,Fe,Le,De,je,ze,qe,We]}set(he,ye,ve,_e,we,Pe,Ie,Re,ke,Fe,Le,De,je,ze,qe,We){this.Ah=he|0,this.Al=ye|0,this.Bh=ve|0,this.Bl=_e|0,this.Ch=we|0,this.Cl=Pe|0,this.Dh=Ie|0,this.Dl=Re|0,this.Eh=ke|0,this.El=Fe|0,this.Fh=Le|0,this.Fl=De|0,this.Gh=je|0,this.Gl=ze|0,this.Hh=qe|0,this.Hl=We|0}process(he,ye){for(let it=0;it<16;it++,ye+=4)SHA512_W_H[it]=he.getUint32(ye),SHA512_W_L[it]=he.getUint32(ye+=4);for(let it=16;it<80;it++){const ht=SHA512_W_H[it-15]|0,lt=SHA512_W_L[it-15]|0,dt=u64$1.rotrSH(ht,lt,1)^u64$1.rotrSH(ht,lt,8)^u64$1.shrSH(ht,lt,7),At=u64$1.rotrSL(ht,lt,1)^u64$1.rotrSL(ht,lt,8)^u64$1.shrSL(ht,lt,7),Pt=SHA512_W_H[it-2]|0,Ut=SHA512_W_L[it-2]|0,St=u64$1.rotrSH(Pt,Ut,19)^u64$1.rotrBH(Pt,Ut,61)^u64$1.shrSH(Pt,Ut,6),Nt=u64$1.rotrSL(Pt,Ut,19)^u64$1.rotrBL(Pt,Ut,61)^u64$1.shrSL(Pt,Ut,6),er=u64$1.add4L(At,Nt,SHA512_W_L[it-7],SHA512_W_L[it-16]),Kt=u64$1.add4H(er,dt,St,SHA512_W_H[it-7],SHA512_W_H[it-16]);SHA512_W_H[it]=Kt|0,SHA512_W_L[it]=er|0}let{Ah:ve,Al:_e,Bh:we,Bl:Pe,Ch:Ie,Cl:Re,Dh:ke,Dl:Fe,Eh:Le,El:De,Fh:je,Fl:ze,Gh:qe,Gl:We,Hh:et,Hl:rt}=this;for(let it=0;it<80;it++){const ht=u64$1.rotrSH(Le,De,14)^u64$1.rotrSH(Le,De,18)^u64$1.rotrBH(Le,De,41),lt=u64$1.rotrSL(Le,De,14)^u64$1.rotrSL(Le,De,18)^u64$1.rotrBL(Le,De,41),dt=Le&je^~Le&qe,At=De&ze^~De&We,Pt=u64$1.add5L(rt,lt,At,SHA512_Kl[it],SHA512_W_L[it]),Ut=u64$1.add5H(Pt,et,ht,dt,SHA512_Kh[it],SHA512_W_H[it]),St=Pt|0,Nt=u64$1.rotrSH(ve,_e,28)^u64$1.rotrBH(ve,_e,34)^u64$1.rotrBH(ve,_e,39),er=u64$1.rotrSL(ve,_e,28)^u64$1.rotrBL(ve,_e,34)^u64$1.rotrBL(ve,_e,39),Kt=ve&we^ve&Ie^we&Ie,br=_e&Pe^_e&Re^Pe&Re;et=qe|0,rt=We|0,qe=je|0,We=ze|0,je=Le|0,ze=De|0,{h:Le,l:De}=u64$1.add(ke|0,Fe|0,Ut|0,St|0),ke=Ie|0,Fe=Re|0,Ie=we|0,Re=Pe|0,we=ve|0,Pe=_e|0;const It=u64$1.add3L(St,er,br);ve=u64$1.add3H(It,Ut,Nt,Kt),_e=It|0}({h:ve,l:_e}=u64$1.add(this.Ah|0,this.Al|0,ve|0,_e|0)),{h:we,l:Pe}=u64$1.add(this.Bh|0,this.Bl|0,we|0,Pe|0),{h:Ie,l:Re}=u64$1.add(this.Ch|0,this.Cl|0,Ie|0,Re|0),{h:ke,l:Fe}=u64$1.add(this.Dh|0,this.Dl|0,ke|0,Fe|0),{h:Le,l:De}=u64$1.add(this.Eh|0,this.El|0,Le|0,De|0),{h:je,l:ze}=u64$1.add(this.Fh|0,this.Fl|0,je|0,ze|0),{h:qe,l:We}=u64$1.add(this.Gh|0,this.Gl|0,qe|0,We|0),{h:et,l:rt}=u64$1.add(this.Hh|0,this.Hl|0,et|0,rt|0),this.set(ve,_e,we,Pe,Ie,Re,ke,Fe,Le,De,je,ze,qe,We,et,rt)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class SHA512_224 extends SHA512{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class SHA512_256 extends SHA512{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384 extends SHA512{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const sha512=wrapConstructor(()=>new SHA512),sha512_224=wrapConstructor(()=>new SHA512_224),sha512_256=wrapConstructor(()=>new SHA512_256),sha384=wrapConstructor(()=>new SHA384),sha512$1=Object.freeze(Object.defineProperty({__proto__:null,SHA512,sha384,sha512,sha512_224,sha512_256},Symbol.toStringTag,{value:"Module"}));function pbkdf2Init(oe,he,ye,ve){hash$2(oe);const _e=checkOpts({dkLen:32,asyncTick:10},ve),{c:we,dkLen:Pe,asyncTick:Ie}=_e;if(number(we),number(Pe),number(Ie),we<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const Re=toBytes(he),ke=toBytes(ye),Fe=new Uint8Array(Pe),Le=hmac.create(oe,Re),De=Le._cloneInto().update(ke);return{c:we,dkLen:Pe,asyncTick:Ie,DK:Fe,PRF:Le,PRFSalt:De}}function pbkdf2Output(oe,he,ye,ve,_e){return oe.destroy(),he.destroy(),ve&&ve.destroy(),_e.fill(0),ye}function pbkdf2(oe,he,ye,ve){const{c:_e,dkLen:we,DK:Pe,PRF:Ie,PRFSalt:Re}=pbkdf2Init(oe,he,ye,ve);let ke;const Fe=new Uint8Array(4),Le=createView(Fe),De=new Uint8Array(Ie.outputLen);for(let je=1,ze=0;ze<we;je++,ze+=Ie.outputLen){const qe=Pe.subarray(ze,ze+Ie.outputLen);Le.setInt32(0,je,!1),(ke=Re._cloneInto(ke)).update(Fe).digestInto(De),qe.set(De.subarray(0,qe.length));for(let We=1;We<_e;We++){Ie._cloneInto(ke).update(De).digestInto(De);for(let et=0;et<qe.length;et++)qe[et]^=De[et]}}return pbkdf2Output(Ie,Re,Pe,ke,De)}async function pbkdf2Async(oe,he,ye,ve){const{c:_e,dkLen:we,asyncTick:Pe,DK:Ie,PRF:Re,PRFSalt:ke}=pbkdf2Init(oe,he,ye,ve);let Fe;const Le=new Uint8Array(4),De=createView(Le),je=new Uint8Array(Re.outputLen);for(let ze=1,qe=0;qe<we;ze++,qe+=Re.outputLen){const We=Ie.subarray(qe,qe+Re.outputLen);De.setInt32(0,ze,!1),(Fe=ke._cloneInto(Fe)).update(Le).digestInto(je),We.set(je.subarray(0,We.length)),await asyncLoop(_e-1,Pe,()=>{Re._cloneInto(Fe).update(je).digestInto(je);for(let et=0;et<We.length;et++)We[et]^=je[et]})}return pbkdf2Output(Re,ke,Ie,Fe,je)}const pbkdf2$1=Object.freeze(Object.defineProperty({__proto__:null,pbkdf2,pbkdf2Async},Symbol.toStringTag,{value:"Module"}));function toAccount(oe){if(typeof oe=="string"){if(!isAddress(oe))throw new InvalidAddressError({address:oe});return{address:oe,type:"json-rpc"}}if(!isAddress(oe.address))throw new InvalidAddressError({address:oe.address});return{address:oe.address,signMessage:oe.signMessage,signTransaction:oe.signTransaction,signTypedData:oe.signTypedData,source:"custom",type:"local"}}async function sign({hash:oe,privateKey:he}){const{r:ye,s:ve,recovery:_e}=secp256k1.sign(oe.slice(2),he.slice(2));return{r:toHex(ye),s:toHex(ve),v:_e?28n:27n}}async function signMessage({message:oe,privateKey:he}){const ye=await sign({hash:hashMessage(oe),privateKey:he});return signatureToHex(ye)}async function signTransaction({privateKey:oe,transaction:he,serializer:ye=serializeTransaction}){const ve=await sign({hash:keccak256(ye(he)),privateKey:oe});return ye(he,ve)}async function signTypedData({privateKey:oe,...he}){const ye=await sign({hash:hashTypedData(he),privateKey:oe});return signatureToHex(ye)}function privateKeyToAccount(oe){const he=toHex(secp256k1.getPublicKey(oe.slice(2),!1)),ye=publicKeyToAddress(he);return{...toAccount({address:ye,async signMessage({message:_e}){return signMessage({message:_e,privateKey:oe})},async signTransaction(_e,{serializer:we}={}){return signTransaction({privateKey:oe,transaction:_e,serializer:we})},async signTypedData(_e){return signTypedData({..._e,privateKey:oe})}}),publicKey:he,source:"privateKey"}}var eventemitter3={exports:{}};(function(oe){var he=Object.prototype.hasOwnProperty,ye="~";function ve(){}Object.create&&(ve.prototype=Object.create(null),new ve().__proto__||(ye=!1));function _e(Re,ke,Fe){this.fn=Re,this.context=ke,this.once=Fe||!1}function we(Re,ke,Fe,Le,De){if(typeof Fe!="function")throw new TypeError("The listener must be a function");var je=new _e(Fe,Le||Re,De),ze=ye?ye+ke:ke;return Re._events[ze]?Re._events[ze].fn?Re._events[ze]=[Re._events[ze],je]:Re._events[ze].push(je):(Re._events[ze]=je,Re._eventsCount++),Re}function Pe(Re,ke){--Re._eventsCount===0?Re._events=new ve:delete Re._events[ke]}function Ie(){this._events=new ve,this._eventsCount=0}Ie.prototype.eventNames=function(){var ke=[],Fe,Le;if(this._eventsCount===0)return ke;for(Le in Fe=this._events)he.call(Fe,Le)&&ke.push(ye?Le.slice(1):Le);return Object.getOwnPropertySymbols?ke.concat(Object.getOwnPropertySymbols(Fe)):ke},Ie.prototype.listeners=function(ke){var Fe=ye?ye+ke:ke,Le=this._events[Fe];if(!Le)return[];if(Le.fn)return[Le.fn];for(var De=0,je=Le.length,ze=new Array(je);De<je;De++)ze[De]=Le[De].fn;return ze},Ie.prototype.listenerCount=function(ke){var Fe=ye?ye+ke:ke,Le=this._events[Fe];return Le?Le.fn?1:Le.length:0},Ie.prototype.emit=function(ke,Fe,Le,De,je,ze){var qe=ye?ye+ke:ke;if(!this._events[qe])return!1;var We=this._events[qe],et=arguments.length,rt,it;if(We.fn){switch(We.once&&this.removeListener(ke,We.fn,void 0,!0),et){case 1:return We.fn.call(We.context),!0;case 2:return We.fn.call(We.context,Fe),!0;case 3:return We.fn.call(We.context,Fe,Le),!0;case 4:return We.fn.call(We.context,Fe,Le,De),!0;case 5:return We.fn.call(We.context,Fe,Le,De,je),!0;case 6:return We.fn.call(We.context,Fe,Le,De,je,ze),!0}for(it=1,rt=new Array(et-1);it<et;it++)rt[it-1]=arguments[it];We.fn.apply(We.context,rt)}else{var ht=We.length,lt;for(it=0;it<ht;it++)switch(We[it].once&&this.removeListener(ke,We[it].fn,void 0,!0),et){case 1:We[it].fn.call(We[it].context);break;case 2:We[it].fn.call(We[it].context,Fe);break;case 3:We[it].fn.call(We[it].context,Fe,Le);break;case 4:We[it].fn.call(We[it].context,Fe,Le,De);break;default:if(!rt)for(lt=1,rt=new Array(et-1);lt<et;lt++)rt[lt-1]=arguments[lt];We[it].fn.apply(We[it].context,rt)}}return!0},Ie.prototype.on=function(ke,Fe,Le){return we(this,ke,Fe,Le,!1)},Ie.prototype.once=function(ke,Fe,Le){return we(this,ke,Fe,Le,!0)},Ie.prototype.removeListener=function(ke,Fe,Le,De){var je=ye?ye+ke:ke;if(!this._events[je])return this;if(!Fe)return Pe(this,je),this;var ze=this._events[je];if(ze.fn)ze.fn===Fe&&(!De||ze.once)&&(!Le||ze.context===Le)&&Pe(this,je);else{for(var qe=0,We=[],et=ze.length;qe<et;qe++)(ze[qe].fn!==Fe||De&&!ze[qe].once||Le&&ze[qe].context!==Le)&&We.push(ze[qe]);We.length?this._events[je]=We.length===1?We[0]:We:Pe(this,je)}return this},Ie.prototype.removeAllListeners=function(ke){var Fe;return ke?(Fe=ye?ye+ke:ke,this._events[Fe]&&Pe(this,Fe)):(this._events=new ve,this._eventsCount=0),this},Ie.prototype.off=Ie.prototype.removeListener,Ie.prototype.addListener=Ie.prototype.on,Ie.prefixed=ye,Ie.EventEmitter=Ie,oe.exports=Ie})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);class TimeoutError extends Error{constructor(he){super(he),this.name="TimeoutError"}}let AbortError$2=class extends Error{constructor(he){super(),this.name="AbortError",this.message=he}};const getDOMException$1=oe=>globalThis.DOMException===void 0?new AbortError$2(oe):new DOMException(oe),getAbortedReason=oe=>{const he=oe.reason===void 0?getDOMException$1("This operation was aborted."):oe.reason;return he instanceof Error?he:getDOMException$1(he)};function pTimeout(oe,he,ye,ve){let _e;const we=new Promise((Pe,Ie)=>{if(typeof he!="number"||Math.sign(he)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${he}\``);if(he===Number.POSITIVE_INFINITY){Pe(oe);return}if(ve={customTimers:{setTimeout,clearTimeout},...ve},ve.signal){const{signal:Re}=ve;Re.aborted&&Ie(getAbortedReason(Re)),Re.addEventListener("abort",()=>{Ie(getAbortedReason(Re))})}_e=ve.customTimers.setTimeout.call(void 0,()=>{if(typeof ye=="function"){try{Pe(ye())}catch(Fe){Ie(Fe)}return}const Re=typeof ye=="string"?ye:`Promise timed out after ${he} milliseconds`,ke=ye instanceof Error?ye:new TimeoutError(Re);typeof oe.cancel=="function"&&oe.cancel(),Ie(ke)},he),(async()=>{try{Pe(await oe)}catch(Re){Ie(Re)}finally{ve.customTimers.clearTimeout.call(void 0,_e)}})()});return we.clear=()=>{clearTimeout(_e),_e=void 0},we}function lowerBound(oe,he,ye){let ve=0,_e=oe.length;for(;_e>0;){const we=Math.trunc(_e/2);let Pe=ve+we;ye(oe[Pe],he)<=0?(ve=++Pe,_e-=we+1):_e=we}return ve}var __classPrivateFieldGet$1=globalThis&&globalThis.__classPrivateFieldGet||function(oe,he,ye,ve){if(ye==="a"&&!ve)throw new TypeError("Private accessor was defined without a getter");if(typeof he=="function"?oe!==he||!ve:!he.has(oe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ye==="m"?ve:ye==="a"?ve.call(oe):ve?ve.value:he.get(oe)},_PriorityQueue_queue;class PriorityQueue{constructor(){_PriorityQueue_queue.set(this,[])}enqueue(he,ye){ye={priority:0,...ye};const ve={priority:ye.priority,run:he};if(this.size&&__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f")[this.size-1].priority>=ye.priority){__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").push(ve);return}const _e=lowerBound(__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f"),ve,(we,Pe)=>Pe.priority-we.priority);__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").splice(_e,0,ve)}dequeue(){const he=__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").shift();return he?.run}filter(he){return __classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").filter(ye=>ye.priority===he.priority).map(ye=>ye.run)}get size(){return __classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").length}}_PriorityQueue_queue=new WeakMap;var __classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(oe,he,ye,ve,_e){if(ve==="m")throw new TypeError("Private method is not writable");if(ve==="a"&&!_e)throw new TypeError("Private accessor was defined without a setter");if(typeof he=="function"?oe!==he||!_e:!he.has(oe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ve==="a"?_e.call(oe,ye):_e?_e.value=ye:he.set(oe,ye),ye},__classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(oe,he,ye,ve){if(ye==="a"&&!ve)throw new TypeError("Private accessor was defined without a getter");if(typeof he=="function"?oe!==he||!ve:!he.has(oe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ye==="m"?ve:ye==="a"?ve.call(oe):ve?ve.value:he.get(oe)},_PQueue_instances,_PQueue_carryoverConcurrencyCount,_PQueue_isIntervalIgnored,_PQueue_intervalCount,_PQueue_intervalCap,_PQueue_interval,_PQueue_intervalEnd,_PQueue_intervalId,_PQueue_timeoutId,_PQueue_queue,_PQueue_queueClass,_PQueue_pending,_PQueue_concurrency,_PQueue_isPaused,_PQueue_throwOnTimeout,_PQueue_doesIntervalAllowAnother_get,_PQueue_doesConcurrentAllowAnother_get,_PQueue_next,_PQueue_onResumeInterval,_PQueue_isIntervalPaused_get,_PQueue_tryToStartAnother,_PQueue_initializeIntervalIfNeeded,_PQueue_onInterval,_PQueue_processQueue,_PQueue_throwOnAbort,_PQueue_onEvent;let AbortError$1=class extends Error{};class PQueue extends EventEmitter{constructor(he){var ye,ve,_e,we;if(super(),_PQueue_instances.add(this),_PQueue_carryoverConcurrencyCount.set(this,void 0),_PQueue_isIntervalIgnored.set(this,void 0),_PQueue_intervalCount.set(this,0),_PQueue_intervalCap.set(this,void 0),_PQueue_interval.set(this,void 0),_PQueue_intervalEnd.set(this,0),_PQueue_intervalId.set(this,void 0),_PQueue_timeoutId.set(this,void 0),_PQueue_queue.set(this,void 0),_PQueue_queueClass.set(this,void 0),_PQueue_pending.set(this,0),_PQueue_concurrency.set(this,void 0),_PQueue_isPaused.set(this,void 0),_PQueue_throwOnTimeout.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),he={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:PriorityQueue,...he},!(typeof he.intervalCap=="number"&&he.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(ve=(ye=he.intervalCap)===null||ye===void 0?void 0:ye.toString())!==null&&ve!==void 0?ve:""}\` (${typeof he.intervalCap})`);if(he.interval===void 0||!(Number.isFinite(he.interval)&&he.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(we=(_e=he.interval)===null||_e===void 0?void 0:_e.toString())!==null&&we!==void 0?we:""}\` (${typeof he.interval})`);__classPrivateFieldSet(this,_PQueue_carryoverConcurrencyCount,he.carryoverConcurrencyCount,"f"),__classPrivateFieldSet(this,_PQueue_isIntervalIgnored,he.intervalCap===Number.POSITIVE_INFINITY||he.interval===0,"f"),__classPrivateFieldSet(this,_PQueue_intervalCap,he.intervalCap,"f"),__classPrivateFieldSet(this,_PQueue_interval,he.interval,"f"),__classPrivateFieldSet(this,_PQueue_queue,new he.queueClass,"f"),__classPrivateFieldSet(this,_PQueue_queueClass,he.queueClass,"f"),this.concurrency=he.concurrency,this.timeout=he.timeout,__classPrivateFieldSet(this,_PQueue_throwOnTimeout,he.throwOnTimeout===!0,"f"),__classPrivateFieldSet(this,_PQueue_isPaused,he.autoStart===!1,"f")}get concurrency(){return __classPrivateFieldGet(this,_PQueue_concurrency,"f")}set concurrency(he){if(!(typeof he=="number"&&he>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${he}\` (${typeof he})`);__classPrivateFieldSet(this,_PQueue_concurrency,he,"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_processQueue).call(this)}async add(he,ye={}){return ye={timeout:this.timeout,throwOnTimeout:__classPrivateFieldGet(this,_PQueue_throwOnTimeout,"f"),...ye},new Promise((ve,_e)=>{__classPrivateFieldGet(this,_PQueue_queue,"f").enqueue(async()=>{var we,Pe,Ie;__classPrivateFieldSet(this,_PQueue_pending,(Pe=__classPrivateFieldGet(this,_PQueue_pending,"f"),Pe++,Pe),"f"),__classPrivateFieldSet(this,_PQueue_intervalCount,(Ie=__classPrivateFieldGet(this,_PQueue_intervalCount,"f"),Ie++,Ie),"f");try{if(!((we=ye.signal)===null||we===void 0)&&we.aborted)throw new AbortError$1("The task was aborted.");let Re=he({signal:ye.signal});ye.timeout&&(Re=pTimeout(Promise.resolve(Re),ye.timeout)),ye.signal&&(Re=Promise.race([Re,__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_throwOnAbort).call(this,ye.signal)]));const ke=await Re;ve(ke),this.emit("completed",ke)}catch(Re){if(Re instanceof TimeoutError&&!ye.throwOnTimeout){ve();return}_e(Re),this.emit("error",Re)}finally{__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_next).call(this)}},ye),this.emit("add"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this)})}async addAll(he,ye){return Promise.all(he.map(async ve=>this.add(ve,ye)))}start(){return __classPrivateFieldGet(this,_PQueue_isPaused,"f")?(__classPrivateFieldSet(this,_PQueue_isPaused,!1,"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_processQueue).call(this),this):this}pause(){__classPrivateFieldSet(this,_PQueue_isPaused,!0,"f")}clear(){__classPrivateFieldSet(this,_PQueue_queue,new(__classPrivateFieldGet(this,_PQueue_queueClass,"f")),"f")}async onEmpty(){__classPrivateFieldGet(this,_PQueue_queue,"f").size!==0&&await __classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"empty")}async onSizeLessThan(he){__classPrivateFieldGet(this,_PQueue_queue,"f").size<he||await __classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"next",()=>__classPrivateFieldGet(this,_PQueue_queue,"f").size<he)}async onIdle(){__classPrivateFieldGet(this,_PQueue_pending,"f")===0&&__classPrivateFieldGet(this,_PQueue_queue,"f").size===0||await __classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"idle")}get size(){return __classPrivateFieldGet(this,_PQueue_queue,"f").size}sizeBy(he){return __classPrivateFieldGet(this,_PQueue_queue,"f").filter(he).length}get pending(){return __classPrivateFieldGet(this,_PQueue_pending,"f")}get isPaused(){return __classPrivateFieldGet(this,_PQueue_isPaused,"f")}}_PQueue_carryoverConcurrencyCount=new WeakMap,_PQueue_isIntervalIgnored=new WeakMap,_PQueue_intervalCount=new WeakMap,_PQueue_intervalCap=new WeakMap,_PQueue_interval=new WeakMap,_PQueue_intervalEnd=new WeakMap,_PQueue_intervalId=new WeakMap,_PQueue_timeoutId=new WeakMap,_PQueue_queue=new WeakMap,_PQueue_queueClass=new WeakMap,_PQueue_pending=new WeakMap,_PQueue_concurrency=new WeakMap,_PQueue_isPaused=new WeakMap,_PQueue_throwOnTimeout=new WeakMap,_PQueue_instances=new WeakSet,_PQueue_doesIntervalAllowAnother_get=function(){return __classPrivateFieldGet(this,_PQueue_isIntervalIgnored,"f")||__classPrivateFieldGet(this,_PQueue_intervalCount,"f")<__classPrivateFieldGet(this,_PQueue_intervalCap,"f")},_PQueue_doesConcurrentAllowAnother_get=function(){return __classPrivateFieldGet(this,_PQueue_pending,"f")<__classPrivateFieldGet(this,_PQueue_concurrency,"f")},_PQueue_next=function(){var he;__classPrivateFieldSet(this,_PQueue_pending,(he=__classPrivateFieldGet(this,_PQueue_pending,"f"),he--,he),"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this),this.emit("next")},_PQueue_onResumeInterval=function(){__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onInterval).call(this),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_initializeIntervalIfNeeded).call(this),__classPrivateFieldSet(this,_PQueue_timeoutId,void 0,"f")},_PQueue_isIntervalPaused_get=function(){const he=Date.now();if(__classPrivateFieldGet(this,_PQueue_intervalId,"f")===void 0){const ye=__classPrivateFieldGet(this,_PQueue_intervalEnd,"f")-he;if(ye<0)__classPrivateFieldSet(this,_PQueue_intervalCount,__classPrivateFieldGet(this,_PQueue_carryoverConcurrencyCount,"f")?__classPrivateFieldGet(this,_PQueue_pending,"f"):0,"f");else return __classPrivateFieldGet(this,_PQueue_timeoutId,"f")===void 0&&__classPrivateFieldSet(this,_PQueue_timeoutId,setTimeout(()=>{__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onResumeInterval).call(this)},ye),"f"),!0}return!1},_PQueue_tryToStartAnother=function(){if(__classPrivateFieldGet(this,_PQueue_queue,"f").size===0)return __classPrivateFieldGet(this,_PQueue_intervalId,"f")&&clearInterval(__classPrivateFieldGet(this,_PQueue_intervalId,"f")),__classPrivateFieldSet(this,_PQueue_intervalId,void 0,"f"),this.emit("empty"),__classPrivateFieldGet(this,_PQueue_pending,"f")===0&&this.emit("idle"),!1;if(!__classPrivateFieldGet(this,_PQueue_isPaused,"f")){const he=!__classPrivateFieldGet(this,_PQueue_instances,"a",_PQueue_isIntervalPaused_get);if(__classPrivateFieldGet(this,_PQueue_instances,"a",_PQueue_doesIntervalAllowAnother_get)&&__classPrivateFieldGet(this,_PQueue_instances,"a",_PQueue_doesConcurrentAllowAnother_get)){const ye=__classPrivateFieldGet(this,_PQueue_queue,"f").dequeue();return ye?(this.emit("active"),ye(),he&&__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_initializeIntervalIfNeeded).call(this),!0):!1}}return!1},_PQueue_initializeIntervalIfNeeded=function(){__classPrivateFieldGet(this,_PQueue_isIntervalIgnored,"f")||__classPrivateFieldGet(this,_PQueue_intervalId,"f")!==void 0||(__classPrivateFieldSet(this,_PQueue_intervalId,setInterval(()=>{__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onInterval).call(this)},__classPrivateFieldGet(this,_PQueue_interval,"f")),"f"),__classPrivateFieldSet(this,_PQueue_intervalEnd,Date.now()+__classPrivateFieldGet(this,_PQueue_interval,"f"),"f"))},_PQueue_onInterval=function(){__classPrivateFieldGet(this,_PQueue_intervalCount,"f")===0&&__classPrivateFieldGet(this,_PQueue_pending,"f")===0&&__classPrivateFieldGet(this,_PQueue_intervalId,"f")&&(clearInterval(__classPrivateFieldGet(this,_PQueue_intervalId,"f")),__classPrivateFieldSet(this,_PQueue_intervalId,void 0,"f")),__classPrivateFieldSet(this,_PQueue_intervalCount,__classPrivateFieldGet(this,_PQueue_carryoverConcurrencyCount,"f")?__classPrivateFieldGet(this,_PQueue_pending,"f"):0,"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_processQueue).call(this)},_PQueue_processQueue=function(){for(;__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this););},_PQueue_throwOnAbort=async function(he){return new Promise((ye,ve)=>{he.addEventListener("abort",()=>{ve(new AbortError$1("The task was aborted."))},{once:!0})})},_PQueue_onEvent=async function(he,ye){return new Promise(ve=>{const _e=()=>{ye&&!ye()||(this.off(he,_e),ve())};this.on(he,_e)})};var retry$2={};function RetryOperation(oe,he){typeof he=="boolean"&&(he={forever:he}),this._originalTimeouts=JSON.parse(JSON.stringify(oe)),this._timeouts=oe,this._options=he||{},this._maxRetryTime=he&&he.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(oe){if(this._timeout&&clearTimeout(this._timeout),!oe)return!1;var he=new Date().getTime();if(oe&&he-this._operationStart>=this._maxRetryTime)return this._errors.push(oe),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(oe);var ye=this._timeouts.shift();if(ye===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),ye=this._cachedTimeouts.slice(-1);else return!1;var ve=this;return this._timer=setTimeout(function(){ve._attempts++,ve._operationTimeoutCb&&(ve._timeout=setTimeout(function(){ve._operationTimeoutCb(ve._attempts)},ve._operationTimeout),ve._options.unref&&ve._timeout.unref()),ve._fn(ve._attempts)},ye),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(oe,he){this._fn=oe,he&&(he.timeout&&(this._operationTimeout=he.timeout),he.cb&&(this._operationTimeoutCb=he.cb));var ye=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){ye._operationTimeoutCb()},ye._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(oe){console.log("Using RetryOperation.try() is deprecated"),this.attempt(oe)};RetryOperation.prototype.start=function(oe){console.log("Using RetryOperation.start() is deprecated"),this.attempt(oe)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var oe={},he=null,ye=0,ve=0;ve<this._errors.length;ve++){var _e=this._errors[ve],we=_e.message,Pe=(oe[we]||0)+1;oe[we]=Pe,Pe>=ye&&(he=_e,ye=Pe)}return he};(function(oe){var he=retry_operation;oe.operation=function(ye){var ve=oe.timeouts(ye);return new he(ve,{forever:ye&&(ye.forever||ye.retries===1/0),unref:ye&&ye.unref,maxRetryTime:ye&&ye.maxRetryTime})},oe.timeouts=function(ye){if(ye instanceof Array)return[].concat(ye);var ve={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var _e in ye)ve[_e]=ye[_e];if(ve.minTimeout>ve.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var we=[],Pe=0;Pe<ve.retries;Pe++)we.push(this.createTimeout(Pe,ve));return ye&&ye.forever&&!we.length&&we.push(this.createTimeout(Pe,ve)),we.sort(function(Ie,Re){return Ie-Re}),we},oe.createTimeout=function(ye,ve){var _e=ve.randomize?Math.random()+1:1,we=Math.round(_e*Math.max(ve.minTimeout,1)*Math.pow(ve.factor,ye));return we=Math.min(we,ve.maxTimeout),we},oe.wrap=function(ye,ve,_e){if(ve instanceof Array&&(_e=ve,ve=null),!_e){_e=[];for(var we in ye)typeof ye[we]=="function"&&_e.push(we)}for(var Pe=0;Pe<_e.length;Pe++){var Ie=_e[Pe],Re=ye[Ie];ye[Ie]=function(Fe){var Le=oe.operation(ve),De=Array.prototype.slice.call(arguments,1),je=De.pop();De.push(function(ze){Le.retry(ze)||(ze&&(arguments[0]=Le.mainError()),je.apply(this,arguments))}),Le.attempt(function(){Fe.apply(ye,De)})}.bind(ye,Re),ye[Ie].options=ve}}})(retry$2);var retry=retry$2;const retry$1=getDefaultExportFromCjs(retry),networkErrorMsgs=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed"]);class AbortError extends Error{constructor(he){super(),he instanceof Error?(this.originalError=he,{message:he}=he):(this.originalError=new Error(he),this.originalError.stack=this.stack),this.name="AbortError",this.message=he}}const decorateErrorWithCounts=(oe,he,ye)=>{const ve=ye.retries-(he-1);return oe.attemptNumber=he,oe.retriesLeft=ve,oe},isNetworkError=oe=>networkErrorMsgs.has(oe),getDOMException=oe=>globalThis.DOMException===void 0?new Error(oe):new DOMException(oe);async function pRetry(oe,he){return new Promise((ye,ve)=>{he={onFailedAttempt(){},retries:10,...he};const _e=retry$1.operation(he);_e.attempt(async we=>{try{ye(await oe(we))}catch(Pe){if(!(Pe instanceof Error)){ve(new TypeError(`Non-error was thrown: "${Pe}". You should only throw errors.`));return}if(Pe instanceof AbortError)_e.stop(),ve(Pe.originalError);else if(Pe instanceof TypeError&&!isNetworkError(Pe.message))_e.stop(),ve(Pe);else{decorateErrorWithCounts(Pe,we,he);try{await he.onFailedAttempt(Pe)}catch(Ie){ve(Ie);return}_e.retry(Pe)||ve(_e.mainError())}}}),he.signal&&!he.signal.aborted&&he.signal.addEventListener("abort",()=>{_e.stop();const we=he.signal.reason===void 0?getDOMException("The operation was aborted."):he.signal.reason;ve(we instanceof Error?we:getDOMException(we))},{once:!0})})}var P$6=debug("mud:benchmark");P$6.log=console.info.bind(console);e$3.extend("createNonceManager");e$3.extend("writeContract");var M$6=["table","offchainTable","namespace","module","system"],y$4={table:"tb",offchainTable:"ot",namespace:"ns",module:"md",system:"sy"};function E$5(oe){let he=y$4[oe.type];return concatHex([stringToHex(he,{size:2}),stringToHex(oe.namespace.slice(0,14),{size:14}),stringToHex(oe.name.slice(0,16),{size:16})])}var ee$2=Object.fromEntries(Object.entries(y$4).map(([oe,he])=>[he,oe]));function re$2(oe){let he=ee$2[oe];if(M$6.includes(he))return he}function I$4(oe){let he=hexToString(sliceHex(oe,0,2)).replace(/\0+$/,""),ye=re$2(he),ve=hexToString(sliceHex(oe,2,16)).replace(/\0+$/,""),_e=hexToString(sliceHex(oe,16,32)).replace(/\0+$/,"");if(!ye)throw new Error(`Unknown type (${he}) for resource (${he}:${ve}:${_e})`);return{resourceId:oe,type:ye,namespace:ve,name:_e}}function N$5(oe,he,ye){return`0x${oe.replace(/^0x/,"").slice(he*2,ye!=null?ye*2:void 0).padEnd(((ye??he)-he)*2,"0")}`}function yr(oe){return"ok"in oe}e$3.extend("sendTransaction");function Ir(oe,he,ye=0,ve="0x"){return concatHex([N$5(oe,0,he),ve,N$5(oe,he+ye)])}e$3.extend("transportObserver");var l$3={storeImportPath:"@latticexyz/store/src/",userTypesFilename:"common.sol",codegenDirectory:"codegen",codegenIndexFilename:"index.sol"},p$4={namespace:"",enums:{},userTypes:{}},c$1={directory:"tables",keySchema:{key:"bytes32"},tableIdArgument:!1,storeArgument:!1,offchainOnly:!1},L$2=v$3,V$3=B$2,_$1=B$2,P$5=v$3,$$1=v$3,u$2=z$2.string(),q$3=z$2.string(),B$1=z$2.record(V$3,q$3).default(c$1.keySchema),h$1=z$2.record(_$1,u$2).refine(oe=>Object.keys(oe).length>0,"Table schema may not be empty"),M$5=u$2.transform(oe=>h$1.parse({value:oe})),w$4=h$1.or(M$5),x$1=z$2.object({directory:z$2.string().default(c$1.directory),name:G$3.optional(),tableIdArgument:z$2.boolean().default(c$1.tableIdArgument),storeArgument:z$2.boolean().default(c$1.storeArgument),dataStruct:z$2.boolean().optional(),keySchema:B$1,valueSchema:w$4,offchainOnly:z$2.boolean().default(c$1.offchainOnly)}).transform(oe=>(Object.keys(oe.valueSchema).length===1?oe.dataStruct??=!1:oe.dataStruct??=!0,oe)),H$3=u$2.transform(oe=>x$1.parse({valueSchema:{value:oe}})),G$2=x$1.or(H$3),X$1=z$2.record(L$2,G$2).transform(oe=>{for(let he of Object.keys(oe)){let ye=oe[he];ye.name=he.slice(0,z$1),oe[he]=ye}return oe}),Z$1=z$2.object({enums:z$2.record(P$5,V$4).default(p$4.enums)}),J=z$2.object({filePath:z$2.string(),internalType:z$2.enum(i$5)}),Q$1=z$2.object({userTypes:z$2.record($$1,J).default(p$4.userTypes)}),C=z$2.object({namespace:O$3.default(p$4.namespace),storeImportPath:z$2.string().default(l$3.storeImportPath),tables:X$1,userTypesFilename:z$2.string().default(l$3.userTypesFilename),codegenDirectory:z$2.string().default(l$3.codegenDirectory),codegenIndexFilename:z$2.string().default(l$3.codegenIndexFilename)}).merge(Z$1).merge(Q$1);C.superRefine(E$4);var Ue=C.catchall(z$2.any()).superRefine(E$4);function E$4(oe,he){for(let ke of Object.values(oe.tables)){let Fe=Object.keys(ke.keySchema),Le=Object.keys(ke.valueSchema),De=M$7([...Fe,...Le]);De.length>0&&he.addIssue({code:ZodIssueCode.custom,message:`Field and key names within one table must be unique: ${De.join(", ")}`})}let ye=Object.keys(oe.tables),ve=[...Object.keys(oe.enums),...Object.keys(oe.userTypes)],_e=ve,we=[...ye,..._e],Pe=M$7(we);Pe.length>0&&he.addIssue({code:ZodIssueCode.custom,message:`Table library names, enum names, user type names must be globally unique: ${Pe.join(", ")}`});let Ie=Object.values(oe.tables).map(({name:ke})=>ke),Re=M$7(Ie);Re.length>0&&he.addIssue({code:ZodIssueCode.custom,message:`Table names must be unique: ${Re.join(", ")}`});for(let ke of Object.values(oe.tables)){for(let Fe of Object.values(ke.keySchema))F$1(ve,Fe,he);for(let Fe of Object.values(ke.valueSchema))W$3(_e,ve,Fe,he)}}function W$3(oe,he,ye,ve){if(!s$6.includes(ye)&&!oe.includes(ye)){let _e=S$2(ye);_e?Y$1(he,_e.elementType,_e.staticLength,ve):ve.addIssue({code:ZodIssueCode.custom,message:`${ye} is not a valid abi type, and is not defined in userTypes`})}}function F$1(oe,he,ye){!U$1.includes(he)&&!oe.includes(he)&&ye.addIssue({code:ZodIssueCode.custom,message:`${he} is not a static type`})}function Y$1(oe,he,ye,ve){F$1(oe,he,ve),ye===0?ve.addIssue({code:ZodIssueCode.custom,message:"Static array length must not be 0"}):ye>=2**16&&ve.addIssue({code:ZodIssueCode.custom,message:"Static array length must be less than 2**16"})}function Ce(oe){let he={};for(let ye of Object.keys(oe.tables))he[ye]=se$2(oe.tables[ye],oe.userTypes,Object.keys(oe.enums),oe.namespace,ye);return{tables:he}}function se$2(oe,he,ye,ve,_e){let{keySchema:we,valueSchema:Pe}=oe;return{keySchema:te$1(we,he,ye),valueSchema:re$1(Pe,he,ye),namespace:ve,name:_e,tableId:E$5({type:oe.offchainOnly?"offchainTable":"table",namespace:ve,name:_e})}}function te$1(oe,he,ye){let ve=oe==null?{key:"bytes32"}:typeof oe=="string"?{key:oe}:oe;return N$4(ve,he,ye)}function re$1(oe,he,ye){return N$4(typeof oe=="string"?{value:oe}:oe,he,ye)}function N$4(oe,he,ye){return R$2(oe,(ve,_e)=>{let we=he&&ve in he,Pe=ye.includes(ve);return{type:we?he[ve].internalType:Pe?"uint8":ve,internalType:ve}})}i$7.isCreated()||i$7.createContext();K$4(oe=>{try{return Ue.parse(oe)}catch(he){throw he instanceof ZodError?f$7(he,"StoreConfig Validation Error"):he}});function m$2(oe){return q$4(oe)}K$4(oe=>{try{return w$6.parse(oe)}catch(he){throw he instanceof ZodError?f$7(he,"WorldConfig Validation Error"):he}});var e$2=debug("mud:common"),r$2=debug("mud:common");e$2.log=console.debug.bind(console);r$2.log=console.error.bind(console);var P$4=debug("mud:benchmark");P$4.log=console.info.bind(console);function ge(oe){return{...privateKeyToAccount(oe)}}async function T$1({client:oe,address:he,blockTag:ye}){return`mud:createNonceManager:${oe.chain?.id??await getChainId(oe)}:${getAddress(he)}:${ye}`}var R$1=e$2.extend("createNonceManager");function k$2({client:oe,address:he,blockTag:ye="pending",broadcastChannelName:ve}){let _e={current:-1},we=null;typeof BroadcastChannel<"u"&&(ve?Promise.resolve(ve):T$1({client:oe,address:he,blockTag:ye})).then(Le=>{we=new BroadcastChannel(Le),we.addEventListener("message",De=>{let je=JSON.parse(De.data);R$1("got nonce from broadcast channel",je),_e.current=je})});function Pe(){return _e.current>=0}function Ie(){if(!Pe())throw new Error("call resetNonce before using nextNonce");let Le=_e.current++;return we?.postMessage(JSON.stringify(_e.current)),Le}async function Re(){let Le=await getTransactionCount(oe,{address:he,blockTag:ye});_e.current=Le,we?.postMessage(JSON.stringify(_e.current)),R$1("reset nonce to",_e.current)}function ke(Le){return Le instanceof BaseError&&Le.walk(De=>De instanceof NonceTooLowError||De instanceof NonceTooHighError)!=null}let Fe=new PQueue({concurrency:1});return{hasNonce:Pe,nextNonce:Ie,resetNonce:Re,shouldResetNonce:ke,mempoolQueue:Fe}}var O$1=new Map;async function l$2({client:oe,address:he,blockTag:ye="pending"}){let ve=await T$1({client:oe,address:he,blockTag:ye}),_e=O$1.get(ve);if(_e)return _e;let we=k$2({client:oe,address:he,blockTag:ye});return O$1.set(ve,we),we}var f$3=e$2.extend("writeContract");async function H$2(oe,he){let ye=he.account??oe.account;if(!ye)throw new Error("No account provided");let ve=parseAccount(ye),_e=await l$2({client:oe,address:ve.address,blockTag:"pending"});async function we(){return he.gas?(f$3("gas provided, skipping simulate",he.functionName,he.address),he):(f$3("simulating",he.functionName,"at",he.address),(await simulateContract(oe,{...he,blockTag:"pending",account:ve})).request)}let Pe=await we();return _e.mempoolQueue.add(()=>pRetry(async()=>{_e.hasNonce()||await _e.resetNonce();let Ie=_e.nextNonce();return f$3("calling",Pe.functionName,"with nonce",Ie,"at",Pe.address),await writeContract(oe,{nonce:Ie,...Pe})},{retries:3,onFailedAttempt:async Ie=>{if(_e.shouldResetNonce(Ie)){f$3("got nonce error, retrying",Ie.message),await _e.resetNonce();return}throw Ie}}),{throwOnTimeout:!0})}function V$2(oe){let he=oe.length&&Array.isArray(oe[0]),ye=he?oe[0]:[],ve=(he?oe[1]:oe[0])??{};return{args:ye,options:ve}}function v$2({abi:oe,address:he,publicClient:ye,walletClient:ve,onWrite:_e}){let we=getContract({abi:oe,address:he,publicClient:ye,walletClient:ve});if(we.write){let Pe=0;we.write=new Proxy({},{get(Ie,Re){return(...ke)=>{let{args:Fe,options:Le}=V$2(ke),De={abi:oe,address:he,functionName:Re,args:Fe,...Le,onWrite:_e},je=H$2(ve,De),ze=`${ve.chain.id}:${ve.account.address}:${Pe++}`;return _e?.({id:ze,request:De,result:je}),je}}})}return we}var M$4=["table","offchainTable","namespace","module","system"],y$3={table:"tb",offchainTable:"ot",namespace:"ns",module:"md",system:"sy"};function E$3(oe){let he=y$3[oe.type];return concatHex([stringToHex(he,{size:2}),stringToHex(oe.namespace.slice(0,14),{size:14}),stringToHex(oe.name.slice(0,16),{size:16})])}var ee$1=Object.fromEntries(Object.entries(y$3).map(([oe,he])=>[he,oe]));function re(oe){let he=ee$1[oe];if(M$4.includes(he))return he}function I$3(oe){let he=hexToString(sliceHex(oe,0,2)).replace(/\0+$/,""),ye=re(he),ve=hexToString(sliceHex(oe,2,16)).replace(/\0+$/,""),_e=hexToString(sliceHex(oe,16,32)).replace(/\0+$/,"");if(!ye)throw new Error(`Unknown type (${he}) for resource (${he}:${ve}:${_e})`);return{resourceId:oe,type:ye,namespace:ve,name:_e}}function N$3(oe,he,ye){return`0x${oe.replace(/^0x/,"").slice(he*2,ye!=null?ye*2:void 0).padEnd(((ye??he)-he)*2,"0")}`}e$2.extend("sendTransaction");var ue$2=e$2.extend("transportObserver");function Dr(oe){return he=>{let ye=oe(he);return{...ye,request:async ve=>{if(ve.method==="eth_sendRawTransaction"&&ve.params instanceof Array){let _e=ve.params.map(we=>keccak256(we));ue$2("saw txs",_e)}return ye.request(ve)}}}}z$2.object({chainId:z$2.number(),address:z$2.string().refine(isHex).optional(),filters:z$2.array(z$2.object({tableId:z$2.string().refine(isHex),key0:z$2.string().refine(isHex).optional(),key1:z$2.string().refine(isHex).optional()})).default([])});function invert(oe){const he=Object.create(null);for(const ye in oe){const ve=oe[ye];he[ve]=ye}return he}const TRPC_ERROR_CODES_BY_KEY={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};invert(TRPC_ERROR_CODES_BY_KEY);invert(TRPC_ERROR_CODES_BY_KEY);const noop=()=>{};function createInnerProxy(oe,he){return new Proxy(noop,{get(ve,_e){if(!(typeof _e!="string"||_e==="then"))return createInnerProxy(oe,[...he,_e])},apply(ve,_e,we){const Pe=he[he.length-1]==="apply";return oe({args:Pe?we.length>=2?we[1]:[]:we,path:Pe?he.slice(0,-1):he})}})}const createRecursiveProxy=oe=>createInnerProxy(oe,[]),createFlatProxy=oe=>new Proxy(noop,{get(he,ye){if(!(typeof ye!="string"||ye==="then"))return oe(ye)}});typeof window>"u"||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||globalThis.process?.env?.JEST_WORKER_ID||globalThis.process?.env?.VITEST_WORKER_ID;var DoubleIndexedKV=function(){function oe(){this.keyToValue=new Map,this.valueToKey=new Map}return oe.prototype.set=function(he,ye){this.keyToValue.set(he,ye),this.valueToKey.set(ye,he)},oe.prototype.getByKey=function(he){return this.keyToValue.get(he)},oe.prototype.getByValue=function(he){return this.valueToKey.get(he)},oe.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},oe}(),Registry=function(){function oe(he){this.generateIdentifier=he,this.kv=new DoubleIndexedKV}return oe.prototype.register=function(he,ye){this.kv.getByValue(he)||(ye||(ye=this.generateIdentifier(he)),this.kv.set(ye,he))},oe.prototype.clear=function(){this.kv.clear()},oe.prototype.getIdentifier=function(he){return this.kv.getByValue(he)},oe.prototype.getValue=function(he){return this.kv.getByKey(he)},oe}(),__extends=globalThis&&globalThis.__extends||function(){var oe=function(he,ye){return oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ve,_e){ve.__proto__=_e}||function(ve,_e){for(var we in _e)Object.prototype.hasOwnProperty.call(_e,we)&&(ve[we]=_e[we])},oe(he,ye)};return function(he,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Class extends value "+String(ye)+" is not a constructor or null");oe(he,ye);function ve(){this.constructor=he}he.prototype=ye===null?Object.create(ye):(ve.prototype=ye.prototype,new ve)}}(),ClassRegistry=function(oe){__extends(he,oe);function he(){var ye=oe.call(this,function(ve){return ve.name})||this;return ye.classToAllowedProps=new Map,ye}return he.prototype.register=function(ye,ve){typeof ve=="object"?(ve.allowProps&&this.classToAllowedProps.set(ye,ve.allowProps),oe.prototype.register.call(this,ye,ve.identifier)):oe.prototype.register.call(this,ye,ve)},he.prototype.getAllowedProps=function(ye){return this.classToAllowedProps.get(ye)},he}(Registry),__read$4=globalThis&&globalThis.__read||function(oe,he){var ye=typeof Symbol=="function"&&oe[Symbol.iterator];if(!ye)return oe;var ve=ye.call(oe),_e,we=[],Pe;try{for(;(he===void 0||he-- >0)&&!(_e=ve.next()).done;)we.push(_e.value)}catch(Ie){Pe={error:Ie}}finally{try{_e&&!_e.done&&(ye=ve.return)&&ye.call(ve)}finally{if(Pe)throw Pe.error}}return we};function valuesOfObj(oe){if("values"in Object)return Object.values(oe);var he=[];for(var ye in oe)oe.hasOwnProperty(ye)&&he.push(oe[ye]);return he}function find(oe,he){var ye=valuesOfObj(oe);if("find"in ye)return ye.find(he);for(var ve=ye,_e=0;_e<ve.length;_e++){var we=ve[_e];if(he(we))return we}}function forEach(oe,he){Object.entries(oe).forEach(function(ye){var ve=__read$4(ye,2),_e=ve[0],we=ve[1];return he(we,_e)})}function includes(oe,he){return oe.indexOf(he)!==-1}function findArr(oe,he){for(var ye=0;ye<oe.length;ye++){var ve=oe[ye];if(he(ve))return ve}}var CustomTransformerRegistry=function(){function oe(){this.transfomers={}}return oe.prototype.register=function(he){this.transfomers[he.name]=he},oe.prototype.findApplicable=function(he){return find(this.transfomers,function(ye){return ye.isApplicable(he)})},oe.prototype.findByName=function(he){return this.transfomers[he]},oe}(),getType$1=function(oe){return Object.prototype.toString.call(oe).slice(8,-1)},isUndefined=function(oe){return typeof oe>"u"},isNull=function(oe){return oe===null},isPlainObject$1=function(oe){return typeof oe!="object"||oe===null||oe===Object.prototype?!1:Object.getPrototypeOf(oe)===null?!0:Object.getPrototypeOf(oe)===Object.prototype},isEmptyObject=function(oe){return isPlainObject$1(oe)&&Object.keys(oe).length===0},isArray$d=function(oe){return Array.isArray(oe)},isString=function(oe){return typeof oe=="string"},isNumber=function(oe){return typeof oe=="number"&&!isNaN(oe)},isBoolean=function(oe){return typeof oe=="boolean"},isRegExp=function(oe){return oe instanceof RegExp},isMap=function(oe){return oe instanceof Map},isSet=function(oe){return oe instanceof Set},isSymbol$6=function(oe){return getType$1(oe)==="Symbol"},isDate=function(oe){return oe instanceof Date&&!isNaN(oe.valueOf())},isError=function(oe){return oe instanceof Error},isNaNValue=function(oe){return typeof oe=="number"&&isNaN(oe)},isPrimitive=function(oe){return isBoolean(oe)||isNull(oe)||isUndefined(oe)||isNumber(oe)||isString(oe)||isSymbol$6(oe)},isBigint=function(oe){return typeof oe=="bigint"},isInfinite=function(oe){return oe===1/0||oe===-1/0},isTypedArray$3=function(oe){return ArrayBuffer.isView(oe)&&!(oe instanceof DataView)},isURL=function(oe){return oe instanceof URL},escapeKey=function(oe){return oe.replace(/\./g,"\\.")},stringifyPath=function(oe){return oe.map(String).map(escapeKey).join(".")},parsePath=function(oe){for(var he=[],ye="",ve=0;ve<oe.length;ve++){var _e=oe.charAt(ve),we=_e==="\\"&&oe.charAt(ve+1)===".";if(we){ye+=".",ve++;continue}var Pe=_e===".";if(Pe){he.push(ye),ye="";continue}ye+=_e}var Ie=ye;return he.push(Ie),he},__assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(oe){for(var he,ye=1,ve=arguments.length;ye<ve;ye++){he=arguments[ye];for(var _e in he)Object.prototype.hasOwnProperty.call(he,_e)&&(oe[_e]=he[_e])}return oe},__assign$1.apply(this,arguments)},__read$3=globalThis&&globalThis.__read||function(oe,he){var ye=typeof Symbol=="function"&&oe[Symbol.iterator];if(!ye)return oe;var ve=ye.call(oe),_e,we=[],Pe;try{for(;(he===void 0||he-- >0)&&!(_e=ve.next()).done;)we.push(_e.value)}catch(Ie){Pe={error:Ie}}finally{try{_e&&!_e.done&&(ye=ve.return)&&ye.call(ve)}finally{if(Pe)throw Pe.error}}return we},__spreadArray$2=globalThis&&globalThis.__spreadArray||function(oe,he){for(var ye=0,ve=he.length,_e=oe.length;ye<ve;ye++,_e++)oe[_e]=he[ye];return oe};function simpleTransformation(oe,he,ye,ve){return{isApplicable:oe,annotation:he,transform:ye,untransform:ve}}var simpleRules=[simpleTransformation(isUndefined,"undefined",function(){return null},function(){}),simpleTransformation(isBigint,"bigint",function(oe){return oe.toString()},function(oe){return typeof BigInt<"u"?BigInt(oe):(console.error("Please add a BigInt polyfill."),oe)}),simpleTransformation(isDate,"Date",function(oe){return oe.toISOString()},function(oe){return new Date(oe)}),simpleTransformation(isError,"Error",function(oe,he){var ye={name:oe.name,message:oe.message};return he.allowedErrorProps.forEach(function(ve){ye[ve]=oe[ve]}),ye},function(oe,he){var ye=new Error(oe.message);return ye.name=oe.name,ye.stack=oe.stack,he.allowedErrorProps.forEach(function(ve){ye[ve]=oe[ve]}),ye}),simpleTransformation(isRegExp,"regexp",function(oe){return""+oe},function(oe){var he=oe.slice(1,oe.lastIndexOf("/")),ye=oe.slice(oe.lastIndexOf("/")+1);return new RegExp(he,ye)}),simpleTransformation(isSet,"set",function(oe){return __spreadArray$2([],__read$3(oe.values()))},function(oe){return new Set(oe)}),simpleTransformation(isMap,"map",function(oe){return __spreadArray$2([],__read$3(oe.entries()))},function(oe){return new Map(oe)}),simpleTransformation(function(oe){return isNaNValue(oe)||isInfinite(oe)},"number",function(oe){return isNaNValue(oe)?"NaN":oe>0?"Infinity":"-Infinity"},Number),simpleTransformation(function(oe){return oe===0&&1/oe===-1/0},"number",function(){return"-0"},Number),simpleTransformation(isURL,"URL",function(oe){return oe.toString()},function(oe){return new URL(oe)})];function compositeTransformation(oe,he,ye,ve){return{isApplicable:oe,annotation:he,transform:ye,untransform:ve}}var symbolRule=compositeTransformation(function(oe,he){if(isSymbol$6(oe)){var ye=!!he.symbolRegistry.getIdentifier(oe);return ye}return!1},function(oe,he){var ye=he.symbolRegistry.getIdentifier(oe);return["symbol",ye]},function(oe){return oe.description},function(oe,he,ye){var ve=ye.symbolRegistry.getValue(he[1]);if(!ve)throw new Error("Trying to deserialize unknown symbol");return ve}),constructorToName=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(oe,he){return oe[he.name]=he,oe},{}),typedArrayRule=compositeTransformation(isTypedArray$3,function(oe){return["typed-array",oe.constructor.name]},function(oe){return __spreadArray$2([],__read$3(oe))},function(oe,he){var ye=constructorToName[he[1]];if(!ye)throw new Error("Trying to deserialize unknown typed array");return new ye(oe)});function isInstanceOfRegisteredClass(oe,he){if(oe?.constructor){var ye=!!he.classRegistry.getIdentifier(oe.constructor);return ye}return!1}var classRule=compositeTransformation(isInstanceOfRegisteredClass,function(oe,he){var ye=he.classRegistry.getIdentifier(oe.constructor);return["class",ye]},function(oe,he){var ye=he.classRegistry.getAllowedProps(oe.constructor);if(!ye)return __assign$1({},oe);var ve={};return ye.forEach(function(_e){ve[_e]=oe[_e]}),ve},function(oe,he,ye){var ve=ye.classRegistry.getValue(he[1]);if(!ve)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(ve.prototype),oe)}),customRule=compositeTransformation(function(oe,he){return!!he.customTransformerRegistry.findApplicable(oe)},function(oe,he){var ye=he.customTransformerRegistry.findApplicable(oe);return["custom",ye.name]},function(oe,he){var ye=he.customTransformerRegistry.findApplicable(oe);return ye.serialize(oe)},function(oe,he,ye){var ve=ye.customTransformerRegistry.findByName(he[1]);if(!ve)throw new Error("Trying to deserialize unknown custom value");return ve.deserialize(oe)}),compositeRules=[classRule,symbolRule,customRule,typedArrayRule],transformValue=function(oe,he){var ye=findArr(compositeRules,function(_e){return _e.isApplicable(oe,he)});if(ye)return{value:ye.transform(oe,he),type:ye.annotation(oe,he)};var ve=findArr(simpleRules,function(_e){return _e.isApplicable(oe,he)});if(ve)return{value:ve.transform(oe,he),type:ve.annotation}},simpleRulesByAnnotation={};simpleRules.forEach(function(oe){simpleRulesByAnnotation[oe.annotation]=oe});var untransformValue=function(oe,he,ye){if(isArray$d(he))switch(he[0]){case"symbol":return symbolRule.untransform(oe,he,ye);case"class":return classRule.untransform(oe,he,ye);case"custom":return customRule.untransform(oe,he,ye);case"typed-array":return typedArrayRule.untransform(oe,he,ye);default:throw new Error("Unknown transformation: "+he)}else{var ve=simpleRulesByAnnotation[he];if(!ve)throw new Error("Unknown transformation: "+he);return ve.untransform(oe,ye)}},getNthKey=function(oe,he){for(var ye=oe.keys();he>0;)ye.next(),he--;return ye.next().value};function validatePath(oe){if(includes(oe,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(includes(oe,"prototype"))throw new Error("prototype is not allowed as a property");if(includes(oe,"constructor"))throw new Error("constructor is not allowed as a property")}var getDeep=function(oe,he){validatePath(he);for(var ye=0;ye<he.length;ye++){var ve=he[ye];if(isSet(oe))oe=getNthKey(oe,+ve);else if(isMap(oe)){var _e=+ve,we=+he[++ye]==0?"key":"value",Pe=getNthKey(oe,_e);switch(we){case"key":oe=Pe;break;case"value":oe=oe.get(Pe);break}}else oe=oe[ve]}return oe},setDeep=function(oe,he,ye){if(validatePath(he),he.length===0)return ye(oe);for(var ve=oe,_e=0;_e<he.length-1;_e++){var we=he[_e];if(isArray$d(ve)){var Pe=+we;ve=ve[Pe]}else if(isPlainObject$1(ve))ve=ve[we];else if(isSet(ve)){var Ie=+we;ve=getNthKey(ve,Ie)}else if(isMap(ve)){var Re=_e===he.length-2;if(Re)break;var Ie=+we,ke=+he[++_e]==0?"key":"value",Fe=getNthKey(ve,Ie);switch(ke){case"key":ve=Fe;break;case"value":ve=ve.get(Fe);break}}}var Le=he[he.length-1];if(isArray$d(ve)?ve[+Le]=ye(ve[+Le]):isPlainObject$1(ve)&&(ve[Le]=ye(ve[Le])),isSet(ve)){var De=getNthKey(ve,+Le),je=ye(De);De!==je&&(ve.delete(De),ve.add(je))}if(isMap(ve)){var Ie=+he[he.length-2],ze=getNthKey(ve,Ie),ke=+Le==0?"key":"value";switch(ke){case"key":{var qe=ye(ze);ve.set(qe,ve.get(ze)),qe!==ze&&ve.delete(ze);break}case"value":{ve.set(ze,ye(ve.get(ze)));break}}}return oe},__read$2=globalThis&&globalThis.__read||function(oe,he){var ye=typeof Symbol=="function"&&oe[Symbol.iterator];if(!ye)return oe;var ve=ye.call(oe),_e,we=[],Pe;try{for(;(he===void 0||he-- >0)&&!(_e=ve.next()).done;)we.push(_e.value)}catch(Ie){Pe={error:Ie}}finally{try{_e&&!_e.done&&(ye=ve.return)&&ye.call(ve)}finally{if(Pe)throw Pe.error}}return we},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(oe,he){for(var ye=0,ve=he.length,_e=oe.length;ye<ve;ye++,_e++)oe[_e]=he[ye];return oe};function traverse(oe,he,ye){if(ye===void 0&&(ye=[]),!!oe){if(!isArray$d(oe)){forEach(oe,function(Pe,Ie){return traverse(Pe,he,__spreadArray$1(__spreadArray$1([],__read$2(ye)),__read$2(parsePath(Ie))))});return}var ve=__read$2(oe,2),_e=ve[0],we=ve[1];we&&forEach(we,function(Pe,Ie){traverse(Pe,he,__spreadArray$1(__spreadArray$1([],__read$2(ye)),__read$2(parsePath(Ie))))}),he(_e,ye)}}function applyValueAnnotations(oe,he,ye){return traverse(he,function(ve,_e){oe=setDeep(oe,_e,function(we){return untransformValue(we,ve,ye)})}),oe}function applyReferentialEqualityAnnotations(oe,he){function ye(Pe,Ie){var Re=getDeep(oe,parsePath(Ie));Pe.map(parsePath).forEach(function(ke){oe=setDeep(oe,ke,function(){return Re})})}if(isArray$d(he)){var ve=__read$2(he,2),_e=ve[0],we=ve[1];_e.forEach(function(Pe){oe=setDeep(oe,parsePath(Pe),function(){return oe})}),we&&forEach(we,ye)}else forEach(he,ye);return oe}var isDeep=function(oe,he){return isPlainObject$1(oe)||isArray$d(oe)||isMap(oe)||isSet(oe)||isInstanceOfRegisteredClass(oe,he)};function addIdentity(oe,he,ye){var ve=ye.get(oe);ve?ve.push(he):ye.set(oe,[he])}function generateReferentialEqualityAnnotations(oe){var he={},ye=void 0;return oe.forEach(function(ve){if(!(ve.length<=1)){var _e=__read$2(ve.map(function(Ie){return Ie.map(String)}).sort(function(Ie,Re){return Ie.length-Re.length})),we=_e[0],Pe=_e.slice(1);we.length===0?ye=Pe.map(stringifyPath):he[stringifyPath(we)]=Pe.map(stringifyPath)}}),ye?isEmptyObject(he)?[ye]:[ye,he]:isEmptyObject(he)?void 0:he}var walker=function(oe,he,ye,ve,_e){var we;if(ve===void 0&&(ve=[]),_e===void 0&&(_e=[]),isPrimitive(oe)||addIdentity(oe,ve,he),!isDeep(oe,ye)){var Pe=transformValue(oe,ye);return Pe?{transformedValue:Pe.value,annotations:[Pe.type]}:{transformedValue:oe}}if(includes(_e,oe))return{transformedValue:null};var Ie=transformValue(oe,ye),Re=(we=Ie?.value)!==null&&we!==void 0?we:oe;isPrimitive(oe)||(_e=__spreadArray$1(__spreadArray$1([],__read$2(_e)),[oe]));var ke=isArray$d(Re)?[]:{},Fe={};return forEach(Re,function(Le,De){var je=walker(Le,he,ye,__spreadArray$1(__spreadArray$1([],__read$2(ve)),[De]),_e);ke[De]=je.transformedValue,isArray$d(je.annotations)?Fe[De]=je.annotations:isPlainObject$1(je.annotations)&&forEach(je.annotations,function(ze,qe){Fe[escapeKey(De)+"."+qe]=ze})}),isEmptyObject(Fe)?{transformedValue:ke,annotations:Ie?[Ie.type]:void 0}:{transformedValue:ke,annotations:Ie?[Ie.type,Fe]:Fe}};function getType(oe){return Object.prototype.toString.call(oe).slice(8,-1)}function isPlainObject(oe){if(getType(oe)!=="Object")return!1;const he=Object.getPrototypeOf(oe);return!!he&&he.constructor===Object&&he===Object.prototype}function isArray$c(oe){return getType(oe)==="Array"}function assignProp(oe,he,ye,ve,_e){const we={}.propertyIsEnumerable.call(ve,he)?"enumerable":"nonenumerable";we==="enumerable"&&(oe[he]=ye),_e&&we==="nonenumerable"&&Object.defineProperty(oe,he,{value:ye,enumerable:!1,writable:!0,configurable:!0})}function copy(oe,he={}){if(isArray$c(oe))return oe.map(_e=>copy(_e,he));if(!isPlainObject(oe))return oe;const ye=Object.getOwnPropertyNames(oe),ve=Object.getOwnPropertySymbols(oe);return[...ye,...ve].reduce((_e,we)=>{if(isArray$c(he.props)&&!he.props.includes(we))return _e;const Pe=oe[we],Ie=copy(Pe,he);return assignProp(_e,we,Ie,oe,he.nonenumerable),_e},{})}var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(oe){for(var he,ye=1,ve=arguments.length;ye<ve;ye++){he=arguments[ye];for(var _e in he)Object.prototype.hasOwnProperty.call(he,_e)&&(oe[_e]=he[_e])}return oe},__assign.apply(this,arguments)},__read$1=globalThis&&globalThis.__read||function(oe,he){var ye=typeof Symbol=="function"&&oe[Symbol.iterator];if(!ye)return oe;var ve=ye.call(oe),_e,we=[],Pe;try{for(;(he===void 0||he-- >0)&&!(_e=ve.next()).done;)we.push(_e.value)}catch(Ie){Pe={error:Ie}}finally{try{_e&&!_e.done&&(ye=ve.return)&&ye.call(ve)}finally{if(Pe)throw Pe.error}}return we},__spreadArray=globalThis&&globalThis.__spreadArray||function(oe,he){for(var ye=0,ve=he.length,_e=oe.length;ye<ve;ye++,_e++)oe[_e]=he[ye];return oe},SuperJSON=function(){function oe(){this.classRegistry=new ClassRegistry,this.symbolRegistry=new Registry(function(he){var ye;return(ye=he.description)!==null&&ye!==void 0?ye:""}),this.customTransformerRegistry=new CustomTransformerRegistry,this.allowedErrorProps=[]}return oe.prototype.serialize=function(he){var ye=new Map,ve=walker(he,ye,this),_e={json:ve.transformedValue};ve.annotations&&(_e.meta=__assign(__assign({},_e.meta),{values:ve.annotations}));var we=generateReferentialEqualityAnnotations(ye);return we&&(_e.meta=__assign(__assign({},_e.meta),{referentialEqualities:we})),_e},oe.prototype.deserialize=function(he){var ye=he.json,ve=he.meta,_e=copy(ye);return ve?.values&&(_e=applyValueAnnotations(_e,ve.values,this)),ve?.referentialEqualities&&(_e=applyReferentialEqualityAnnotations(_e,ve.referentialEqualities)),_e},oe.prototype.stringify=function(he){return JSON.stringify(this.serialize(he))},oe.prototype.parse=function(he){return this.deserialize(JSON.parse(he))},oe.prototype.registerClass=function(he,ye){this.classRegistry.register(he,ye)},oe.prototype.registerSymbol=function(he,ye){this.symbolRegistry.register(he,ye)},oe.prototype.registerCustom=function(he,ye){this.customTransformerRegistry.register(__assign({name:ye},he))},oe.prototype.allowErrorProps=function(){for(var he,ye=[],ve=0;ve<arguments.length;ve++)ye[ve]=arguments[ve];(he=this.allowedErrorProps).push.apply(he,__spreadArray([],__read$1(ye)))},oe.defaultInstance=new oe,oe.serialize=oe.defaultInstance.serialize.bind(oe.defaultInstance),oe.deserialize=oe.defaultInstance.deserialize.bind(oe.defaultInstance),oe.stringify=oe.defaultInstance.stringify.bind(oe.defaultInstance),oe.parse=oe.defaultInstance.parse.bind(oe.defaultInstance),oe.registerClass=oe.defaultInstance.registerClass.bind(oe.defaultInstance),oe.registerSymbol=oe.defaultInstance.registerSymbol.bind(oe.defaultInstance),oe.registerCustom=oe.defaultInstance.registerCustom.bind(oe.defaultInstance),oe.allowErrorProps=oe.defaultInstance.allowErrorProps.bind(oe.defaultInstance),oe}();SuperJSON.serialize;SuperJSON.deserialize;SuperJSON.stringify;SuperJSON.parse;SuperJSON.registerClass;SuperJSON.registerCustom;SuperJSON.registerSymbol;SuperJSON.allowErrorProps;function identity$3(oe){return oe}function pipeFromArray(oe){return oe.length===0?identity$3:oe.length===1?oe[0]:function(ye){return oe.reduce((ve,_e)=>_e(ve),ye)}}function observable(oe){const he={subscribe(ye){let ve=null,_e=!1,we=!1,Pe=!1;function Ie(){if(ve===null){Pe=!0;return}we||(we=!0,typeof ve=="function"?ve():ve&&ve.unsubscribe())}return ve=oe({next(Re){_e||ye.next?.(Re)},error(Re){_e||(_e=!0,ye.error?.(Re),Ie())},complete(){_e||(_e=!0,ye.complete?.(),Ie())}}),Pe&&Ie(),{unsubscribe:Ie}},pipe(...ye){return pipeFromArray(ye)(he)}};return he}function share(oe){return he=>{let ye=0,ve=null;const _e=[];function we(){ve||(ve=he.subscribe({next(Ie){for(const Re of _e)Re.next?.(Ie)},error(Ie){for(const Re of _e)Re.error?.(Ie)},complete(){for(const Ie of _e)Ie.complete?.()}}))}function Pe(){if(ye===0&&ve){const Ie=ve;ve=null,Ie.unsubscribe()}}return{subscribe(Ie){return ye++,_e.push(Ie),we(),{unsubscribe(){ye--,Pe();const Re=_e.findIndex(ke=>ke===Ie);Re>-1&&_e.splice(Re,1)}}}}}}class ObservableAbortError extends Error{constructor(he){super(he),this.name="ObservableAbortError",Object.setPrototypeOf(this,ObservableAbortError.prototype)}}function observableToPromise(oe){let he;return{promise:new Promise((ve,_e)=>{let we=!1;function Pe(){we||(we=!0,_e(new ObservableAbortError("This operation was aborted.")),Ie.unsubscribe())}const Ie=oe.subscribe({next(Re){we=!0,ve(Re),Pe()},error(Re){we=!0,_e(Re),Pe()},complete(){we=!0,Pe()}});he=Pe}),abort:he}}function createChain(oe){return observable(he=>{function ye(_e=0,we=oe.op){const Pe=oe.links[_e];if(!Pe)throw new Error("No more links to execute - did you forget to add an ending link?");return Pe({op:we,next(Re){return ye(_e+1,Re)}})}return ye().subscribe(he)})}function isTRPCClientError(oe){return oe instanceof TRPCClientError||oe.name==="TRPCClientError"}class TRPCClientError extends Error{static from(he,ye={}){return he instanceof Error?isTRPCClientError(he)?(ye.meta&&(he.meta={...he.meta,...ye.meta}),he):new TRPCClientError(he.message,{...ye,cause:he,result:null}):new TRPCClientError(he.error.message??"",{...ye,cause:void 0,result:he})}constructor(he,ye){const ve=ye?.cause;super(he,{cause:ve}),this.meta=ye?.meta,this.cause=ve,this.shape=ye?.result?.error,this.data=ye?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,TRPCClientError.prototype)}}const isFunction$3=oe=>typeof oe=="function";function getFetch(oe){if(oe)return oe;if(typeof window<"u"&&isFunction$3(window.fetch))return window.fetch;if(typeof globalThis<"u"&&isFunction$3(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function getAbortController(oe){return oe||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function resolveHTTPLinkOptions(oe){return{url:oe.url,fetch:oe.fetch,AbortController:getAbortController(oe.AbortController)}}function arrayToDict(oe){const he={};for(let ye=0;ye<oe.length;ye++){const ve=oe[ye];he[ye]=ve}return he}const METHOD={query:"GET",mutation:"POST"};function getInput(oe){return"input"in oe?oe.runtime.transformer.serialize(oe.input):arrayToDict(oe.inputs.map(he=>oe.runtime.transformer.serialize(he)))}const getUrl=oe=>{let he=oe.url+"/"+oe.path;const ye=[];if("inputs"in oe&&ye.push("batch=1"),oe.type==="query"){const ve=getInput(oe);ve!==void 0&&ye.push(`input=${encodeURIComponent(JSON.stringify(ve))}`)}return ye.length&&(he+="?"+ye.join("&")),he},getBody=oe=>{if(oe.type==="query")return;const he=getInput(oe);return he!==void 0?JSON.stringify(he):void 0},jsonHttpRequester=oe=>httpRequest({...oe,contentTypeHeader:"application/json",getUrl,getBody});async function fetchHTTPResponse(oe,he){const ye=oe.getUrl(oe),ve=oe.getBody(oe),{type:_e}=oe,we=await oe.headers();/* istanbul ignore if -- @preserve */if(_e==="subscription")throw new Error("Subscriptions should use wsLink");const Pe={...oe.contentTypeHeader?{"content-type":oe.contentTypeHeader}:{},...oe.batchModeHeader?{"trpc-batch-mode":oe.batchModeHeader}:{},...we};return getFetch(oe.fetch)(ye,{method:METHOD[_e],signal:he?.signal,body:ve,headers:Pe})}function httpRequest(oe){const he=oe.AbortController?new oe.AbortController:null,ye={};return{promise:new Promise((we,Pe)=>{fetchHTTPResponse(oe,he).then(Ie=>(ye.response=Ie,Ie.json())).then(Ie=>{ye.responseJSON=Ie,we({json:Ie,meta:ye})}).catch(Ie=>{Pe(TRPCClientError.from(Ie,{meta:ye}))})}),cancel:()=>{he?.abort()}}}function isObject$7(oe){return!!oe&&!Array.isArray(oe)&&typeof oe=="object"}function transformResultInner(oe,he){if("error"in oe){const ve=he.transformer.deserialize(oe.error);return{ok:!1,error:{...oe,error:ve}}}return{ok:!0,result:{...oe.result,...(!oe.result.type||oe.result.type==="data")&&{type:"data",data:he.transformer.deserialize(oe.result.data)}}}}class TransformResultError extends Error{constructor(){super("Unable to transform response from server")}}function transformResult(oe,he){let ye;try{ye=transformResultInner(oe,he)}catch{throw new TransformResultError}if(!ye.ok&&(!isObject$7(ye.error.error)||typeof ye.error.error.code!="number"))throw new TransformResultError;if(ye.ok&&!isObject$7(ye.result))throw new TransformResultError;return ye}const throwFatalError=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function dataLoader(oe){let he=null,ye=null;const ve=()=>{clearTimeout(ye),ye=null,he=null};function _e(Ie){const Re=[[]];let ke=0;for(;;){const Fe=Ie[ke];if(!Fe)break;const Le=Re[Re.length-1];if(Fe.aborted){Fe.reject?.(new Error("Aborted")),ke++;continue}if(oe.validate(Le.concat(Fe).map(je=>je.key))){Le.push(Fe),ke++;continue}if(Le.length===0){Fe.reject?.(new Error("Input is too big for a single dispatch")),ke++;continue}Re.push([])}return Re}function we(){const Ie=_e(he);ve();for(const Re of Ie){if(!Re.length)continue;const ke={items:Re,cancel:throwFatalError};for(const je of Re)je.batch=ke;const Fe=(je,ze)=>{const qe=ke.items[je];qe.resolve?.(ze),qe.batch=null,qe.reject=null,qe.resolve=null},{promise:Le,cancel:De}=oe.fetch(ke.items.map(je=>je.key),Fe);ke.cancel=De,Le.then(je=>{for(let ze=0;ze<je.length;ze++){const qe=je[ze];Fe(ze,qe)}for(const ze of ke.items)ze.reject?.(new Error("Missing result")),ze.batch=null}).catch(je=>{for(const ze of ke.items)ze.reject?.(je),ze.batch=null})}}function Pe(Ie){const Re={aborted:!1,key:Ie,batch:null,resolve:throwFatalError,reject:throwFatalError},ke=new Promise((Le,De)=>{Re.reject=De,Re.resolve=Le,he||(he=[]),he.push(Re)});return ye||(ye=setTimeout(we)),{promise:ke,cancel:()=>{Re.aborted=!0,Re.batch?.items.every(Le=>Le.aborted)&&(Re.batch.cancel(),Re.batch=null)}}}return{load:Pe}}function createHTTPBatchLink(oe){return function(ye){const ve=resolveHTTPLinkOptions(ye),_e=ye.maxURLLength??1/0;return we=>{const Pe=Le=>{const De=ze=>{if(_e===1/0)return!0;const qe=ze.map(rt=>rt.path).join(","),We=ze.map(rt=>rt.input);return getUrl({...ve,runtime:we,type:Le,path:qe,inputs:We}).length<=_e},je=oe({...ve,runtime:we,type:Le,opts:ye});return{validate:De,fetch:je}},Ie=dataLoader(Pe("query")),Re=dataLoader(Pe("mutation")),ke=dataLoader(Pe("subscription")),Fe={query:Ie,subscription:ke,mutation:Re};return({op:Le})=>observable(De=>{const je=Fe[Le.type],{promise:ze,cancel:qe}=je.load(Le);let We;return ze.then(et=>{We=et;const rt=transformResult(et.json,we);if(!rt.ok){De.error(TRPCClientError.from(rt.error,{meta:et.meta}));return}De.next({context:et.meta,result:rt.result}),De.complete()}).catch(et=>{De.error(TRPCClientError.from(et,{meta:We?.meta}))}),()=>{qe()}})}}}const batchRequester=oe=>he=>{const ye=he.map(Pe=>Pe.path).join(","),ve=he.map(Pe=>Pe.input),{promise:_e,cancel:we}=jsonHttpRequester({...oe,path:ye,inputs:ve,headers(){return oe.opts.headers?typeof oe.opts.headers=="function"?oe.opts.headers({opList:he}):oe.opts.headers:{}}});return{promise:_e.then(Pe=>(Array.isArray(Pe.json)?Pe.json:he.map(()=>Pe.json)).map(ke=>({meta:Pe.meta,json:ke}))),cancel:we}},httpBatchLink=createHTTPBatchLink(batchRequester);class TRPCUntypedClient{$request({type:he,input:ye,path:ve,context:_e={}}){return createChain({links:this.links,op:{id:++this.requestId,type:he,path:ve,input:ye,context:_e}}).pipe(share())}requestAsPromise(he){const ye=this.$request(he),{promise:ve,abort:_e}=observableToPromise(ye);return new Promise((Pe,Ie)=>{he.signal?.addEventListener("abort",_e),ve.then(Re=>{Pe(Re.result.data)}).catch(Re=>{Ie(TRPCClientError.from(Re))})})}query(he,ye,ve){return this.requestAsPromise({type:"query",path:he,input:ye,context:ve?.context,signal:ve?.signal})}mutation(he,ye,ve){return this.requestAsPromise({type:"mutation",path:he,input:ye,context:ve?.context,signal:ve?.signal})}subscription(he,ye,ve){return this.$request({type:"subscription",path:he,input:ye,context:ve?.context}).subscribe({next(we){we.result.type==="started"?ve.onStarted?.():we.result.type==="stopped"?ve.onStopped?.():ve.onData?.(we.result.data)},error(we){ve.onError?.(we)},complete(){ve.onComplete?.()}})}constructor(he){this.requestId=0;const ye=(()=>{const ve=he.transformer;return ve?"input"in ve?he.transformer:{input:ve,output:ve}:{input:{serialize:_e=>_e,deserialize:_e=>_e},output:{serialize:_e=>_e,deserialize:_e=>_e}}})();this.runtime={transformer:{serialize:ve=>ye.input.serialize(ve),deserialize:ve=>ye.output.deserialize(ve)},combinedTransformer:ye},this.links=he.links.map(ve=>ve(this.runtime))}}const clientCallTypeMap={query:"query",mutate:"mutation",subscribe:"subscription"},clientCallTypeToProcedureType=oe=>clientCallTypeMap[oe];function createTRPCClientProxy(oe){return createFlatProxy(he=>oe.hasOwnProperty(he)?oe[he]:he==="__untypedClient"?oe:createRecursiveProxy(({path:ye,args:ve})=>{const _e=[he,...ye],we=clientCallTypeToProcedureType(_e.pop()),Pe=_e.join(".");return oe[we](Pe,...ve)}))}function createTRPCProxyClient(oe){const he=new TRPCUntypedClient(oe);return createTRPCClientProxy(he)}function g$3({url:oe}){return createTRPCProxyClient({transformer:SuperJSON,links:[httpBatchLink({url:oe})]})}function s$4({url:oe}){return{getLogs:async he=>{try{let ye=encodeURIComponent(JSON.stringify(he)),ve=new URL(oe).origin,_e=await(await fetch(`${ve}/api/logs?input=${ye}`,{method:"GET"})).json();return i$3(_e)?{ok:{..._e,blockNumber:BigInt(_e.blockNumber)}}:{error:_e}}catch(ye){return{error:ye}}}}}function i$3(oe){return oe&&typeof oe.blockNumber=="string"&&Array.isArray(oe.logs)}var t$1="event Store_SetRecord(bytes32 indexed tableId, bytes32[] keyTuple, bytes staticData, bytes32 encodedLengths, bytes dynamicData)",o$1="event Store_SpliceStaticData(bytes32 indexed tableId, bytes32[] keyTuple, uint48 start, bytes data)",s$3="event Store_SpliceDynamicData(bytes32 indexed tableId, bytes32[] keyTuple, uint48 start, uint40 deleteCount, bytes32 encodedLengths, bytes data)",r$1="event Store_DeleteRecord(bytes32 indexed tableId, bytes32[] keyTuple)",e$1=[t$1,o$1,s$3,r$1],I$2=parseAbi(e$1),s$2=m$2({storeImportPath:"../../",namespace:"store",userTypes:{ResourceId:{filePath:"./src/ResourceId.sol",internalType:"bytes32"},FieldLayout:{filePath:"./src/FieldLayout.sol",internalType:"bytes32"},Schema:{filePath:"./src/Schema.sol",internalType:"bytes32"}},tables:{StoreHooks:{keySchema:{tableId:"ResourceId"},valueSchema:{hooks:"bytes21[]"}},Tables:{keySchema:{tableId:"ResourceId"},valueSchema:{fieldLayout:"FieldLayout",keySchema:"Schema",valueSchema:"Schema",abiEncodedKeyNames:"bytes",abiEncodedFieldNames:"bytes"}},ResourceIds:{keySchema:{resourceId:"ResourceId"},valueSchema:{exists:"bool"}},Hooks:{keySchema:{resourceId:"ResourceId"},valueSchema:{hooks:"bytes21[]"},tableIdArgument:!0}}}),a$4=m$2({worldImportPath:"../../",worldgenDirectory:"interfaces",worldInterfaceName:"IBaseWorld",namespace:"world",userTypes:{ResourceId:{filePath:"@latticexyz/store/src/ResourceId.sol",internalType:"bytes32"}},tables:{NamespaceOwner:{keySchema:{namespaceId:"ResourceId"},valueSchema:{owner:"address"}},ResourceAccess:{keySchema:{resourceId:"ResourceId",caller:"address"},valueSchema:{access:"bool"}},InstalledModules:{keySchema:{moduleName:"bytes16",argumentsHash:"bytes32"},valueSchema:{moduleAddress:"address"}},UserDelegationControl:{keySchema:{delegator:"address",delegatee:"address"},valueSchema:{delegationControlId:"ResourceId"}},NamespaceDelegationControl:{keySchema:{namespaceId:"ResourceId"},valueSchema:{delegationControlId:"ResourceId"}},Balances:{keySchema:{namespaceId:"ResourceId"},valueSchema:{balance:"uint256"}},Systems:{keySchema:{systemId:"ResourceId"},valueSchema:{system:"address",publicAccess:"bool"},dataStruct:!1},SystemRegistry:{keySchema:{system:"address"},valueSchema:{systemId:"ResourceId"}},SystemHooks:{keySchema:{systemId:"ResourceId"},valueSchema:"bytes21[]"},FunctionSelectors:{keySchema:{functionSelector:"bytes4"},valueSchema:{systemId:"ResourceId",systemFunctionSelector:"bytes4"},dataStruct:!1},FunctionSignatures:{keySchema:{functionSelector:"bytes4"},valueSchema:{functionSignature:"string"},offchainOnly:!0}},excludeSystems:["StoreRegistrationSystem"]}),l$1=class extends r$6{name="InvalidHexValueError";constructor(he){super(`Hex value "${he}" is an odd length (${he.length-2}). It must be an even length.`)}},S$1=class extends r$6{name="InvalidHexLengthForSchemaError";constructor(he){super(`Hex value "${he}" has length of ${he.length-2}, but expected length of 64 for a schema.`)}},g$2=class extends r$6{name="InvalidHexLengthForPackedCounterError";constructor(he){super(`Hex value "${he}" has length of ${he.length-2}, but expected length of 64 for a packed counter.`)}},A$1=class extends r$6{name="InvalidHexLengthForStaticFieldError";constructor(he,ye){super(`Hex value "${ye}" has length of ${ye.length-2}, but expected length of ${g$4[he]*2} for ${he} type.`)}},v$1=class extends r$6{name="InvalidHexLengthForArrayFieldError";constructor(he,ye){super(`Hex value "${ye}" has length of ${ye.length-2}, but expected a multiple of ${g$4[he]*2} for ${he}[] type.`)}},H$1=class extends r$6{name="SchemaStaticLengthMismatchError";constructor(he,ye,ve){super(`Schema "${he}" static data length (${ye}) did not match the summed length of all static fields (${ve}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`)}},F=class extends r$6{name="PackedCounterLengthMismatchError";constructor(oe,he,ye){super(`PackedCounter "${oe}" total bytes length (${he}) did not match the summed length of all field byte lengths (${ye}).`)}};function y$2(oe,he){if(he.length>3&&he.length%2!==0)throw new l$1(he);if((he.length-2)/2!==g$4[oe])throw new A$1(oe,he);switch(oe){case"uint8":case"uint16":case"uint24":case"uint32":case"uint40":case"uint48":case"uint56":case"uint64":case"uint72":case"uint80":case"uint88":case"uint96":case"uint104":case"uint112":case"uint120":case"uint128":case"uint136":case"uint144":case"uint152":case"uint160":case"uint168":case"uint176":case"uint184":case"uint192":case"uint200":case"uint208":case"uint216":case"uint224":case"uint232":case"uint240":case"uint248":case"uint256":case"int8":case"int16":case"int24":case"int32":case"int40":case"int48":case"int56":case"int64":case"int72":case"int80":case"int88":case"int96":case"int104":case"int112":case"int120":case"int128":case"int136":case"int144":case"int152":case"int160":case"int168":case"int176":case"int184":case"int192":case"int200":case"int208":case"int216":case"int224":case"int232":case"int240":case"int248":case"int256":{let ye=hexToBigInt(he,{signed:oe.startsWith("int")}),ve=typeof a$6[oe];if(ve==="number")return Number(ye);if(ve==="bigint")return ye;throw new Error(`Unexpected default value type (${ve}) for ABI type (${oe})`)}case"bytes1":case"bytes2":case"bytes3":case"bytes4":case"bytes5":case"bytes6":case"bytes7":case"bytes8":case"bytes9":case"bytes10":case"bytes11":case"bytes12":case"bytes13":case"bytes14":case"bytes15":case"bytes16":case"bytes17":case"bytes18":case"bytes19":case"bytes20":case"bytes21":case"bytes22":case"bytes23":case"bytes24":case"bytes25":case"bytes26":case"bytes27":case"bytes28":case"bytes29":case"bytes30":case"bytes31":case"bytes32":return he;case"bool":return hexToBool(he);case"address":return getAddress(he)}return a$5(oe,`Unsupported static ABI type: ${oe}`)}function f$2(oe,he){if(oe==="bytes")return he;if(oe==="string")return hexToString(he);if(he.length>3&&he.length%2!==0)throw new l$1(he);let ye=(he.length-2)/2;switch(oe){case"uint8[]":case"uint16[]":case"uint24[]":case"uint32[]":case"uint40[]":case"uint48[]":case"uint56[]":case"uint64[]":case"uint72[]":case"uint80[]":case"uint88[]":case"uint96[]":case"uint104[]":case"uint112[]":case"uint120[]":case"uint128[]":case"uint136[]":case"uint144[]":case"uint152[]":case"uint160[]":case"uint168[]":case"uint176[]":case"uint184[]":case"uint192[]":case"uint200[]":case"uint208[]":case"uint216[]":case"uint224[]":case"uint232[]":case"uint240[]":case"uint248[]":case"uint256[]":case"int8[]":case"int16[]":case"int24[]":case"int32[]":case"int40[]":case"int48[]":case"int56[]":case"int64[]":case"int72[]":case"int80[]":case"int88[]":case"int96[]":case"int104[]":case"int112[]":case"int120[]":case"int128[]":case"int136[]":case"int144[]":case"int152[]":case"int160[]":case"int168[]":case"int176[]":case"int184[]":case"int192[]":case"int200[]":case"int208[]":case"int216[]":case"int224[]":case"int232[]":case"int240[]":case"int248[]":case"int256[]":case"bytes1[]":case"bytes2[]":case"bytes3[]":case"bytes4[]":case"bytes5[]":case"bytes6[]":case"bytes7[]":case"bytes8[]":case"bytes9[]":case"bytes10[]":case"bytes11[]":case"bytes12[]":case"bytes13[]":case"bytes14[]":case"bytes15[]":case"bytes16[]":case"bytes17[]":case"bytes18[]":case"bytes19[]":case"bytes20[]":case"bytes21[]":case"bytes22[]":case"bytes23[]":case"bytes24[]":case"bytes25[]":case"bytes26[]":case"bytes27[]":case"bytes28[]":case"bytes29[]":case"bytes30[]":case"bytes31[]":case"bytes32[]":case"bool[]":case"address[]":{let ve=r$4(oe),_e=g$4[ve];if(ye%_e!==0)throw new v$1(ve,he);return new Array(ye/_e).fill(void 0).map((we,Pe)=>{let Ie=sliceHex(he,Pe*_e,(Pe+1)*_e);return y$2(ve,Ie)})}}return a$5(oe,`Unsupported dynamic ABI type: ${oe}`)}function w$3(oe){if(oe.length!==66)throw new g$2(oe);let he=y$2("uint56",N$5(oe,32-7,32)),ye=f$2("uint40[]",N$5(oe,0,32-7)),ve=Object.freeze([...ye].reverse()),_e=BigInt(ve.reduce((we,Pe)=>we+Pe,0));if(_e!==he)throw new F(oe,he,_e);return{totalByteLength:he,fieldByteLengths:ve}}function T(oe){return oe.reduce((he,ye)=>he+g$4[ye],0)}function j$2(oe,he){let ye=[],ve=0;oe.staticFields.forEach(Pe=>{let Ie=g$4[Pe],Re=y$2(Pe,N$5(he,ve,ve+Ie));ve+=Ie,ye.push(Re)});let _e=T(oe.staticFields),we=ve;if(we!==_e&&console.warn("Decoded static data length does not match value schema's expected static data length. Data may get corrupted. Is `getStaticByteLength` outdated?",{expectedLength:_e,actualLength:we,bytesOffset:ve}),oe.dynamicFields.length>0){let Pe=w$3(N$5(he,ve,ve+32));ve+=32,oe.dynamicFields.forEach((Re,ke)=>{let Fe=Pe.fieldByteLengths[ke];if(Fe>0){let Le=f$2(Re,N$5(he,ve,ve+Fe));ve+=Fe,ye.push(Le)}else ye.push(s$5[Re])});let Ie=ve-32-we;BigInt(Ie)!==Pe.totalByteLength&&console.warn("Decoded dynamic data length does not match data layout's expected data length. Data may get corrupted. Did the data layout change?",{expectedLength:Pe.totalByteLength,actualLength:Ie,bytesOffset:ve})}return ye}function E$2(oe,he){let ye=Object.values(oe).filter(f$6),ve=Object.values(oe).filter(x$2),_e=j$2({staticFields:ye,dynamicFields:ve},he);return Object.fromEntries(Object.keys(oe).map((we,Pe)=>[we,_e[Pe]]))}function zt(oe,{staticData:he,encodedLengths:ye,dynamicData:ve}){return E$2(oe,concatHex([N$5(he,0,T(Object.values(oe).filter(f$6))),ye,ve]))}function p$3(oe,he){if(b$2(oe)&&Array.isArray(he)){let ye=r$4(oe);return he.length===0?"0x":encodePacked(he.map(()=>ye),he)}return encodePacked([oe],[he])}function O(oe,he){return he.map((ye,ve)=>encodeAbiParameters([{type:oe.staticFields[ve]}],[ye]))}function Xt(oe,he){let ye=Object.values(oe).filter(f$6);return O({staticFields:ye,dynamicFields:[]},Object.values(he))}function K$3(oe){let he=oe.map(size$1).reverse(),ye=he.reduce((ve,_e)=>ve+BigInt(_e),0n);return padHex(concatHex([...he.map(ve=>p$3("uint40",ve)),p$3("uint56",ye)]),{size:32,dir:"left"})}function z(oe,he){let ye=Object.entries(oe),ve=ye.filter(([,Re])=>f$6(Re)),_e=ye.filter(([,Re])=>x$2(Re)),we=ve.map(([Re,ke])=>p$3(ke,he[Re])),Pe=_e.map(([Re,ke])=>p$3(ke,he[Re])),Ie=K$3(Pe);return{staticData:concatHex(we),encodedLengths:Ie,dynamicData:concatHex(Pe)}}function L$1(oe){if(oe.length!==66)throw new S$1(oe);let he=hexToNumber$1(sliceHex(oe,0,2)),ye=hexToNumber$1(sliceHex(oe,2,3)),ve=hexToNumber$1(sliceHex(oe,3,4)),_e=[],we=[];for(let Ie=4;Ie<4+ye;Ie++){let Re=hexToNumber$1(sliceHex(oe,Ie,Ie+1));_e.push(i$5[Re])}for(let Ie=4+ye;Ie<4+ye+ve;Ie++){let Re=hexToNumber$1(sliceHex(oe,Ie,Ie+1));we.push(i$5[Re])}let Pe=_e.reduce((Ie,Re)=>Ie+g$4[Re],0);if(Pe!==he)throw console.warn(`Schema "${oe}" static data length (${he}) did not match the summed length of all static fields (${Pe}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`),new H$1(oe,he,Pe);return{staticFields:_e,dynamicFields:we}}function P$3(oe){let he=oe.staticFields.map(ve=>i$5.indexOf(ve)),ye=oe.dynamicFields.map(ve=>i$5.indexOf(ve));return`0x${[T(oe.staticFields).toString(16).padStart(4,"0"),oe.staticFields.length.toString(16).padStart(2,"0"),oe.dynamicFields.length.toString(16).padStart(2,"0"),...he.map(ve=>ve.toString(16).padStart(2,"0")),...ye.map(ve=>ve.toString(16).padStart(2,"0"))].join("").padEnd(64,"0")}`}function zi(oe){return P$3({staticFields:Object.values(oe).filter(f$6),dynamicFields:[]})}function Ni(oe){let he=Object.values(oe).filter(f$6),ye=Object.values(oe).filter(x$2),ve=he.map(_e=>g$4[_e]);return`0x${[ve.reduce((_e,we)=>_e+we,0).toString(16).padStart(4,"0"),he.length.toString(16).padStart(2,"0"),ye.length.toString(16).padStart(2,"0"),...ve.map(_e=>_e.toString(16).padStart(2,"0"))].join("").padEnd(64,"0")}`}function Gi(oe){return P$3({staticFields:Object.values(oe).filter(f$6),dynamicFields:Object.values(oe).filter(x$2)})}var s$1=debug("mud:block-events-stream"),k$1=debug("mud:block-events-stream");s$1.log=console.debug.bind(console);k$1.log=console.error.bind(console);async function*a$3({maxBlockRange:oe=1000n,maxRetryCount:he=3,publicClient:ye,...ve}){let _e=ve.fromBlock,we=f$5(oe,ve.toBlock-_e),Pe=0;for(;_e<=ve.toBlock;)try{let Ie=_e+we;s$1("getting logs",{fromBlock:_e,toBlock:Ie});let Re=await ye.getLogs({...ve,fromBlock:_e,toBlock:Ie,strict:!0});yield{fromBlock:_e,toBlock:Ie,logs:Re},_e=Ie+1n,we=f$5(oe,ve.toBlock-_e)}catch(Ie){if(s$1("error getting logs:",String(Ie)),!(Ie instanceof Error))throw Ie;if(Ie.message.includes("rate limit exceeded")&&Pe<he){let Re=2*Pe;s$1(`too many requests, retrying in ${Re}s`,Ie),await O$2(1e3*Re),Pe+=1;continue}if(Ie.message.includes("block range exceeded")){if(we/=2n,we<=0n)throw new Error("can't reduce block range any further");s$1("block range exceeded, trying a smaller block range",Ie);continue}throw Ie}}function G$1({publicClient:oe,blockTag:he}){return new Observable(function(ye){return oe.watchBlocks({blockTag:he,emitOnBegin:!0,onBlock:ve=>ye.next(ve),onError:ve=>ye.error(ve)})})}function q$2(oe,he){let ye=Array.from(new Set(oe.map(we=>we.blockNumber)));ye.sort(m$3);let ve=ye.map(we=>{let Pe=oe.filter(Ie=>Ie.blockNumber===we);if(Pe.length&&(Pe.sort((Ie,Re)=>Ie.logIndex<Re.logIndex?-1:Ie.logIndex>Re.logIndex?1:0),!!Pe.length))return{blockNumber:we,logs:Pe}}).filter(w$5),_e=ye.length>0?ye[ye.length-1]:null;return he!=null&&(_e==null||he>_e)&&ve.push({blockNumber:he,logs:[]}),ve}function S(oe){return R$2(oe,he=>he.type)}var i$2=Ce(s$2).tables,ne$1=Ce(a$4).tables,W$2=[...Object.values(i$2),...Object.values(ne$1)].map(oe=>oe.tableId);i$2.Tables.tableId;var Ke$1={...i$2.Tables,keySchema:S(i$2.Tables.keySchema),valueSchema:S(i$2.Tables.valueSchema)},M$3=(oe=>(oe.INITIALIZE="initialize",oe.SNAPSHOT="snapshot",oe.RPC="rpc",oe.LIVE="live",oe))(M$3||{});function K$2(oe){return{eventName:"Store_SetRecord",address:oe.address,args:{tableId:i$2.Tables.tableId,keyTuple:Xt(S(i$2.Tables.keySchema),{tableId:oe.tableId}),...z(S(i$2.Tables.valueSchema),{fieldLayout:Ni(oe.valueSchema),keySchema:zi(oe.keySchema),valueSchema:Gi(oe.valueSchema),abiEncodedKeyNames:encodeAbiParameters(parseAbiParameters("string[]"),[Object.keys(oe.keySchema)]),abiEncodedFieldNames:encodeAbiParameters(parseAbiParameters("string[]"),[Object.keys(oe.valueSchema)])})}}}function L(oe){return[...oe.map(K$2),...oe.flatMap(he=>he.records.map(ye=>({eventName:"Store_SetRecord",address:he.address,args:{tableId:he.tableId,keyTuple:Xt(he.keySchema,ye.key),...z(he.valueSchema,ye.value)}})))]}var y$1=debug("mud:store-sync"),be=debug("mud:store-sync");y$1.log=console.debug.bind(console);be.log=console.error.bind(console);var I$1=y$1.extend("getSnapshot");async function _({chainId:oe,address:he,filters:ye,initialState:ve,initialBlockLogs:_e,indexerUrl:we}){if(_e&&ve)throw new Error("Only one of initialBlockLogs or initialState should be provided.");if(_e)return _e;if(ve)return{blockNumber:ve.blockNumber,logs:L(ve.tables)};if(!we)return;let Pe=new URL(we).origin,Ie=s$4({url:Pe}),Re=g$3({url:`${Pe}/trpc`});I$1("fetching logs from indexer via get",we);let ke=await Ie.getLogs({chainId:oe,address:he,filters:ye});if(yr(ke))return ke.ok;console.warn(ke.error);try{return I$1("fetching logs from indexer via trpc",we),await Re.getLogs.query({chainId:oe,address:he,filters:ye})}catch(Fe){if(Fe instanceof TRPCClientError){I$1("failed to fetch logs, fetching table records instead",we);let Le=await Re.findAll.query({chainId:oe,address:he,filters:ye});return console.warn(`The indexer at ${we} appears to be outdated. Consider upgrading to a recent version for better performance.`),Le.blockNumber==null?void 0:{blockNumber:Le.blockNumber,logs:L(Le.tables)}}throw Fe}}async function*q$1({storageAdapter:oe,logFilter:he,...ye}){for await(let{logs:ve,toBlock:_e}of a$3(ye)){let we=q$2(he?ve.filter(he):ve,_e);for(let Pe of we)await oe(Pe),yield Pe}}var d$1=y$1.extend("createStoreSync"),Ee=W$2.map(oe=>({tableId:oe}));async function Et({storageAdapter:oe,onProgress:he,publicClient:ye,address:ve,filters:_e=[],tableIds:we=[],startBlock:Pe=0n,maxBlockRange:Ie,initialState:Re,initialBlockLogs:ke,indexerUrl:Fe}){let Le=_e.length||we.length?[..._e,...we.map(St=>({tableId:St})),...Ee]:[],De=Le.length?St=>Le.some(Nt=>Nt.tableId===St.args.tableId&&(Nt.key0==null||Nt.key0===St.args.keyTuple[0])&&(Nt.key1==null||Nt.key1===St.args.keyTuple[1])):void 0,je=defer(async()=>{let St=ye.chain?.id??await ye.getChainId();he?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Getting snapshot"});let Nt=await _({chainId:St,address:ve,filters:Le,initialState:Re,initialBlockLogs:ke,indexerUrl:Fe});return he?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Got snapshot"}),Nt}).pipe(catchError(St=>(d$1("error getting snapshot",St),he?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:Pe,message:"Failed to get snapshot"}),of(void 0))),shareReplay(1)),ze=je.pipe(filter(w$5),concatMap(async({blockNumber:St,logs:Nt})=>{d$1("hydrating",Nt.length,"logs to block",St),he?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:St,message:"Hydrating from snapshot"});let er=Math.max(100,Math.floor(Nt.length/50)),Kt=Array.from(y$5(Nt,er));for(let[br,It]of Kt.entries())await oe({blockNumber:St,logs:It}),he?.({step:"snapshot",percentage:(br+It.length)/Kt.length*100,latestBlockNumber:0n,lastBlockNumberProcessed:St,message:"Hydrating from snapshot"});return he?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:St,message:"Hydrated from snapshot"}),{blockNumber:St,logs:Nt}}),shareReplay(1)),qe=je.pipe(map(St=>i$4(St?.blockNumber??0n,Pe)),tap(St=>d$1("starting sync from block",St))),We=G$1({publicClient:ye,blockTag:"latest"}).pipe(shareReplay(1)),et=We.pipe(map(St=>St.number),tap(St=>{d$1("latest block number",St)}),shareReplay(1)),rt=null,it=null,ht=null,lt=combineLatest([qe,et]).pipe(map(([St,Nt])=>({startBlock:St,endBlock:Nt})),tap(St=>{rt=St.startBlock,it=St.endBlock}),concatMap(St=>{let Nt=q$1({publicClient:ye,address:ve,events:I$2,maxBlockRange:Ie,fromBlock:ht?i$4(St.startBlock,ht+1n):St.startBlock,toBlock:St.endBlock,storageAdapter:oe,logFilter:De});return from(Nt)}),tap(({blockNumber:St,logs:Nt})=>{if(d$1("stored",Nt.length,"logs for block",St),ht=St,rt!=null&&it!=null)if(St<it){let er=it-rt,Kt=ht-rt;he?.({step:"rpc",percentage:Number(Kt*1000n/er)/10,latestBlockNumber:it,lastBlockNumberProcessed:ht,message:"Hydrating from RPC"})}else he?.({step:"live",percentage:100,latestBlockNumber:it,lastBlockNumberProcessed:ht,message:"All caught up!"})}),share$1()),dt=concat$1(ze,lt).pipe(share$1()),At=10,Pt=dt.pipe(scan((St,Nt)=>[Nt,...St].slice(0,At),[]),filter(St=>St.length>0),shareReplay(1));async function Ut(St){d$1("waiting for tx",St);let Nt=Pt.pipe(concatMap(async er=>{if(er.flatMap(Kt=>Kt.logs.map(br=>br.transactionHash).filter(w$5)).includes(St))return!0;try{let Kt=er[0];d$1("fetching tx receipt for block",Kt.blockNumber);let br=await ye.getTransactionReceipt({hash:St});return Kt.blockNumber>=br.blockNumber}catch(Kt){if(Kt instanceof TransactionReceiptNotFoundError)return!1;throw Kt}}),tap(er=>d$1("has tx?",St,er)));await firstValueFrom(Nt.pipe(filter(identity$4)))}return{latestBlock$:We,latestBlockNumber$:et,storedBlockLogs$:dt,waitForTransaction:Ut}}function x(oe){return oe.eventName==="Store_SetRecord"&&oe.args.tableId===i$2.Tables.tableId}function V$1(oe){let[he,...ye]=oe.args.keyTuple;ye.length&&console.warn("registerSchema event is expected to have only one key in key tuple, but got multiple",oe);let ve=I$4(he),_e=E$2(Ke$1.valueSchema,concatHex([oe.args.staticData,oe.args.encodedLengths,oe.args.dynamicData])),we=L$1(_e.keySchema),Pe=L$1(_e.valueSchema),Ie=decodeAbiParameters(parseAbiParameters("string[]"),_e.abiEncodedKeyNames)[0],Re=decodeAbiParameters(parseAbiParameters("string[]"),_e.abiEncodedFieldNames)[0],ke=[...Pe.staticFields,...Pe.dynamicFields];return{address:oe.address,tableId:he,namespace:ve.namespace,name:ve.name,keySchema:Object.fromEntries(we.staticFields.map((Fe,Le)=>[Ie[Le],Fe])),valueSchema:Object.fromEntries(ke.map((Fe,Le)=>[Re[Le],Fe]))}}var P$2=(oe=>(oe[oe.Boolean=0]="Boolean",oe[oe.Number=1]="Number",oe[oe.OptionalNumber=2]="OptionalNumber",oe[oe.BigInt=3]="BigInt",oe[oe.OptionalBigInt=4]="OptionalBigInt",oe[oe.String=5]="String",oe[oe.OptionalString=6]="OptionalString",oe[oe.NumberArray=7]="NumberArray",oe[oe.OptionalNumberArray=8]="OptionalNumberArray",oe[oe.BigIntArray=9]="BigIntArray",oe[oe.OptionalBigIntArray=10]="OptionalBigIntArray",oe[oe.StringArray=11]="StringArray",oe[oe.OptionalStringArray=12]="OptionalStringArray",oe[oe.Entity=13]="Entity",oe[oe.OptionalEntity=14]="OptionalEntity",oe[oe.EntityArray=15]="EntityArray",oe[oe.OptionalEntityArray=16]="OptionalEntityArray",oe[oe.T=17]="T",oe[oe.OptionalT=18]="OptionalT",oe))(P$2||{}),k=(oe=>(oe[oe.Enter=0]="Enter",oe[oe.Exit=1]="Exit",oe[oe.Update=2]="Update",oe[oe.Noop=3]="Noop",oe))(k||{}),w$2=[14,16,2,8,4,10,6,12,18];function M$2(oe){let he=new Map;function ye(Ie){let Re=he.get(ve(Ie));return Re?new Set([...Re].map(v)):new Set}function ve(Ie){return Object.values(Ie).join("/")}function _e(Ie,Re){if(!Re)return;let ke=ve(Re),Fe=he.get(ke);Fe||(Fe=new Set,he.set(ke,Fe)),Fe.add(Ie)}function we(Ie,Re){if(!Re)return;let ke=ve(Re),Fe=he.get(ke);Fe&&Fe.delete(Ie)}for(let Ie of V(oe)){let Re=g$1(oe,Ie);_e(p$2(Ie),Re)}let Pe=oe.update$.subscribe(({entity:Ie,value:Re})=>{we(p$2(Ie),Re[1]),_e(p$2(Ie),Re[0])});return oe.world.registerDisposer(()=>Pe?.unsubscribe()),{...oe,getEntitiesWithValue:ye}}function b$1(oe){return oe.metadata?.componentName??oe.metadata?.tableName??oe.metadata?.tableId??oe.metadata?.contractId??oe.id}function ie$1(oe,he,ye){if(Object.keys(he).length===0)throw new Error("Component schema must have at least one key");let ve=ye?.id??ue$4(),_e=$r(he,()=>new Map),we=new Subject,Pe=ye?.metadata,Ie={values:_e,schema:he,id:ve,update$:we,metadata:Pe,entities:()=>I$8(Object.values(_e)[0].keys(),v),world:oe};return ye?.indexed&&(Ie=M$2(Ie)),oe.registerComponent(Ie),Ie}function E$1(oe,he,ye,ve={}){let _e=p$2(he),we=g$1(oe,he);for(let[Pe,Ie]of Object.entries(ye))oe.values[Pe]?oe.values[Pe].set(_e,Ie):oe.metadata?.tableId&&/^\d+$/.test(Pe)||console.warn("Component definition for",b$1(oe),"is missing key",Pe,", ignoring value",Ie,"for entity",he,". Existing keys: ",Object.keys(oe.values));ve.skipUpdateStream||oe.update$.next({entity:he,value:[ye,we],component:oe})}function ue$1(oe,he,ye={}){let ve=p$2(he),_e=g$1(oe,he);for(let we of Object.keys(oe.values))oe.values[we].delete(ve);ye.skipUpdateStream||oe.update$.next({entity:he,value:[void 0,_e],component:oe})}function le$1(oe,he){let ye=p$2(he);return Object.values(oe.values)[0].has(ye)}function g$1(oe,he){let ye={},ve=p$2(he),_e=Object.keys(oe.schema);for(let we of _e){let Pe=oe.values[we].get(ve);if(Pe===void 0&&!w$2.includes(oe.schema[we]))return;ye[we]=Pe}return ye}function V(oe){return oe.entities()}function p$2(oe){return Symbol.for(oe)}function v(oe){return Symbol.keyFor(oe)}var N$2=(oe=>(oe[oe.Has=0]="Has",oe[oe.HasValue=1]="HasValue",oe[oe.Not=2]="Not",oe[oe.NotValue=3]="NotValue",oe[oe.ProxyRead=4]="ProxyRead",oe[oe.ProxyExpand=5]="ProxyExpand",oe))(N$2||{});function K$1(oe){if(!isHex(oe))throw new Error(`entity ${oe} is not a hex string`);let he=size$1(oe);if(he%32!==0)throw new Error(`entity length ${he} is not a multiple of 32 bytes`);return new Array(he/32).fill(0).map((ye,ve)=>sliceHex(oe,ve*32,(ve+1)*32))}function ft(oe,he){let ye=K$1(he);if(ye.length!==Object.keys(oe).length)throw new Error(`entity key tuple length ${ye.length} does not match key schema length ${Object.keys(oe).length}`);return Object.fromEntries(Object.entries(oe).map(([ve,_e],we)=>[ve,decodeAbiParameters([{type:_e}],ye[we])[0]]))}function u$1(oe){return concatHex(oe)}function w$1(oe,he){if(Object.keys(oe).length!==Object.keys(he).length)throw new Error(`key length ${Object.keys(he).length} does not match key schema length ${Object.keys(oe).length}`);return u$1(Object.entries(oe).map(([ye,ve])=>encodeAbiParameters([{type:ve}],[he[ye]])))}var p$1=y$1.extend("recs"),Z=y$1.extend("reccs");p$1.log=console.debug.bind(console);Z.log=console.error.bind(console);function j$1(oe){return{RegisteredTables:ie$1(oe,{table:P$2.T},{metadata:{componentName:"RegisteredTables"}}),SyncProgress:ie$1(oe,{step:P$2.String,message:P$2.String,percentage:P$2.Number,latestBlockNumber:P$2.BigInt,lastBlockNumberProcessed:P$2.BigInt},{metadata:{componentName:"SyncProgress"}})}}function N$1(oe){return w$1({address:"address",namespace:"bytes16",name:"bytes16"},{address:oe.address,namespace:stringToHex(oe.namespace,{size:16}),name:stringToHex(oe.name,{size:16})})}var f$1=u$1([]),W$1={uint8:P$2.Number,uint16:P$2.Number,uint24:P$2.Number,uint32:P$2.Number,uint40:P$2.Number,uint48:P$2.Number,uint56:P$2.BigInt,uint64:P$2.BigInt,uint72:P$2.BigInt,uint80:P$2.BigInt,uint88:P$2.BigInt,uint96:P$2.BigInt,uint104:P$2.BigInt,uint112:P$2.BigInt,uint120:P$2.BigInt,uint128:P$2.BigInt,uint136:P$2.BigInt,uint144:P$2.BigInt,uint152:P$2.BigInt,uint160:P$2.BigInt,uint168:P$2.BigInt,uint176:P$2.BigInt,uint184:P$2.BigInt,uint192:P$2.BigInt,uint200:P$2.BigInt,uint208:P$2.BigInt,uint216:P$2.BigInt,uint224:P$2.BigInt,uint232:P$2.BigInt,uint240:P$2.BigInt,uint248:P$2.BigInt,uint256:P$2.BigInt,int8:P$2.Number,int16:P$2.Number,int24:P$2.Number,int32:P$2.Number,int40:P$2.Number,int48:P$2.Number,int56:P$2.BigInt,int64:P$2.BigInt,int72:P$2.BigInt,int80:P$2.BigInt,int88:P$2.BigInt,int96:P$2.BigInt,int104:P$2.BigInt,int112:P$2.BigInt,int120:P$2.BigInt,int128:P$2.BigInt,int136:P$2.BigInt,int144:P$2.BigInt,int152:P$2.BigInt,int160:P$2.BigInt,int168:P$2.BigInt,int176:P$2.BigInt,int184:P$2.BigInt,int192:P$2.BigInt,int200:P$2.BigInt,int208:P$2.BigInt,int216:P$2.BigInt,int224:P$2.BigInt,int232:P$2.BigInt,int240:P$2.BigInt,int248:P$2.BigInt,int256:P$2.BigInt,bytes1:P$2.String,bytes2:P$2.String,bytes3:P$2.String,bytes4:P$2.String,bytes5:P$2.String,bytes6:P$2.String,bytes7:P$2.String,bytes8:P$2.String,bytes9:P$2.String,bytes10:P$2.String,bytes11:P$2.String,bytes12:P$2.String,bytes13:P$2.String,bytes14:P$2.String,bytes15:P$2.String,bytes16:P$2.String,bytes17:P$2.String,bytes18:P$2.String,bytes19:P$2.String,bytes20:P$2.String,bytes21:P$2.String,bytes22:P$2.String,bytes23:P$2.String,bytes24:P$2.String,bytes25:P$2.String,bytes26:P$2.String,bytes27:P$2.String,bytes28:P$2.String,bytes29:P$2.String,bytes30:P$2.String,bytes31:P$2.String,bytes32:P$2.String,bool:P$2.Boolean,address:P$2.String,"uint8[]":P$2.NumberArray,"uint16[]":P$2.NumberArray,"uint24[]":P$2.NumberArray,"uint32[]":P$2.NumberArray,"uint40[]":P$2.NumberArray,"uint48[]":P$2.NumberArray,"uint56[]":P$2.BigIntArray,"uint64[]":P$2.BigIntArray,"uint72[]":P$2.BigIntArray,"uint80[]":P$2.BigIntArray,"uint88[]":P$2.BigIntArray,"uint96[]":P$2.BigIntArray,"uint104[]":P$2.BigIntArray,"uint112[]":P$2.BigIntArray,"uint120[]":P$2.BigIntArray,"uint128[]":P$2.BigIntArray,"uint136[]":P$2.BigIntArray,"uint144[]":P$2.BigIntArray,"uint152[]":P$2.BigIntArray,"uint160[]":P$2.BigIntArray,"uint168[]":P$2.BigIntArray,"uint176[]":P$2.BigIntArray,"uint184[]":P$2.BigIntArray,"uint192[]":P$2.BigIntArray,"uint200[]":P$2.BigIntArray,"uint208[]":P$2.BigIntArray,"uint216[]":P$2.BigIntArray,"uint224[]":P$2.BigIntArray,"uint232[]":P$2.BigIntArray,"uint240[]":P$2.BigIntArray,"uint248[]":P$2.BigIntArray,"uint256[]":P$2.BigIntArray,"int8[]":P$2.NumberArray,"int16[]":P$2.NumberArray,"int24[]":P$2.NumberArray,"int32[]":P$2.NumberArray,"int40[]":P$2.NumberArray,"int48[]":P$2.NumberArray,"int56[]":P$2.BigIntArray,"int64[]":P$2.BigIntArray,"int72[]":P$2.BigIntArray,"int80[]":P$2.BigIntArray,"int88[]":P$2.BigIntArray,"int96[]":P$2.BigIntArray,"int104[]":P$2.BigIntArray,"int112[]":P$2.BigIntArray,"int120[]":P$2.BigIntArray,"int128[]":P$2.BigIntArray,"int136[]":P$2.BigIntArray,"int144[]":P$2.BigIntArray,"int152[]":P$2.BigIntArray,"int160[]":P$2.BigIntArray,"int168[]":P$2.BigIntArray,"int176[]":P$2.BigIntArray,"int184[]":P$2.BigIntArray,"int192[]":P$2.BigIntArray,"int200[]":P$2.BigIntArray,"int208[]":P$2.BigIntArray,"int216[]":P$2.BigIntArray,"int224[]":P$2.BigIntArray,"int232[]":P$2.BigIntArray,"int240[]":P$2.BigIntArray,"int248[]":P$2.BigIntArray,"int256[]":P$2.BigIntArray,"bytes1[]":P$2.StringArray,"bytes2[]":P$2.StringArray,"bytes3[]":P$2.StringArray,"bytes4[]":P$2.StringArray,"bytes5[]":P$2.StringArray,"bytes6[]":P$2.StringArray,"bytes7[]":P$2.StringArray,"bytes8[]":P$2.StringArray,"bytes9[]":P$2.StringArray,"bytes10[]":P$2.StringArray,"bytes11[]":P$2.StringArray,"bytes12[]":P$2.StringArray,"bytes13[]":P$2.StringArray,"bytes14[]":P$2.StringArray,"bytes15[]":P$2.StringArray,"bytes16[]":P$2.StringArray,"bytes17[]":P$2.StringArray,"bytes18[]":P$2.StringArray,"bytes19[]":P$2.StringArray,"bytes20[]":P$2.StringArray,"bytes21[]":P$2.StringArray,"bytes22[]":P$2.StringArray,"bytes23[]":P$2.StringArray,"bytes24[]":P$2.StringArray,"bytes25[]":P$2.StringArray,"bytes26[]":P$2.StringArray,"bytes27[]":P$2.StringArray,"bytes28[]":P$2.StringArray,"bytes29[]":P$2.StringArray,"bytes30[]":P$2.StringArray,"bytes31[]":P$2.StringArray,"bytes32[]":P$2.StringArray,"bool[]":P$2.T,"address[]":P$2.StringArray,bytes:P$2.String,string:P$2.String};function M$1(oe,he){return ie$1(oe,{...Object.fromEntries(Object.entries(he.valueSchema).map(([ye,{type:ve}])=>[ye,W$1[ve]])),__staticData:P$2.OptionalString,__encodedLengths:P$2.OptionalString,__dynamicData:P$2.OptionalString},{id:he.tableId,metadata:{componentName:he.name,tableName:`${he.namespace}:${he.name}`,keySchema:R$2(he.keySchema,({type:ye})=>ye),valueSchema:R$2(he.valueSchema,({type:ye})=>ye)}})}function B(oe,he){return R$2(he,ye=>M$1(oe,ye))}var mt=Ce(s$2).tables,gt=Ce(a$4).tables;function q({world:oe,tables:he,shouldSkipUpdateStream:ye}){oe.registerEntity({id:f$1});let ve={...B(oe,he),...B(oe,mt),...B(oe,gt),...j$1(oe)};async function _e({logs:we}){let Pe=we.filter(x).map(V$1);for(let Ie of Pe){let Re=N$1(Ie);le$1(ve.RegisteredTables,Re)?console.warn("table already registered, ignoring",{newTable:Ie,existingTable:g$1(ve.RegisteredTables,Re)?.table}):E$1(ve.RegisteredTables,Re,{table:Ie},{skipUpdateStream:ye?.()})}for(let Ie of we){let{namespace:Re,name:ke}=I$4(Ie.args.tableId),Fe=g$1(ve.RegisteredTables,N$1({address:Ie.address,namespace:Re,name:ke}))?.table;if(!Fe){p$1(`skipping update for unknown table: ${Re}:${ke} at ${Ie.address}`);continue}let Le=oe.components.find(je=>je.id===Fe.tableId);if(!Le){p$1(`skipping update for unknown component: ${Fe.tableId} (${Fe.namespace}:${Fe.name}). Available components: ${Object.keys(ve)}`);continue}let De=u$1(Ie.args.keyTuple);if(Ie.eventName==="Store_SetRecord"){let je=zt(Fe.valueSchema,Ie.args);p$1("setting component",{namespace:Fe.namespace,name:Fe.name,entity:De,value:je}),E$1(Le,De,{...je,__staticData:Ie.args.staticData,__encodedLengths:Ie.args.encodedLengths,__dynamicData:Ie.args.dynamicData},{skipUpdateStream:ye?.()})}else if(Ie.eventName==="Store_SpliceStaticData"){let je=g$1(Le,De),ze=je?.__staticData??"0x",qe=Ir(ze,Ie.args.start,size$1(Ie.args.data),Ie.args.data),We=zt(Fe.valueSchema,{staticData:qe,encodedLengths:je?.__encodedLengths??"0x",dynamicData:je?.__dynamicData??"0x"});p$1("setting component via splice static",{namespace:Fe.namespace,name:Fe.name,entity:De,previousStaticData:ze,newStaticData:qe,previousValue:je,newValue:We}),E$1(Le,De,{...We,__staticData:qe},{skipUpdateStream:ye?.()})}else if(Ie.eventName==="Store_SpliceDynamicData"){let je=g$1(Le,De),ze=je?.__dynamicData??"0x",qe=Ir(ze,Ie.args.start,Ie.args.deleteCount,Ie.args.data),We=zt(Fe.valueSchema,{staticData:je?.__staticData??"0x",encodedLengths:Ie.args.encodedLengths,dynamicData:qe});p$1("setting component via splice dynamic",{namespace:Fe.namespace,name:Fe.name,entity:De,previousDynamicData:ze,newDynamicData:qe,previousValue:je,newValue:We}),E$1(Le,De,{...We,__encodedLengths:Ie.args.encodedLengths,__dynamicData:qe},{skipUpdateStream:ye?.()})}else Ie.eventName==="Store_DeleteRecord"&&(p$1("deleting component",{namespace:Fe.namespace,name:Fe.name,entity:De}),ue$1(Le,De,{skipUpdateStream:ye?.()}))}}return{storageAdapter:_e,components:ve}}async function Oe({world:oe,config:he,tables:ye,startSync:ve=!0,..._e}){let we={...Ce(he).tables,...ye},{storageAdapter:Pe,components:Ie}=q({world:oe,tables:we,shouldSkipUpdateStream:()=>g$1(Ie.SyncProgress,f$1)?.step!=="live"}),Re=await Et({storageAdapter:Pe,config:he,..._e,onProgress:({step:Le,percentage:De,latestBlockNumber:je,lastBlockNumberProcessed:ze,message:qe})=>{if(g$1(Ie.SyncProgress,f$1)?.step!=="live"&&(E$1(Ie.SyncProgress,f$1,{step:Le,percentage:De,latestBlockNumber:je,lastBlockNumberProcessed:ze,message:qe}),Le==="live"))for(let We of Object.values(Ie)){let et=We;for(let rt of et.entities()){let it=g$1(et,rt);et.update$.next({component:et,entity:rt,value:[it,it]})}}}}),ke=ve?Re.storedBlockLogs$.subscribe():null,Fe=()=>{ke?.unsubscribe()};return oe.registerDisposer(Fe),{...Re,components:Ie,stopSync:Fe}}function a$2(oe,he){throw new Error(he??`Unexpected value: ${oe}`)}function i$1(...oe){return oe.reduce((he,ye)=>ye>he?ye:he)}function*y(oe,he){for(let ye=0;ye<oe.length;ye+=he)yield oe.slice(ye,ye+he)}function w(oe){return oe!==void 0}function r({abi:oe,systemId:he,functionName:ye,args:ve}){return[he,encodeFunctionData({abi:oe,functionName:ye,args:ve})]}function a$1({abi:oe,from:he,systemId:ye,functionName:ve,args:_e}){return[he,ye,encodeFunctionData({abi:oe,functionName:ve,args:_e})]}function P$1(oe,he){return he.map(ye=>r({...ye,abi:oe}))}var fastDeepEqual=function oe(he,ye){if(he===ye)return!0;if(he&&ye&&typeof he=="object"&&typeof ye=="object"){if(he.constructor!==ye.constructor)return!1;var ve,_e,we;if(Array.isArray(he)){if(ve=he.length,ve!=ye.length)return!1;for(_e=ve;_e--!==0;)if(!oe(he[_e],ye[_e]))return!1;return!0}if(he.constructor===RegExp)return he.source===ye.source&&he.flags===ye.flags;if(he.valueOf!==Object.prototype.valueOf)return he.valueOf()===ye.valueOf();if(he.toString!==Object.prototype.toString)return he.toString()===ye.toString();if(we=Object.keys(he),ve=we.length,ve!==Object.keys(ye).length)return!1;for(_e=ve;_e--!==0;)if(!Object.prototype.hasOwnProperty.call(ye,we[_e]))return!1;for(_e=ve;_e--!==0;){var Pe=we[_e];if(!oe(he[Pe],ye[Pe]))return!1}return!0}return he!==he&&ye!==ye};const P=getDefaultExportFromCjs(fastDeepEqual);function H(oe,he,ye){let[ve,_e]=reactExports.useState(he!=null?g$6(oe,he):void 0);return reactExports.useEffect(()=>{if(_e(he!=null?g$6(oe,he):void 0),he==null)return;let we=f$8([Ye$1(oe)],{runOnInit:!0}).update$.subscribe(Pe=>{if(X$2(Pe,oe)&&Pe.entity===he){let[Ie]=Pe.value;_e(Ie)}});return()=>we.unsubscribe()},[oe,he]),ve??ye}var m$1=oe=>{let[he,ye]=reactExports.useState(oe);return reactExports.useEffect(()=>{P(oe,he)||ye(oe)},[oe]),he};function te(oe,he){let ye=he?.updateOnValueChange??!0,ve=m$1(oe),_e=reactExports.useMemo(()=>f$8(ve,{runOnInit:!0}),[ve]),[we,Pe]=reactExports.useState([..._e.matching]);return reactExports.useEffect(()=>{Pe([..._e.matching]);let Ie=_e.update$.pipe(map(()=>[..._e.matching]));ye||(Ie=Ie.pipe(distinctUntilChanged((ke,Fe)=>P(ke,Fe))));let Re=Ie.subscribe(ke=>Pe(ke));return()=>Re.unsubscribe()},[_e,ye]),we}function se$1(oe,he){let[ye,ve]=reactExports.useState(he);return reactExports.useEffect(()=>{let _e=oe.subscribe(ve);return()=>_e.unsubscribe()},[oe]),ye}function ae(oe){let he=reactExports.useRef(oe),[ye,ve]=reactExports.useState(oe==null?{status:"idle"}:{status:"pending"});return reactExports.useEffect(()=>{oe!==he.current&&(he.current=oe,ve(oe==null?{status:"idle"}:{status:"pending"}))},[oe]),reactExports.useEffect(()=>{oe!=null&&Promise.allSettled([oe]).then(([_e])=>{oe===he.current&&ve(_e)})},[oe]),ye}let e={data:""},t=oe=>typeof window=="object"?((oe?oe.querySelector("#_goober"):window._goober)||Object.assign((oe||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:oe||e,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n=/\n+/g,o=(oe,he)=>{let ye="",ve="",_e="";for(let we in oe){let Pe=oe[we];we[0]=="@"?we[1]=="i"?ye=we+" "+Pe+";":ve+=we[1]=="f"?o(Pe,we):we+"{"+o(Pe,we[1]=="k"?"":he)+"}":typeof Pe=="object"?ve+=o(Pe,he?he.replace(/([^,])+/g,Ie=>we.replace(/(^:.*)|([^,])+/g,Re=>/&/.test(Re)?Re.replace(/&/g,Ie):Ie?Ie+" "+Re:Re)):we):Pe!=null&&(we=/^--/.test(we)?we:we.replace(/[A-Z]/g,"-$&").toLowerCase(),_e+=o.p?o.p(we,Pe):we+":"+Pe+";")}return ye+(he&&_e?he+"{"+_e+"}":_e)+ve},c={},s=oe=>{if(typeof oe=="object"){let he="";for(let ye in oe)he+=ye+s(oe[ye]);return he}return oe},i=(oe,he,ye,ve,_e)=>{let we=s(oe),Pe=c[we]||(c[we]=(Re=>{let ke=0,Fe=11;for(;ke<Re.length;)Fe=101*Fe+Re.charCodeAt(ke++)>>>0;return"go"+Fe})(we));if(!c[Pe]){let Re=we!==oe?oe:(ke=>{let Fe,Le,De=[{}];for(;Fe=l.exec(ke.replace(a,""));)Fe[4]?De.shift():Fe[3]?(Le=Fe[3].replace(n," ").trim(),De.unshift(De[0][Le]=De[0][Le]||{})):De[0][Fe[1]]=Fe[2].replace(n," ").trim();return De[0]})(oe);c[Pe]=o(_e?{["@keyframes "+Pe]:Re}:Re,ye?"":"."+Pe)}let Ie=ye&&c.g?c.g:null;return ye&&(c.g=c[Pe]),((Re,ke,Fe,Le)=>{Le?ke.data=ke.data.replace(Le,Re):ke.data.indexOf(Re)===-1&&(ke.data=Fe?Re+ke.data:ke.data+Re)})(c[Pe],he,ve,Ie),Pe},p=(oe,he,ye)=>oe.reduce((ve,_e,we)=>{let Pe=he[we];if(Pe&&Pe.call){let Ie=Pe(ye),Re=Ie&&Ie.props&&Ie.props.className||/^go/.test(Ie)&&Ie;Pe=Re?"."+Re:Ie&&typeof Ie=="object"?Ie.props?"":o(Ie,""):Ie===!1?"":Ie}return ve+_e+(Pe??"")},"");function u(oe){let he=this||{},ye=oe.call?oe(he.p):oe;return i(ye.unshift?ye.raw?p(ye,[].slice.call(arguments,1),he.p):ye.reduce((ve,_e)=>Object.assign(ve,_e&&_e.call?_e(he.p):_e),{}):ye,t(he.target),he.g,he.o,he.k)}let d,f,g;u.bind({g:1});u.bind({k:1});function m(oe,he,ye,ve){o.p=he,d=oe,f=ye,g=ve}function j(oe,he){let ye=this||{};return function(){let ve=arguments;function _e(we,Pe){let Ie=Object.assign({},we),Re=Ie.className||_e.className;ye.p=Object.assign({theme:f&&f()},Ie),ye.o=/ *go\d+/.test(Re),Ie.className=u.apply(ye,ve)+(Re?" "+Re:""),he&&(Ie.ref=Pe);let ke=oe;return oe[0]&&(ke=Ie.as||oe,delete Ie.as),g&&ke[0]&&g(Ie),d(ke,Ie)}return he?he(_e):_e}}function arrayReduce$1(oe,he,ye,ve){var _e=-1,we=oe==null?0:oe.length;for(ve&&we&&(ye=oe[++_e]);++_e<we;)ye=he(ye,oe[_e],_e,oe);return ye}var _arrayReduce=arrayReduce$1;function basePropertyOf$1(oe){return function(he){return oe?.[he]}}var _basePropertyOf=basePropertyOf$1,basePropertyOf=_basePropertyOf,deburredLetters={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},deburrLetter$1=basePropertyOf(deburredLetters),_deburrLetter=deburrLetter$1,freeGlobal$1=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$6=root$8.Symbol,_Symbol=Symbol$6;function arrayMap$2(oe,he){for(var ye=-1,ve=oe==null?0:oe.length,_e=Array(ve);++ye<ve;)_e[ye]=he(oe[ye],ye,oe);return _e}var _arrayMap=arrayMap$2,isArray$b=Array.isArray,isArray_1=isArray$b,Symbol$5=_Symbol,objectProto$b=Object.prototype,hasOwnProperty$8=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$5?Symbol$5.toStringTag:void 0;function getRawTag$1(oe){var he=hasOwnProperty$8.call(oe,symToStringTag$1),ye=oe[symToStringTag$1];try{oe[symToStringTag$1]=void 0;var ve=!0}catch{}var _e=nativeObjectToString$1.call(oe);return ve&&(he?oe[symToStringTag$1]=ye:delete oe[symToStringTag$1]),_e}var _getRawTag=getRawTag$1,objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString$1(oe){return nativeObjectToString.call(oe)}var _objectToString=objectToString$1,Symbol$4=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$4?Symbol$4.toStringTag:void 0;function baseGetTag$5(oe){return oe==null?oe===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(oe)?getRawTag(oe):objectToString(oe)}var _baseGetTag=baseGetTag$5;function isObjectLike$5(oe){return oe!=null&&typeof oe=="object"}var isObjectLike_1=isObjectLike$5,baseGetTag$4=_baseGetTag,isObjectLike$4=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$5(oe){return typeof oe=="symbol"||isObjectLike$4(oe)&&baseGetTag$4(oe)==symbolTag$1}var isSymbol_1=isSymbol$5,Symbol$3=_Symbol,arrayMap$1=_arrayMap,isArray$a=isArray_1,isSymbol$4=isSymbol_1,INFINITY$1=1/0,symbolProto$1=Symbol$3?Symbol$3.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(oe){if(typeof oe=="string")return oe;if(isArray$a(oe))return arrayMap$1(oe,baseToString$1)+"";if(isSymbol$4(oe))return symbolToString?symbolToString.call(oe):"";var he=oe+"";return he=="0"&&1/oe==-INFINITY$1?"-0":he}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$4(oe){return oe==null?"":baseToString(oe)}var toString_1=toString$4,deburrLetter=_deburrLetter,toString$3=toString_1,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange$3="\\u0300-\\u036f",reComboHalfMarksRange$3="\\ufe20-\\ufe2f",rsComboSymbolsRange$3="\\u20d0-\\u20ff",rsComboRange$3=rsComboMarksRange$3+reComboHalfMarksRange$3+rsComboSymbolsRange$3,rsCombo$2="["+rsComboRange$3+"]",reComboMark=RegExp(rsCombo$2,"g");function deburr$1(oe){return oe=toString$3(oe),oe&&oe.replace(reLatin,deburrLetter).replace(reComboMark,"")}var deburr_1=deburr$1,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function asciiWords$1(oe){return oe.match(reAsciiWord)||[]}var _asciiWords=asciiWords$1,reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hasUnicodeWord$1(oe){return reHasUnicodeWord.test(oe)}var _hasUnicodeWord=hasUnicodeWord$1,rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange$2="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos$1="[']",rsBreak="["+rsBreakRange+"]",rsCombo$1="["+rsComboRange$2+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange$2+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$1+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$2+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ$2="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos$1+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos$1+"(?:D|LL|M|RE|S|T|VE))?",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$2+"]?",rsOptJoin$1="(?:"+rsZWJ$2+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsEmoji="(?:"+[rsDingbat,rsRegional$1,rsSurrPair$1].join("|")+")"+rsSeq$1,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");function unicodeWords$1(oe){return oe.match(reUnicodeWord)||[]}var _unicodeWords=unicodeWords$1,asciiWords=_asciiWords,hasUnicodeWord=_hasUnicodeWord,toString$2=toString_1,unicodeWords=_unicodeWords;function words$1(oe,he,ye){return oe=toString$2(oe),he=ye?void 0:he,he===void 0?hasUnicodeWord(oe)?unicodeWords(oe):asciiWords(oe):oe.match(he)||[]}var words_1=words$1,arrayReduce=_arrayReduce,deburr=deburr_1,words=words_1,rsApos="[']",reApos=RegExp(rsApos,"g");function createCompounder$1(oe){return function(he){return arrayReduce(words(deburr(he).replace(reApos,"")),oe,"")}}var _createCompounder=createCompounder$1;function baseSlice$1(oe,he,ye){var ve=-1,_e=oe.length;he<0&&(he=-he>_e?0:_e+he),ye=ye>_e?_e:ye,ye<0&&(ye+=_e),_e=he>ye?0:ye-he>>>0,he>>>=0;for(var we=Array(_e);++ve<_e;)we[ve]=oe[ve+he];return we}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(oe,he,ye){var ve=oe.length;return ye=ye===void 0?ve:ye,!he&&ye>=ve?oe:baseSlice(oe,he,ye)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(oe){return reHasUnicode.test(oe)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(oe){return oe.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(oe){return oe.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(oe){return hasUnicode$1(oe)?unicodeToArray(oe):asciiToArray(oe)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$1=toString_1;function createCaseFirst$1(oe){return function(he){he=toString$1(he);var ye=hasUnicode(he)?stringToArray(he):void 0,ve=ye?ye[0]:he.charAt(0),_e=ye?castSlice(ye,1).join(""):he.slice(1);return ve[oe]()+_e}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst$1=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst$1,createCompounder=_createCompounder,upperFirst=upperFirst_1,startCase=createCompounder(function(oe,he,ye){return oe+(ye?" ":"")+upperFirst(he)}),startCase_1=startCase;const U=getDefaultExportFromCjs(startCase_1);if(!reactExports.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!makeObservable)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function defaultNoopBatch(oe){oe()}function observerBatching(oe){oe||(oe=defaultNoopBatch),configure({reactionScheduler:oe})}function printDebugValue(oe){return getDependencyTree(oe)}var REGISTRY_FINALIZE_AFTER=1e4,REGISTRY_SWEEP_INTERVAL=1e4,TimerBasedFinalizationRegistry=function(){function oe(he){var ye=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:he}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(ve){ve===void 0&&(ve=REGISTRY_FINALIZE_AFTER),clearTimeout(ye.sweepTimeout),ye.sweepTimeout=void 0;var _e=Date.now();ye.registrations.forEach(function(we,Pe){_e-we.registeredAt>=ve&&(ye.finalize(we.value),ye.registrations.delete(Pe))}),ye.registrations.size>0&&ye.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){ye.sweep(0)}})}return Object.defineProperty(oe.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(he,ye,ve){this.registrations.set(ve,{value:ye,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(oe.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(he){this.registrations.delete(he)}}),Object.defineProperty(oe.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,REGISTRY_SWEEP_INTERVAL))}}),oe}(),UniversalFinalizationRegistry=typeof FinalizationRegistry<"u"?FinalizationRegistry:TimerBasedFinalizationRegistry,observerFinalizationRegistry=new UniversalFinalizationRegistry(function(oe){var he;(he=oe.reaction)===null||he===void 0||he.dispose(),oe.reaction=null}),__read=globalThis&&globalThis.__read||function(oe,he){var ye=typeof Symbol=="function"&&oe[Symbol.iterator];if(!ye)return oe;var ve=ye.call(oe),_e,we=[],Pe;try{for(;(he===void 0||he-- >0)&&!(_e=ve.next()).done;)we.push(_e.value)}catch(Ie){Pe={error:Ie}}finally{try{_e&&!_e.done&&(ye=ve.return)&&ye.call(ve)}finally{if(Pe)throw Pe.error}}return we};function observerComponentNameFor(oe){return"observer".concat(oe)}var ObjectToBeRetainedByReact=function(){function oe(){}return oe}();function objectToBeRetainedByReactFactory(){return new ObjectToBeRetainedByReact}function useObserver(oe,he){he===void 0&&(he="observed");var ye=__read(React.useState(objectToBeRetainedByReactFactory),1),ve=ye[0],_e=__read(React.useState(),2),we=_e[1],Pe=function(){return we([])},Ie=React.useRef(null);Ie.current||(Ie.current={reaction:null,mounted:!1,changedBeforeMount:!1});var Re=Ie.current;Re.reaction||(Re.reaction=new Reaction(observerComponentNameFor(he),function(){Re.mounted?Pe():Re.changedBeforeMount=!0}),observerFinalizationRegistry.register(ve,Re,Re)),React.useDebugValue(Re.reaction,printDebugValue),React.useEffect(function(){return observerFinalizationRegistry.unregister(Re),Re.mounted=!0,Re.reaction?Re.changedBeforeMount&&(Re.changedBeforeMount=!1,Pe()):(Re.reaction=new Reaction(observerComponentNameFor(he),function(){Pe()}),Pe()),function(){Re.reaction.dispose(),Re.reaction=null,Re.mounted=!1,Re.changedBeforeMount=!1}},[]);var ke,Fe;if(Re.reaction.track(function(){try{ke=oe()}catch(Le){Fe=Le}}),Fe)throw Fe;return ke}var hasSymbol=typeof Symbol=="function"&&Symbol.for,ReactForwardRefSymbol=hasSymbol?Symbol.for("react.forward_ref"):typeof reactExports.forwardRef=="function"&&reactExports.forwardRef(function(oe){return null}).$$typeof,ReactMemoSymbol=hasSymbol?Symbol.for("react.memo"):typeof reactExports.memo=="function"&&reactExports.memo(function(oe){return null}).$$typeof;function observer(oe,he){var ye;if(ReactMemoSymbol&&oe.$$typeof===ReactMemoSymbol)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var ve=(ye=he?.forwardRef)!==null&&ye!==void 0?ye:!1,_e=oe,we=oe.displayName||oe.name;if(ReactForwardRefSymbol&&oe.$$typeof===ReactForwardRefSymbol&&(ve=!0,_e=oe.render,typeof _e!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var Pe=function(Ie,Re){return useObserver(function(){return _e(Ie,Re)},we)};return we!==""&&(Pe.displayName=we),oe.contextTypes&&(Pe.contextTypes=oe.contextTypes),ve&&(Pe=reactExports.forwardRef(Pe)),Pe=reactExports.memo(Pe),copyStaticProperties(oe,Pe),Pe}var hoistBlackList={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function copyStaticProperties(oe,he){Object.keys(oe).forEach(function(ye){hoistBlackList[ye]||Object.defineProperty(he,ye,Object.getOwnPropertyDescriptor(oe,ye))})}globalThis&&globalThis.__read;var _a;observerBatching(reactDomExports.unstable_batchedUpdates);_a=observerFinalizationRegistry.finalizeAllImmediately;function arrayPush$2(oe,he){for(var ye=-1,ve=he.length,_e=oe.length;++ye<ve;)oe[_e+ye]=he[ye];return oe}var _arrayPush=arrayPush$2,baseGetTag$3=_baseGetTag,isObjectLike$3=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(oe){return isObjectLike$3(oe)&&baseGetTag$3(oe)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$2=isObjectLike_1,objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(oe){return isObjectLike$2(oe)&&hasOwnProperty$7.call(oe,"callee")&&!propertyIsEnumerable$1.call(oe,"callee")},isArguments_1=isArguments$3,Symbol$2=_Symbol,isArguments$2=isArguments_1,isArray$9=isArray_1,spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable$1(oe){return isArray$9(oe)||isArguments$2(oe)||!!(spreadableSymbol&&oe&&oe[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush$1=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$1(oe,he,ye,ve,_e){var we=-1,Pe=oe.length;for(ye||(ye=isFlattenable),_e||(_e=[]);++we<Pe;){var Ie=oe[we];he>0&&ye(Ie)?he>1?baseFlatten$1(Ie,he-1,ye,ve,_e):arrayPush$1(_e,Ie):ve||(_e[_e.length]=Ie)}return _e}var _baseFlatten=baseFlatten$1,baseFlatten=_baseFlatten;function flatten(oe){var he=oe==null?0:oe.length;return he?baseFlatten(oe,1):[]}var flatten_1=flatten;const Je=getDefaultExportFromCjs(flatten_1);var isArray$8=isArray_1,isSymbol$3=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(oe,he){if(isArray$8(oe))return!1;var ye=typeof oe;return ye=="number"||ye=="symbol"||ye=="boolean"||oe==null||isSymbol$3(oe)?!0:reIsPlainProp.test(oe)||!reIsDeepProp.test(oe)||he!=null&&oe in Object(he)}var _isKey=isKey$3;function isObject$6(oe){var he=typeof oe;return oe!=null&&(he=="object"||he=="function")}var isObject_1=isObject$6,baseGetTag$2=_baseGetTag,isObject$5=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(oe){if(!isObject$5(oe))return!1;var he=baseGetTag$2(oe);return he==funcTag$1||he==genTag||he==asyncTag||he==proxyTag}var isFunction_1=isFunction$2,root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var oe=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return oe?"Symbol(src)_1."+oe:""}();function isMasked$1(oe){return!!maskSrcKey&&maskSrcKey in oe}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(oe){if(oe!=null){try{return funcToString$1.call(oe)}catch{}try{return oe+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$4=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$8=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$6=objectProto$8.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$6).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(oe){if(!isObject$4(oe)||isMasked(oe))return!1;var he=isFunction$1(oe)?reIsNative:reIsHostCtor;return he.test(toSource$1(oe))}var _baseIsNative=baseIsNative$1;function getValue$1(oe,he){return oe?.[he]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$6(oe,he){var ye=getValue(oe,he);return baseIsNative(ye)?ye:void 0}var _getNative=getNative$6,getNative$5=_getNative,nativeCreate$4=getNative$5(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(oe){var he=this.has(oe)&&delete this.__data__[oe];return this.size-=he?1:0,he}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty;function hashGet$1(oe){var he=this.__data__;if(nativeCreate$2){var ye=he[oe];return ye===HASH_UNDEFINED$2?void 0:ye}return hasOwnProperty$5.call(he,oe)?he[oe]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$6=Object.prototype,hasOwnProperty$4=objectProto$6.hasOwnProperty;function hashHas$1(oe){var he=this.__data__;return nativeCreate$1?he[oe]!==void 0:hasOwnProperty$4.call(he,oe)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(oe,he){var ye=this.__data__;return this.size+=this.has(oe)?0:1,ye[oe]=nativeCreate&&he===void 0?HASH_UNDEFINED$1:he,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(oe){var he=-1,ye=oe==null?0:oe.length;for(this.clear();++he<ye;){var ve=oe[he];this.set(ve[0],ve[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$2(oe,he){return oe===he||oe!==oe&&he!==he}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$4(oe,he){for(var ye=oe.length;ye--;)if(eq$1(oe[ye][0],he))return ye;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(oe){var he=this.__data__,ye=assocIndexOf$3(he,oe);if(ye<0)return!1;var ve=he.length-1;return ye==ve?he.pop():splice.call(he,ye,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(oe){var he=this.__data__,ye=assocIndexOf$2(he,oe);return ye<0?void 0:he[ye][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(oe){return assocIndexOf$1(this.__data__,oe)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(oe,he){var ye=this.__data__,ve=assocIndexOf(ye,oe);return ve<0?(++this.size,ye.push([oe,he])):ye[ve][1]=he,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(oe){var he=-1,ye=oe==null?0:oe.length;for(this.clear();++he<ye;){var ve=oe[he];this.set(ve[0],ve[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$4=_getNative,root$6=_root,Map$4=getNative$4(root$6,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(oe){var he=typeof oe;return he=="string"||he=="number"||he=="symbol"||he=="boolean"?oe!=="__proto__":oe===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(oe,he){var ye=oe.__data__;return isKeyable(he)?ye[typeof he=="string"?"string":"hash"]:ye.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(oe){var he=getMapData$3(this,oe).delete(oe);return this.size-=he?1:0,he}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(oe){return getMapData$2(this,oe).get(oe)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(oe){return getMapData$1(this,oe).has(oe)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(oe,he){var ye=getMapData(this,oe),ve=ye.size;return ye.set(oe,he),this.size+=ye.size==ve?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(oe){var he=-1,ye=oe==null?0:oe.length;for(this.clear();++he<ye;){var ve=oe[he];this.set(ve[0],ve[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$1(oe,he){if(typeof oe!="function"||he!=null&&typeof he!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var ye=function(){var ve=arguments,_e=he?he.apply(this,ve):ve[0],we=ye.cache;if(we.has(_e))return we.get(_e);var Pe=oe.apply(this,ve);return ye.cache=we.set(_e,Pe)||we,Pe};return ye.cache=new(memoize$1.Cache||MapCache$2),ye}memoize$1.Cache=MapCache$2;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(oe){var he=memoize(oe,function(ve){return ye.size===MAX_MEMOIZE_SIZE&&ye.clear(),ve}),ye=he.cache;return he}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(oe){var he=[];return oe.charCodeAt(0)===46&&he.push(""),oe.replace(rePropName,function(ye,ve,_e,we){he.push(_e?we.replace(reEscapeChar,"$1"):ve||ye)}),he}),_stringToPath=stringToPath$1,isArray$7=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString=toString_1;function castPath$2(oe,he){return isArray$7(oe)?oe:isKey$2(oe,he)?[oe]:stringToPath(toString(oe))}var _castPath=castPath$2,isSymbol$2=isSymbol_1,INFINITY=1/0;function toKey$4(oe){if(typeof oe=="string"||isSymbol$2(oe))return oe;var he=oe+"";return he=="0"&&1/oe==-INFINITY?"-0":he}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(oe,he){he=castPath$1(he,oe);for(var ye=0,ve=he.length;oe!=null&&ye<ve;)oe=oe[toKey$3(he[ye++])];return ye&&ye==ve?oe:void 0}var _baseGet=baseGet$3,ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(oe){var he=this.__data__,ye=he.delete(oe);return this.size=he.size,ye}var _stackDelete=stackDelete$1;function stackGet$1(oe){return this.__data__.get(oe)}var _stackGet=stackGet$1;function stackHas$1(oe){return this.__data__.has(oe)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(oe,he){var ye=this.__data__;if(ye instanceof ListCache$1){var ve=ye.__data__;if(!Map$2||ve.length<LARGE_ARRAY_SIZE-1)return ve.push([oe,he]),this.size=++ye.size,this;ye=this.__data__=new MapCache$1(ve)}return ye.set(oe,he),this.size=ye.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(oe){var he=this.__data__=new ListCache(oe);this.size=he.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(oe){return this.__data__.set(oe,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(oe){return this.__data__.has(oe)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(oe){var he=-1,ye=oe==null?0:oe.length;for(this.__data__=new MapCache;++he<ye;)this.add(oe[he])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(oe,he){for(var ye=-1,ve=oe==null?0:oe.length;++ye<ve;)if(he(oe[ye],ye,oe))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(oe,he){return oe.has(he)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(oe,he,ye,ve,_e,we){var Pe=ye&COMPARE_PARTIAL_FLAG$5,Ie=oe.length,Re=he.length;if(Ie!=Re&&!(Pe&&Re>Ie))return!1;var ke=we.get(oe),Fe=we.get(he);if(ke&&Fe)return ke==he&&Fe==oe;var Le=-1,De=!0,je=ye&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(we.set(oe,he),we.set(he,oe);++Le<Ie;){var ze=oe[Le],qe=he[Le];if(ve)var We=Pe?ve(qe,ze,Le,he,oe,we):ve(ze,qe,Le,oe,he,we);if(We!==void 0){if(We)continue;De=!1;break}if(je){if(!arraySome(he,function(et,rt){if(!cacheHas(je,rt)&&(ze===et||_e(ze,et,ye,ve,we)))return je.push(rt)})){De=!1;break}}else if(!(ze===qe||_e(ze,qe,ye,ve,we))){De=!1;break}}return we.delete(oe),we.delete(he),De}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(oe){var he=-1,ye=Array(oe.size);return oe.forEach(function(ve,_e){ye[++he]=[_e,ve]}),ye}var _mapToArray=mapToArray$1;function setToArray$1(oe){var he=-1,ye=Array(oe.size);return oe.forEach(function(ve){ye[++he]=ve}),ye}var _setToArray=setToArray$1,Symbol$1=_Symbol,Uint8Array$1=_Uint8Array,eq=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(oe,he,ye,ve,_e,we,Pe){switch(ye){case dataViewTag$2:if(oe.byteLength!=he.byteLength||oe.byteOffset!=he.byteOffset)return!1;oe=oe.buffer,he=he.buffer;case arrayBufferTag$1:return!(oe.byteLength!=he.byteLength||!we(new Uint8Array$1(oe),new Uint8Array$1(he)));case boolTag$1:case dateTag$1:case numberTag$1:return eq(+oe,+he);case errorTag$1:return oe.name==he.name&&oe.message==he.message;case regexpTag$1:case stringTag$1:return oe==he+"";case mapTag$2:var Ie=mapToArray;case setTag$2:var Re=ve&COMPARE_PARTIAL_FLAG$4;if(Ie||(Ie=setToArray),oe.size!=he.size&&!Re)return!1;var ke=Pe.get(oe);if(ke)return ke==he;ve|=COMPARE_UNORDERED_FLAG$2,Pe.set(oe,he);var Fe=equalArrays$1(Ie(oe),Ie(he),ve,_e,we,Pe);return Pe.delete(oe),Fe;case symbolTag:if(symbolValueOf)return symbolValueOf.call(oe)==symbolValueOf.call(he)}return!1}var _equalByTag=equalByTag$1,arrayPush=_arrayPush,isArray$6=isArray_1;function baseGetAllKeys$1(oe,he,ye){var ve=he(oe);return isArray$6(oe)?ve:arrayPush(ve,ye(oe))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(oe,he){for(var ye=-1,ve=oe==null?0:oe.length,_e=0,we=[];++ye<ve;){var Pe=oe[ye];he(Pe,ye,oe)&&(we[_e++]=Pe)}return we}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$5=Object.prototype,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(oe){return oe==null?[]:(oe=Object(oe),arrayFilter(nativeGetSymbols(oe),function(he){return propertyIsEnumerable.call(oe,he)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(oe,he){for(var ye=-1,ve=Array(oe);++ye<oe;)ve[ye]=he(ye);return ve}var _baseTimes=baseTimes$1,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(oe,he){var ye=_root,ve=stubFalse_1,_e=he&&!he.nodeType&&he,we=_e&&!0&&oe&&!oe.nodeType&&oe,Pe=we&&we.exports===_e,Ie=Pe?ye.Buffer:void 0,Re=Ie?Ie.isBuffer:void 0,ke=Re||ve;oe.exports=ke})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$2(oe,he){var ye=typeof oe;return he=he??MAX_SAFE_INTEGER$1,!!he&&(ye=="number"||ye!="symbol"&&reIsUint.test(oe))&&oe>-1&&oe%1==0&&oe<he}var _isIndex=isIndex$2,MAX_SAFE_INTEGER=9007199254740991;function isLength$3(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=MAX_SAFE_INTEGER}var isLength_1=isLength$3,baseGetTag$1=_baseGetTag,isLength$2=isLength_1,isObjectLike$1=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$2="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(oe){return isObjectLike$1(oe)&&isLength$2(oe.length)&&!!typedArrayTags[baseGetTag$1(oe)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(oe){return function(he){return oe(he)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(oe,he){var ye=_freeGlobal,ve=he&&!he.nodeType&&he,_e=ve&&!0&&oe&&!oe.nodeType&&oe,we=_e&&_e.exports===ve,Pe=we&&ye.process,Ie=function(){try{var Re=_e&&_e.require&&_e.require("util").types;return Re||Pe&&Pe.binding&&Pe.binding("util")}catch{}}();oe.exports=Ie})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments$1=isArguments_1,isArray$5=isArray_1,isBuffer$1=isBufferExports,isIndex$1=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function arrayLikeKeys$1(oe,he){var ye=isArray$5(oe),ve=!ye&&isArguments$1(oe),_e=!ye&&!ve&&isBuffer$1(oe),we=!ye&&!ve&&!_e&&isTypedArray$1(oe),Pe=ye||ve||_e||we,Ie=Pe?baseTimes(oe.length,String):[],Re=Ie.length;for(var ke in oe)(he||hasOwnProperty$3.call(oe,ke))&&!(Pe&&(ke=="length"||_e&&(ke=="offset"||ke=="parent")||we&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||isIndex$1(ke,Re)))&&Ie.push(ke);return Ie}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$3=Object.prototype;function isPrototype$1(oe){var he=oe&&oe.constructor,ye=typeof he=="function"&&he.prototype||objectProto$3;return oe===ye}var _isPrototype=isPrototype$1;function overArg$1(oe,he){return function(ye){return oe(he(ye))}}var _overArg=overArg$1,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeys$1(oe){if(!isPrototype(oe))return nativeKeys(oe);var he=[];for(var ye in Object(oe))hasOwnProperty$2.call(oe,ye)&&ye!="constructor"&&he.push(ye);return he}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$3(oe){return oe!=null&&isLength$1(oe.length)&&!isFunction(oe)}var isArrayLike_1=isArrayLike$3,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$2=isArrayLike_1;function keys$3(oe){return isArrayLike$2(oe)?arrayLikeKeys(oe):baseKeys(oe)}var keys_1=keys$3,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$2=keys_1;function getAllKeys$1(oe){return baseGetAllKeys(oe,keys$2,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects$1(oe,he,ye,ve,_e,we){var Pe=ye&COMPARE_PARTIAL_FLAG$3,Ie=getAllKeys(oe),Re=Ie.length,ke=getAllKeys(he),Fe=ke.length;if(Re!=Fe&&!Pe)return!1;for(var Le=Re;Le--;){var De=Ie[Le];if(!(Pe?De in he:hasOwnProperty$1.call(he,De)))return!1}var je=we.get(oe),ze=we.get(he);if(je&&ze)return je==he&&ze==oe;var qe=!0;we.set(oe,he),we.set(he,oe);for(var We=Pe;++Le<Re;){De=Ie[Le];var et=oe[De],rt=he[De];if(ve)var it=Pe?ve(rt,et,De,he,oe,we):ve(et,rt,De,oe,he,we);if(!(it===void 0?et===rt||_e(et,rt,ye,ve,we):it)){qe=!1;break}We||(We=De=="constructor")}if(qe&&!We){var ht=oe.constructor,lt=he.constructor;ht!=lt&&"constructor"in oe&&"constructor"in he&&!(typeof ht=="function"&&ht instanceof ht&&typeof lt=="function"&&lt instanceof lt)&&(qe=!1)}return we.delete(oe),we.delete(he),qe}var _equalObjects=equalObjects$1,getNative$3=_getNative,root$4=_root,DataView$2=getNative$3(root$4,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$3=_root,Promise$2=getNative$2(root$3,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$2=_root,Set$2=getNative$1(root$2,"Set"),_Set=Set$2,getNative=_getNative,root$1=_root,WeakMap$2=getNative(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$1&&getTag$1(new Set$1)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function(oe){var he=baseGetTag(oe),ye=he==objectTag$1?oe.constructor:void 0,ve=ye?toSource(ye):"";if(ve)switch(ve){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return he});var _getTag=getTag$1,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray$4=isArray_1,isBuffer=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep$1(oe,he,ye,ve,_e,we){var Pe=isArray$4(oe),Ie=isArray$4(he),Re=Pe?arrayTag:getTag(oe),ke=Ie?arrayTag:getTag(he);Re=Re==argsTag?objectTag:Re,ke=ke==argsTag?objectTag:ke;var Fe=Re==objectTag,Le=ke==objectTag,De=Re==ke;if(De&&isBuffer(oe)){if(!isBuffer(he))return!1;Pe=!0,Fe=!1}if(De&&!Fe)return we||(we=new Stack$1),Pe||isTypedArray(oe)?equalArrays(oe,he,ye,ve,_e,we):equalByTag(oe,he,Re,ye,ve,_e,we);if(!(ye&COMPARE_PARTIAL_FLAG$2)){var je=Fe&&hasOwnProperty.call(oe,"__wrapped__"),ze=Le&&hasOwnProperty.call(he,"__wrapped__");if(je||ze){var qe=je?oe.value():oe,We=ze?he.value():he;return we||(we=new Stack$1),_e(qe,We,ye,ve,we)}}return De?(we||(we=new Stack$1),equalObjects(oe,he,ye,ve,_e,we)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike=isObjectLike_1;function baseIsEqual$2(oe,he,ye,ve,_e){return oe===he?!0:oe==null||he==null||!isObjectLike(oe)&&!isObjectLike(he)?oe!==oe&&he!==he:baseIsEqualDeep(oe,he,ye,ve,baseIsEqual$2,_e)}var _baseIsEqual=baseIsEqual$2,Stack=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(oe,he,ye,ve){var _e=ye.length,we=_e,Pe=!ve;if(oe==null)return!we;for(oe=Object(oe);_e--;){var Ie=ye[_e];if(Pe&&Ie[2]?Ie[1]!==oe[Ie[0]]:!(Ie[0]in oe))return!1}for(;++_e<we;){Ie=ye[_e];var Re=Ie[0],ke=oe[Re],Fe=Ie[1];if(Pe&&Ie[2]){if(ke===void 0&&!(Re in oe))return!1}else{var Le=new Stack;if(ve)var De=ve(ke,Fe,Re,oe,he,Le);if(!(De===void 0?baseIsEqual$1(Fe,ke,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,ve,Le):De))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$3=isObject_1;function isStrictComparable$2(oe){return oe===oe&&!isObject$3(oe)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$1=keys_1;function getMatchData$1(oe){for(var he=keys$1(oe),ye=he.length;ye--;){var ve=he[ye],_e=oe[ve];he[ye]=[ve,_e,isStrictComparable$1(_e)]}return he}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(oe,he){return function(ye){return ye==null?!1:ye[oe]===he&&(he!==void 0||oe in Object(ye))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(oe){var he=getMatchData(oe);return he.length==1&&he[0][2]?matchesStrictComparable$1(he[0][0],he[0][1]):function(ye){return ye===oe||baseIsMatch(ye,oe,he)}}var _baseMatches=baseMatches$1,baseGet$2=_baseGet;function get$1(oe,he,ye){var ve=oe==null?void 0:baseGet$2(oe,he);return ve===void 0?ye:ve}var get_1=get$1;function baseHasIn$1(oe,he){return oe!=null&&he in Object(oe)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments=isArguments_1,isArray$3=isArray_1,isIndex=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(oe,he,ye){he=castPath(he,oe);for(var ve=-1,_e=he.length,we=!1;++ve<_e;){var Pe=toKey$2(he[ve]);if(!(we=oe!=null&&ye(oe,Pe)))break;oe=oe[Pe]}return we||++ve!=_e?we:(_e=oe==null?0:oe.length,!!_e&&isLength(_e)&&isIndex(Pe,_e)&&(isArray$3(oe)||isArguments(oe)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(oe,he){return oe!=null&&hasPath(oe,he,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(oe,he){return isKey$1(oe)&&isStrictComparable(he)?matchesStrictComparable(toKey$1(oe),he):function(ye){var ve=get(ye,oe);return ve===void 0&&ve===he?hasIn(ye,oe):baseIsEqual(he,ve,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$2(oe){return oe}var identity_1=identity$2;function baseProperty$1(oe){return function(he){return he?.[oe]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(oe){return function(he){return baseGet$1(he,oe)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(oe){return isKey(oe)?baseProperty(toKey(oe)):basePropertyDeep(oe)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$1=identity_1,isArray$2=isArray_1,property=property_1;function baseIteratee$1(oe){return typeof oe=="function"?oe:oe==null?identity$1:typeof oe=="object"?isArray$2(oe)?baseMatchesProperty(oe[0],oe[1]):baseMatches(oe):property(oe)}var _baseIteratee=baseIteratee$1;function createBaseFor$1(oe){return function(he,ye,ve){for(var _e=-1,we=Object(he),Pe=ve(he),Ie=Pe.length;Ie--;){var Re=Pe[oe?Ie:++_e];if(ye(we[Re],Re,we)===!1)break}return he}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys=keys_1;function baseForOwn$1(oe,he){return oe&&baseFor(oe,he,keys)}var _baseForOwn=baseForOwn$1,isArrayLike$1=isArrayLike_1;function createBaseEach$1(oe,he){return function(ye,ve){if(ye==null)return ye;if(!isArrayLike$1(ye))return oe(ye,ve);for(var _e=ye.length,we=he?_e:-1,Pe=Object(ye);(he?we--:++we<_e)&&ve(Pe[we],we,Pe)!==!1;);return ye}}var _createBaseEach=createBaseEach$1,baseForOwn=_baseForOwn,createBaseEach=_createBaseEach,baseEach$1=createBaseEach(baseForOwn),_baseEach=baseEach$1,baseEach=_baseEach,isArrayLike=isArrayLike_1;function baseMap$1(oe,he){var ye=-1,ve=isArrayLike(oe)?Array(oe.length):[];return baseEach(oe,function(_e,we,Pe){ve[++ye]=he(_e,we,Pe)}),ve}var _baseMap=baseMap$1;function baseSortBy$1(oe,he){var ye=oe.length;for(oe.sort(he);ye--;)oe[ye]=oe[ye].value;return oe}var _baseSortBy=baseSortBy$1,isSymbol$1=isSymbol_1;function compareAscending$1(oe,he){if(oe!==he){var ye=oe!==void 0,ve=oe===null,_e=oe===oe,we=isSymbol$1(oe),Pe=he!==void 0,Ie=he===null,Re=he===he,ke=isSymbol$1(he);if(!Ie&&!ke&&!we&&oe>he||we&&Pe&&Re&&!Ie&&!ke||ve&&Pe&&Re||!ye&&Re||!_e)return 1;if(!ve&&!we&&!ke&&oe<he||ke&&ye&&_e&&!ve&&!we||Ie&&ye&&_e||!Pe&&_e||!Re)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(oe,he,ye){for(var ve=-1,_e=oe.criteria,we=he.criteria,Pe=_e.length,Ie=ye.length;++ve<Pe;){var Re=compareAscending(_e[ve],we[ve]);if(Re){if(ve>=Ie)return Re;var ke=ye[ve];return Re*(ke=="desc"?-1:1)}}return oe.index-he.index}var _compareMultiple=compareMultiple$1,arrayMap=_arrayMap,baseGet=_baseGet,baseIteratee=_baseIteratee,baseMap=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity=identity_1,isArray$1=isArray_1;function baseOrderBy$1(oe,he,ye){he.length?he=arrayMap(he,function(we){return isArray$1(we)?function(Pe){return baseGet(Pe,we.length===1?we[0]:we)}:we}):he=[identity];var ve=-1;he=arrayMap(he,baseUnary(baseIteratee));var _e=baseMap(oe,function(we,Pe,Ie){var Re=arrayMap(he,function(ke){return ke(we)});return{criteria:Re,index:++ve,value:we}});return baseSortBy(_e,function(we,Pe){return compareMultiple(we,Pe,ye)})}var _baseOrderBy=baseOrderBy$1,baseOrderBy=_baseOrderBy,isArray=isArray_1;function orderBy(oe,he,ye,ve){return oe==null?[]:(isArray(he)||(he=he==null?[]:[he]),ye=ve?void 0:ye,isArray(ye)||(ye=ye==null?[]:[ye]),baseOrderBy(oe,he,ye))}var orderBy_1=orderBy;const Ke=getDefaultExportFromCjs(orderBy_1);var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(oe){for(var he=oe.length;he--&&reWhitespace.test(oe.charAt(he)););return he}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(oe){return oe&&oe.slice(0,trimmedEndIndex(oe)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(oe){if(typeof oe=="number")return oe;if(isSymbol(oe))return NAN;if(isObject$2(oe)){var he=typeof oe.valueOf=="function"?oe.valueOf():oe;oe=isObject$2(he)?he+"":he}if(typeof oe!="string")return oe===0?oe:+oe;oe=baseTrim(oe);var ye=reIsBinary.test(oe);return ye||reIsOctal.test(oe)?freeParseInt(oe.slice(2),ye?2:8):reIsBadHex.test(oe)?NAN:+oe}var toNumber_1=toNumber$1,isObject$1=isObject_1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$1(oe,he,ye){var ve,_e,we,Pe,Ie,Re,ke=0,Fe=!1,Le=!1,De=!0;if(typeof oe!="function")throw new TypeError(FUNC_ERROR_TEXT$1);he=toNumber(he)||0,isObject$1(ye)&&(Fe=!!ye.leading,Le="maxWait"in ye,we=Le?nativeMax(toNumber(ye.maxWait)||0,he):we,De="trailing"in ye?!!ye.trailing:De);function je(dt){var At=ve,Pt=_e;return ve=_e=void 0,ke=dt,Pe=oe.apply(Pt,At),Pe}function ze(dt){return ke=dt,Ie=setTimeout(et,he),Fe?je(dt):Pe}function qe(dt){var At=dt-Re,Pt=dt-ke,Ut=he-At;return Le?nativeMin(Ut,we-Pt):Ut}function We(dt){var At=dt-Re,Pt=dt-ke;return Re===void 0||At>=he||At<0||Le&&Pt>=we}function et(){var dt=now();if(We(dt))return rt(dt);Ie=setTimeout(et,qe(dt))}function rt(dt){return Ie=void 0,De&&ve?je(dt):(ve=_e=void 0,Pe)}function it(){Ie!==void 0&&clearTimeout(Ie),ke=0,ve=Re=_e=Ie=void 0}function ht(){return Ie===void 0?Pe:rt(now())}function lt(){var dt=now(),At=We(dt);if(ve=arguments,_e=this,Re=dt,At){if(Ie===void 0)return ze(Re);if(Le)return clearTimeout(Ie),Ie=setTimeout(et,he),je(Re)}return Ie===void 0&&(Ie=setTimeout(et,he)),Pe}return lt.cancel=it,lt.flush=ht,lt}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(oe,he,ye){var ve=!0,_e=!0;if(typeof oe!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(ye)&&(ve="leading"in ye?!!ye.leading:ve,_e="trailing"in ye?!!ye.trailing:_e),debounce(oe,he,{leading:ve,maxWait:he,trailing:_e})}var throttle_1=throttle;const Ye=getDefaultExportFromCjs(throttle_1);m(reactExports.createElement);var E=j("input",React.forwardRef)`
  background-color: #383c4a;
  color: #8c91a0;
  border: 1px rgba(0, 0, 0, 0.5) solid;
  border-radius: 4px;
  padding: 4px;
  padding-left: 8px;
  margin: 8px 0;

  &:focus {
    outline: none;
    border: 1px #8c91a0 solid;
  }
  ::selection {
    color: white;
    background: rgba(70, 89, 182, 0.9);
  }
`,h=j("button")`
  background-color: ${({active:oe})=>oe==="true"?"#8c91a0":"#383c4a"};
  color: ${({active:oe})=>oe==="true"?"#383c4a":"#8c91a0"};
  border: 1px rgba(0, 0, 0, 0.5) solid;
  border-radius: 4px;
  padding: 4px;
  cursor: pointer;

  &:hover {
    background-color: #8c91a0;
    color: #383c4a;
  }
`,Q=j("select")`
  width: 180px;
  background-color: #383c4a;
  color: #8c91a0;
  border: 1px rgba(0, 0, 0, 0.5) solid;
  border-radius: 4px;
  padding: 4px;
`,D=j("form")`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
`,$=j("div")`
  margin: 8px auto;
`,b=j("div")`
  color: white;
  font-weight: bold;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
`,A=j("div")`
  border-bottom: 1px #8c91a0 solid;
  padding: 8px;
`,I=j("div")`
  overflow: auto;
  background-color: rgba(27, 28, 32, 1);
  color: #8c91a0;
  height: 100%;
  pointer-events: all;
`,N=j("label")`
  cursor: ew-resize;
  user-select: none;
  color: #8c91a0;
`,R=j("p")`
  padding: 8px;
  font-size: 14px;
`,W=j("div")`
  height: ${({opened:oe})=>oe==="true"?"auto":"0px"};
  overflow: ${({opened:oe})=>oe==="true"?"initial":"hidden"};
`,M=j("div")`
  .shiki {
    background-color: #282a36;

    font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace;

    line-height: 1.5;
    tab-size: 4;
    hyphens: none;
    padding: 1em;
    margin: 0.5em 0px;
    overflow: auto;
    border-radius: 0.3em;
    overflow: auto;
    overflow-wrap: break-word;
    white-space: pre-wrap;
    text-shadow: rgba(0, 0, 0, 0.3) 0px 1px;
  }
`;function X({label:oe,value:he,setValue:ye,persistValue:ve}){let _e=reactExports.useMemo(()=>parseInt(he??"0"),[he]),[we,Pe]=reactExports.useState(_e),[Ie,Re]=reactExports.useState(0),ke=reactExports.useCallback(Fe=>{Re(Fe.clientX),Pe(_e)},[_e]);return reactExports.useEffect(()=>{function Fe(De){if(Ie){let je=Math.round((De.clientX-Ie)/25)+we;ye(je.toString())}}let Le=De=>{Ie&&(Re(0),ve(De,he?.toString()||null))};return document.addEventListener("mousemove",Fe),document.addEventListener("mouseup",Le),()=>{document.removeEventListener("mousemove",Fe),document.removeEventListener("mouseup",Le)}},[Ie,ye,we,he]),jsxRuntimeExports.jsx(N,{onMouseDown:ke,children:oe})}var G=({entity:oe,component:he,componentValue:ye,valueProp:ve,layers:_e,setContractComponentValue:we})=>{let[Pe,Ie]=reactExports.useState(ye[ve]?.toString());reactExports.useEffect(()=>{let Fe=ye[ve]?.toString();Ie(Fe)},[ye,ve]);let Re=reactExports.useMemo(()=>{let Fe=he.schema[ve];return Se(Fe)?"number":ge$2(Fe)?"select":"text"},[he,ve]),ke=reactExports.useCallback((Fe,Le)=>{Fe.preventDefault();let De=he.schema[ve];if(Le==null||Le===""){if(xe(De)){se$3(he,oe,{[ve]:void 0});return}let ze=de$1(he,oe);Ie(ze[ve]);return}let je;if(Se(De)?je=parseInt(Le):Te(De)?je=Le.split(","):De===P$9.Boolean?je=Le==="true":je=Le,we){let ze=de$1(he,oe);we(oe,he,{...ze,[ve]:je})}else se$3(he,oe,{[ve]:je})},[oe,he,ve,_e,Re]);return jsxRuntimeExports.jsxs(D,{onSubmit:Fe=>ke(Fe,Pe),children:[Se(he.schema[ve])?jsxRuntimeExports.jsx(X,{value:Pe,setValue:Ie,persistValue:ke,label:`${U(ve)}:`}):jsxRuntimeExports.jsxs("label",{style:{cursor:"pointer"},htmlFor:`value-${ve}`,children:[U(ve),":"]}),Re==="select"?jsxRuntimeExports.jsxs(Q,{value:Pe??"",onChange:Fe=>{Ie(Fe.target.value),ke(Fe,Fe.target.value)},children:[jsxRuntimeExports.jsx("option",{value:"",children:"None"}),[...Object.values(_e)[0].world.getEntities()].map(Fe=>jsxRuntimeExports.jsx("option",{value:Fe,children:Fe},Fe))]}):jsxRuntimeExports.jsx(E,{id:`value-${ve}`,name:`value-${ve}`,type:Re,value:Pe??"",onFocus:Fe=>Fe.target.select(),onChange:Fe=>{Ie(Fe.target.value)},onBlur:Fe=>ke(Fe,Pe)})]})},K=({entity:oe,component:he,componentValue:ye,layers:ve,setContractComponentValue:_e})=>jsxRuntimeExports.jsx("div",{children:Object.keys(ye).map(we=>jsxRuntimeExports.jsx(G,{entity:oe,component:he,componentValue:ye,valueProp:we,layers:ve,setContractComponentValue:_e},`value-editor-${we}-${oe}`))});function Y(oe){return oe.metadata?.contractId!==void 0}var ee=({entity:oe,component:he,layers:ye,setContractComponentValue:ve})=>{let _e=H(he,oe);return _e?jsxRuntimeExports.jsxs($,{children:[jsxRuntimeExports.jsxs(b,{children:[he.metadata?.componentName??he.id,jsxRuntimeExports.jsx(h,{onClick:()=>{ue$3(he,oe),ve&&Y(he)&&ve(oe,he,{})},children:"Remove"})]}),jsxRuntimeExports.jsx(K,{entity:oe,component:he,componentValue:_e,layers:ye,setContractComponentValue:ve})]}):null};function Ne(oe){return oe.replace(/0{10,}/g,"...")}var ne=observer(({entityId:oe,layers:he,setContractComponentValue:ye,devHighlightComponent:ve,world:_e,clearDevHighlights:we})=>{let[Pe,Ie]=reactExports.useState(!1),[Re,ke]=reactExports.useState([]);return reactExports.useEffect(()=>{if(Pe){let Fe=lodashExports.flatten(Object.values(he).map(Le=>Object.values(Le.components))).filter(Le=>le$2(Le,oe));ke(Fe)}},[Pe,_e,oe,ke]),jsxRuntimeExports.jsxs(A,{onMouseEnter:()=>{we(),E$7(ve,oe,{value:void 0})},onMouseLeave:()=>we(),children:[jsxRuntimeExports.jsxs("div",{onClick:()=>Ie(!Pe),style:{cursor:"pointer"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[jsxRuntimeExports.jsxs("h3",{style:{color:"white"},children:["Entity ",lodashExports.truncate(Ne(oe))]}),jsxRuntimeExports.jsx(h,{onClick:Fe=>{Fe.stopPropagation(),navigator.clipboard.writeText(oe)},children:"Click to copy Entity ID"})]}),jsxRuntimeExports.jsx(h,{onClick:()=>Ie(!Pe),children:Pe?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:""}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:""})})]}),jsxRuntimeExports.jsx(W,{"aria-hidden":Pe?"false":"true",opened:String(Pe),children:[...Re.values()].filter(Fe=>Fe.id!==ve.id).map(Fe=>jsxRuntimeExports.jsx(ee,{entity:oe,component:Fe,layers:he,setContractComponentValue:ye},`component-editor-${oe}-${Fe.id}`))})]})}),ie=j("form")`
  padding: 8px;
  border-bottom: 2px grey solid;
  margin-bottom: 8px;
  width: 100%;
`,se=j("div")`
  flex: "row wrap";
  margin-top: "8px";
  height: 100px;
  overflow: auto;
`;function le(oe){let he=te([Ye$1(oe)]);return reactExports.useCallback(()=>{if(he)for(let ye of he)ue$3(oe,ye)},[he])}function me(oe,he){let[ye,ve]=reactExports.useState(),[_e,we]=reactExports.useState();return reactExports.useEffect(()=>{async function Pe(){try{let Ie=await __vitePreload(()=>import("./index.esm-ec897bea.js"),["assets/index.esm-ec897bea.js","assets/index-f634db56.js","assets/react-60d820b0.js","assets/phaser-f1ffc97e.js","assets/index-cd7bbac4.css"]);Ie.setCDN("https://unpkg.com/shiki/");let Re=await Ie.getHighlighter({theme:"dracula-soft",langs:[he]});ve(Re.codeToHtml(oe,{lang:he})),we(Re.codeToThemedTokens(oe,he))}catch(Ie){console.error(Ie)}}Pe()},[oe]),{html:ye,tokens:_e}}var ue=({code:oe})=>{let{html:he}=me(oe,"js");return he?jsxRuntimeExports.jsx(M,{dangerouslySetInnerHTML:{__html:he}}):jsxRuntimeExports.jsx(M,{children:jsxRuntimeExports.jsx("pre",{className:"shiki"})})},de=({allEntities,setFilteredEntities,layers,devHighlightComponent,clearDevHighlights,setOverflow})=>{let queryInputRef=reactExports.useRef(null),[componentFilters,setComponentFilters]=reactExports.useState([]),[isManuallyEditing,setIsManuallyEditing]=reactExports.useState(!0),[entityQueryText,setEntityQueryText]=reactExports.useState(""),[errorMessage,setErrorMessage]=reactExports.useState(""),allComponents=Je(Object.values(layers).map(oe=>Object.values(oe.components))),resetFilteredEntities=reactExports.useCallback(()=>{setFilteredEntities([]),setComponentFilters([]),setErrorMessage("")},[setFilteredEntities,setErrorMessage,allEntities]);reactExports.useEffect(()=>{if(isManuallyEditing)return;let oe=`[${componentFilters.map(he=>`Has(${he.metadata?.componentName??he.id})`).join(",")}]`;setEntityQueryText(oe)},[componentFilters,isManuallyEditing]);let editQuery=reactExports.useCallback(oe=>{setIsManuallyEditing(!0),setEntityQueryText(oe),setComponentFilters([])},[]),cancelObserver=reactExports.useRef(()=>{});reactExports.useEffect(()=>()=>{cancelObserver.current&&cancelObserver.current()},[]);let executeFilter=reactExports.useCallback(e=>{if(e.preventDefault(),setErrorMessage(""),!entityQueryText){resetFilteredEntities();return}let q={...recs},c=Object.values(layers).reduce((oe,he)=>{for(let[ye,ve]of Object.entries(he.components))oe[ye]=ve;return oe},{});try{let assignQueryVars=Object.keys(q).map(oe=>`const ${oe} = q["${oe}"]; `).join(""),assignComponentVars=Object.keys(c).map(oe=>`const ${oe} = c["${oe}"]; `).join(""),evalString=`
        (() => {
          ${assignQueryVars}
          ${assignComponentVars}
          return (${entityQueryText});
        })()
        `,queryArray=eval(evalString);if(!queryArray||queryArray.length===0||!Array.isArray(queryArray))throw resetFilteredEntities(),new Error("Invalid query");cancelObserver.current();let queryResult=f$8(queryArray,{runOnInit:!0}),subscription=queryResult.update$.subscribe(),selectEntities=Ye(()=>{let oe=[...queryResult.matching].slice(0,1e3);setOverflow(queryResult.matching.size-oe.length),setFilteredEntities(oe),clearDevHighlights(),oe.forEach(he=>E$7(devHighlightComponent,he,{value:255}))},1e3,{leading:!0});selectEntities();let cancelObserve=observe$1(queryResult.matching,selectEntities);cancelObserver.current=()=>{cancelObserve(),selectEntities.cancel(),subscription?.unsubscribe()}}catch(oe){setErrorMessage(oe.message),console.error(oe)}},[entityQueryText,setEntityQueryText,setFilteredEntities,resetFilteredEntities,setErrorMessage,allEntities]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(ie,{onSubmit:executeFilter,children:[jsxRuntimeExports.jsx(ue,{code:entityQueryText}),errorMessage&&jsxRuntimeExports.jsx(ue,{code:`Error: ${errorMessage}`}),jsxRuntimeExports.jsx("label",{style:{cursor:"pointer"},htmlFor:"query-input",children:jsxRuntimeExports.jsx("h3",{children:"Filter Entities"})}),jsxRuntimeExports.jsx(E,{id:"query-input",ref:queryInputRef,placeholder:"No filter applied",style:{width:"100%",color:"white"},type:"text",value:entityQueryText,onChange:oe=>{errorMessage&&setErrorMessage(""),editQuery(oe.target.value)},onFocus:oe=>oe.target.select()})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"8px",paddingTop:0,borderBottom:"2px grey solid"},children:[jsxRuntimeExports.jsx("h3",{children:"Filter by Component"}),jsxRuntimeExports.jsx(se,{style:{margin:"8px auto"},children:lodashExports.uniqBy(Ke(allComponents,oe=>oe.id),"id").filter(oe=>!oe.id.includes("-")).map(oe=>{let he=componentFilters.includes(oe);return jsxRuntimeExports.jsxs(h,{active:String(he),onClick:()=>{setIsManuallyEditing(!1),queryInputRef.current?.focus(),setComponentFilters(he?ye=>ye.filter(ve=>ve!==oe):ye=>[...ye,oe])},children:["Has(",oe.metadata?.componentName??oe.id,")"]},`filter-toggle-${oe.id}`)})})]})]})},ot=observer(({layers:oe,setContractComponentValue:he,world:ye,devHighlightComponent:ve})=>{let[_e,we]=reactExports.useState([]),[Pe,Ie]=reactExports.useState(0),Re=le(ve);return jsxRuntimeExports.jsxs(I,{children:[jsxRuntimeExports.jsx(de,{devHighlightComponent:ve,allEntities:[...ye.getEntities()],setFilteredEntities:we,layers:oe,world:ye,clearDevHighlights:Re,setOverflow:Ie}),jsxRuntimeExports.jsxs("div",{className:"p-2",children:[jsxRuntimeExports.jsx(b,{children:"Entity Select"}),jsxRuntimeExports.jsx(E,{className:"w-full",type:"text",onChange:ke=>we([ke.target.value])})]}),jsxRuntimeExports.jsxs(R,{children:["Showing ",_e.length," of ",_e.length+Pe," entities"]}),_e.map(ke=>jsxRuntimeExports.jsx(ne,{world:ye,entityId:ke,layers:oe,setContractComponentValue:he,devHighlightComponent:ve,clearDevHighlights:Re},`entity-editor-${ke}`))]})});export{$r as $,A$4 as A,BehaviorSubject as B,createWalletClient as C,numberToHex as D,SwitchChainError as E,custom as F,createPublicClient as G,fallback as H,http as I,webSocket as J,ContractFunctionExecutionError as K,hexToString as L,trim as M,Ne$1 as N,formatUnits as O,P$9 as P,weiUnits as Q,ReplaySubject as R,Subject as S,__rest as T,UserRejectedRequestError as U,__spreadArray$3 as V,__vitePreload as W,shareReplay as X,Yr as Y,concatMap as Z,__assign$2 as _,pipe as a,V$5 as a$,w as a0,TransactionReceiptNotFoundError as a1,firstValueFrom as a2,E$3 as a3,w$1 as a4,Dr as a5,Oe as a6,ge as a7,v$2 as a8,share$1 as a9,ft as aA,Ge as aB,a$1 as aC,le$2 as aD,I$3 as aE,at as aF,lodashExports as aG,ce as aH,X$2 as aI,yt as aJ,ue$3 as aK,pt as aL,interval as aM,f$8 as aN,f$1 as aO,K$5 as aP,Ke$2 as aQ,x$4 as aR,Tt as aS,mt$1 as aT,xt as aU,jsxRuntimeExports as aV,ut$1 as aW,zipWith as aX,of as aY,delay as aZ,find$1 as a_,toAccount as aa,g$6 as ab,A$2 as ac,Je$1 as ad,Ye$1 as ae,ue$4 as af,E$7 as ag,se$3 as ah,de$1 as ai,lodash as aj,getTransaction as ak,formatEther as al,_$3 as am,k$4 as an,concatHex as ao,encodePacked as ap,size$1 as aq,padHex as ar,N$3 as as,hexToBool as at,hexToBigInt as au,a$2 as av,sliceHex as aw,isHex as ax,hexToNumber$1 as ay,stringToHex as az,mergeMap as b,debug as b0,createTRPCProxyClient as b1,httpBatchLink as b2,parseEther as b3,H as b4,te as b5,X$3 as b6,k$3 as b7,lr as b8,U$4 as b9,EventEmitter as bA,M$3 as bB,concat$1 as bC,ae as bD,decodeFunctionData as bE,maxInt32 as bF,isAddress as bG,__awaiter as bH,__generator as bI,__spread as bJ,y as bK,pe$1 as bL,ot as ba,se$1 as bb,encodeFunctionData as bc,maxUint256 as bd,P$1 as be,i$1 as bf,recs as bg,sha512 as bh,sha256 as bi,hmac as bj,pbkdf2 as bk,keccak_256 as bl,ripemd160 as bm,asyncLoop as bn,checkOpts as bo,number as bp,u32 as bq,secp256k1 as br,hmac$1 as bs,pbkdf2$1 as bt,sha256$1 as bu,sha512$1 as bv,sha3 as bw,ripemd160$1 as bx,secp256k1$1 as by,PQueue as bz,observable$2 as c,fromEvent as d,filter as e,from as f,merge as g,bufferCount as h,pairwise as i,distinctUntilChanged as j,computed as k,reaction as l,map as m,ie$2 as n,observe$1 as o,p$8 as p,ft$1 as q,runInAction as r,scan as s,throttleTime as t,ur as u,m$2 as v,te$2 as w,defineChain as x,getAddress as y,ResourceUnavailableRpcError as z};
//# sourceMappingURL=mud-3b4b7775.js.map
