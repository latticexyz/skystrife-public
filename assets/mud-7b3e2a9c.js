import{r as reactExports,c as commonjsGlobal,g as getDefaultExportFromCjs,R as React,a as reactDomExports}from"./react-60d820b0.js";var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$8=reactExports,k$4=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$3=f$8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$9={key:!0,ref:!0,__self:!0,__source:!0};function q$5(oe,he,ye){var ve,_e={},we=null,Pe=null;ye!==void 0&&(we=""+ye),he.key!==void 0&&(we=""+he.key),he.ref!==void 0&&(Pe=he.ref);for(ve in he)m$5.call(he,ve)&&!p$9.hasOwnProperty(ve)&&(_e[ve]=he[ve]);if(oe&&oe.defaultProps)for(ve in he=oe.defaultProps,he)_e[ve]===void 0&&(_e[ve]=he[ve]);return{$$typeof:k$4,type:oe,key:we,ref:Pe,props:_e,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$5;reactJsxRuntime_production_min.jsxs=q$5;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;function die(oe){for(var he=arguments.length,ye=new Array(he>1?he-1:0),ve=1;ve<he;ve++)ye[ve-1]=arguments[ve];throw new Error(typeof oe=="number"?"[MobX] minified error nr: "+oe+(ye.length?" "+ye.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+oe)}var mockGlobal={};function getGlobal(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:mockGlobal}var assign=Object.assign,getDescriptor=Object.getOwnPropertyDescriptor,defineProperty=Object.defineProperty,objectPrototype=Object.prototype,EMPTY_ARRAY=[];Object.freeze(EMPTY_ARRAY);var EMPTY_OBJECT={};Object.freeze(EMPTY_OBJECT);var hasProxy=typeof Proxy<"u",plainObjectString=Object.toString();function assertProxies(){hasProxy||die("Proxy not available")}function once(oe){var he=!1;return function(){if(!he)return he=!0,oe.apply(this,arguments)}}var noop$2=function(){};function isFunction$5(oe){return typeof oe=="function"}function isStringish(oe){var he=typeof oe;switch(he){case"string":case"symbol":case"number":return!0}return!1}function isObject$8(oe){return oe!==null&&typeof oe=="object"}function isPlainObject$2(oe){if(!isObject$8(oe))return!1;var he=Object.getPrototypeOf(oe);if(he==null)return!0;var ye=Object.hasOwnProperty.call(he,"constructor")&&he.constructor;return typeof ye=="function"&&ye.toString()===plainObjectString}function isGenerator(oe){var he=oe?.constructor;return he?he.name==="GeneratorFunction"||he.displayName==="GeneratorFunction":!1}function addHiddenProp(oe,he,ye){defineProperty(oe,he,{enumerable:!1,writable:!0,configurable:!0,value:ye})}function addHiddenFinalProp(oe,he,ye){defineProperty(oe,he,{enumerable:!1,writable:!1,configurable:!0,value:ye})}function createInstanceofPredicate(oe,he){var ye="isMobX"+oe;return he.prototype[ye]=!0,function(ve){return isObject$8(ve)&&ve[ye]===!0}}function isES6Map(oe){return oe instanceof Map}function isES6Set(oe){return oe instanceof Set}var hasGetOwnPropertySymbols=typeof Object.getOwnPropertySymbols<"u";function getPlainObjectKeys(oe){var he=Object.keys(oe);if(!hasGetOwnPropertySymbols)return he;var ye=Object.getOwnPropertySymbols(oe);return ye.length?[].concat(he,ye.filter(function(ve){return objectPrototype.propertyIsEnumerable.call(oe,ve)})):he}var ownKeys=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:hasGetOwnPropertySymbols?function(oe){return Object.getOwnPropertyNames(oe).concat(Object.getOwnPropertySymbols(oe))}:Object.getOwnPropertyNames;function toPrimitive(oe){return oe===null?null:typeof oe=="object"?""+oe:oe}function hasProp(oe,he){return objectPrototype.hasOwnProperty.call(oe,he)}var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function(he){var ye={};return ownKeys(he).forEach(function(ve){ye[ve]=getDescriptor(he,ve)}),ye};function _defineProperties(oe,he){for(var ye=0;ye<he.length;ye++){var ve=he[ye];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(oe,_toPropertyKey(ve.key),ve)}}function _createClass(oe,he,ye){return he&&_defineProperties(oe.prototype,he),ye&&_defineProperties(oe,ye),Object.defineProperty(oe,"prototype",{writable:!1}),oe}function _extends(){return _extends=Object.assign?Object.assign.bind():function(oe){for(var he=1;he<arguments.length;he++){var ye=arguments[he];for(var ve in ye)Object.prototype.hasOwnProperty.call(ye,ve)&&(oe[ve]=ye[ve])}return oe},_extends.apply(this,arguments)}function _inheritsLoose(oe,he){oe.prototype=Object.create(he.prototype),oe.prototype.constructor=oe,_setPrototypeOf(oe,he)}function _setPrototypeOf(oe,he){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ve,_e){return ve.__proto__=_e,ve},_setPrototypeOf(oe,he)}function _assertThisInitialized(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function _unsupportedIterableToArray(oe,he){if(oe){if(typeof oe=="string")return _arrayLikeToArray(oe,he);var ye=Object.prototype.toString.call(oe).slice(8,-1);if(ye==="Object"&&oe.constructor&&(ye=oe.constructor.name),ye==="Map"||ye==="Set")return Array.from(oe);if(ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye))return _arrayLikeToArray(oe,he)}}function _arrayLikeToArray(oe,he){(he==null||he>oe.length)&&(he=oe.length);for(var ye=0,ve=new Array(he);ye<he;ye++)ve[ye]=oe[ye];return ve}function _createForOfIteratorHelperLoose(oe,he){var ye=typeof Symbol<"u"&&oe[Symbol.iterator]||oe["@@iterator"];if(ye)return(ye=ye.call(oe)).next.bind(ye);if(Array.isArray(oe)||(ye=_unsupportedIterableToArray(oe))||he&&oe&&typeof oe.length=="number"){ye&&(oe=ye);var ve=0;return function(){return ve>=oe.length?{done:!0}:{done:!1,value:oe[ve++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(oe,he){if(typeof oe!="object"||oe===null)return oe;var ye=oe[Symbol.toPrimitive];if(ye!==void 0){var ve=ye.call(oe,he||"default");if(typeof ve!="object")return ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return(he==="string"?String:Number)(oe)}function _toPropertyKey(oe){var he=_toPrimitive(oe,"string");return typeof he=="symbol"?he:String(he)}var storedAnnotationsSymbol=Symbol("mobx-stored-annotations");function createDecoratorAnnotation(oe){function he(ye,ve){storeAnnotation(ye,ve,oe)}return Object.assign(he,oe)}function storeAnnotation(oe,he,ye){hasProp(oe,storedAnnotationsSymbol)||addHiddenProp(oe,storedAnnotationsSymbol,_extends({},oe[storedAnnotationsSymbol])),isOverride(ye)||(oe[storedAnnotationsSymbol][he]=ye)}function collectStoredAnnotations(oe){return hasProp(oe,storedAnnotationsSymbol)||addHiddenProp(oe,storedAnnotationsSymbol,_extends({},oe[storedAnnotationsSymbol])),oe[storedAnnotationsSymbol]}var $mobx=Symbol("mobx administration"),Atom=function(){function oe(ye){ye===void 0&&(ye="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.batchId_=void 0,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=ye,this.batchId_=globalState.inBatch?globalState.batchId:NaN}var he=oe.prototype;return he.onBO=function(){this.onBOL&&this.onBOL.forEach(function(ve){return ve()})},he.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(ve){return ve()})},he.reportObserved=function(){return reportObserved(this)},he.reportChanged=function(){(!globalState.inBatch||this.batchId_!==globalState.batchId)&&(globalState.stateVersion=globalState.stateVersion<Number.MAX_SAFE_INTEGER?globalState.stateVersion+1:Number.MIN_SAFE_INTEGER,this.batchId_=NaN),startBatch(),propagateChanged(this),endBatch()},he.toString=function(){return this.name_},oe}(),isAtom=createInstanceofPredicate("Atom",Atom);function createAtom(oe,he,ye){he===void 0&&(he=noop$2),ye===void 0&&(ye=noop$2);var ve=new Atom(oe);return he!==noop$2&&onBecomeObserved(ve,he),ye!==noop$2&&onBecomeUnobserved(ve,ye),ve}function identityComparer(oe,he){return oe===he}function structuralComparer(oe,he){return deepEqual(oe,he)}function shallowComparer(oe,he){return deepEqual(oe,he,1)}function defaultComparer(oe,he){return Object.is?Object.is(oe,he):oe===he?oe!==0||1/oe===1/he:oe!==oe&&he!==he}var comparer={identity:identityComparer,structural:structuralComparer,default:defaultComparer,shallow:shallowComparer};function deepEnhancer(oe,he,ye){return isObservable(oe)?oe:Array.isArray(oe)?observable$2.array(oe,{name:ye}):isPlainObject$2(oe)?observable$2.object(oe,void 0,{name:ye}):isES6Map(oe)?observable$2.map(oe,{name:ye}):isES6Set(oe)?observable$2.set(oe,{name:ye}):typeof oe=="function"&&!isAction(oe)&&!isFlow(oe)?isGenerator(oe)?flow(oe):autoAction(ye,oe):oe}function shallowEnhancer(oe,he,ye){if(oe==null||isObservableObject(oe)||isObservableArray(oe)||isObservableMap(oe)||isObservableSet(oe))return oe;if(Array.isArray(oe))return observable$2.array(oe,{name:ye,deep:!1});if(isPlainObject$2(oe))return observable$2.object(oe,void 0,{name:ye,deep:!1});if(isES6Map(oe))return observable$2.map(oe,{name:ye,deep:!1});if(isES6Set(oe))return observable$2.set(oe,{name:ye,deep:!1})}function referenceEnhancer(oe){return oe}function refStructEnhancer(oe,he){return deepEqual(oe,he)?he:oe}var OVERRIDE="override";function isOverride(oe){return oe.annotationType_===OVERRIDE}function createActionAnnotation(oe,he){return{annotationType_:oe,options_:he,make_:make_$1,extend_:extend_$1}}function make_$1(oe,he,ye,ve){var _e;if((_e=this.options_)!=null&&_e.bound)return this.extend_(oe,he,ye,!1)===null?0:1;if(ve===oe.target_)return this.extend_(oe,he,ye,!1)===null?0:2;if(isAction(ye.value))return 1;var we=createActionDescriptor(oe,this,he,ye,!1);return defineProperty(ve,he,we),2}function extend_$1(oe,he,ye,ve){var _e=createActionDescriptor(oe,this,he,ye);return oe.defineProperty_(he,_e,ve)}function assertActionDescriptor(oe,he,ye,ve){he.annotationType_,ve.value}function createActionDescriptor(oe,he,ye,ve,_e){var we,Pe,Ie,Re,ke,Fe,Me;_e===void 0&&(_e=globalState.safeDescriptors),assertActionDescriptor(oe,he,ye,ve);var je=ve.value;if((we=he.options_)!=null&&we.bound){var ze;je=je.bind((ze=oe.proxy_)!=null?ze:oe.target_)}return{value:createAction((Pe=(Ie=he.options_)==null?void 0:Ie.name)!=null?Pe:ye.toString(),je,(Re=(ke=he.options_)==null?void 0:ke.autoAction)!=null?Re:!1,(Fe=he.options_)!=null&&Fe.bound?(Me=oe.proxy_)!=null?Me:oe.target_:void 0),configurable:_e?oe.isPlainObject_:!0,enumerable:!1,writable:!_e}}function createFlowAnnotation(oe,he){return{annotationType_:oe,options_:he,make_:make_$2,extend_:extend_$2}}function make_$2(oe,he,ye,ve){var _e;if(ve===oe.target_)return this.extend_(oe,he,ye,!1)===null?0:2;if((_e=this.options_)!=null&&_e.bound&&(!hasProp(oe.target_,he)||!isFlow(oe.target_[he]))&&this.extend_(oe,he,ye,!1)===null)return 0;if(isFlow(ye.value))return 1;var we=createFlowDescriptor(oe,this,he,ye,!1,!1);return defineProperty(ve,he,we),2}function extend_$2(oe,he,ye,ve){var _e,we=createFlowDescriptor(oe,this,he,ye,(_e=this.options_)==null?void 0:_e.bound);return oe.defineProperty_(he,we,ve)}function assertFlowDescriptor(oe,he,ye,ve){he.annotationType_,ve.value}function createFlowDescriptor(oe,he,ye,ve,_e,we){we===void 0&&(we=globalState.safeDescriptors),assertFlowDescriptor(oe,he,ye,ve);var Pe=ve.value;if(isFlow(Pe)||(Pe=flow(Pe)),_e){var Ie;Pe=Pe.bind((Ie=oe.proxy_)!=null?Ie:oe.target_),Pe.isMobXFlow=!0}return{value:Pe,configurable:we?oe.isPlainObject_:!0,enumerable:!1,writable:!we}}function createComputedAnnotation(oe,he){return{annotationType_:oe,options_:he,make_:make_$3,extend_:extend_$3}}function make_$3(oe,he,ye){return this.extend_(oe,he,ye,!1)===null?0:1}function extend_$3(oe,he,ye,ve){return assertComputedDescriptor(oe,this,he,ye),oe.defineComputedProperty_(he,_extends({},this.options_,{get:ye.get,set:ye.set}),ve)}function assertComputedDescriptor(oe,he,ye,ve){he.annotationType_,ve.get}function createObservableAnnotation(oe,he){return{annotationType_:oe,options_:he,make_:make_$4,extend_:extend_$4}}function make_$4(oe,he,ye){return this.extend_(oe,he,ye,!1)===null?0:1}function extend_$4(oe,he,ye,ve){var _e,we;return assertObservableDescriptor(oe,this),oe.defineObservableProperty_(he,ye.value,(_e=(we=this.options_)==null?void 0:we.enhancer)!=null?_e:deepEnhancer,ve)}function assertObservableDescriptor(oe,he,ye,ve){he.annotationType_}var AUTO="true",autoAnnotation=createAutoAnnotation();function createAutoAnnotation(oe){return{annotationType_:AUTO,options_:oe,make_:make_$5,extend_:extend_$5}}function make_$5(oe,he,ye,ve){var _e,we;if(ye.get)return computed.make_(oe,he,ye,ve);if(ye.set){var Pe=createAction(he.toString(),ye.set);return ve===oe.target_?oe.defineProperty_(he,{configurable:globalState.safeDescriptors?oe.isPlainObject_:!0,set:Pe})===null?0:2:(defineProperty(ve,he,{configurable:!0,set:Pe}),2)}if(ve!==oe.target_&&typeof ye.value=="function"){var Ie;if(isGenerator(ye.value)){var Re,ke=(Re=this.options_)!=null&&Re.autoBind?flow.bound:flow;return ke.make_(oe,he,ye,ve)}var Fe=(Ie=this.options_)!=null&&Ie.autoBind?autoAction.bound:autoAction;return Fe.make_(oe,he,ye,ve)}var Me=((_e=this.options_)==null?void 0:_e.deep)===!1?observable$2.ref:observable$2;if(typeof ye.value=="function"&&(we=this.options_)!=null&&we.autoBind){var je;ye.value=ye.value.bind((je=oe.proxy_)!=null?je:oe.target_)}return Me.make_(oe,he,ye,ve)}function extend_$5(oe,he,ye,ve){var _e,we;if(ye.get)return computed.extend_(oe,he,ye,ve);if(ye.set)return oe.defineProperty_(he,{configurable:globalState.safeDescriptors?oe.isPlainObject_:!0,set:createAction(he.toString(),ye.set)},ve);if(typeof ye.value=="function"&&(_e=this.options_)!=null&&_e.autoBind){var Pe;ye.value=ye.value.bind((Pe=oe.proxy_)!=null?Pe:oe.target_)}var Ie=((we=this.options_)==null?void 0:we.deep)===!1?observable$2.ref:observable$2;return Ie.extend_(oe,he,ye,ve)}var OBSERVABLE="observable",OBSERVABLE_REF="observable.ref",OBSERVABLE_SHALLOW="observable.shallow",OBSERVABLE_STRUCT="observable.struct",defaultCreateObservableOptions={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(defaultCreateObservableOptions);function asCreateObservableOptions(oe){return oe||defaultCreateObservableOptions}var observableAnnotation=createObservableAnnotation(OBSERVABLE),observableRefAnnotation=createObservableAnnotation(OBSERVABLE_REF,{enhancer:referenceEnhancer}),observableShallowAnnotation=createObservableAnnotation(OBSERVABLE_SHALLOW,{enhancer:shallowEnhancer}),observableStructAnnotation=createObservableAnnotation(OBSERVABLE_STRUCT,{enhancer:refStructEnhancer}),observableDecoratorAnnotation=createDecoratorAnnotation(observableAnnotation);function getEnhancerFromOptions(oe){return oe.deep===!0?deepEnhancer:oe.deep===!1?referenceEnhancer:getEnhancerFromAnnotation(oe.defaultDecorator)}function getAnnotationFromOptions(oe){var he;return oe?(he=oe.defaultDecorator)!=null?he:createAutoAnnotation(oe):void 0}function getEnhancerFromAnnotation(oe){var he,ye;return oe&&(he=(ye=oe.options_)==null?void 0:ye.enhancer)!=null?he:deepEnhancer}function createObservable(oe,he,ye){if(isStringish(he)){storeAnnotation(oe,he,observableAnnotation);return}return isObservable(oe)?oe:isPlainObject$2(oe)?observable$2.object(oe,he,ye):Array.isArray(oe)?observable$2.array(oe,he):isES6Map(oe)?observable$2.map(oe,he):isES6Set(oe)?observable$2.set(oe,he):typeof oe=="object"&&oe!==null?oe:observable$2.box(oe,he)}assign(createObservable,observableDecoratorAnnotation);var observableFactories={box:function(he,ye){var ve=asCreateObservableOptions(ye);return new ObservableValue(he,getEnhancerFromOptions(ve),ve.name,!0,ve.equals)},array:function(he,ye){var ve=asCreateObservableOptions(ye);return(globalState.useProxies===!1||ve.proxy===!1?createLegacyArray:createObservableArray)(he,getEnhancerFromOptions(ve),ve.name)},map:function(he,ye){var ve=asCreateObservableOptions(ye);return new ObservableMap(he,getEnhancerFromOptions(ve),ve.name)},set:function(he,ye){var ve=asCreateObservableOptions(ye);return new ObservableSet(he,getEnhancerFromOptions(ve),ve.name)},object:function(he,ye,ve){return initObservable(function(){return extendObservable(globalState.useProxies===!1||ve?.proxy===!1?asObservableObject({},ve):asDynamicObservableObject({},ve),he,ye)})},ref:createDecoratorAnnotation(observableRefAnnotation),shallow:createDecoratorAnnotation(observableShallowAnnotation),deep:observableDecoratorAnnotation,struct:createDecoratorAnnotation(observableStructAnnotation)},observable$2=assign(createObservable,observableFactories),COMPUTED="computed",COMPUTED_STRUCT="computed.struct",computedAnnotation=createComputedAnnotation(COMPUTED),computedStructAnnotation=createComputedAnnotation(COMPUTED_STRUCT,{equals:comparer.structural}),computed=function(he,ye){if(isStringish(ye))return storeAnnotation(he,ye,computedAnnotation);if(isPlainObject$2(he))return createDecoratorAnnotation(createComputedAnnotation(COMPUTED,he));var ve=isPlainObject$2(ye)?ye:{};return ve.get=he,ve.name||(ve.name=he.name||""),new ComputedValue(ve)};Object.assign(computed,computedAnnotation);computed.struct=createDecoratorAnnotation(computedStructAnnotation);var _getDescriptor$config,_getDescriptor,currentActionId=0,nextActionId=1,isFunctionNameConfigurable=(_getDescriptor$config=(_getDescriptor=getDescriptor(function(){},"name"))==null?void 0:_getDescriptor.configurable)!=null?_getDescriptor$config:!1,tmpNameDescriptor={value:"action",configurable:!0,writable:!1,enumerable:!1};function createAction(oe,he,ye,ve){ye===void 0&&(ye=!1);function _e(){return executeAction(oe,ye,he,ve||this,arguments)}return _e.isMobxAction=!0,isFunctionNameConfigurable&&(tmpNameDescriptor.value=oe,defineProperty(_e,"name",tmpNameDescriptor)),_e}function executeAction(oe,he,ye,ve,_e){var we=_startAction(oe,he);try{return ye.apply(ve,_e)}catch(Pe){throw we.error_=Pe,Pe}finally{_endAction(we)}}function _startAction(oe,he,ye,ve){var _e=!1,we=0,Pe=globalState.trackingDerivation,Ie=!he||!Pe;startBatch();var Re=globalState.allowStateChanges;Ie&&(untrackedStart(),Re=allowStateChangesStart(!0));var ke=allowStateReadsStart(!0),Fe={runAsAction_:Ie,prevDerivation_:Pe,prevAllowStateChanges_:Re,prevAllowStateReads_:ke,notifySpy_:_e,startTime_:we,actionId_:nextActionId++,parentActionId_:currentActionId};return currentActionId=Fe.actionId_,Fe}function _endAction(oe){currentActionId!==oe.actionId_&&die(30),currentActionId=oe.parentActionId_,oe.error_!==void 0&&(globalState.suppressReactionErrors=!0),allowStateChangesEnd(oe.prevAllowStateChanges_),allowStateReadsEnd(oe.prevAllowStateReads_),endBatch(),oe.runAsAction_&&untrackedEnd(oe.prevDerivation_),globalState.suppressReactionErrors=!1}function allowStateChanges(oe,he){var ye=allowStateChangesStart(oe);try{return he()}finally{allowStateChangesEnd(ye)}}function allowStateChangesStart(oe){var he=globalState.allowStateChanges;return globalState.allowStateChanges=oe,he}function allowStateChangesEnd(oe){globalState.allowStateChanges=oe}var _Symbol$toPrimitive;_Symbol$toPrimitive=Symbol.toPrimitive;var ObservableValue=function(oe){_inheritsLoose(he,oe);function he(ve,_e,we,Pe,Ie){var Re;return we===void 0&&(we="ObservableValue"),Ie===void 0&&(Ie=comparer.default),Re=oe.call(this,we)||this,Re.enhancer=void 0,Re.name_=void 0,Re.equals=void 0,Re.hasUnreportedChange_=!1,Re.interceptors_=void 0,Re.changeListeners_=void 0,Re.value_=void 0,Re.dehancer=void 0,Re.enhancer=_e,Re.name_=we,Re.equals=Ie,Re.value_=_e(ve,void 0,we),Re}var ye=he.prototype;return ye.dehanceValue=function(_e){return this.dehancer!==void 0?this.dehancer(_e):_e},ye.set=function(_e){this.value_,_e=this.prepareNewValue_(_e),_e!==globalState.UNCHANGED&&this.setNewValue_(_e)},ye.prepareNewValue_=function(_e){if(hasInterceptors(this)){var we=interceptChange(this,{object:this,type:UPDATE,newValue:_e});if(!we)return globalState.UNCHANGED;_e=we.newValue}return _e=this.enhancer(_e,this.value_,this.name_),this.equals(this.value_,_e)?globalState.UNCHANGED:_e},ye.setNewValue_=function(_e){var we=this.value_;this.value_=_e,this.reportChanged(),hasListeners(this)&&notifyListeners(this,{type:UPDATE,object:this,newValue:_e,oldValue:we})},ye.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},ye.intercept_=function(_e){return registerInterceptor(this,_e)},ye.observe_=function(_e,we){return we&&_e({observableKind:"value",debugObjectName:this.name_,object:this,type:UPDATE,newValue:this.value_,oldValue:void 0}),registerListener(this,_e)},ye.raw=function(){return this.value_},ye.toJSON=function(){return this.get()},ye.toString=function(){return this.name_+"["+this.value_+"]"},ye.valueOf=function(){return toPrimitive(this.get())},ye[_Symbol$toPrimitive]=function(){return this.valueOf()},he}(Atom),_Symbol$toPrimitive$1;_Symbol$toPrimitive$1=Symbol.toPrimitive;var ComputedValue=function(){function oe(ye){this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new CaughtException(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=TraceMode.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,ye.get||die(31),this.derivation=ye.get,this.name_=ye.name||"ComputedValue",ye.set&&(this.setter_=createAction("ComputedValue-setter",ye.set)),this.equals_=ye.equals||(ye.compareStructural||ye.struct?comparer.structural:comparer.default),this.scope_=ye.context,this.requiresReaction_=ye.requiresReaction,this.keepAlive_=!!ye.keepAlive}var he=oe.prototype;return he.onBecomeStale_=function(){propagateMaybeChanged(this)},he.onBO=function(){this.onBOL&&this.onBOL.forEach(function(ve){return ve()})},he.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(ve){return ve()})},he.get=function(){if(this.isComputing_&&die(32,this.name_,this.derivation),globalState.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)shouldCompute(this)&&(this.warnAboutUntrackedRead_(),startBatch(),this.value_=this.computeValue_(!1),endBatch());else if(reportObserved(this),shouldCompute(this)){var ve=globalState.trackingContext;this.keepAlive_&&!ve&&(globalState.trackingContext=this),this.trackAndCompute()&&propagateChangeConfirmed(this),globalState.trackingContext=ve}var _e=this.value_;if(isCaughtException(_e))throw _e.cause;return _e},he.set=function(ve){if(this.setter_){this.isRunningSetter_&&die(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,ve)}finally{this.isRunningSetter_=!1}}else die(34,this.name_)},he.trackAndCompute=function(){var ve=this.value_,_e=this.dependenciesState_===IDerivationState_.NOT_TRACKING_,we=this.computeValue_(!0),Pe=_e||isCaughtException(ve)||isCaughtException(we)||!this.equals_(ve,we);return Pe&&(this.value_=we),Pe},he.computeValue_=function(ve){this.isComputing_=!0;var _e=allowStateChangesStart(!1),we;if(ve)we=trackDerivedFunction(this,this.derivation,this.scope_);else if(globalState.disableErrorBoundaries===!0)we=this.derivation.call(this.scope_);else try{we=this.derivation.call(this.scope_)}catch(Pe){we=new CaughtException(Pe)}return allowStateChangesEnd(_e),this.isComputing_=!1,we},he.suspend_=function(){this.keepAlive_||(clearObserving(this),this.value_=void 0)},he.observe_=function(ve,_e){var we=this,Pe=!0,Ie=void 0;return autorun(function(){var Re=we.get();if(!Pe||_e){var ke=untrackedStart();ve({observableKind:"computed",debugObjectName:we.name_,type:UPDATE,object:we,newValue:Re,oldValue:Ie}),untrackedEnd(ke)}Pe=!1,Ie=Re})},he.warnAboutUntrackedRead_=function(){},he.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},he.valueOf=function(){return toPrimitive(this.get())},he[_Symbol$toPrimitive$1]=function(){return this.valueOf()},oe}(),isComputedValue=createInstanceofPredicate("ComputedValue",ComputedValue),IDerivationState_;(function(oe){oe[oe.NOT_TRACKING_=-1]="NOT_TRACKING_",oe[oe.UP_TO_DATE_=0]="UP_TO_DATE_",oe[oe.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",oe[oe.STALE_=2]="STALE_"})(IDerivationState_||(IDerivationState_={}));var TraceMode;(function(oe){oe[oe.NONE=0]="NONE",oe[oe.LOG=1]="LOG",oe[oe.BREAK=2]="BREAK"})(TraceMode||(TraceMode={}));var CaughtException=function(he){this.cause=void 0,this.cause=he};function isCaughtException(oe){return oe instanceof CaughtException}function shouldCompute(oe){switch(oe.dependenciesState_){case IDerivationState_.UP_TO_DATE_:return!1;case IDerivationState_.NOT_TRACKING_:case IDerivationState_.STALE_:return!0;case IDerivationState_.POSSIBLY_STALE_:{for(var he=allowStateReadsStart(!0),ye=untrackedStart(),ve=oe.observing_,_e=ve.length,we=0;we<_e;we++){var Pe=ve[we];if(isComputedValue(Pe)){if(globalState.disableErrorBoundaries)Pe.get();else try{Pe.get()}catch{return untrackedEnd(ye),allowStateReadsEnd(he),!0}if(oe.dependenciesState_===IDerivationState_.STALE_)return untrackedEnd(ye),allowStateReadsEnd(he),!0}}return changeDependenciesStateTo0(oe),untrackedEnd(ye),allowStateReadsEnd(he),!1}}}function checkIfStateModificationsAreAllowed(oe){}function trackDerivedFunction(oe,he,ye){var ve=allowStateReadsStart(!0);changeDependenciesStateTo0(oe),oe.newObserving_=new Array(oe.observing_.length+100),oe.unboundDepsCount_=0,oe.runId_=++globalState.runId;var _e=globalState.trackingDerivation;globalState.trackingDerivation=oe,globalState.inBatch++;var we;if(globalState.disableErrorBoundaries===!0)we=he.call(ye);else try{we=he.call(ye)}catch(Pe){we=new CaughtException(Pe)}return globalState.inBatch--,globalState.trackingDerivation=_e,bindDependencies(oe),allowStateReadsEnd(ve),we}function bindDependencies(oe){for(var he=oe.observing_,ye=oe.observing_=oe.newObserving_,ve=IDerivationState_.UP_TO_DATE_,_e=0,we=oe.unboundDepsCount_,Pe=0;Pe<we;Pe++){var Ie=ye[Pe];Ie.diffValue_===0&&(Ie.diffValue_=1,_e!==Pe&&(ye[_e]=Ie),_e++),Ie.dependenciesState_>ve&&(ve=Ie.dependenciesState_)}for(ye.length=_e,oe.newObserving_=null,we=he.length;we--;){var Re=he[we];Re.diffValue_===0&&removeObserver(Re,oe),Re.diffValue_=0}for(;_e--;){var ke=ye[_e];ke.diffValue_===1&&(ke.diffValue_=0,addObserver(ke,oe))}ve!==IDerivationState_.UP_TO_DATE_&&(oe.dependenciesState_=ve,oe.onBecomeStale_())}function clearObserving(oe){var he=oe.observing_;oe.observing_=[];for(var ye=he.length;ye--;)removeObserver(he[ye],oe);oe.dependenciesState_=IDerivationState_.NOT_TRACKING_}function untracked(oe){var he=untrackedStart();try{return oe()}finally{untrackedEnd(he)}}function untrackedStart(){var oe=globalState.trackingDerivation;return globalState.trackingDerivation=null,oe}function untrackedEnd(oe){globalState.trackingDerivation=oe}function allowStateReadsStart(oe){var he=globalState.allowStateReads;return globalState.allowStateReads=oe,he}function allowStateReadsEnd(oe){globalState.allowStateReads=oe}function changeDependenciesStateTo0(oe){if(oe.dependenciesState_!==IDerivationState_.UP_TO_DATE_){oe.dependenciesState_=IDerivationState_.UP_TO_DATE_;for(var he=oe.observing_,ye=he.length;ye--;)he[ye].lowestObserverState_=IDerivationState_.UP_TO_DATE_}}var MobXGlobals=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.batchId=Number.MIN_SAFE_INTEGER,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},canMergeGlobalState=!0,isolateCalled=!1,globalState=function(){return globalThis.__mobxInstanceCount>0&&!globalThis.__mobxGlobals&&(canMergeGlobalState=!1),globalThis.__mobxGlobals&&globalThis.__mobxGlobals.version!==new MobXGlobals().version&&(canMergeGlobalState=!1),canMergeGlobalState?globalThis.__mobxGlobals?(globalThis.__mobxInstanceCount+=1,globalThis.__mobxGlobals.UNCHANGED||(globalThis.__mobxGlobals.UNCHANGED={}),globalThis.__mobxGlobals):(globalThis.__mobxInstanceCount=1,globalThis.__mobxGlobals=new MobXGlobals):(setTimeout(function(){isolateCalled||die(35)},1),new MobXGlobals)}();function isolateGlobalState(){(globalState.pendingReactions.length||globalState.inBatch||globalState.isRunningReactions)&&die(36),isolateCalled=!0,canMergeGlobalState&&(--globalThis.__mobxInstanceCount===0&&(globalThis.__mobxGlobals=void 0),globalState=new MobXGlobals)}function addObserver(oe,he){oe.observers_.add(he),oe.lowestObserverState_>he.dependenciesState_&&(oe.lowestObserverState_=he.dependenciesState_)}function removeObserver(oe,he){oe.observers_.delete(he),oe.observers_.size===0&&queueForUnobservation(oe)}function queueForUnobservation(oe){oe.isPendingUnobservation_===!1&&(oe.isPendingUnobservation_=!0,globalState.pendingUnobservations.push(oe))}function startBatch(){globalState.inBatch===0&&(globalState.batchId=globalState.batchId<Number.MAX_SAFE_INTEGER?globalState.batchId+1:Number.MIN_SAFE_INTEGER),globalState.inBatch++}function endBatch(){if(--globalState.inBatch===0){runReactions();for(var oe=globalState.pendingUnobservations,he=0;he<oe.length;he++){var ye=oe[he];ye.isPendingUnobservation_=!1,ye.observers_.size===0&&(ye.isBeingObserved_&&(ye.isBeingObserved_=!1,ye.onBUO()),ye instanceof ComputedValue&&ye.suspend_())}globalState.pendingUnobservations=[]}}function reportObserved(oe){var he=globalState.trackingDerivation;return he!==null?(he.runId_!==oe.lastAccessedBy_&&(oe.lastAccessedBy_=he.runId_,he.newObserving_[he.unboundDepsCount_++]=oe,!oe.isBeingObserved_&&globalState.trackingContext&&(oe.isBeingObserved_=!0,oe.onBO())),oe.isBeingObserved_):(oe.observers_.size===0&&globalState.inBatch>0&&queueForUnobservation(oe),!1)}function propagateChanged(oe){oe.lowestObserverState_!==IDerivationState_.STALE_&&(oe.lowestObserverState_=IDerivationState_.STALE_,oe.observers_.forEach(function(he){he.dependenciesState_===IDerivationState_.UP_TO_DATE_&&he.onBecomeStale_(),he.dependenciesState_=IDerivationState_.STALE_}))}function propagateChangeConfirmed(oe){oe.lowestObserverState_!==IDerivationState_.STALE_&&(oe.lowestObserverState_=IDerivationState_.STALE_,oe.observers_.forEach(function(he){he.dependenciesState_===IDerivationState_.POSSIBLY_STALE_?he.dependenciesState_=IDerivationState_.STALE_:he.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(oe.lowestObserverState_=IDerivationState_.UP_TO_DATE_)}))}function propagateMaybeChanged(oe){oe.lowestObserverState_===IDerivationState_.UP_TO_DATE_&&(oe.lowestObserverState_=IDerivationState_.POSSIBLY_STALE_,oe.observers_.forEach(function(he){he.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(he.dependenciesState_=IDerivationState_.POSSIBLY_STALE_,he.onBecomeStale_())}))}var Reaction=function(){function oe(ye,ve,_e,we){ye===void 0&&(ye="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=TraceMode.NONE,this.name_=ye,this.onInvalidate_=ve,this.errorHandler_=_e,this.requiresObservable_=we}var he=oe.prototype;return he.onBecomeStale_=function(){this.schedule_()},he.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,globalState.pendingReactions.push(this),runReactions())},he.isScheduled=function(){return this.isScheduled_},he.runReaction_=function(){if(!this.isDisposed_){startBatch(),this.isScheduled_=!1;var ve=globalState.trackingContext;if(globalState.trackingContext=this,shouldCompute(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(_e){this.reportExceptionInDerivation_(_e)}}globalState.trackingContext=ve,endBatch()}},he.track=function(ve){if(!this.isDisposed_){startBatch(),this.isRunning_=!0;var _e=globalState.trackingContext;globalState.trackingContext=this;var we=trackDerivedFunction(this,ve,void 0);globalState.trackingContext=_e,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&clearObserving(this),isCaughtException(we)&&this.reportExceptionInDerivation_(we.cause),endBatch()}},he.reportExceptionInDerivation_=function(ve){var _e=this;if(this.errorHandler_){this.errorHandler_(ve,this);return}if(globalState.disableErrorBoundaries)throw ve;var we="[mobx] uncaught error in '"+this+"'";globalState.suppressReactionErrors||console.error(we,ve),globalState.globalReactionErrorHandlers.forEach(function(Pe){return Pe(ve,_e)})},he.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(startBatch(),clearObserving(this),endBatch()))},he.getDisposer_=function(ve){var _e=this,we=function Pe(){_e.dispose(),ve==null||ve.removeEventListener==null||ve.removeEventListener("abort",Pe)};return ve==null||ve.addEventListener==null||ve.addEventListener("abort",we),we[$mobx]=this,we},he.toString=function(){return"Reaction["+this.name_+"]"},he.trace=function(ve){},oe}(),MAX_REACTION_ITERATIONS=100,reactionScheduler=function(he){return he()};function runReactions(){globalState.inBatch>0||globalState.isRunningReactions||reactionScheduler(runReactionsHelper)}function runReactionsHelper(){globalState.isRunningReactions=!0;for(var oe=globalState.pendingReactions,he=0;oe.length>0;){++he===MAX_REACTION_ITERATIONS&&(console.error("[mobx] cycle in reaction: "+oe[0]),oe.splice(0));for(var ye=oe.splice(0),ve=0,_e=ye.length;ve<_e;ve++)ye[ve].runReaction_()}globalState.isRunningReactions=!1}var isReaction=createInstanceofPredicate("Reaction",Reaction);function setReactionScheduler(oe){var he=reactionScheduler;reactionScheduler=function(ve){return oe(function(){return he(ve)})}}function isSpyEnabled(){return!1}function spyReport(oe){}function spyReportStart(oe){}function spyReportEnd(oe){}function spy(oe){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ACTION="action",ACTION_BOUND="action.bound",AUTOACTION="autoAction",AUTOACTION_BOUND="autoAction.bound",DEFAULT_ACTION_NAME="<unnamed action>",actionAnnotation=createActionAnnotation(ACTION),actionBoundAnnotation=createActionAnnotation(ACTION_BOUND,{bound:!0}),autoActionAnnotation=createActionAnnotation(AUTOACTION,{autoAction:!0}),autoActionBoundAnnotation=createActionAnnotation(AUTOACTION_BOUND,{autoAction:!0,bound:!0});function createActionFactory(oe){var he=function(ve,_e){if(isFunction$5(ve))return createAction(ve.name||DEFAULT_ACTION_NAME,ve,oe);if(isFunction$5(_e))return createAction(ve,_e,oe);if(isStringish(_e))return storeAnnotation(ve,_e,oe?autoActionAnnotation:actionAnnotation);if(isStringish(ve))return createDecoratorAnnotation(createActionAnnotation(oe?AUTOACTION:ACTION,{name:ve,autoAction:oe}))};return he}var action=createActionFactory(!1);Object.assign(action,actionAnnotation);var autoAction=createActionFactory(!0);Object.assign(autoAction,autoActionAnnotation);action.bound=createDecoratorAnnotation(actionBoundAnnotation);autoAction.bound=createDecoratorAnnotation(autoActionBoundAnnotation);function runInAction(oe){return executeAction(oe.name||DEFAULT_ACTION_NAME,!1,oe,this,void 0)}function isAction(oe){return isFunction$5(oe)&&oe.isMobxAction===!0}function autorun(oe,he){var ye,ve,_e,we,Pe;he===void 0&&(he=EMPTY_OBJECT);var Ie=(ye=(ve=he)==null?void 0:ve.name)!=null?ye:"Autorun",Re=!he.scheduler&&!he.delay,ke;if(Re)ke=new Reaction(Ie,function(){this.track(je)},he.onError,he.requiresObservable);else{var Fe=createSchedulerFromOptions(he),Me=!1;ke=new Reaction(Ie,function(){Me||(Me=!0,Fe(function(){Me=!1,ke.isDisposed_||ke.track(je)}))},he.onError,he.requiresObservable)}function je(){oe(ke)}return(_e=he)!=null&&(we=_e.signal)!=null&&we.aborted||ke.schedule_(),ke.getDisposer_((Pe=he)==null?void 0:Pe.signal)}var run=function(he){return he()};function createSchedulerFromOptions(oe){return oe.scheduler?oe.scheduler:oe.delay?function(he){return setTimeout(he,oe.delay)}:run}function reaction(oe,he,ye){var ve,_e,we,Pe;ye===void 0&&(ye=EMPTY_OBJECT);var Ie=(ve=ye.name)!=null?ve:"Reaction",Re=action(Ie,ye.onError?wrapErrorHandler(ye.onError,he):he),ke=!ye.scheduler&&!ye.delay,Fe=createSchedulerFromOptions(ye),Me=!0,je=!1,ze,He,Ve=ye.compareStructural?comparer.structural:ye.equals||comparer.default,Qe=new Reaction(Ie,function(){Me||ke?tt():je||(je=!0,Fe(tt))},ye.onError,ye.requiresObservable);function tt(){if(je=!1,!Qe.isDisposed_){var nt=!1;Qe.track(function(){var ct=allowStateChanges(!1,function(){return oe(Qe)});nt=Me||!Ve(ze,ct),He=ze,ze=ct}),(Me&&ye.fireImmediately||!Me&&nt)&&Re(ze,He,Qe),Me=!1}}return(_e=ye)!=null&&(we=_e.signal)!=null&&we.aborted||Qe.schedule_(),Qe.getDisposer_((Pe=ye)==null?void 0:Pe.signal)}function wrapErrorHandler(oe,he){return function(){try{return he.apply(this,arguments)}catch(ye){oe.call(this,ye)}}}var ON_BECOME_OBSERVED="onBO",ON_BECOME_UNOBSERVED="onBUO";function onBecomeObserved(oe,he,ye){return interceptHook(ON_BECOME_OBSERVED,oe,he,ye)}function onBecomeUnobserved(oe,he,ye){return interceptHook(ON_BECOME_UNOBSERVED,oe,he,ye)}function interceptHook(oe,he,ye,ve){var _e=typeof ve=="function"?getAtom(he,ye):getAtom(he),we=isFunction$5(ve)?ve:ye,Pe=oe+"L";return _e[Pe]?_e[Pe].add(we):_e[Pe]=new Set([we]),function(){var Ie=_e[Pe];Ie&&(Ie.delete(we),Ie.size===0&&delete _e[Pe])}}var NEVER$1="never",ALWAYS="always",OBSERVED="observed";function configure(oe){oe.isolateGlobalState===!0&&isolateGlobalState();var he=oe.useProxies,ye=oe.enforceActions;if(he!==void 0&&(globalState.useProxies=he===ALWAYS?!0:he===NEVER$1?!1:typeof Proxy<"u"),he==="ifavailable"&&(globalState.verifyProxies=!0),ye!==void 0){var ve=ye===ALWAYS?ALWAYS:ye===OBSERVED;globalState.enforceActions=ve,globalState.allowStateChanges=!(ve===!0||ve===ALWAYS)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(_e){_e in oe&&(globalState[_e]=!!oe[_e])}),globalState.allowStateReads=!globalState.observableRequiresReaction,oe.reactionScheduler&&setReactionScheduler(oe.reactionScheduler)}function extendObservable(oe,he,ye,ve){var _e=getOwnPropertyDescriptors(he);return initObservable(function(){var we=asObservableObject(oe,ve)[$mobx];ownKeys(_e).forEach(function(Pe){we.extend_(Pe,_e[Pe],ye&&Pe in ye?ye[Pe]:!0)})}),oe}function getDependencyTree(oe,he){return nodeToDependencyTree(getAtom(oe,he))}function nodeToDependencyTree(oe){var he={name:oe.name_};return oe.observing_&&oe.observing_.length>0&&(he.dependencies=unique(oe.observing_).map(nodeToDependencyTree)),he}function unique(oe){return Array.from(new Set(oe))}var generatorId=0;function FlowCancellationError(){this.message="FLOW_CANCELLED"}FlowCancellationError.prototype=Object.create(Error.prototype);var flowAnnotation=createFlowAnnotation("flow"),flowBoundAnnotation=createFlowAnnotation("flow.bound",{bound:!0}),flow=Object.assign(function(he,ye){if(isStringish(ye))return storeAnnotation(he,ye,flowAnnotation);var ve=he,_e=ve.name||"<unnamed flow>",we=function(){var Ie=this,Re=arguments,ke=++generatorId,Fe=action(_e+" - runid: "+ke+" - init",ve).apply(Ie,Re),Me,je=void 0,ze=new Promise(function(He,Ve){var Qe=0;Me=Ve;function tt(vt){je=void 0;var ht;try{ht=action(_e+" - runid: "+ke+" - yield "+Qe++,Fe.next).call(Fe,vt)}catch(lt){return Ve(lt)}ct(ht)}function nt(vt){je=void 0;var ht;try{ht=action(_e+" - runid: "+ke+" - yield "+Qe++,Fe.throw).call(Fe,vt)}catch(lt){return Ve(lt)}ct(ht)}function ct(vt){if(isFunction$5(vt?.then)){vt.then(ct,Ve);return}return vt.done?He(vt.value):(je=Promise.resolve(vt.value),je.then(tt,nt))}tt(void 0)});return ze.cancel=action(_e+" - runid: "+ke+" - cancel",function(){try{je&&cancelPromise(je);var He=Fe.return(void 0),Ve=Promise.resolve(He.value);Ve.then(noop$2,noop$2),cancelPromise(Ve),Me(new FlowCancellationError)}catch(Qe){Me(Qe)}}),ze};return we.isMobXFlow=!0,we},flowAnnotation);flow.bound=createDecoratorAnnotation(flowBoundAnnotation);function cancelPromise(oe){isFunction$5(oe.cancel)&&oe.cancel()}function isFlow(oe){return oe?.isMobXFlow===!0}function _isObservable(oe,he){return oe?he!==void 0?isObservableObject(oe)?oe[$mobx].values_.has(he):!1:isObservableObject(oe)||!!oe[$mobx]||isAtom(oe)||isReaction(oe)||isComputedValue(oe):!1}function isObservable(oe){return _isObservable(oe)}function observe$1(oe,he,ye,ve){return isFunction$5(ye)?observeObservableProperty(oe,he,ye,ve):observeObservable(oe,he,ye)}function observeObservable(oe,he,ye){return getAdministration(oe).observe_(he,ye)}function observeObservableProperty(oe,he,ye,ve){return getAdministration(oe,he).observe_(ye,ve)}function transaction(oe,he){he===void 0&&(he=void 0),startBatch();try{return oe.apply(he)}finally{endBatch()}}function getAdm(oe){return oe[$mobx]}var objectProxyTraps={has:function(he,ye){return getAdm(he).has_(ye)},get:function(he,ye){return getAdm(he).get_(ye)},set:function(he,ye,ve){var _e;return isStringish(ye)?(_e=getAdm(he).set_(ye,ve,!0))!=null?_e:!0:!1},deleteProperty:function(he,ye){var ve;return isStringish(ye)?(ve=getAdm(he).delete_(ye,!0))!=null?ve:!0:!1},defineProperty:function(he,ye,ve){var _e;return(_e=getAdm(he).defineProperty_(ye,ve))!=null?_e:!0},ownKeys:function(he){return getAdm(he).ownKeys_()},preventExtensions:function(he){die(13)}};function asDynamicObservableObject(oe,he){var ye,ve;return assertProxies(),oe=asObservableObject(oe,he),(ve=(ye=oe[$mobx]).proxy_)!=null?ve:ye.proxy_=new Proxy(oe,objectProxyTraps)}function hasInterceptors(oe){return oe.interceptors_!==void 0&&oe.interceptors_.length>0}function registerInterceptor(oe,he){var ye=oe.interceptors_||(oe.interceptors_=[]);return ye.push(he),once(function(){var ve=ye.indexOf(he);ve!==-1&&ye.splice(ve,1)})}function interceptChange(oe,he){var ye=untrackedStart();try{for(var ve=[].concat(oe.interceptors_||[]),_e=0,we=ve.length;_e<we&&(he=ve[_e](he),he&&!he.type&&die(14),!!he);_e++);return he}finally{untrackedEnd(ye)}}function hasListeners(oe){return oe.changeListeners_!==void 0&&oe.changeListeners_.length>0}function registerListener(oe,he){var ye=oe.changeListeners_||(oe.changeListeners_=[]);return ye.push(he),once(function(){var ve=ye.indexOf(he);ve!==-1&&ye.splice(ve,1)})}function notifyListeners(oe,he){var ye=untrackedStart(),ve=oe.changeListeners_;if(ve){ve=ve.slice();for(var _e=0,we=ve.length;_e<we;_e++)ve[_e](he);untrackedEnd(ye)}}function makeObservable(oe,he,ye){return initObservable(function(){var ve,_e=asObservableObject(oe,ye)[$mobx];(ve=he)!=null||(he=collectStoredAnnotations(oe)),ownKeys(he).forEach(function(we){return _e.make_(we,he[we])})}),oe}var SPLICE="splice",UPDATE="update",MAX_SPLICE_SIZE=1e4,arrayTraps={get:function(he,ye){var ve=he[$mobx];return ye===$mobx?ve:ye==="length"?ve.getArrayLength_():typeof ye=="string"&&!isNaN(ye)?ve.get_(parseInt(ye)):hasProp(arrayExtensions,ye)?arrayExtensions[ye]:he[ye]},set:function(he,ye,ve){var _e=he[$mobx];return ye==="length"&&_e.setArrayLength_(ve),typeof ye=="symbol"||isNaN(ye)?he[ye]=ve:_e.set_(parseInt(ye),ve),!0},preventExtensions:function(){die(15)}},ObservableArrayAdministration=function(){function oe(ye,ve,_e,we){ye===void 0&&(ye="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=_e,this.legacyMode_=we,this.atom_=new Atom(ye),this.enhancer_=function(Pe,Ie){return ve(Pe,Ie,"ObservableArray[..]")}}var he=oe.prototype;return he.dehanceValue_=function(ve){return this.dehancer!==void 0?this.dehancer(ve):ve},he.dehanceValues_=function(ve){return this.dehancer!==void 0&&ve.length>0?ve.map(this.dehancer):ve},he.intercept_=function(ve){return registerInterceptor(this,ve)},he.observe_=function(ve,_e){return _e===void 0&&(_e=!1),_e&&ve({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),registerListener(this,ve)},he.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},he.setArrayLength_=function(ve){(typeof ve!="number"||isNaN(ve)||ve<0)&&die("Out of range: "+ve);var _e=this.values_.length;if(ve!==_e)if(ve>_e){for(var we=new Array(ve-_e),Pe=0;Pe<ve-_e;Pe++)we[Pe]=void 0;this.spliceWithArray_(_e,0,we)}else this.spliceWithArray_(ve,_e-ve)},he.updateArrayLength_=function(ve,_e){ve!==this.lastKnownLength_&&die(16),this.lastKnownLength_+=_e,this.legacyMode_&&_e>0&&reserveArrayBuffer(ve+_e+1)},he.spliceWithArray_=function(ve,_e,we){var Pe=this;this.atom_;var Ie=this.values_.length;if(ve===void 0?ve=0:ve>Ie?ve=Ie:ve<0&&(ve=Math.max(0,Ie+ve)),arguments.length===1?_e=Ie-ve:_e==null?_e=0:_e=Math.max(0,Math.min(_e,Ie-ve)),we===void 0&&(we=EMPTY_ARRAY),hasInterceptors(this)){var Re=interceptChange(this,{object:this.proxy_,type:SPLICE,index:ve,removedCount:_e,added:we});if(!Re)return EMPTY_ARRAY;_e=Re.removedCount,we=Re.added}if(we=we.length===0?we:we.map(function(Me){return Pe.enhancer_(Me,void 0)}),this.legacyMode_){var ke=we.length-_e;this.updateArrayLength_(Ie,ke)}var Fe=this.spliceItemsIntoValues_(ve,_e,we);return(_e!==0||we.length!==0)&&this.notifyArraySplice_(ve,we,Fe),this.dehanceValues_(Fe)},he.spliceItemsIntoValues_=function(ve,_e,we){if(we.length<MAX_SPLICE_SIZE){var Pe;return(Pe=this.values_).splice.apply(Pe,[ve,_e].concat(we))}else{var Ie=this.values_.slice(ve,ve+_e),Re=this.values_.slice(ve+_e);this.values_.length+=we.length-_e;for(var ke=0;ke<we.length;ke++)this.values_[ve+ke]=we[ke];for(var Fe=0;Fe<Re.length;Fe++)this.values_[ve+we.length+Fe]=Re[Fe];return Ie}},he.notifyArrayChildUpdate_=function(ve,_e,we){var Pe=!this.owned_&&isSpyEnabled(),Ie=hasListeners(this),Re=Ie||Pe?{observableKind:"array",object:this.proxy_,type:UPDATE,debugObjectName:this.atom_.name_,index:ve,newValue:_e,oldValue:we}:null;this.atom_.reportChanged(),Ie&&notifyListeners(this,Re)},he.notifyArraySplice_=function(ve,_e,we){var Pe=!this.owned_&&isSpyEnabled(),Ie=hasListeners(this),Re=Ie||Pe?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:SPLICE,index:ve,removed:we,added:_e,removedCount:we.length,addedCount:_e.length}:null;this.atom_.reportChanged(),Ie&&notifyListeners(this,Re)},he.get_=function(ve){if(this.legacyMode_&&ve>=this.values_.length){console.warn("[mobx] Out of bounds read: "+ve);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[ve])},he.set_=function(ve,_e){var we=this.values_;if(this.legacyMode_&&ve>we.length&&die(17,ve,we.length),ve<we.length){this.atom_;var Pe=we[ve];if(hasInterceptors(this)){var Ie=interceptChange(this,{type:UPDATE,object:this.proxy_,index:ve,newValue:_e});if(!Ie)return;_e=Ie.newValue}_e=this.enhancer_(_e,Pe);var Re=_e!==Pe;Re&&(we[ve]=_e,this.notifyArrayChildUpdate_(ve,_e,Pe))}else{for(var ke=new Array(ve+1-we.length),Fe=0;Fe<ke.length-1;Fe++)ke[Fe]=void 0;ke[ke.length-1]=_e,this.spliceWithArray_(we.length,0,ke)}},oe}();function createObservableArray(oe,he,ye,ve){return ye===void 0&&(ye="ObservableArray"),ve===void 0&&(ve=!1),assertProxies(),initObservable(function(){var _e=new ObservableArrayAdministration(ye,he,ve,!1);addHiddenFinalProp(_e.values_,$mobx,_e);var we=new Proxy(_e.values_,arrayTraps);return _e.proxy_=we,oe&&oe.length&&_e.spliceWithArray_(0,0,oe),we})}var arrayExtensions={clear:function(){return this.splice(0)},replace:function(he){var ye=this[$mobx];return ye.spliceWithArray_(0,ye.values_.length,he)},toJSON:function(){return this.slice()},splice:function(he,ye){for(var ve=arguments.length,_e=new Array(ve>2?ve-2:0),we=2;we<ve;we++)_e[we-2]=arguments[we];var Pe=this[$mobx];switch(arguments.length){case 0:return[];case 1:return Pe.spliceWithArray_(he);case 2:return Pe.spliceWithArray_(he,ye)}return Pe.spliceWithArray_(he,ye,_e)},spliceWithArray:function(he,ye,ve){return this[$mobx].spliceWithArray_(he,ye,ve)},push:function(){for(var he=this[$mobx],ye=arguments.length,ve=new Array(ye),_e=0;_e<ye;_e++)ve[_e]=arguments[_e];return he.spliceWithArray_(he.values_.length,0,ve),he.values_.length},pop:function(){return this.splice(Math.max(this[$mobx].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var he=this[$mobx],ye=arguments.length,ve=new Array(ye),_e=0;_e<ye;_e++)ve[_e]=arguments[_e];return he.spliceWithArray_(0,0,ve),he.values_.length},reverse:function(){return globalState.trackingDerivation&&die(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){globalState.trackingDerivation&&die(37,"sort");var he=this.slice();return he.sort.apply(he,arguments),this.replace(he),this},remove:function(he){var ye=this[$mobx],ve=ye.dehanceValues_(ye.values_).indexOf(he);return ve>-1?(this.splice(ve,1),!0):!1}};addArrayExtension("concat",simpleFunc);addArrayExtension("flat",simpleFunc);addArrayExtension("includes",simpleFunc);addArrayExtension("indexOf",simpleFunc);addArrayExtension("join",simpleFunc);addArrayExtension("lastIndexOf",simpleFunc);addArrayExtension("slice",simpleFunc);addArrayExtension("toString",simpleFunc);addArrayExtension("toLocaleString",simpleFunc);addArrayExtension("every",mapLikeFunc);addArrayExtension("filter",mapLikeFunc);addArrayExtension("find",mapLikeFunc);addArrayExtension("findIndex",mapLikeFunc);addArrayExtension("flatMap",mapLikeFunc);addArrayExtension("forEach",mapLikeFunc);addArrayExtension("map",mapLikeFunc);addArrayExtension("some",mapLikeFunc);addArrayExtension("reduce",reduceLikeFunc);addArrayExtension("reduceRight",reduceLikeFunc);function addArrayExtension(oe,he){typeof Array.prototype[oe]=="function"&&(arrayExtensions[oe]=he(oe))}function simpleFunc(oe){return function(){var he=this[$mobx];he.atom_.reportObserved();var ye=he.dehanceValues_(he.values_);return ye[oe].apply(ye,arguments)}}function mapLikeFunc(oe){return function(he,ye){var ve=this,_e=this[$mobx];_e.atom_.reportObserved();var we=_e.dehanceValues_(_e.values_);return we[oe](function(Pe,Ie){return he.call(ye,Pe,Ie,ve)})}}function reduceLikeFunc(oe){return function(){var he=this,ye=this[$mobx];ye.atom_.reportObserved();var ve=ye.dehanceValues_(ye.values_),_e=arguments[0];return arguments[0]=function(we,Pe,Ie){return _e(we,Pe,Ie,he)},ve[oe].apply(ve,arguments)}}var isObservableArrayAdministration=createInstanceofPredicate("ObservableArrayAdministration",ObservableArrayAdministration);function isObservableArray(oe){return isObject$8(oe)&&isObservableArrayAdministration(oe[$mobx])}var _Symbol$iterator,_Symbol$toStringTag,ObservableMapMarker={},ADD="add",DELETE="delete";_Symbol$iterator=Symbol.iterator;_Symbol$toStringTag=Symbol.toStringTag;var ObservableMap=function(){function oe(ye,ve,_e){var we=this;ve===void 0&&(ve=deepEnhancer),_e===void 0&&(_e="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[$mobx]=ObservableMapMarker,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=ve,this.name_=_e,isFunction$5(Map)||die(18),initObservable(function(){we.keysAtom_=createAtom("ObservableMap.keys()"),we.data_=new Map,we.hasMap_=new Map,ye&&we.merge(ye)})}var he=oe.prototype;return he.has_=function(ve){return this.data_.has(ve)},he.has=function(ve){var _e=this;if(!globalState.trackingDerivation)return this.has_(ve);var we=this.hasMap_.get(ve);if(!we){var Pe=we=new ObservableValue(this.has_(ve),referenceEnhancer,"ObservableMap.key?",!1);this.hasMap_.set(ve,Pe),onBecomeUnobserved(Pe,function(){return _e.hasMap_.delete(ve)})}return we.get()},he.set=function(ve,_e){var we=this.has_(ve);if(hasInterceptors(this)){var Pe=interceptChange(this,{type:we?UPDATE:ADD,object:this,newValue:_e,name:ve});if(!Pe)return this;_e=Pe.newValue}return we?this.updateValue_(ve,_e):this.addValue_(ve,_e),this},he.delete=function(ve){var _e=this;if(this.keysAtom_,hasInterceptors(this)){var we=interceptChange(this,{type:DELETE,object:this,name:ve});if(!we)return!1}if(this.has_(ve)){var Pe=isSpyEnabled(),Ie=hasListeners(this),Re=Ie||Pe?{observableKind:"map",debugObjectName:this.name_,type:DELETE,object:this,oldValue:this.data_.get(ve).value_,name:ve}:null;return transaction(function(){var ke;_e.keysAtom_.reportChanged(),(ke=_e.hasMap_.get(ve))==null||ke.setNewValue_(!1);var Fe=_e.data_.get(ve);Fe.setNewValue_(void 0),_e.data_.delete(ve)}),Ie&&notifyListeners(this,Re),!0}return!1},he.updateValue_=function(ve,_e){var we=this.data_.get(ve);if(_e=we.prepareNewValue_(_e),_e!==globalState.UNCHANGED){var Pe=isSpyEnabled(),Ie=hasListeners(this),Re=Ie||Pe?{observableKind:"map",debugObjectName:this.name_,type:UPDATE,object:this,oldValue:we.value_,name:ve,newValue:_e}:null;we.setNewValue_(_e),Ie&&notifyListeners(this,Re)}},he.addValue_=function(ve,_e){var we=this;this.keysAtom_,transaction(function(){var ke,Fe=new ObservableValue(_e,we.enhancer_,"ObservableMap.key",!1);we.data_.set(ve,Fe),_e=Fe.value_,(ke=we.hasMap_.get(ve))==null||ke.setNewValue_(!0),we.keysAtom_.reportChanged()});var Pe=isSpyEnabled(),Ie=hasListeners(this),Re=Ie||Pe?{observableKind:"map",debugObjectName:this.name_,type:ADD,object:this,name:ve,newValue:_e}:null;Ie&&notifyListeners(this,Re)},he.get=function(ve){return this.has(ve)?this.dehanceValue_(this.data_.get(ve).get()):this.dehanceValue_(void 0)},he.dehanceValue_=function(ve){return this.dehancer!==void 0?this.dehancer(ve):ve},he.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},he.values=function(){var ve=this,_e=this.keys();return makeIterable({next:function(){var Pe=_e.next(),Ie=Pe.done,Re=Pe.value;return{done:Ie,value:Ie?void 0:ve.get(Re)}}})},he.entries=function(){var ve=this,_e=this.keys();return makeIterable({next:function(){var Pe=_e.next(),Ie=Pe.done,Re=Pe.value;return{done:Ie,value:Ie?void 0:[Re,ve.get(Re)]}}})},he[_Symbol$iterator]=function(){return this.entries()},he.forEach=function(ve,_e){for(var we=_createForOfIteratorHelperLoose(this),Pe;!(Pe=we()).done;){var Ie=Pe.value,Re=Ie[0],ke=Ie[1];ve.call(_e,ke,Re,this)}},he.merge=function(ve){var _e=this;return isObservableMap(ve)&&(ve=new Map(ve)),transaction(function(){isPlainObject$2(ve)?getPlainObjectKeys(ve).forEach(function(we){return _e.set(we,ve[we])}):Array.isArray(ve)?ve.forEach(function(we){var Pe=we[0],Ie=we[1];return _e.set(Pe,Ie)}):isES6Map(ve)?(ve.constructor!==Map&&die(19,ve),ve.forEach(function(we,Pe){return _e.set(Pe,we)})):ve!=null&&die(20,ve)}),this},he.clear=function(){var ve=this;transaction(function(){untracked(function(){for(var _e=_createForOfIteratorHelperLoose(ve.keys()),we;!(we=_e()).done;){var Pe=we.value;ve.delete(Pe)}})})},he.replace=function(ve){var _e=this;return transaction(function(){for(var we=convertToMap(ve),Pe=new Map,Ie=!1,Re=_createForOfIteratorHelperLoose(_e.data_.keys()),ke;!(ke=Re()).done;){var Fe=ke.value;if(!we.has(Fe)){var Me=_e.delete(Fe);if(Me)Ie=!0;else{var je=_e.data_.get(Fe);Pe.set(Fe,je)}}}for(var ze=_createForOfIteratorHelperLoose(we.entries()),He;!(He=ze()).done;){var Ve=He.value,Qe=Ve[0],tt=Ve[1],nt=_e.data_.has(Qe);if(_e.set(Qe,tt),_e.data_.has(Qe)){var ct=_e.data_.get(Qe);Pe.set(Qe,ct),nt||(Ie=!0)}}if(!Ie)if(_e.data_.size!==Pe.size)_e.keysAtom_.reportChanged();else for(var vt=_e.data_.keys(),ht=Pe.keys(),lt=vt.next(),St=ht.next();!lt.done;){if(lt.value!==St.value){_e.keysAtom_.reportChanged();break}lt=vt.next(),St=ht.next()}_e.data_=Pe}),this},he.toString=function(){return"[object ObservableMap]"},he.toJSON=function(){return Array.from(this)},he.observe_=function(ve,_e){return registerListener(this,ve)},he.intercept_=function(ve){return registerInterceptor(this,ve)},_createClass(oe,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag,get:function(){return"Map"}}]),oe}(),isObservableMap=createInstanceofPredicate("ObservableMap",ObservableMap);function convertToMap(oe){if(isES6Map(oe)||isObservableMap(oe))return oe;if(Array.isArray(oe))return new Map(oe);if(isPlainObject$2(oe)){var he=new Map;for(var ye in oe)he.set(ye,oe[ye]);return he}else return die(21,oe)}var _Symbol$iterator$1,_Symbol$toStringTag$1,ObservableSetMarker={};_Symbol$iterator$1=Symbol.iterator;_Symbol$toStringTag$1=Symbol.toStringTag;var ObservableSet=function(){function oe(ye,ve,_e){var we=this;ve===void 0&&(ve=deepEnhancer),_e===void 0&&(_e="ObservableSet"),this.name_=void 0,this[$mobx]=ObservableSetMarker,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=_e,isFunction$5(Set)||die(22),this.enhancer_=function(Pe,Ie){return ve(Pe,Ie,_e)},initObservable(function(){we.atom_=createAtom(we.name_),ye&&we.replace(ye)})}var he=oe.prototype;return he.dehanceValue_=function(ve){return this.dehancer!==void 0?this.dehancer(ve):ve},he.clear=function(){var ve=this;transaction(function(){untracked(function(){for(var _e=_createForOfIteratorHelperLoose(ve.data_.values()),we;!(we=_e()).done;){var Pe=we.value;ve.delete(Pe)}})})},he.forEach=function(ve,_e){for(var we=_createForOfIteratorHelperLoose(this),Pe;!(Pe=we()).done;){var Ie=Pe.value;ve.call(_e,Ie,Ie,this)}},he.add=function(ve){var _e=this;if(this.atom_,hasInterceptors(this)){var we=interceptChange(this,{type:ADD,object:this,newValue:ve});if(!we)return this}if(!this.has(ve)){transaction(function(){_e.data_.add(_e.enhancer_(ve,void 0)),_e.atom_.reportChanged()});var Pe=!1,Ie=hasListeners(this),Re=Ie||Pe?{observableKind:"set",debugObjectName:this.name_,type:ADD,object:this,newValue:ve}:null;Ie&&notifyListeners(this,Re)}return this},he.delete=function(ve){var _e=this;if(hasInterceptors(this)){var we=interceptChange(this,{type:DELETE,object:this,oldValue:ve});if(!we)return!1}if(this.has(ve)){var Pe=!1,Ie=hasListeners(this),Re=Ie||Pe?{observableKind:"set",debugObjectName:this.name_,type:DELETE,object:this,oldValue:ve}:null;return transaction(function(){_e.atom_.reportChanged(),_e.data_.delete(ve)}),Ie&&notifyListeners(this,Re),!0}return!1},he.has=function(ve){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(ve))},he.entries=function(){var ve=0,_e=Array.from(this.keys()),we=Array.from(this.values());return makeIterable({next:function(){var Ie=ve;return ve+=1,Ie<we.length?{value:[_e[Ie],we[Ie]],done:!1}:{done:!0}}})},he.keys=function(){return this.values()},he.values=function(){this.atom_.reportObserved();var ve=this,_e=0,we=Array.from(this.data_.values());return makeIterable({next:function(){return _e<we.length?{value:ve.dehanceValue_(we[_e++]),done:!1}:{done:!0}}})},he.replace=function(ve){var _e=this;return isObservableSet(ve)&&(ve=new Set(ve)),transaction(function(){Array.isArray(ve)?(_e.clear(),ve.forEach(function(we){return _e.add(we)})):isES6Set(ve)?(_e.clear(),ve.forEach(function(we){return _e.add(we)})):ve!=null&&die("Cannot initialize set from "+ve)}),this},he.observe_=function(ve,_e){return registerListener(this,ve)},he.intercept_=function(ve){return registerInterceptor(this,ve)},he.toJSON=function(){return Array.from(this)},he.toString=function(){return"[object ObservableSet]"},he[_Symbol$iterator$1]=function(){return this.values()},_createClass(oe,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag$1,get:function(){return"Set"}}]),oe}(),isObservableSet=createInstanceofPredicate("ObservableSet",ObservableSet),descriptorCache=Object.create(null),REMOVE="remove",ObservableObjectAdministration=function(){function oe(ye,ve,_e,we){ve===void 0&&(ve=new Map),we===void 0&&(we=autoAnnotation),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=ye,this.values_=ve,this.name_=_e,this.defaultAnnotation_=we,this.keysAtom_=new Atom("ObservableObject.keys"),this.isPlainObject_=isPlainObject$2(this.target_)}var he=oe.prototype;return he.getObservablePropValue_=function(ve){return this.values_.get(ve).get()},he.setObservablePropValue_=function(ve,_e){var we=this.values_.get(ve);if(we instanceof ComputedValue)return we.set(_e),!0;if(hasInterceptors(this)){var Pe=interceptChange(this,{type:UPDATE,object:this.proxy_||this.target_,name:ve,newValue:_e});if(!Pe)return null;_e=Pe.newValue}if(_e=we.prepareNewValue_(_e),_e!==globalState.UNCHANGED){var Ie=hasListeners(this),Re=!1,ke=Ie||Re?{type:UPDATE,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:we.value_,name:ve,newValue:_e}:null;we.setNewValue_(_e),Ie&&notifyListeners(this,ke)}return!0},he.get_=function(ve){return globalState.trackingDerivation&&!hasProp(this.target_,ve)&&this.has_(ve),this.target_[ve]},he.set_=function(ve,_e,we){return we===void 0&&(we=!1),hasProp(this.target_,ve)?this.values_.has(ve)?this.setObservablePropValue_(ve,_e):we?Reflect.set(this.target_,ve,_e):(this.target_[ve]=_e,!0):this.extend_(ve,{value:_e,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,we)},he.has_=function(ve){if(!globalState.trackingDerivation)return ve in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var _e=this.pendingKeys_.get(ve);return _e||(_e=new ObservableValue(ve in this.target_,referenceEnhancer,"ObservableObject.key?",!1),this.pendingKeys_.set(ve,_e)),_e.get()},he.make_=function(ve,_e){if(_e===!0&&(_e=this.defaultAnnotation_),_e!==!1){if(!(ve in this.target_)){var we;if((we=this.target_[storedAnnotationsSymbol])!=null&&we[ve])return;die(1,_e.annotationType_,this.name_+"."+ve.toString())}for(var Pe=this.target_;Pe&&Pe!==objectPrototype;){var Ie=getDescriptor(Pe,ve);if(Ie){var Re=_e.make_(this,ve,Ie,Pe);if(Re===0)return;if(Re===1)break}Pe=Object.getPrototypeOf(Pe)}recordAnnotationApplied(this,_e,ve)}},he.extend_=function(ve,_e,we,Pe){if(Pe===void 0&&(Pe=!1),we===!0&&(we=this.defaultAnnotation_),we===!1)return this.defineProperty_(ve,_e,Pe);var Ie=we.extend_(this,ve,_e,Pe);return Ie&&recordAnnotationApplied(this,we,ve),Ie},he.defineProperty_=function(ve,_e,we){we===void 0&&(we=!1),this.keysAtom_;try{startBatch();var Pe=this.delete_(ve);if(!Pe)return Pe;if(hasInterceptors(this)){var Ie=interceptChange(this,{object:this.proxy_||this.target_,name:ve,type:ADD,newValue:_e.value});if(!Ie)return null;var Re=Ie.newValue;_e.value!==Re&&(_e=_extends({},_e,{value:Re}))}if(we){if(!Reflect.defineProperty(this.target_,ve,_e))return!1}else defineProperty(this.target_,ve,_e);this.notifyPropertyAddition_(ve,_e.value)}finally{endBatch()}return!0},he.defineObservableProperty_=function(ve,_e,we,Pe){Pe===void 0&&(Pe=!1),this.keysAtom_;try{startBatch();var Ie=this.delete_(ve);if(!Ie)return Ie;if(hasInterceptors(this)){var Re=interceptChange(this,{object:this.proxy_||this.target_,name:ve,type:ADD,newValue:_e});if(!Re)return null;_e=Re.newValue}var ke=getCachedObservablePropDescriptor(ve),Fe={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:ke.get,set:ke.set};if(Pe){if(!Reflect.defineProperty(this.target_,ve,Fe))return!1}else defineProperty(this.target_,ve,Fe);var Me=new ObservableValue(_e,we,"ObservableObject.key",!1);this.values_.set(ve,Me),this.notifyPropertyAddition_(ve,Me.value_)}finally{endBatch()}return!0},he.defineComputedProperty_=function(ve,_e,we){we===void 0&&(we=!1),this.keysAtom_;try{startBatch();var Pe=this.delete_(ve);if(!Pe)return Pe;if(hasInterceptors(this)){var Ie=interceptChange(this,{object:this.proxy_||this.target_,name:ve,type:ADD,newValue:void 0});if(!Ie)return null}_e.name||(_e.name="ObservableObject.key"),_e.context=this.proxy_||this.target_;var Re=getCachedObservablePropDescriptor(ve),ke={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:Re.get,set:Re.set};if(we){if(!Reflect.defineProperty(this.target_,ve,ke))return!1}else defineProperty(this.target_,ve,ke);this.values_.set(ve,new ComputedValue(_e)),this.notifyPropertyAddition_(ve,void 0)}finally{endBatch()}return!0},he.delete_=function(ve,_e){if(_e===void 0&&(_e=!1),this.keysAtom_,!hasProp(this.target_,ve))return!0;if(hasInterceptors(this)){var we=interceptChange(this,{object:this.proxy_||this.target_,name:ve,type:REMOVE});if(!we)return null}try{var Pe,Ie;startBatch();var Re=hasListeners(this),ke=!1,Fe=this.values_.get(ve),Me=void 0;if(!Fe&&(Re||ke)){var je;Me=(je=getDescriptor(this.target_,ve))==null?void 0:je.value}if(_e){if(!Reflect.deleteProperty(this.target_,ve))return!1}else delete this.target_[ve];if(Fe&&(this.values_.delete(ve),Fe instanceof ObservableValue&&(Me=Fe.value_),propagateChanged(Fe)),this.keysAtom_.reportChanged(),(Pe=this.pendingKeys_)==null||(Ie=Pe.get(ve))==null||Ie.set(ve in this.target_),Re||ke){var ze={type:REMOVE,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:Me,name:ve};Re&&notifyListeners(this,ze)}}finally{endBatch()}return!0},he.observe_=function(ve,_e){return registerListener(this,ve)},he.intercept_=function(ve){return registerInterceptor(this,ve)},he.notifyPropertyAddition_=function(ve,_e){var we,Pe,Ie=hasListeners(this),Re=!1;if(Ie||Re){var ke=Ie||Re?{type:ADD,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:ve,newValue:_e}:null;Ie&&notifyListeners(this,ke)}(we=this.pendingKeys_)==null||(Pe=we.get(ve))==null||Pe.set(!0),this.keysAtom_.reportChanged()},he.ownKeys_=function(){return this.keysAtom_.reportObserved(),ownKeys(this.target_)},he.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},oe}();function asObservableObject(oe,he){var ye;if(hasProp(oe,$mobx))return oe;var ve=(ye=he?.name)!=null?ye:"ObservableObject",_e=new ObservableObjectAdministration(oe,new Map,String(ve),getAnnotationFromOptions(he));return addHiddenProp(oe,$mobx,_e),oe}var isObservableObjectAdministration=createInstanceofPredicate("ObservableObjectAdministration",ObservableObjectAdministration);function getCachedObservablePropDescriptor(oe){return descriptorCache[oe]||(descriptorCache[oe]={get:function(){return this[$mobx].getObservablePropValue_(oe)},set:function(ye){return this[$mobx].setObservablePropValue_(oe,ye)}})}function isObservableObject(oe){return isObject$8(oe)?isObservableObjectAdministration(oe[$mobx]):!1}function recordAnnotationApplied(oe,he,ye){var ve;(ve=oe.target_[storedAnnotationsSymbol])==null||delete ve[ye]}var ENTRY_0=createArrayEntryDescriptor(0),safariPrototypeSetterInheritanceBug=function(){var oe=!1,he={};return Object.defineProperty(he,"0",{set:function(){oe=!0}}),Object.create(he)[0]=1,oe===!1}(),OBSERVABLE_ARRAY_BUFFER_SIZE=0,StubArray=function(){};function inherit(oe,he){Object.setPrototypeOf?Object.setPrototypeOf(oe.prototype,he):oe.prototype.__proto__!==void 0?oe.prototype.__proto__=he:oe.prototype=he}inherit(StubArray,Array.prototype);var LegacyObservableArray=function(oe,he,ye){_inheritsLoose(ve,oe);function ve(we,Pe,Ie,Re){var ke;return Ie===void 0&&(Ie="ObservableArray"),Re===void 0&&(Re=!1),ke=oe.call(this)||this,initObservable(function(){var Fe=new ObservableArrayAdministration(Ie,Pe,Re,!0);Fe.proxy_=_assertThisInitialized(ke),addHiddenFinalProp(_assertThisInitialized(ke),$mobx,Fe),we&&we.length&&ke.spliceWithArray(0,0,we),safariPrototypeSetterInheritanceBug&&Object.defineProperty(_assertThisInitialized(ke),"0",ENTRY_0)}),ke}var _e=ve.prototype;return _e.concat=function(){this[$mobx].atom_.reportObserved();for(var Pe=arguments.length,Ie=new Array(Pe),Re=0;Re<Pe;Re++)Ie[Re]=arguments[Re];return Array.prototype.concat.apply(this.slice(),Ie.map(function(ke){return isObservableArray(ke)?ke.slice():ke}))},_e[ye]=function(){var we=this,Pe=0;return makeIterable({next:function(){return Pe<we.length?{value:we[Pe++],done:!1}:{done:!0,value:void 0}}})},_createClass(ve,[{key:"length",get:function(){return this[$mobx].getArrayLength_()},set:function(Pe){this[$mobx].setArrayLength_(Pe)}},{key:he,get:function(){return"Array"}}]),ve}(StubArray,Symbol.toStringTag,Symbol.iterator);Object.entries(arrayExtensions).forEach(function(oe){var he=oe[0],ye=oe[1];he!=="concat"&&addHiddenProp(LegacyObservableArray.prototype,he,ye)});function createArrayEntryDescriptor(oe){return{enumerable:!1,configurable:!0,get:function(){return this[$mobx].get_(oe)},set:function(ye){this[$mobx].set_(oe,ye)}}}function createArrayBufferItem(oe){defineProperty(LegacyObservableArray.prototype,""+oe,createArrayEntryDescriptor(oe))}function reserveArrayBuffer(oe){if(oe>OBSERVABLE_ARRAY_BUFFER_SIZE){for(var he=OBSERVABLE_ARRAY_BUFFER_SIZE;he<oe+100;he++)createArrayBufferItem(he);OBSERVABLE_ARRAY_BUFFER_SIZE=oe}}reserveArrayBuffer(1e3);function createLegacyArray(oe,he,ye){return new LegacyObservableArray(oe,he,ye)}function getAtom(oe,he){if(typeof oe=="object"&&oe!==null){if(isObservableArray(oe))return he!==void 0&&die(23),oe[$mobx].atom_;if(isObservableSet(oe))return oe.atom_;if(isObservableMap(oe)){if(he===void 0)return oe.keysAtom_;var ye=oe.data_.get(he)||oe.hasMap_.get(he);return ye||die(25,he,getDebugName(oe)),ye}if(isObservableObject(oe)){if(!he)return die(26);var ve=oe[$mobx].values_.get(he);return ve||die(27,he,getDebugName(oe)),ve}if(isAtom(oe)||isComputedValue(oe)||isReaction(oe))return oe}else if(isFunction$5(oe)&&isReaction(oe[$mobx]))return oe[$mobx];die(28)}function getAdministration(oe,he){if(oe||die(29),he!==void 0)return getAdministration(getAtom(oe,he));if(isAtom(oe)||isComputedValue(oe)||isReaction(oe)||isObservableMap(oe)||isObservableSet(oe))return oe;if(oe[$mobx])return oe[$mobx];die(24,oe)}function getDebugName(oe,he){var ye;if(he!==void 0)ye=getAtom(oe,he);else{if(isAction(oe))return oe.name;isObservableObject(oe)||isObservableMap(oe)||isObservableSet(oe)?ye=getAdministration(oe):ye=getAtom(oe)}return ye.name_}function initObservable(oe){var he=untrackedStart(),ye=allowStateChangesStart(!0);startBatch();try{return oe()}finally{endBatch(),allowStateChangesEnd(ye),untrackedEnd(he)}}var toString$5=objectPrototype.toString;function deepEqual(oe,he,ye){return ye===void 0&&(ye=-1),eq$3(oe,he,ye)}function eq$3(oe,he,ye,ve,_e){if(oe===he)return oe!==0||1/oe===1/he;if(oe==null||he==null)return!1;if(oe!==oe)return he!==he;var we=typeof oe;if(we!=="function"&&we!=="object"&&typeof he!="object")return!1;var Pe=toString$5.call(oe);if(Pe!==toString$5.call(he))return!1;switch(Pe){case"[object RegExp]":case"[object String]":return""+oe==""+he;case"[object Number]":return+oe!=+oe?+he!=+he:+oe==0?1/+oe===1/he:+oe==+he;case"[object Date]":case"[object Boolean]":return+oe==+he;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(oe)===Symbol.valueOf.call(he);case"[object Map]":case"[object Set]":ye>=0&&ye++;break}oe=unwrap(oe),he=unwrap(he);var Ie=Pe==="[object Array]";if(!Ie){if(typeof oe!="object"||typeof he!="object")return!1;var Re=oe.constructor,ke=he.constructor;if(Re!==ke&&!(isFunction$5(Re)&&Re instanceof Re&&isFunction$5(ke)&&ke instanceof ke)&&"constructor"in oe&&"constructor"in he)return!1}if(ye===0)return!1;ye<0&&(ye=-1),ve=ve||[],_e=_e||[];for(var Fe=ve.length;Fe--;)if(ve[Fe]===oe)return _e[Fe]===he;if(ve.push(oe),_e.push(he),Ie){if(Fe=oe.length,Fe!==he.length)return!1;for(;Fe--;)if(!eq$3(oe[Fe],he[Fe],ye-1,ve,_e))return!1}else{var Me=Object.keys(oe),je;if(Fe=Me.length,Object.keys(he).length!==Fe)return!1;for(;Fe--;)if(je=Me[Fe],!(hasProp(he,je)&&eq$3(oe[je],he[je],ye-1,ve,_e)))return!1}return ve.pop(),_e.pop(),!0}function unwrap(oe){return isObservableArray(oe)?oe.slice():isES6Map(oe)||isObservableMap(oe)||isES6Set(oe)||isObservableSet(oe)?Array.from(oe.entries()):oe}function makeIterable(oe){return oe[Symbol.iterator]=getSelf,oe}function getSelf(){return this}["Symbol","Map","Set"].forEach(function(oe){var he=getGlobal();typeof he[oe]>"u"&&die("MobX requires globalThis '"+oe+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy,extras:{getDebugName},$mobx});var extendStatics=function(oe,he){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ye,ve){ye.__proto__=ve}||function(ye,ve){for(var _e in ve)Object.prototype.hasOwnProperty.call(ve,_e)&&(ye[_e]=ve[_e])},extendStatics(oe,he)};function __extends$1(oe,he){if(typeof he!="function"&&he!==null)throw new TypeError("Class extends value "+String(he)+" is not a constructor or null");extendStatics(oe,he);function ye(){this.constructor=oe}oe.prototype=he===null?Object.create(he):(ye.prototype=he.prototype,new ye)}var __assign$2=function(){return __assign$2=Object.assign||function(he){for(var ye,ve=1,_e=arguments.length;ve<_e;ve++){ye=arguments[ve];for(var we in ye)Object.prototype.hasOwnProperty.call(ye,we)&&(he[we]=ye[we])}return he},__assign$2.apply(this,arguments)};function __rest(oe,he){var ye={};for(var ve in oe)Object.prototype.hasOwnProperty.call(oe,ve)&&he.indexOf(ve)<0&&(ye[ve]=oe[ve]);if(oe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _e=0,ve=Object.getOwnPropertySymbols(oe);_e<ve.length;_e++)he.indexOf(ve[_e])<0&&Object.prototype.propertyIsEnumerable.call(oe,ve[_e])&&(ye[ve[_e]]=oe[ve[_e]]);return ye}function __awaiter(oe,he,ye,ve){function _e(we){return we instanceof ye?we:new ye(function(Pe){Pe(we)})}return new(ye||(ye=Promise))(function(we,Pe){function Ie(Fe){try{ke(ve.next(Fe))}catch(Me){Pe(Me)}}function Re(Fe){try{ke(ve.throw(Fe))}catch(Me){Pe(Me)}}function ke(Fe){Fe.done?we(Fe.value):_e(Fe.value).then(Ie,Re)}ke((ve=ve.apply(oe,he||[])).next())})}function __generator(oe,he){var ye={label:0,sent:function(){if(we[0]&1)throw we[1];return we[1]},trys:[],ops:[]},ve,_e,we,Pe;return Pe={next:Ie(0),throw:Ie(1),return:Ie(2)},typeof Symbol=="function"&&(Pe[Symbol.iterator]=function(){return this}),Pe;function Ie(ke){return function(Fe){return Re([ke,Fe])}}function Re(ke){if(ve)throw new TypeError("Generator is already executing.");for(;Pe&&(Pe=0,ke[0]&&(ye=0)),ye;)try{if(ve=1,_e&&(we=ke[0]&2?_e.return:ke[0]?_e.throw||((we=_e.return)&&we.call(_e),0):_e.next)&&!(we=we.call(_e,ke[1])).done)return we;switch(_e=0,we&&(ke=[ke[0]&2,we.value]),ke[0]){case 0:case 1:we=ke;break;case 4:return ye.label++,{value:ke[1],done:!1};case 5:ye.label++,_e=ke[1],ke=[0];continue;case 7:ke=ye.ops.pop(),ye.trys.pop();continue;default:if(we=ye.trys,!(we=we.length>0&&we[we.length-1])&&(ke[0]===6||ke[0]===2)){ye=0;continue}if(ke[0]===3&&(!we||ke[1]>we[0]&&ke[1]<we[3])){ye.label=ke[1];break}if(ke[0]===6&&ye.label<we[1]){ye.label=we[1],we=ke;break}if(we&&ye.label<we[2]){ye.label=we[2],ye.ops.push(ke);break}we[2]&&ye.ops.pop(),ye.trys.pop();continue}ke=he.call(oe,ye)}catch(Fe){ke=[6,Fe],_e=0}finally{ve=we=0}if(ke[0]&5)throw ke[1];return{value:ke[0]?ke[1]:void 0,done:!0}}}function __values(oe){var he=typeof Symbol=="function"&&Symbol.iterator,ye=he&&oe[he],ve=0;if(ye)return ye.call(oe);if(oe&&typeof oe.length=="number")return{next:function(){return oe&&ve>=oe.length&&(oe=void 0),{value:oe&&oe[ve++],done:!oe}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read$5(oe,he){var ye=typeof Symbol=="function"&&oe[Symbol.iterator];if(!ye)return oe;var ve=ye.call(oe),_e,we=[],Pe;try{for(;(he===void 0||he-- >0)&&!(_e=ve.next()).done;)we.push(_e.value)}catch(Ie){Pe={error:Ie}}finally{try{_e&&!_e.done&&(ye=ve.return)&&ye.call(ve)}finally{if(Pe)throw Pe.error}}return we}function __spread(){for(var oe=[],he=0;he<arguments.length;he++)oe=oe.concat(__read$5(arguments[he]));return oe}function __spreadArray$3(oe,he,ye){if(ye||arguments.length===2)for(var ve=0,_e=he.length,we;ve<_e;ve++)(we||!(ve in he))&&(we||(we=Array.prototype.slice.call(he,0,ve)),we[ve]=he[ve]);return oe.concat(we||Array.prototype.slice.call(he))}function __await(oe){return this instanceof __await?(this.v=oe,this):new __await(oe)}function __asyncGenerator(oe,he,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve=ye.apply(oe,he||[]),_e,we=[];return _e={},Pe("next"),Pe("throw"),Pe("return"),_e[Symbol.asyncIterator]=function(){return this},_e;function Pe(je){ve[je]&&(_e[je]=function(ze){return new Promise(function(He,Ve){we.push([je,ze,He,Ve])>1||Ie(je,ze)})})}function Ie(je,ze){try{Re(ve[je](ze))}catch(He){Me(we[0][3],He)}}function Re(je){je.value instanceof __await?Promise.resolve(je.value.v).then(ke,Fe):Me(we[0][2],je)}function ke(je){Ie("next",je)}function Fe(je){Ie("throw",je)}function Me(je,ze){je(ze),we.shift(),we.length&&Ie(we[0][0],we[0][1])}}function __asyncValues(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he=oe[Symbol.asyncIterator],ye;return he?he.call(oe):(oe=typeof __values=="function"?__values(oe):oe[Symbol.iterator](),ye={},ve("next"),ve("throw"),ve("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function ve(we){ye[we]=oe[we]&&function(Pe){return new Promise(function(Ie,Re){Pe=oe[we](Pe),_e(Ie,Re,Pe.done,Pe.value)})}}function _e(we,Pe,Ie,Re){Promise.resolve(Re).then(function(ke){we({value:ke,done:Ie})},Pe)}}typeof SuppressedError=="function"&&SuppressedError;function isFunction$4(oe){return typeof oe=="function"}function createErrorClass(oe){var he=function(ve){Error.call(ve),ve.stack=new Error().stack},ye=oe(he);return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}var UnsubscriptionError=createErrorClass(function(oe){return function(ye){oe(this),this.message=ye?ye.length+` errors occurred during unsubscription:
`+ye.map(function(ve,_e){return _e+1+") "+ve.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=ye}});function arrRemove(oe,he){if(oe){var ye=oe.indexOf(he);0<=ye&&oe.splice(ye,1)}}var Subscription=function(){function oe(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}return oe.prototype.unsubscribe=function(){var he,ye,ve,_e,we;if(!this.closed){this.closed=!0;var Pe=this._parentage;if(Pe)if(this._parentage=null,Array.isArray(Pe))try{for(var Ie=__values(Pe),Re=Ie.next();!Re.done;Re=Ie.next()){var ke=Re.value;ke.remove(this)}}catch(Ve){he={error:Ve}}finally{try{Re&&!Re.done&&(ye=Ie.return)&&ye.call(Ie)}finally{if(he)throw he.error}}else Pe.remove(this);var Fe=this.initialTeardown;if(isFunction$4(Fe))try{Fe()}catch(Ve){we=Ve instanceof UnsubscriptionError?Ve.errors:[Ve]}var Me=this._finalizers;if(Me){this._finalizers=null;try{for(var je=__values(Me),ze=je.next();!ze.done;ze=je.next()){var He=ze.value;try{execFinalizer(He)}catch(Ve){we=we??[],Ve instanceof UnsubscriptionError?we=__spreadArray$3(__spreadArray$3([],__read$5(we)),__read$5(Ve.errors)):we.push(Ve)}}}catch(Ve){ve={error:Ve}}finally{try{ze&&!ze.done&&(_e=je.return)&&_e.call(je)}finally{if(ve)throw ve.error}}}if(we)throw new UnsubscriptionError(we)}},oe.prototype.add=function(he){var ye;if(he&&he!==this)if(this.closed)execFinalizer(he);else{if(he instanceof oe){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=(ye=this._finalizers)!==null&&ye!==void 0?ye:[]).push(he)}},oe.prototype._hasParent=function(he){var ye=this._parentage;return ye===he||Array.isArray(ye)&&ye.includes(he)},oe.prototype._addParent=function(he){var ye=this._parentage;this._parentage=Array.isArray(ye)?(ye.push(he),ye):ye?[ye,he]:he},oe.prototype._removeParent=function(he){var ye=this._parentage;ye===he?this._parentage=null:Array.isArray(ye)&&arrRemove(ye,he)},oe.prototype.remove=function(he){var ye=this._finalizers;ye&&arrRemove(ye,he),he instanceof oe&&he._removeParent(this)},oe.EMPTY=function(){var he=new oe;return he.closed=!0,he}(),oe}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(oe){return oe instanceof Subscription||oe&&"closed"in oe&&isFunction$4(oe.remove)&&isFunction$4(oe.add)&&isFunction$4(oe.unsubscribe)}function execFinalizer(oe){isFunction$4(oe)?oe():oe.unsubscribe()}var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},timeoutProvider={setTimeout:function(oe,he){for(var ye=[],ve=2;ve<arguments.length;ve++)ye[ve-2]=arguments[ve];var _e=timeoutProvider.delegate;return _e?.setTimeout?_e.setTimeout.apply(_e,__spreadArray$3([oe,he],__read$5(ye))):setTimeout.apply(void 0,__spreadArray$3([oe,he],__read$5(ye)))},clearTimeout:function(oe){var he=timeoutProvider.delegate;return(he?.clearTimeout||clearTimeout)(oe)},delegate:void 0};function reportUnhandledError(oe){timeoutProvider.setTimeout(function(){throw oe})}function noop$1(){}function errorContext(oe){oe()}var Subscriber=function(oe){__extends$1(he,oe);function he(ye){var ve=oe.call(this)||this;return ve.isStopped=!1,ye?(ve.destination=ye,isSubscription(ye)&&ye.add(ve)):ve.destination=EMPTY_OBSERVER,ve}return he.create=function(ye,ve,_e){return new SafeSubscriber(ye,ve,_e)},he.prototype.next=function(ye){this.isStopped||this._next(ye)},he.prototype.error=function(ye){this.isStopped||(this.isStopped=!0,this._error(ye))},he.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},he.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,oe.prototype.unsubscribe.call(this),this.destination=null)},he.prototype._next=function(ye){this.destination.next(ye)},he.prototype._error=function(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}},he.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},he}(Subscription),_bind=Function.prototype.bind;function bind(oe,he){return _bind.call(oe,he)}var ConsumerObserver=function(){function oe(he){this.partialObserver=he}return oe.prototype.next=function(he){var ye=this.partialObserver;if(ye.next)try{ye.next(he)}catch(ve){handleUnhandledError(ve)}},oe.prototype.error=function(he){var ye=this.partialObserver;if(ye.error)try{ye.error(he)}catch(ve){handleUnhandledError(ve)}else handleUnhandledError(he)},oe.prototype.complete=function(){var he=this.partialObserver;if(he.complete)try{he.complete()}catch(ye){handleUnhandledError(ye)}},oe}(),SafeSubscriber=function(oe){__extends$1(he,oe);function he(ye,ve,_e){var we=oe.call(this)||this,Pe;if(isFunction$4(ye)||!ye)Pe={next:ye??void 0,error:ve??void 0,complete:_e??void 0};else{var Ie;we&&config.useDeprecatedNextContext?(Ie=Object.create(ye),Ie.unsubscribe=function(){return we.unsubscribe()},Pe={next:ye.next&&bind(ye.next,Ie),error:ye.error&&bind(ye.error,Ie),complete:ye.complete&&bind(ye.complete,Ie)}):Pe=ye}return we.destination=new ConsumerObserver(Pe),we}return he}(Subscriber);function handleUnhandledError(oe){reportUnhandledError(oe)}function defaultErrorHandler(oe){throw oe}var EMPTY_OBSERVER={closed:!0,next:noop$1,error:defaultErrorHandler,complete:noop$1},observable$1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function identity$4(oe){return oe}function pipe(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];return pipeFromArray$1(oe)}function pipeFromArray$1(oe){return oe.length===0?identity$4:oe.length===1?oe[0]:function(ye){return oe.reduce(function(ve,_e){return _e(ve)},ye)}}var Observable=function(){function oe(he){he&&(this._subscribe=he)}return oe.prototype.lift=function(he){var ye=new oe;return ye.source=this,ye.operator=he,ye},oe.prototype.subscribe=function(he,ye,ve){var _e=this,we=isSubscriber(he)?he:new SafeSubscriber(he,ye,ve);return errorContext(function(){var Pe=_e,Ie=Pe.operator,Re=Pe.source;we.add(Ie?Ie.call(we,Re):Re?_e._subscribe(we):_e._trySubscribe(we))}),we},oe.prototype._trySubscribe=function(he){try{return this._subscribe(he)}catch(ye){he.error(ye)}},oe.prototype.forEach=function(he,ye){var ve=this;return ye=getPromiseCtor(ye),new ye(function(_e,we){var Pe=new SafeSubscriber({next:function(Ie){try{he(Ie)}catch(Re){we(Re),Pe.unsubscribe()}},error:we,complete:_e});ve.subscribe(Pe)})},oe.prototype._subscribe=function(he){var ye;return(ye=this.source)===null||ye===void 0?void 0:ye.subscribe(he)},oe.prototype[observable$1]=function(){return this},oe.prototype.pipe=function(){for(var he=[],ye=0;ye<arguments.length;ye++)he[ye]=arguments[ye];return pipeFromArray$1(he)(this)},oe.prototype.toPromise=function(he){var ye=this;return he=getPromiseCtor(he),new he(function(ve,_e){var we;ye.subscribe(function(Pe){return we=Pe},function(Pe){return _e(Pe)},function(){return ve(we)})})},oe.create=function(he){return new oe(he)},oe}();function getPromiseCtor(oe){var he;return(he=oe??config.Promise)!==null&&he!==void 0?he:Promise}function isObserver(oe){return oe&&isFunction$4(oe.next)&&isFunction$4(oe.error)&&isFunction$4(oe.complete)}function isSubscriber(oe){return oe&&oe instanceof Subscriber||isObserver(oe)&&isSubscription(oe)}function hasLift(oe){return isFunction$4(oe?.lift)}function operate(oe){return function(he){if(hasLift(he))return he.lift(function(ye){try{return oe(ye,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(oe,he,ye,ve,_e){return new OperatorSubscriber(oe,he,ye,ve,_e)}var OperatorSubscriber=function(oe){__extends$1(he,oe);function he(ye,ve,_e,we,Pe,Ie){var Re=oe.call(this,ye)||this;return Re.onFinalize=Pe,Re.shouldUnsubscribe=Ie,Re._next=ve?function(ke){try{ve(ke)}catch(Fe){ye.error(Fe)}}:oe.prototype._next,Re._error=we?function(ke){try{we(ke)}catch(Fe){ye.error(Fe)}finally{this.unsubscribe()}}:oe.prototype._error,Re._complete=_e?function(){try{_e()}catch(ke){ye.error(ke)}finally{this.unsubscribe()}}:oe.prototype._complete,Re}return he.prototype.unsubscribe=function(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var ve=this.closed;oe.prototype.unsubscribe.call(this),!ve&&((ye=this.onFinalize)===null||ye===void 0||ye.call(this))}},he}(Subscriber),ObjectUnsubscribedError=createErrorClass(function(oe){return function(){oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Subject=function(oe){__extends$1(he,oe);function he(){var ye=oe.call(this)||this;return ye.closed=!1,ye.currentObservers=null,ye.observers=[],ye.isStopped=!1,ye.hasError=!1,ye.thrownError=null,ye}return he.prototype.lift=function(ye){var ve=new AnonymousSubject(this,this);return ve.operator=ye,ve},he.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},he.prototype.next=function(ye){var ve=this;errorContext(function(){var _e,we;if(ve._throwIfClosed(),!ve.isStopped){ve.currentObservers||(ve.currentObservers=Array.from(ve.observers));try{for(var Pe=__values(ve.currentObservers),Ie=Pe.next();!Ie.done;Ie=Pe.next()){var Re=Ie.value;Re.next(ye)}}catch(ke){_e={error:ke}}finally{try{Ie&&!Ie.done&&(we=Pe.return)&&we.call(Pe)}finally{if(_e)throw _e.error}}}})},he.prototype.error=function(ye){var ve=this;errorContext(function(){if(ve._throwIfClosed(),!ve.isStopped){ve.hasError=ve.isStopped=!0,ve.thrownError=ye;for(var _e=ve.observers;_e.length;)_e.shift().error(ye)}})},he.prototype.complete=function(){var ye=this;errorContext(function(){if(ye._throwIfClosed(),!ye.isStopped){ye.isStopped=!0;for(var ve=ye.observers;ve.length;)ve.shift().complete()}})},he.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(he.prototype,"observed",{get:function(){var ye;return((ye=this.observers)===null||ye===void 0?void 0:ye.length)>0},enumerable:!1,configurable:!0}),he.prototype._trySubscribe=function(ye){return this._throwIfClosed(),oe.prototype._trySubscribe.call(this,ye)},he.prototype._subscribe=function(ye){return this._throwIfClosed(),this._checkFinalizedStatuses(ye),this._innerSubscribe(ye)},he.prototype._innerSubscribe=function(ye){var ve=this,_e=this,we=_e.hasError,Pe=_e.isStopped,Ie=_e.observers;return we||Pe?EMPTY_SUBSCRIPTION:(this.currentObservers=null,Ie.push(ye),new Subscription(function(){ve.currentObservers=null,arrRemove(Ie,ye)}))},he.prototype._checkFinalizedStatuses=function(ye){var ve=this,_e=ve.hasError,we=ve.thrownError,Pe=ve.isStopped;_e?ye.error(we):Pe&&ye.complete()},he.prototype.asObservable=function(){var ye=new Observable;return ye.source=this,ye},he.create=function(ye,ve){return new AnonymousSubject(ye,ve)},he}(Observable),AnonymousSubject=function(oe){__extends$1(he,oe);function he(ye,ve){var _e=oe.call(this)||this;return _e.destination=ye,_e.source=ve,_e}return he.prototype.next=function(ye){var ve,_e;(_e=(ve=this.destination)===null||ve===void 0?void 0:ve.next)===null||_e===void 0||_e.call(ve,ye)},he.prototype.error=function(ye){var ve,_e;(_e=(ve=this.destination)===null||ve===void 0?void 0:ve.error)===null||_e===void 0||_e.call(ve,ye)},he.prototype.complete=function(){var ye,ve;(ve=(ye=this.destination)===null||ye===void 0?void 0:ye.complete)===null||ve===void 0||ve.call(ye)},he.prototype._subscribe=function(ye){var ve,_e;return(_e=(ve=this.source)===null||ve===void 0?void 0:ve.subscribe(ye))!==null&&_e!==void 0?_e:EMPTY_SUBSCRIPTION},he}(Subject),BehaviorSubject=function(oe){__extends$1(he,oe);function he(ye){var ve=oe.call(this)||this;return ve._value=ye,ve}return Object.defineProperty(he.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),he.prototype._subscribe=function(ye){var ve=oe.prototype._subscribe.call(this,ye);return!ve.closed&&ye.next(this._value),ve},he.prototype.getValue=function(){var ye=this,ve=ye.hasError,_e=ye.thrownError,we=ye._value;if(ve)throw _e;return this._throwIfClosed(),we},he.prototype.next=function(ye){oe.prototype.next.call(this,this._value=ye)},he}(Subject),dateTimestampProvider={now:function(){return(dateTimestampProvider.delegate||Date).now()},delegate:void 0},ReplaySubject=function(oe){__extends$1(he,oe);function he(ye,ve,_e){ye===void 0&&(ye=1/0),ve===void 0&&(ve=1/0),_e===void 0&&(_e=dateTimestampProvider);var we=oe.call(this)||this;return we._bufferSize=ye,we._windowTime=ve,we._timestampProvider=_e,we._buffer=[],we._infiniteTimeWindow=!0,we._infiniteTimeWindow=ve===1/0,we._bufferSize=Math.max(1,ye),we._windowTime=Math.max(1,ve),we}return he.prototype.next=function(ye){var ve=this,_e=ve.isStopped,we=ve._buffer,Pe=ve._infiniteTimeWindow,Ie=ve._timestampProvider,Re=ve._windowTime;_e||(we.push(ye),!Pe&&we.push(Ie.now()+Re)),this._trimBuffer(),oe.prototype.next.call(this,ye)},he.prototype._subscribe=function(ye){this._throwIfClosed(),this._trimBuffer();for(var ve=this._innerSubscribe(ye),_e=this,we=_e._infiniteTimeWindow,Pe=_e._buffer,Ie=Pe.slice(),Re=0;Re<Ie.length&&!ye.closed;Re+=we?1:2)ye.next(Ie[Re]);return this._checkFinalizedStatuses(ye),ve},he.prototype._trimBuffer=function(){var ye=this,ve=ye._bufferSize,_e=ye._timestampProvider,we=ye._buffer,Pe=ye._infiniteTimeWindow,Ie=(Pe?1:2)*ve;if(ve<1/0&&Ie<we.length&&we.splice(0,we.length-Ie),!Pe){for(var Re=_e.now(),ke=0,Fe=1;Fe<we.length&&we[Fe]<=Re;Fe+=2)ke=Fe;ke&&we.splice(0,ke+1)}},he}(Subject),Action=function(oe){__extends$1(he,oe);function he(ye,ve){return oe.call(this)||this}return he.prototype.schedule=function(ye,ve){return this},he}(Subscription),intervalProvider={setInterval:function(oe,he){for(var ye=[],ve=2;ve<arguments.length;ve++)ye[ve-2]=arguments[ve];var _e=intervalProvider.delegate;return _e?.setInterval?_e.setInterval.apply(_e,__spreadArray$3([oe,he],__read$5(ye))):setInterval.apply(void 0,__spreadArray$3([oe,he],__read$5(ye)))},clearInterval:function(oe){var he=intervalProvider.delegate;return(he?.clearInterval||clearInterval)(oe)},delegate:void 0},AsyncAction=function(oe){__extends$1(he,oe);function he(ye,ve){var _e=oe.call(this,ye,ve)||this;return _e.scheduler=ye,_e.work=ve,_e.pending=!1,_e}return he.prototype.schedule=function(ye,ve){if(ve===void 0&&(ve=0),this.closed)return this;this.state=ye;var _e=this.id,we=this.scheduler;return _e!=null&&(this.id=this.recycleAsyncId(we,_e,ve)),this.pending=!0,this.delay=ve,this.id=this.id||this.requestAsyncId(we,this.id,ve),this},he.prototype.requestAsyncId=function(ye,ve,_e){return _e===void 0&&(_e=0),intervalProvider.setInterval(ye.flush.bind(ye,this),_e)},he.prototype.recycleAsyncId=function(ye,ve,_e){if(_e===void 0&&(_e=0),_e!=null&&this.delay===_e&&this.pending===!1)return ve;intervalProvider.clearInterval(ve)},he.prototype.execute=function(ye,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var _e=this._execute(ye,ve);if(_e)return _e;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},he.prototype._execute=function(ye,ve){var _e=!1,we;try{this.work(ye)}catch(Pe){_e=!0,we=Pe||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),we},he.prototype.unsubscribe=function(){if(!this.closed){var ye=this,ve=ye.id,_e=ye.scheduler,we=_e.actions;this.work=this.state=this.scheduler=null,this.pending=!1,arrRemove(we,this),ve!=null&&(this.id=this.recycleAsyncId(_e,ve,null)),this.delay=null,oe.prototype.unsubscribe.call(this)}},he}(Action),Scheduler=function(){function oe(he,ye){ye===void 0&&(ye=oe.now),this.schedulerActionCtor=he,this.now=ye}return oe.prototype.schedule=function(he,ye,ve){return ye===void 0&&(ye=0),new this.schedulerActionCtor(this,he).schedule(ve,ye)},oe.now=dateTimestampProvider.now,oe}(),AsyncScheduler=function(oe){__extends$1(he,oe);function he(ye,ve){ve===void 0&&(ve=Scheduler.now);var _e=oe.call(this,ye,ve)||this;return _e.actions=[],_e._active=!1,_e._scheduled=void 0,_e}return he.prototype.flush=function(ye){var ve=this.actions;if(this._active){ve.push(ye);return}var _e;this._active=!0;do if(_e=ye.execute(ye.state,ye.delay))break;while(ye=ve.shift());if(this._active=!1,_e){for(;ye=ve.shift();)ye.unsubscribe();throw _e}},he}(Scheduler),asyncScheduler=new AsyncScheduler(AsyncAction),async=asyncScheduler,EMPTY=new Observable(function(oe){return oe.complete()});function isScheduler(oe){return oe&&isFunction$4(oe.schedule)}function last(oe){return oe[oe.length-1]}function popResultSelector(oe){return isFunction$4(last(oe))?oe.pop():void 0}function popScheduler(oe){return isScheduler(last(oe))?oe.pop():void 0}function popNumber(oe,he){return typeof last(oe)=="number"?oe.pop():he}var isArrayLike$4=function(oe){return oe&&typeof oe.length=="number"&&typeof oe!="function"};function isPromise(oe){return isFunction$4(oe?.then)}function isInteropObservable(oe){return isFunction$4(oe[observable$1])}function isAsyncIterable(oe){return Symbol.asyncIterator&&isFunction$4(oe?.[Symbol.asyncIterator])}function createInvalidObservableTypeError(oe){return new TypeError("You provided "+(oe!==null&&typeof oe=="object"?"an invalid object":"'"+oe+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function getSymbolIterator(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var iterator=getSymbolIterator();function isIterable(oe){return isFunction$4(oe?.[iterator])}function readableStreamLikeToAsyncGenerator(oe){return __asyncGenerator(this,arguments,function(){var ye,ve,_e,we;return __generator(this,function(Pe){switch(Pe.label){case 0:ye=oe.getReader(),Pe.label=1;case 1:Pe.trys.push([1,,9,10]),Pe.label=2;case 2:return[4,__await(ye.read())];case 3:return ve=Pe.sent(),_e=ve.value,we=ve.done,we?[4,__await(void 0)]:[3,5];case 4:return[2,Pe.sent()];case 5:return[4,__await(_e)];case 6:return[4,Pe.sent()];case 7:return Pe.sent(),[3,2];case 8:return[3,10];case 9:return ye.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(oe){return isFunction$4(oe?.getReader)}function innerFrom(oe){if(oe instanceof Observable)return oe;if(oe!=null){if(isInteropObservable(oe))return fromInteropObservable(oe);if(isArrayLike$4(oe))return fromArrayLike(oe);if(isPromise(oe))return fromPromise(oe);if(isAsyncIterable(oe))return fromAsyncIterable(oe);if(isIterable(oe))return fromIterable(oe);if(isReadableStreamLike(oe))return fromReadableStreamLike(oe)}throw createInvalidObservableTypeError(oe)}function fromInteropObservable(oe){return new Observable(function(he){var ye=oe[observable$1]();if(isFunction$4(ye.subscribe))return ye.subscribe(he);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(oe){return new Observable(function(he){for(var ye=0;ye<oe.length&&!he.closed;ye++)he.next(oe[ye]);he.complete()})}function fromPromise(oe){return new Observable(function(he){oe.then(function(ye){he.closed||(he.next(ye),he.complete())},function(ye){return he.error(ye)}).then(null,reportUnhandledError)})}function fromIterable(oe){return new Observable(function(he){var ye,ve;try{for(var _e=__values(oe),we=_e.next();!we.done;we=_e.next()){var Pe=we.value;if(he.next(Pe),he.closed)return}}catch(Ie){ye={error:Ie}}finally{try{we&&!we.done&&(ve=_e.return)&&ve.call(_e)}finally{if(ye)throw ye.error}}he.complete()})}function fromAsyncIterable(oe){return new Observable(function(he){process$1(oe,he).catch(function(ye){return he.error(ye)})})}function fromReadableStreamLike(oe){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(oe))}function process$1(oe,he){var ye,ve,_e,we;return __awaiter(this,void 0,void 0,function(){var Pe,Ie;return __generator(this,function(Re){switch(Re.label){case 0:Re.trys.push([0,5,6,11]),ye=__asyncValues(oe),Re.label=1;case 1:return[4,ye.next()];case 2:if(ve=Re.sent(),!!ve.done)return[3,4];if(Pe=ve.value,he.next(Pe),he.closed)return[2];Re.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return Ie=Re.sent(),_e={error:Ie},[3,11];case 6:return Re.trys.push([6,,9,10]),ve&&!ve.done&&(we=ye.return)?[4,we.call(ye)]:[3,8];case 7:Re.sent(),Re.label=8;case 8:return[3,10];case 9:if(_e)throw _e.error;return[7];case 10:return[7];case 11:return he.complete(),[2]}})})}function executeSchedule(oe,he,ye,ve,_e){ve===void 0&&(ve=0),_e===void 0&&(_e=!1);var we=he.schedule(function(){ye(),_e?oe.add(this.schedule(null,ve)):this.unsubscribe()},ve);if(oe.add(we),!_e)return we}function observeOn(oe,he){return he===void 0&&(he=0),operate(function(ye,ve){ye.subscribe(createOperatorSubscriber(ve,function(_e){return executeSchedule(ve,oe,function(){return ve.next(_e)},he)},function(){return executeSchedule(ve,oe,function(){return ve.complete()},he)},function(_e){return executeSchedule(ve,oe,function(){return ve.error(_e)},he)}))})}function subscribeOn(oe,he){return he===void 0&&(he=0),operate(function(ye,ve){ve.add(oe.schedule(function(){return ye.subscribe(ve)},he))})}function scheduleObservable(oe,he){return innerFrom(oe).pipe(subscribeOn(he),observeOn(he))}function schedulePromise(oe,he){return innerFrom(oe).pipe(subscribeOn(he),observeOn(he))}function scheduleArray(oe,he){return new Observable(function(ye){var ve=0;return he.schedule(function(){ve===oe.length?ye.complete():(ye.next(oe[ve++]),ye.closed||this.schedule())})})}function scheduleIterable(oe,he){return new Observable(function(ye){var ve;return executeSchedule(ye,he,function(){ve=oe[iterator](),executeSchedule(ye,he,function(){var _e,we,Pe;try{_e=ve.next(),we=_e.value,Pe=_e.done}catch(Ie){ye.error(Ie);return}Pe?ye.complete():ye.next(we)},0,!0)}),function(){return isFunction$4(ve?.return)&&ve.return()}})}function scheduleAsyncIterable(oe,he){if(!oe)throw new Error("Iterable cannot be null");return new Observable(function(ye){executeSchedule(ye,he,function(){var ve=oe[Symbol.asyncIterator]();executeSchedule(ye,he,function(){ve.next().then(function(_e){_e.done?ye.complete():ye.next(_e.value)})},0,!0)})})}function scheduleReadableStreamLike(oe,he){return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(oe),he)}function scheduled(oe,he){if(oe!=null){if(isInteropObservable(oe))return scheduleObservable(oe,he);if(isArrayLike$4(oe))return scheduleArray(oe,he);if(isPromise(oe))return schedulePromise(oe,he);if(isAsyncIterable(oe))return scheduleAsyncIterable(oe,he);if(isIterable(oe))return scheduleIterable(oe,he);if(isReadableStreamLike(oe))return scheduleReadableStreamLike(oe,he)}throw createInvalidObservableTypeError(oe)}function from(oe,he){return he?scheduled(oe,he):innerFrom(oe)}function of(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];var ye=popScheduler(oe);return from(oe,ye)}var EmptyError=createErrorClass(function(oe){return function(){oe(this),this.name="EmptyError",this.message="no elements in sequence"}});function firstValueFrom(oe,he){var ye=typeof he=="object";return new Promise(function(ve,_e){var we=new SafeSubscriber({next:function(Pe){ve(Pe),we.unsubscribe()},error:_e,complete:function(){ye?ve(he.defaultValue):_e(new EmptyError)}});oe.subscribe(we)})}function isValidDate(oe){return oe instanceof Date&&!isNaN(oe)}function map(oe,he){return operate(function(ye,ve){var _e=0;ye.subscribe(createOperatorSubscriber(ve,function(we){ve.next(oe.call(he,we,_e++))}))})}var isArray$g=Array.isArray;function callOrApply(oe,he){return isArray$g(he)?oe.apply(void 0,__spreadArray$3([],__read$5(he))):oe(he)}function mapOneOrManyArgs(oe){return map(function(he){return callOrApply(oe,he)})}var isArray$f=Array.isArray,getPrototypeOf=Object.getPrototypeOf,objectProto$c=Object.prototype,getKeys=Object.keys;function argsArgArrayOrObject(oe){if(oe.length===1){var he=oe[0];if(isArray$f(he))return{args:he,keys:null};if(isPOJO(he)){var ye=getKeys(he);return{args:ye.map(function(ve){return he[ve]}),keys:ye}}}return{args:oe,keys:null}}function isPOJO(oe){return oe&&typeof oe=="object"&&getPrototypeOf(oe)===objectProto$c}function createObject(oe,he){return oe.reduce(function(ye,ve,_e){return ye[ve]=he[_e],ye},{})}function combineLatest(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];var ye=popScheduler(oe),ve=popResultSelector(oe),_e=argsArgArrayOrObject(oe),we=_e.args,Pe=_e.keys;if(we.length===0)return from([],ye);var Ie=new Observable(combineLatestInit(we,ye,Pe?function(Re){return createObject(Pe,Re)}:identity$4));return ve?Ie.pipe(mapOneOrManyArgs(ve)):Ie}function combineLatestInit(oe,he,ye){return ye===void 0&&(ye=identity$4),function(ve){maybeSchedule(he,function(){for(var _e=oe.length,we=new Array(_e),Pe=_e,Ie=_e,Re=function(Fe){maybeSchedule(he,function(){var Me=from(oe[Fe],he),je=!1;Me.subscribe(createOperatorSubscriber(ve,function(ze){we[Fe]=ze,je||(je=!0,Ie--),Ie||ve.next(ye(we.slice()))},function(){--Pe||ve.complete()}))},ve)},ke=0;ke<_e;ke++)Re(ke)},ve)}}function maybeSchedule(oe,he,ye){oe?executeSchedule(ye,oe,he):he()}function mergeInternals(oe,he,ye,ve,_e,we,Pe,Ie){var Re=[],ke=0,Fe=0,Me=!1,je=function(){Me&&!Re.length&&!ke&&he.complete()},ze=function(Ve){return ke<ve?He(Ve):Re.push(Ve)},He=function(Ve){we&&he.next(Ve),ke++;var Qe=!1;innerFrom(ye(Ve,Fe++)).subscribe(createOperatorSubscriber(he,function(tt){_e?.(tt),we?ze(tt):he.next(tt)},function(){Qe=!0},void 0,function(){if(Qe)try{ke--;for(var tt=function(){var nt=Re.shift();Pe?executeSchedule(he,Pe,function(){return He(nt)}):He(nt)};Re.length&&ke<ve;)tt();je()}catch(nt){he.error(nt)}}))};return oe.subscribe(createOperatorSubscriber(he,ze,function(){Me=!0,je()})),function(){Ie?.()}}function mergeMap(oe,he,ye){return ye===void 0&&(ye=1/0),isFunction$4(he)?mergeMap(function(ve,_e){return map(function(we,Pe){return he(ve,we,_e,Pe)})(innerFrom(oe(ve,_e)))},ye):(typeof he=="number"&&(ye=he),operate(function(ve,_e){return mergeInternals(ve,_e,oe,ye)}))}function mergeAll(oe){return oe===void 0&&(oe=1/0),mergeMap(identity$4,oe)}function concatAll(){return mergeAll(1)}function concat$1(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];return concatAll()(from(oe,popScheduler(oe)))}function defer(oe){return new Observable(function(he){innerFrom(oe()).subscribe(he)})}var nodeEventEmitterMethods=["addListener","removeListener"],eventTargetMethods=["addEventListener","removeEventListener"],jqueryMethods=["on","off"];function fromEvent(oe,he,ye,ve){if(isFunction$4(ye)&&(ve=ye,ye=void 0),ve)return fromEvent(oe,he,ye).pipe(mapOneOrManyArgs(ve));var _e=__read$5(isEventTarget(oe)?eventTargetMethods.map(function(Ie){return function(Re){return oe[Ie](he,Re,ye)}}):isNodeStyleEventEmitter(oe)?nodeEventEmitterMethods.map(toCommonHandlerRegistry(oe,he)):isJQueryStyleEventEmitter(oe)?jqueryMethods.map(toCommonHandlerRegistry(oe,he)):[],2),we=_e[0],Pe=_e[1];if(!we&&isArrayLike$4(oe))return mergeMap(function(Ie){return fromEvent(Ie,he,ye)})(innerFrom(oe));if(!we)throw new TypeError("Invalid event target");return new Observable(function(Ie){var Re=function(){for(var ke=[],Fe=0;Fe<arguments.length;Fe++)ke[Fe]=arguments[Fe];return Ie.next(1<ke.length?ke:ke[0])};return we(Re),function(){return Pe(Re)}})}function toCommonHandlerRegistry(oe,he){return function(ye){return function(ve){return oe[ye](he,ve)}}}function isNodeStyleEventEmitter(oe){return isFunction$4(oe.addListener)&&isFunction$4(oe.removeListener)}function isJQueryStyleEventEmitter(oe){return isFunction$4(oe.on)&&isFunction$4(oe.off)}function isEventTarget(oe){return isFunction$4(oe.addEventListener)&&isFunction$4(oe.removeEventListener)}function timer(oe,he,ye){oe===void 0&&(oe=0),ye===void 0&&(ye=async);var ve=-1;return he!=null&&(isScheduler(he)?ye=he:ve=he),new Observable(function(_e){var we=isValidDate(oe)?+oe-ye.now():oe;we<0&&(we=0);var Pe=0;return ye.schedule(function(){_e.closed||(_e.next(Pe++),0<=ve?this.schedule(void 0,ve):_e.complete())},we)})}function interval(oe,he){return oe===void 0&&(oe=0),he===void 0&&(he=asyncScheduler),oe<0&&(oe=0),timer(oe,oe,he)}function merge(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];var ye=popScheduler(oe),ve=popNumber(oe,1/0),_e=oe;return _e.length?_e.length===1?innerFrom(_e[0]):mergeAll(ve)(from(_e,ye)):EMPTY}var isArray$e=Array.isArray;function argsOrArgArray(oe){return oe.length===1&&isArray$e(oe[0])?oe[0]:oe}function filter(oe,he){return operate(function(ye,ve){var _e=0;ye.subscribe(createOperatorSubscriber(ve,function(we){return oe.call(he,we,_e++)&&ve.next(we)}))})}function zip$1(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];var ye=popResultSelector(oe),ve=argsOrArgArray(oe);return ve.length?new Observable(function(_e){var we=ve.map(function(){return[]}),Pe=ve.map(function(){return!1});_e.add(function(){we=Pe=null});for(var Ie=function(ke){innerFrom(ve[ke]).subscribe(createOperatorSubscriber(_e,function(Fe){if(we[ke].push(Fe),we.every(function(je){return je.length})){var Me=we.map(function(je){return je.shift()});_e.next(ye?ye.apply(void 0,__spreadArray$3([],__read$5(Me))):Me),we.some(function(je,ze){return!je.length&&Pe[ze]})&&_e.complete()}},function(){Pe[ke]=!0,!we[ke].length&&_e.complete()}))},Re=0;!_e.closed&&Re<ve.length;Re++)Ie(Re);return function(){we=Pe=null}}):EMPTY}function bufferCount(oe,he){return he===void 0&&(he=null),he=he??oe,operate(function(ye,ve){var _e=[],we=0;ye.subscribe(createOperatorSubscriber(ve,function(Pe){var Ie,Re,ke,Fe,Me=null;we++%he===0&&_e.push([]);try{for(var je=__values(_e),ze=je.next();!ze.done;ze=je.next()){var He=ze.value;He.push(Pe),oe<=He.length&&(Me=Me??[],Me.push(He))}}catch(tt){Ie={error:tt}}finally{try{ze&&!ze.done&&(Re=je.return)&&Re.call(je)}finally{if(Ie)throw Ie.error}}if(Me)try{for(var Ve=__values(Me),Qe=Ve.next();!Qe.done;Qe=Ve.next()){var He=Qe.value;arrRemove(_e,He),ve.next(He)}}catch(tt){ke={error:tt}}finally{try{Qe&&!Qe.done&&(Fe=Ve.return)&&Fe.call(Ve)}finally{if(ke)throw ke.error}}},function(){var Pe,Ie;try{for(var Re=__values(_e),ke=Re.next();!ke.done;ke=Re.next()){var Fe=ke.value;ve.next(Fe)}}catch(Me){Pe={error:Me}}finally{try{ke&&!ke.done&&(Ie=Re.return)&&Ie.call(Re)}finally{if(Pe)throw Pe.error}}ve.complete()},void 0,function(){_e=null}))})}function catchError(oe){return operate(function(he,ye){var ve=null,_e=!1,we;ve=he.subscribe(createOperatorSubscriber(ye,void 0,void 0,function(Pe){we=innerFrom(oe(Pe,catchError(oe)(he))),ve?(ve.unsubscribe(),ve=null,we.subscribe(ye)):_e=!0})),_e&&(ve.unsubscribe(),ve=null,we.subscribe(ye))})}function scanInternals(oe,he,ye,ve,_e){return function(we,Pe){var Ie=ye,Re=he,ke=0;we.subscribe(createOperatorSubscriber(Pe,function(Fe){var Me=ke++;Re=Ie?oe(Re,Fe,Me):(Ie=!0,Fe),ve&&Pe.next(Re)},_e&&function(){Ie&&Pe.next(Re),Pe.complete()}))}}function concatMap(oe,he){return isFunction$4(he)?mergeMap(oe,he,1):mergeMap(oe,1)}function defaultIfEmpty(oe){return operate(function(he,ye){var ve=!1;he.subscribe(createOperatorSubscriber(ye,function(_e){ve=!0,ye.next(_e)},function(){ve||ye.next(oe),ye.complete()}))})}function take(oe){return oe<=0?function(){return EMPTY}:operate(function(he,ye){var ve=0;he.subscribe(createOperatorSubscriber(ye,function(_e){++ve<=oe&&(ye.next(_e),oe<=ve&&ye.complete())}))})}function ignoreElements(){return operate(function(oe,he){oe.subscribe(createOperatorSubscriber(he,noop$1))})}function mapTo(oe){return map(function(){return oe})}function delayWhen(oe,he){return he?function(ye){return concat$1(he.pipe(take(1),ignoreElements()),ye.pipe(delayWhen(oe)))}:mergeMap(function(ye,ve){return oe(ye,ve).pipe(take(1),mapTo(ye))})}function delay(oe,he){he===void 0&&(he=asyncScheduler);var ye=timer(oe,he);return delayWhen(function(){return ye})}function distinctUntilChanged(oe,he){return he===void 0&&(he=identity$4),oe=oe??defaultCompare,operate(function(ye,ve){var _e,we=!0;ye.subscribe(createOperatorSubscriber(ve,function(Pe){var Ie=he(Pe);(we||!oe(_e,Ie))&&(we=!1,_e=Ie,ve.next(Pe))}))})}function defaultCompare(oe,he){return oe===he}function throwIfEmpty(oe){return oe===void 0&&(oe=defaultErrorFactory),operate(function(he,ye){var ve=!1;he.subscribe(createOperatorSubscriber(ye,function(_e){ve=!0,ye.next(_e)},function(){return ve?ye.complete():ye.error(oe())}))})}function defaultErrorFactory(){return new EmptyError}function find$1(oe,he){return operate(createFind(oe,he,"value"))}function createFind(oe,he,ye){var ve=ye==="index";return function(_e,we){var Pe=0;_e.subscribe(createOperatorSubscriber(we,function(Ie){var Re=Pe++;oe.call(he,Ie,Re,_e)&&(we.next(ve?Re:Ie),we.complete())},function(){we.next(ve?-1:void 0),we.complete()}))}}function first(oe,he){var ye=arguments.length>=2;return function(ve){return ve.pipe(oe?filter(function(_e,we){return oe(_e,we,ve)}):identity$4,take(1),ye?defaultIfEmpty(he):throwIfEmpty(function(){return new EmptyError}))}}function pairwise(){return operate(function(oe,he){var ye,ve=!1;oe.subscribe(createOperatorSubscriber(he,function(_e){var we=ye;ye=_e,ve&&he.next([we,_e]),ve=!0}))})}function scan(oe,he){return operate(scanInternals(oe,he,arguments.length>=2,!0))}function share$1(oe){oe===void 0&&(oe={});var he=oe.connector,ye=he===void 0?function(){return new Subject}:he,ve=oe.resetOnError,_e=ve===void 0?!0:ve,we=oe.resetOnComplete,Pe=we===void 0?!0:we,Ie=oe.resetOnRefCountZero,Re=Ie===void 0?!0:Ie;return function(ke){var Fe=null,Me=null,je=null,ze=0,He=!1,Ve=!1,Qe=function(){Me?.unsubscribe(),Me=null},tt=function(){Qe(),Fe=je=null,He=Ve=!1},nt=function(){var ct=Fe;tt(),ct?.unsubscribe()};return operate(function(ct,vt){ze++,!Ve&&!He&&Qe();var ht=je=je??ye();vt.add(function(){ze--,ze===0&&!Ve&&!He&&(Me=handleReset(nt,Re))}),ht.subscribe(vt),Fe||(Fe=new SafeSubscriber({next:function(lt){return ht.next(lt)},error:function(lt){Ve=!0,Qe(),Me=handleReset(tt,_e,lt),ht.error(lt)},complete:function(){He=!0,Qe(),Me=handleReset(tt,Pe),ht.complete()}}),from(ct).subscribe(Fe))})(ke)}}function handleReset(oe,he){for(var ye=[],ve=2;ve<arguments.length;ve++)ye[ve-2]=arguments[ve];return he===!0?(oe(),null):he===!1?null:he.apply(void 0,__spreadArray$3([],__read$5(ye))).pipe(take(1)).subscribe(function(){return oe()})}function shareReplay(oe,he,ye){var ve,_e,we,Pe,Ie=!1;return oe&&typeof oe=="object"?(ve=oe.bufferSize,Pe=ve===void 0?1/0:ve,_e=oe.windowTime,he=_e===void 0?1/0:_e,we=oe.refCount,Ie=we===void 0?!1:we,ye=oe.scheduler):Pe=oe??1/0,share$1({connector:function(){return new ReplaySubject(Pe,he,ye)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ie})}function tap(oe,he,ye){var ve=isFunction$4(oe)||he||ye?{next:oe,error:he,complete:ye}:oe;return ve?operate(function(_e,we){var Pe;(Pe=ve.subscribe)===null||Pe===void 0||Pe.call(ve);var Ie=!0;_e.subscribe(createOperatorSubscriber(we,function(Re){var ke;(ke=ve.next)===null||ke===void 0||ke.call(ve,Re),we.next(Re)},function(){var Re;Ie=!1,(Re=ve.complete)===null||Re===void 0||Re.call(ve),we.complete()},function(Re){var ke;Ie=!1,(ke=ve.error)===null||ke===void 0||ke.call(ve,Re),we.error(Re)},function(){var Re,ke;Ie&&((Re=ve.unsubscribe)===null||Re===void 0||Re.call(ve)),(ke=ve.finalize)===null||ke===void 0||ke.call(ve)}))}):identity$4}var defaultThrottleConfig={leading:!0,trailing:!1};function throttle$1(oe,he){return he===void 0&&(he=defaultThrottleConfig),operate(function(ye,ve){var _e=he.leading,we=he.trailing,Pe=!1,Ie=null,Re=null,ke=!1,Fe=function(){Re?.unsubscribe(),Re=null,we&&(ze(),ke&&ve.complete())},Me=function(){Re=null,ke&&ve.complete()},je=function(He){return Re=innerFrom(oe(He)).subscribe(createOperatorSubscriber(ve,Fe,Me))},ze=function(){if(Pe){Pe=!1;var He=Ie;Ie=null,ve.next(He),!ke&&je(He)}};ye.subscribe(createOperatorSubscriber(ve,function(He){Pe=!0,Ie=He,!(Re&&!Re.closed)&&(_e?ze():je(He))},function(){ke=!0,!(we&&Pe&&Re&&!Re.closed)&&ve.complete()}))})}function throttleTime(oe,he,ye){he===void 0&&(he=asyncScheduler),ye===void 0&&(ye=defaultThrottleConfig);var ve=timer(oe,he);return throttle$1(function(){return ve},ye)}function zip(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];return operate(function(ye,ve){zip$1.apply(void 0,__spreadArray$3([ye],__read$5(oe))).subscribe(ve)})}function zipWith(){for(var oe=[],he=0;he<arguments.length;he++)oe[he]=arguments[he];return zip.apply(void 0,__spreadArray$3([],__read$5(oe)))}function p$8(){let oe=null,he=null,ye=new Promise((ve,_e)=>{oe=we=>ve(we),he=we=>_e(we)});return[oe,he,ye]}function $r(oe,he){let ye={};for(let ve in oe)ye[ve]=he(oe[ve],ve);return ye}function Q$3(oe,he=0){return Math.floor(Math.random()*(oe-he+1))+he}function Yr(oe){return oe[Q$3(oe.length-1)]}function ur(){return pipe(filter(oe=>oe!=null))}async function lr(oe,he=ye=>ye!=null){let[ye,,ve]=p$8();return oe.pipe(first(he)).subscribe(ye),ve}var ue$3=function(){let oe=cr,he=mr;return he(oe(32),8)+"-"+he(oe(16),4)+"-"+he(16384|oe(12),4)+"-"+he(32768|oe(14),4)+"-"+he(oe(48),12)},cr=function(oe){if(oe<0||oe>53)return NaN;let he=0|Math.random()*1073741824;return oe>30?he+(0|Math.random()*(1<<oe-30))*1073741824:he>>>30-oe},mr=function(oe,he){let ye=oe.toString(16),ve=he-ye.length,_e="0";for(;ve>0;ve>>>=1,_e+=_e)ve&1&&(ye=_e+ye);return ye};function U$4(oe,he){return new Promise(ye=>setTimeout(()=>ye(he),oe))}var pe$1=function*(oe=0,he=1,ye=0){for(let ve=0;ve<oe;yield ye+ve++*he);};function y$7(oe){return{...oe,[Symbol.iterator](){return this}}}function I$7(oe,he){return y$7({next(){let{done:ye,value:ve}=oe.next();return{done:ye,value:ye?ve:he(ve)}}})}var xr=2**16-1,h$3=2**15-1;function Ne$1(oe,he){let ye=new A$4;for(let ve of oe.coords())he.get(ve)||ye.set(ve,!0);return ye}function v$4(oe){return oe.x<<16|oe.y&xr}function Y$4(oe){let he=oe>>16,ye=oe<<16>>16;return{x:he,y:ye}}var A$4=class{map;defaultValue;constructor(he){this.map=new Map,this.defaultValue=he?.defaultValue}static from(he){let ye=new A$4;return ye.map=he.map,ye.defaultValue=he.defaultValue,ye}set(he,ye){if(he.x>h$3||he.x<-1*h$3||he.y>h$3||he.y<-1*h$3)throw new Error(`CoordMap only supports coords up to ${h$3}`);return this.map.set(v$4(he),ye)}get(he){return this.map.get(v$4(he))??this.defaultValue}keys(){return this.map.keys()}coords(){return I$7(this.map.keys(),he=>Y$4(he))}entries(){return this.map.entries()}toArray(){return Array.from(this.map.entries()).map(([he,ye])=>[Y$4(he),ye])}values(){return this.map.values()}delete(he){return this.map.delete(v$4(he))}has(he){return this.map.has(v$4(he))}clear(){for(let he of this.map.keys())this.map.delete(he)}get size(){return this.map.size}};function J$2(oe,he){oe.substring(0,2)=="0x"&&(oe=oe.substring(2));let ye=he/4;return oe=oe.padStart(ye,"0"),oe=oe.substring(oe.length-ye),`0x${oe}`}function X$3(oe){return J$2(oe,160)}function yr$1(oe){if(oe<2)throw new Error("Minimum size is 2");if(oe>64)throw new Error("Maximum size is 64");let he=2**(oe-1)-1,ye=-he-1;return ve=>{if(ve=ve<<0,ve>he||ve<ye)throw console.log("value",ve,he,ye,ve>he,ve<ye),new Error(`Int${oe} overflow`);return ve<0?2**oe+ve:ve}}yr$1(32);/**
* UUID.core.js - UUID.js for Minimalists
*
* @file
* @author  LiosK
* @version v4.2.0
* @license Apache License 2.0: Copyright (c) 2010-2018 LiosK
* @url https://github.com/LiosK/UUID.js/blob/master/src/uuid.core.js
*/var P$7=(oe=>(oe[oe.Boolean=0]="Boolean",oe[oe.Number=1]="Number",oe[oe.OptionalNumber=2]="OptionalNumber",oe[oe.BigInt=3]="BigInt",oe[oe.OptionalBigInt=4]="OptionalBigInt",oe[oe.String=5]="String",oe[oe.OptionalString=6]="OptionalString",oe[oe.NumberArray=7]="NumberArray",oe[oe.OptionalNumberArray=8]="OptionalNumberArray",oe[oe.BigIntArray=9]="BigIntArray",oe[oe.OptionalBigIntArray=10]="OptionalBigIntArray",oe[oe.StringArray=11]="StringArray",oe[oe.OptionalStringArray=12]="OptionalStringArray",oe[oe.Entity=13]="Entity",oe[oe.OptionalEntity=14]="OptionalEntity",oe[oe.EntityArray=15]="EntityArray",oe[oe.OptionalEntityArray=16]="OptionalEntityArray",oe[oe.T=17]="T",oe[oe.OptionalT=18]="OptionalT",oe))(P$7||{}),k$3=(oe=>(oe[oe.Enter=0]="Enter",oe[oe.Exit=1]="Exit",oe[oe.Update=2]="Update",oe[oe.Noop=3]="Noop",oe))(k$3||{}),w$6=[14,16,2,8,4,10,6,12,18];function M$6(oe){let he=new Map;function ye(Ie){let Re=he.get(ve(Ie));return Re?new Set([...Re].map(v$3)):new Set}function ve(Ie){return Object.values(Ie).join("/")}function _e(Ie,Re){if(!Re)return;let ke=ve(Re),Fe=he.get(ke);Fe||(Fe=new Set,he.set(ke,Fe)),Fe.add(Ie)}function we(Ie,Re){if(!Re)return;let ke=ve(Re),Fe=he.get(ke);Fe&&Fe.delete(Ie)}for(let Ie of V$4(oe)){let Re=g$5(oe,Ie);_e(p$7(Ie),Re)}let Pe=oe.update$.subscribe(({entity:Ie,value:Re})=>{we(p$7(Ie),Re[1]),_e(p$7(Ie),Re[0])});return oe.world.registerDisposer(()=>Pe?.unsubscribe()),{...oe,getEntitiesWithValue:ye}}function X$2(oe,he){return oe.component===he}function U$3(oe,he){let ye=g$5(he,oe);return{entity:oe,component:he,value:[ye,void 0],type:ye==null?3:0}}function Y$3(oe){return pipe(map(he=>U$3(he,oe)))}function I$6(oe){return"getEntitiesWithValue"in oe}function T$2(oe,he){return Object.keys(oe.schema).every(ye=>ye in he)}function b$3(oe){return oe.metadata?.componentName??oe.metadata?.tableName??oe.metadata?.tableId??oe.metadata?.contractId??oe.id}function ie$1(oe,he,ye){if(Object.keys(he).length===0)throw new Error("Component schema must have at least one key");let ve=ye?.id??ue$3(),_e=$r(he,()=>new Map),we=new Subject,Pe=ye?.metadata,Ie={values:_e,schema:he,id:ve,update$:we,metadata:Pe,entities:()=>I$7(Object.values(_e)[0].keys(),v$3),world:oe};return ye?.indexed&&(Ie=M$6(Ie)),oe.registerComponent(Ie),Ie}function E$5(oe,he,ye,ve={}){let _e=p$7(he),we=g$5(oe,he);for(let[Pe,Ie]of Object.entries(ye))oe.values[Pe]?oe.values[Pe].set(_e,Ie):oe.metadata?.tableId&&/^\d+$/.test(Pe)||console.warn("Component definition for",b$3(oe),"is missing key",Pe,", ignoring value",Ie,"for entity",he,". Existing keys: ",Object.keys(oe.values));ve.skipUpdateStream||oe.update$.next({entity:he,value:[ye,we],component:oe})}function se$3(oe,he,ye,ve,_e={}){let we=g$5(oe,he);if(we===void 0){if(ve===void 0)throw new Error(`Can't update component ${b$3(oe)} without a current value or initial value`);E$5(oe,he,{...ve,...ye},_e)}else E$5(oe,he,{...we,...ye},_e)}function ue$2(oe,he,ye={}){let ve=p$7(he),_e=g$5(oe,he);for(let we of Object.keys(oe.values))oe.values[we].delete(ve);ye.skipUpdateStream||oe.update$.next({entity:he,value:[void 0,_e],component:oe})}function le$1(oe,he){let ye=p$7(he);return Object.values(oe.values)[0].has(ye)}function g$5(oe,he){let ye={},ve=p$7(he),_e=Object.keys(oe.schema);for(let we of _e){let Pe=oe.values[we].get(ve);if(Pe===void 0&&!w$6.includes(oe.schema[we]))return;ye[we]=Pe}return ye}function de$1(oe,he){let ye=g$5(oe,he);if(!ye)throw new Error(`No value for component ${b$3(oe)} on entity ${he}`);return ye}function K$5(oe,he){if(!oe&&!he)return!0;if(!oe||!he)return!1;let ye=!0;for(let ve of Object.keys(oe))if(ye=oe[ve]===he[ve],!ye)return!1;return ye}function me$1(oe,he){return[oe,he]}function ce(oe,he){if(I$6(oe)&&T$2(oe,he))return oe.getEntitiesWithValue(he);let ye=new Set;for(let ve of V$4(oe)){let _e=g$5(oe,ve);K$5(he,_e)&&ye.add(ve)}return ye}function V$4(oe){return oe.entities()}function Se$1(oe){let he=0,ye=new Map,ve=new Map,_e=new Subject;function we(ze,He){ye.set(ze,{update:He,nonce:he++}),je(He.entity,He.value)}function Pe(ze){let He=ye.get(ze)?.update.entity;if(ye.delete(ze),He==null)return;let Ve=[...ye.values()].filter(Qe=>Qe.update.entity===He).sort((Qe,tt)=>Qe.nonce<tt.nonce?-1:1);if(Ve.length>0){let Qe=Ve[Ve.length-1];je(He,Qe.update.value)}else je(He,void 0)}function Ie(ze){let He=g$5(oe,ze),Ve=p$7(ze),Qe=ve.get(Ve);return(He||Qe)&&Qe!==null?{...He,...Qe}:void 0}let Re=ze=>({get(He,Ve){return Ve==="get"?Qe=>{let tt=He.get(Qe),nt=ve.get(Qe);return nt&&nt[ze]!=null?nt[ze]:tt}:Ve==="has"?Qe=>He.has(Qe)||ve.has(Qe):Ve==="keys"?()=>new Set([...He.keys(),...ve.keys()]).values():Reflect.get(He,Ve,He)}}),ke={};for(let ze of Object.keys(oe.values))ke[ze]=new Proxy(oe.values[ze],Re(ze));let Fe=ke,Me=new Proxy(oe,{get(ze,He){return He==="addOverride"?we:He==="removeOverride"?Pe:He==="values"?Fe:He==="update$"?_e:He==="entities"?()=>new Set([...I$7(ve.keys(),v$3),...ze.entities()]).values():Reflect.get(ze,He)},has(ze,He){return He==="addOverride"||He==="removeOverride"?!0:He in ze}});function je(ze,He){let Ve=p$7(ze),Qe=Ie(ze);He!==void 0?ve.set(Ve,He):ve.delete(Ve),_e.next({entity:ze,value:[Ie(ze),Qe],component:Me})}return oe.update$.pipe(filter(ze=>!ve.get(p$7(ze.entity))),map(ze=>({...ze,component:Me}))).subscribe(_e),Me}function A$3(oe,he){return`localcache-${he}-${oe.id}`}function fe(oe,he){localStorage.removeItem(A$3(oe,he))}function pe(oe,he){let{world:ye,update$:ve,values:_e}=oe,we=A$3(oe,he),Pe=0,Ie=Date.now(),Re=localStorage.getItem(we);if(Re){let Fe=JSON.parse(Re),Me={};for(let[je,ze]of Fe)for(let[He,Ve]of ze)Me[He]=Me[He]||{},Me[He][je]=Ve;for(let[je,ze]of Object.entries(Me)){let He=ye.registerEntity({id:je});E$5(oe,He,ze)}console.info("Loading component",b$3(oe),"from local cache.")}let ke=ve.subscribe(()=>{Pe++;let Fe=JSON.stringify(Object.entries($r(_e,Me=>[...Me.entries()].map(je=>[v$3(je[0]),je[1]]))));localStorage.setItem(we,Fe),Pe>200&&console.warn("Component",b$3(oe),"was locally cached",Pe,"times since",new Date(Ie).toLocaleTimeString(),"- the local cache is in an alpha state and should not be used with components that update frequently yet")});return oe.world.registerDisposer(()=>ke?.unsubscribe()),oe}function ge$2(oe,he,ye){let ve=oe.registerEntity(ye??{});if(he)for(let[_e,we]of he)E$5(_e,ve,we);return ve}function p$7(oe){return Symbol.for(oe)}function v$3(oe){return Symbol.keyFor(oe)}var N$5=(oe=>(oe[oe.Has=0]="Has",oe[oe.HasValue=1]="HasValue",oe[oe.Not=2]="Not",oe[oe.NotValue=3]="NotValue",oe[oe.ProxyRead=4]="ProxyRead",oe[oe.ProxyExpand=5]="ProxyExpand",oe))(N$5||{});function xe(oe){return[2,4,6,14,16,8,10,12].includes(oe)}function Te(oe){return[7,8,9,10,11,12,15,16].includes(oe)}function Se(oe){return[1,2].includes(oe)}function ge$1(oe){return[13,14].includes(oe)}function Ye$1(oe){return{type:0,component:oe}}function Ge(oe){return{type:2,component:oe}}function Je$1(oe,he){return{type:1,component:oe,value:he}}function Ke$2(oe,he){return{type:3,component:oe,value:he}}function Xe(oe,he){return{type:4,component:oe,depth:he}}function Ze(oe,he){return{type:5,component:oe,depth:he}}function c$3(oe,he){if(he.type===0)return le$1(he.component,oe);if(he.type===1)return K$5(he.value,g$5(he.component,oe));if(he.type===2)return!le$1(he.component,oe);if(he.type===3)return!K$5(he.value,g$5(he.component,oe));throw new Error("Unknown query fragment")}function G$4(oe){return oe.type===0||oe.type==1}function P$6(oe){return oe.type===2||oe.type==3}function J$1(oe){return oe.type===5||oe.type==4}function U$2(oe,he){return oe&&G$4(he)||!oe&&P$6(he)}function I$5(oe,he,ye){let ve=oe,_e=!1;for(let we=0;we<ye.depth;we++){let Pe=g$5(ye.component,ve);if(!Pe)return null;let Ie=Pe.value;if(!Ie)return null;if(ve=Ie,_e=c$3(ve,he),U$2(_e,he))return _e}return _e}function Q$2(oe,he,ye){if(ye===0)return new Set;let ve=ce(he,{value:oe});if(ye===1)return ve;let _e=[...ve].map(we=>[...Q$2(we,he,ye-1)]).flat();return new Set([...ve,..._e])}function A$2(oe,he){let ye=he?new Set([...he]):void 0,ve,_e;for(let we=0;we<oe.length;we++){let Pe=oe[we];if(J$1(Pe))Pe.type===4&&(ve=Pe),Pe.type===5&&(_e=Pe);else if(ye)for(let Ie of[...ye]){let Re=c$3(Ie,Pe);if(ve&&ve.depth>0&&!U$2(Re,Pe)&&(Re=I$5(Ie,Pe,ve)??Re),Re||ye.delete(Ie),_e&&_e.depth>0){let ke=Q$2(Ie,_e.component,_e.depth);for(let Fe of ke)(c$3(Fe,Pe)||ve&&ve.depth>0&&I$5(Fe,Pe,ve))&&ye.add(Fe)}}else{if(P$6(Pe))throw new Error("First EntityQueryFragment must be Has or HasValue");if(ye=Pe.type===0?new Set([...V$4(Pe.component)]):ce(Pe.component,Pe.value),_e&&_e.depth>0)for(let Ie of[...ye])for(let Re of Q$2(Ie,_e.component,_e.depth))ye.add(Re)}}return ye??new Set}function f$7(oe,he){let ye=he?.runOnInit||he?.initialSet?A$2(oe,he.initialSet):new Set,ve=observable$2(ye),_e=from(ve).pipe(Y$3(oe[0].component)),we=oe.findIndex(Ie=>[5,4].includes(Ie.type))!==-1,Pe=merge(...oe.map(Ie=>Ie.component.update$)).pipe(we?concatMap(Ie=>{let Re=A$2(oe,he?.initialSet),ke=[];for(let Fe of ve)Re.has(Fe)||(ve.delete(Fe),ke.push({entity:Fe,type:1,component:Ie.component,value:[void 0,void 0]}));for(let Fe of Re)ve.has(Fe)?ke.push({entity:Fe,type:2,component:Ie.component,value:[g$5(Ie.component,Fe),void 0]}):(ve.add(Fe),ke.push({entity:Fe,type:0,component:Ie.component,value:[g$5(Ie.component,Fe),void 0]}));return of(...ke)}):map(Ie=>{if(ve.has(Ie.entity))return oe.filter(Re=>Re.component.id===Ie.component.id).every(Re=>c$3(Ie.entity,Re))?{...Ie,type:2}:(ve.delete(Ie.entity),{...Ie,type:1});if(oe.every(Re=>c$3(Ie.entity,Re)))return ve.add(Ie.entity),{...Ie,type:0}}),ur());return{matching:ve,update$:concat$1(_e,Pe).pipe(share$1())}}function H$4(oe,he){return f$7(oe,he).update$.pipe(filter(ye=>ye.type===2))}function w$5(oe,he){return f$7(oe,he).update$.pipe(filter(ye=>ye.type===0))}function k$2(oe,he){return f$7(oe,he).update$.pipe(filter(ye=>ye.type===1))}function x$4(oe,he,ye){let ve=he.subscribe(ye);oe.registerDisposer(()=>ve?.unsubscribe())}function pt(oe,he,ye,ve={runOnInit:!0}){x$4(oe,H$4(he,ve),ye)}function at(oe,he,ye,ve={runOnInit:!0}){x$4(oe,w$5(he,ve),ye)}function yt(oe,he,ye,ve={runOnInit:!0}){x$4(oe,k$2(he,ve),ye)}function _$3(oe,he,ye,ve={runOnInit:!0}){x$4(oe,f$7(he,ve).update$,ye)}function ut$1(oe,he,ye,ve={runOnInit:!0}){let _e=ve?.runOnInit?from(V$4(he)).pipe(Y$3(he)):EMPTY;x$4(oe,concat$1(_e,he.update$),ye)}function mt$1(oe,he,ye,ve,_e={update:!1,runOnInit:!0}){_$3(oe,he,({entity:we,type:Pe})=>{Pe===0&&E$5(ye(we),we,ve(we)),Pe===1&&ue$2(ye(we),we),_e?.update&&Pe===2&&E$5(ye(we),we,ve(we))},_e)}function ft$1(){let oe=new Set,he=[],ye=[];function ve({id:Fe,idSuffix:Me}={}){let je=Fe||oe.size+(Me?"-"+Me:""),ze=p$7(je);return oe.add(ze),je}function _e(){return I$7(oe.values(),v$3)}function we(Fe){he.push(Fe)}function Pe(Fe){for(let[,Me]of ye.filter(je=>!Fe||je[0]===Fe))Me();ye=ye.filter(Me=>Fe&&Me[0]!==Fe)}function Ie(Fe,Me=""){ye.push([Me,Fe])}function Re(Fe){let Me=p$7(Fe);return oe.has(Me)}function ke(Fe){for(let Me of he)le$1(Me,Fe)&&ue$2(Me,Fe);oe.delete(p$7(Fe))}return{registerEntity:ve,components:he,registerComponent:we,dispose:Pe,registerDisposer:Ie,hasEntity:Re,getEntities:_e,entitySymbols:oe,deleteEntity:ke}}function xt(oe,he){return{...oe,registerDisposer:ye=>oe.registerDisposer(ye,he),dispose:()=>oe.dispose(he)}}function Tt(oe,he){return oe.components.filter(ye=>le$1(ye,he))}const recs=Object.freeze(Object.defineProperty({__proto__:null,Has:Ye$1,HasValue:Je$1,Not:Ge,NotValue:Ke$2,OptionalTypes:w$6,ProxyExpand:Ze,ProxyRead:Xe,QueryFragmentType:N$5,Type:P$7,UpdateType:k$3,clearLocalCache:fe,componentValueEquals:K$5,createEntity:ge$2,createIndexer:M$6,createLocalCache:pe,createWorld:ft$1,defineComponent:ie$1,defineComponentSystem:ut$1,defineEnterQuery:w$5,defineEnterSystem:at,defineExitQuery:k$2,defineExitSystem:yt,defineQuery:f$7,defineRxSystem:x$4,defineSyncSystem:mt$1,defineSystem:_$3,defineUpdateQuery:H$4,defineUpdateSystem:pt,getChildEntities:Q$2,getComponentEntities:V$4,getComponentValue:g$5,getComponentValueStrict:de$1,getEntitiesWithValue:ce,getEntityComponents:Tt,getEntityString:v$3,getEntitySymbol:p$7,hasComponent:le$1,isArrayType:Te,isComponentUpdate:X$2,isEntityType:ge$1,isFullComponentValue:T$2,isIndexer:I$6,isNumberType:Se,isOptionalType:xe,namespaceWorld:xt,overridableComponent:Se$1,removeComponent:ue$2,runQuery:A$2,setComponent:E$5,toUpdate:U$3,toUpdateStream:Y$3,updateComponent:se$3,withValue:me$1},Symbol.toStringTag,{value:"Module"}));var lodash$1={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash$1.exports;(function(oe,he){(function(){var ye,ve="4.17.21",_e=200,we="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",Pe="Expected a function",Ie="Invalid `variable` option passed into `_.template`",Re="__lodash_hash_undefined__",ke=500,Fe="__lodash_placeholder__",Me=1,je=2,ze=4,He=1,Ve=2,Qe=1,tt=2,nt=4,ct=8,vt=16,ht=32,lt=64,St=128,Rt=256,er=512,At=30,Bt="...",ar=800,tr=16,wr=1,Pt=2,Ct=3,Mt=1/0,Vt=9007199254740991,Qt=17976931348623157e292,dr=0/0,sr=4294967295,Or=sr-1,cn=sr>>>1,ln=[["ary",St],["bind",Qe],["bindKey",tt],["curry",ct],["curryRight",vt],["flip",er],["partial",ht],["partialRight",lt],["rearg",Rt]],jr="[object Arguments]",dn="[object Array]",fn="[object AsyncFunction]",gn="[object Boolean]",Ur="[object Date]",Pn="[object DOMException]",jn="[object Error]",Rr="[object Function]",mn="[object GeneratorFunction]",Tr="[object Map]",In="[object Number]",Ii="[object Null]",bn="[object Object]",Ys="[object Promise]",Ac="[object Proxy]",li="[object RegExp]",nn="[object Set]",di="[object String]",Oi="[object Symbol]",xc="[object Undefined]",fi="[object WeakMap]",Tc="[object WeakSet]",hi="[object ArrayBuffer]",Wn="[object DataView]",Ea="[object Float32Array]",Aa="[object Float64Array]",xa="[object Int8Array]",Ta="[object Int16Array]",Sa="[object Int32Array]",Pa="[object Uint8Array]",Ia="[object Uint8ClampedArray]",Oa="[object Uint16Array]",Ra="[object Uint32Array]",Sc=/\b__p \+= '';/g,Pc=/\b(__p \+=) '' \+/g,Ic=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Vs=/&(?:amp|lt|gt|quot|#39);/g,Ws=/[&<>"']/g,Oc=RegExp(Vs.source),Rc=RegExp(Ws.source),Cc=/<%-([\s\S]+?)%>/g,Nc=/<%([\s\S]+?)%>/g,Ks=/<%=([\s\S]+?)%>/g,Bc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kc=/^\w*$/,Fc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ca=/[\\^$.*+?()[\]{}|]/g,Lc=RegExp(Ca.source),Na=/^\s+/,Mc=/\s/,jc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Dc=/\{\n\/\* \[wrapped with (.+)\] \*/,Uc=/,? & /,Zc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hc=/[()=,{}\[\]\/\s]/,zc=/\\(\\)?/g,Gc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qs=/\w*$/,qc=/^[-+]0x[0-9a-f]+$/i,Yc=/^0b[01]+$/i,Vc=/^\[object .+?Constructor\]$/,Wc=/^0o[0-7]+$/i,Kc=/^(?:0|[1-9]\d*)$/,Qc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ri=/($^)/,Jc=/['\n\r\u2028\u2029\\]/g,Ci="\\ud800-\\udfff",Xc="\\u0300-\\u036f",el="\\ufe20-\\ufe2f",tl="\\u20d0-\\u20ff",Js=Xc+el+tl,Xs="\\u2700-\\u27bf",eo="a-z\\xdf-\\xf6\\xf8-\\xff",rl="\\xac\\xb1\\xd7\\xf7",nl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",il="\\u2000-\\u206f",al=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",to="A-Z\\xc0-\\xd6\\xd8-\\xde",ro="\\ufe0e\\ufe0f",no=rl+nl+il+al,Ba="['’]",sl="["+Ci+"]",io="["+no+"]",Bi="["+Js+"]",ao="\\d+",ol="["+Xs+"]",so="["+eo+"]",oo="[^"+Ci+no+ao+Xs+eo+to+"]",ka="\\ud83c[\\udffb-\\udfff]",ul="(?:"+Bi+"|"+ka+")",uo="[^"+Ci+"]",Fa="(?:\\ud83c[\\udde6-\\uddff]){2}",La="[\\ud800-\\udbff][\\udc00-\\udfff]",Kn="["+to+"]",co="\\u200d",lo="(?:"+so+"|"+oo+")",cl="(?:"+Kn+"|"+oo+")",fo="(?:"+Ba+"(?:d|ll|m|re|s|t|ve))?",ho="(?:"+Ba+"(?:D|LL|M|RE|S|T|VE))?",po=ul+"?",yo="["+ro+"]?",ll="(?:"+co+"(?:"+[uo,Fa,La].join("|")+")"+yo+po+")*",dl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",go=yo+po+ll,hl="(?:"+[ol,Fa,La].join("|")+")"+go,pl="(?:"+[uo+Bi+"?",Bi,Fa,La,sl].join("|")+")",yl=RegExp(Ba,"g"),gl=RegExp(Bi,"g"),Ma=RegExp(ka+"(?="+ka+")|"+pl+go,"g"),ml=RegExp([Kn+"?"+so+"+"+fo+"(?="+[io,Kn,"$"].join("|")+")",cl+"+"+ho+"(?="+[io,Kn+lo,"$"].join("|")+")",Kn+"?"+lo+"+"+fo,Kn+"+"+ho,fl,dl,ao,hl].join("|"),"g"),bl=RegExp("["+co+Ci+Js+ro+"]"),vl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_l=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$l=-1,ir={};ir[Ea]=ir[Aa]=ir[xa]=ir[Ta]=ir[Sa]=ir[Pa]=ir[Ia]=ir[Oa]=ir[Ra]=!0,ir[jr]=ir[dn]=ir[hi]=ir[gn]=ir[Wn]=ir[Ur]=ir[jn]=ir[Rr]=ir[Tr]=ir[In]=ir[bn]=ir[li]=ir[nn]=ir[di]=ir[fi]=!1;var nr={};nr[jr]=nr[dn]=nr[hi]=nr[Wn]=nr[gn]=nr[Ur]=nr[Ea]=nr[Aa]=nr[xa]=nr[Ta]=nr[Sa]=nr[Tr]=nr[In]=nr[bn]=nr[li]=nr[nn]=nr[di]=nr[Oi]=nr[Pa]=nr[Ia]=nr[Oa]=nr[Ra]=!0,nr[jn]=nr[Rr]=nr[fi]=!1;var wl={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},El={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Al={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Tl=parseFloat,Sl=parseInt,mo=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Pl=typeof self=="object"&&self&&self.Object===Object&&self,Er=mo||Pl||Function("return this")(),ja=he&&!he.nodeType&&he,Dn=ja&&!0&&oe&&!oe.nodeType&&oe,bo=Dn&&Dn.exports===ja,Da=bo&&mo.process,Wr=function(){try{var it=Dn&&Dn.require&&Dn.require("util").types;return it||Da&&Da.binding&&Da.binding("util")}catch{}}(),vo=Wr&&Wr.isArrayBuffer,_o=Wr&&Wr.isDate,$o=Wr&&Wr.isMap,wo=Wr&&Wr.isRegExp,Eo=Wr&&Wr.isSet,Ao=Wr&&Wr.isTypedArray;function Zr(it,bt,dt){switch(dt.length){case 0:return it.call(bt);case 1:return it.call(bt,dt[0]);case 2:return it.call(bt,dt[0],dt[1]);case 3:return it.call(bt,dt[0],dt[1],dt[2])}return it.apply(bt,dt)}function Il(it,bt,dt,Ot){for(var jt=-1,Wt=it==null?0:it.length;++jt<Wt;){var br=it[jt];bt(Ot,br,dt(br),it)}return Ot}function Kr(it,bt){for(var dt=-1,Ot=it==null?0:it.length;++dt<Ot&&bt(it[dt],dt,it)!==!1;);return it}function Ol(it,bt){for(var dt=it==null?0:it.length;dt--&&bt(it[dt],dt,it)!==!1;);return it}function xo(it,bt){for(var dt=-1,Ot=it==null?0:it.length;++dt<Ot;)if(!bt(it[dt],dt,it))return!1;return!0}function On(it,bt){for(var dt=-1,Ot=it==null?0:it.length,jt=0,Wt=[];++dt<Ot;){var br=it[dt];bt(br,dt,it)&&(Wt[jt++]=br)}return Wt}function ki(it,bt){var dt=it==null?0:it.length;return!!dt&&Qn(it,bt,0)>-1}function Ua(it,bt,dt){for(var Ot=-1,jt=it==null?0:it.length;++Ot<jt;)if(dt(bt,it[Ot]))return!0;return!1}function or(it,bt){for(var dt=-1,Ot=it==null?0:it.length,jt=Array(Ot);++dt<Ot;)jt[dt]=bt(it[dt],dt,it);return jt}function Rn(it,bt){for(var dt=-1,Ot=bt.length,jt=it.length;++dt<Ot;)it[jt+dt]=bt[dt];return it}function Za(it,bt,dt,Ot){var jt=-1,Wt=it==null?0:it.length;for(Ot&&Wt&&(dt=it[++jt]);++jt<Wt;)dt=bt(dt,it[jt],jt,it);return dt}function Rl(it,bt,dt,Ot){var jt=it==null?0:it.length;for(Ot&&jt&&(dt=it[--jt]);jt--;)dt=bt(dt,it[jt],jt,it);return dt}function Ha(it,bt){for(var dt=-1,Ot=it==null?0:it.length;++dt<Ot;)if(bt(it[dt],dt,it))return!0;return!1}var Cl=za("length");function Nl(it){return it.split("")}function Bl(it){return it.match(Zc)||[]}function To(it,bt,dt){var Ot;return dt(it,function(jt,Wt,br){if(bt(jt,Wt,br))return Ot=Wt,!1}),Ot}function Fi(it,bt,dt,Ot){for(var jt=it.length,Wt=dt+(Ot?1:-1);Ot?Wt--:++Wt<jt;)if(bt(it[Wt],Wt,it))return Wt;return-1}function Qn(it,bt,dt){return bt===bt?ql(it,bt,dt):Fi(it,So,dt)}function kl(it,bt,dt,Ot){for(var jt=dt-1,Wt=it.length;++jt<Wt;)if(Ot(it[jt],bt))return jt;return-1}function So(it){return it!==it}function Po(it,bt){var dt=it==null?0:it.length;return dt?qa(it,bt)/dt:dr}function za(it){return function(bt){return bt==null?ye:bt[it]}}function Ga(it){return function(bt){return it==null?ye:it[bt]}}function Io(it,bt,dt,Ot,jt){return jt(it,function(Wt,br,rr){dt=Ot?(Ot=!1,Wt):bt(dt,Wt,br,rr)}),dt}function Fl(it,bt){var dt=it.length;for(it.sort(bt);dt--;)it[dt]=it[dt].value;return it}function qa(it,bt){for(var dt,Ot=-1,jt=it.length;++Ot<jt;){var Wt=bt(it[Ot]);Wt!==ye&&(dt=dt===ye?Wt:dt+Wt)}return dt}function Ya(it,bt){for(var dt=-1,Ot=Array(it);++dt<it;)Ot[dt]=bt(dt);return Ot}function Ll(it,bt){return or(bt,function(dt){return[dt,it[dt]]})}function Oo(it){return it&&it.slice(0,Bo(it)+1).replace(Na,"")}function Hr(it){return function(bt){return it(bt)}}function Va(it,bt){return or(bt,function(dt){return it[dt]})}function pi(it,bt){return it.has(bt)}function Ro(it,bt){for(var dt=-1,Ot=it.length;++dt<Ot&&Qn(bt,it[dt],0)>-1;);return dt}function Co(it,bt){for(var dt=it.length;dt--&&Qn(bt,it[dt],0)>-1;);return dt}function Ml(it,bt){for(var dt=it.length,Ot=0;dt--;)it[dt]===bt&&++Ot;return Ot}var jl=Ga(wl),Dl=Ga(El);function Ul(it){return"\\"+xl[it]}function Zl(it,bt){return it==null?ye:it[bt]}function Jn(it){return bl.test(it)}function Hl(it){return vl.test(it)}function zl(it){for(var bt,dt=[];!(bt=it.next()).done;)dt.push(bt.value);return dt}function Wa(it){var bt=-1,dt=Array(it.size);return it.forEach(function(Ot,jt){dt[++bt]=[jt,Ot]}),dt}function No(it,bt){return function(dt){return it(bt(dt))}}function Cn(it,bt){for(var dt=-1,Ot=it.length,jt=0,Wt=[];++dt<Ot;){var br=it[dt];(br===bt||br===Fe)&&(it[dt]=Fe,Wt[jt++]=dt)}return Wt}function Li(it){var bt=-1,dt=Array(it.size);return it.forEach(function(Ot){dt[++bt]=Ot}),dt}function Gl(it){var bt=-1,dt=Array(it.size);return it.forEach(function(Ot){dt[++bt]=[Ot,Ot]}),dt}function ql(it,bt,dt){for(var Ot=dt-1,jt=it.length;++Ot<jt;)if(it[Ot]===bt)return Ot;return-1}function Yl(it,bt,dt){for(var Ot=dt+1;Ot--;)if(it[Ot]===bt)return Ot;return Ot}function Xn(it){return Jn(it)?Wl(it):Cl(it)}function an(it){return Jn(it)?Kl(it):Nl(it)}function Bo(it){for(var bt=it.length;bt--&&Mc.test(it.charAt(bt)););return bt}var Vl=Ga(Al);function Wl(it){for(var bt=Ma.lastIndex=0;Ma.test(it);)++bt;return bt}function Kl(it){return it.match(Ma)||[]}function Ql(it){return it.match(ml)||[]}var Jl=function it(bt){bt=bt==null?Er:ei.defaults(Er.Object(),bt,ei.pick(Er,_l));var dt=bt.Array,Ot=bt.Date,jt=bt.Error,Wt=bt.Function,br=bt.Math,rr=bt.Object,Ka=bt.RegExp,Xl=bt.String,Qr=bt.TypeError,Mi=dt.prototype,ed=Wt.prototype,ti=rr.prototype,ji=bt["__core-js_shared__"],Di=ed.toString,Jt=ti.hasOwnProperty,td=0,ko=function(){var $e=/[^.]+$/.exec(ji&&ji.keys&&ji.keys.IE_PROTO||"");return $e?"Symbol(src)_1."+$e:""}(),Ui=ti.toString,rd=Di.call(rr),nd=Er._,ad=Ka("^"+Di.call(Jt).replace(Ca,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zi=bo?bt.Buffer:ye,Nn=bt.Symbol,Hi=bt.Uint8Array,Fo=Zi?Zi.allocUnsafe:ye,qi=No(rr.getPrototypeOf,rr),Lo=rr.create,Mo=ti.propertyIsEnumerable,Yi=Mi.splice,jo=Nn?Nn.isConcatSpreadable:ye,yi=Nn?Nn.iterator:ye,Un=Nn?Nn.toStringTag:ye,Vi=function(){try{var $e=qn(rr,"defineProperty");return $e({},"",{}),$e}catch{}}(),sd=bt.clearTimeout!==Er.clearTimeout&&bt.clearTimeout,od=Ot&&Ot.now!==Er.Date.now&&Ot.now,ud=bt.setTimeout!==Er.setTimeout&&bt.setTimeout,Wi=br.ceil,Ki=br.floor,Qa=rr.getOwnPropertySymbols,cd=Zi?Zi.isBuffer:ye,Do=bt.isFinite,ld=Mi.join,dd=No(rr.keys,rr),vr=br.max,Sr=br.min,fd=Ot.now,hd=bt.parseInt,Uo=br.random,pd=Mi.reverse,Ja=qn(bt,"DataView"),gi=qn(bt,"Map"),Xa=qn(bt,"Promise"),ri=qn(bt,"Set"),mi=qn(bt,"WeakMap"),bi=qn(rr,"create"),Qi=mi&&new mi,ni={},yd=Yn(Ja),gd=Yn(gi),md=Yn(Xa),bd=Yn(ri),vd=Yn(mi),Ji=Nn?Nn.prototype:ye,vi=Ji?Ji.valueOf:ye,Zo=Ji?Ji.toString:ye;function qe($e){if(hr($e)&&!Dt($e)&&!($e instanceof qt)){if($e instanceof Jr)return $e;if(Jt.call($e,"__wrapped__"))return Hu($e)}return new Jr($e)}var ii=function(){function $e(){}return function(Ae){if(!fr(Ae))return{};if(Lo)return Lo(Ae);$e.prototype=Ae;var Be=new $e;return $e.prototype=ye,Be}}();function Xi(){}function Jr($e,Ae){this.__wrapped__=$e,this.__actions__=[],this.__chain__=!!Ae,this.__index__=0,this.__values__=ye}qe.templateSettings={escape:Cc,evaluate:Nc,interpolate:Ks,variable:"",imports:{_:qe}},qe.prototype=Xi.prototype,qe.prototype.constructor=qe,Jr.prototype=ii(Xi.prototype),Jr.prototype.constructor=Jr;function qt($e){this.__wrapped__=$e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=sr,this.__views__=[]}function _d(){var $e=new qt(this.__wrapped__);return $e.__actions__=kr(this.__actions__),$e.__dir__=this.__dir__,$e.__filtered__=this.__filtered__,$e.__iteratees__=kr(this.__iteratees__),$e.__takeCount__=this.__takeCount__,$e.__views__=kr(this.__views__),$e}function $d(){if(this.__filtered__){var $e=new qt(this);$e.__dir__=-1,$e.__filtered__=!0}else $e=this.clone(),$e.__dir__*=-1;return $e}function wd(){var $e=this.__wrapped__.value(),Ae=this.__dir__,Be=Dt($e),Le=Ae<0,De=Be?$e.length:0,We=Ff(0,De,this.__views__),et=We.start,rt=We.end,st=rt-et,_t=Le?rt:et-1,$t=this.__iteratees__,wt=$t.length,It=0,Nt=Sr(st,this.__takeCount__);if(!Be||!Le&&De==st&&Nt==st)return fu($e,this.__actions__);var Ft=[];e:for(;st--&&It<Nt;){_t+=Ae;for(var Zt=-1,Lt=$e[_t];++Zt<wt;){var Gt=$t[Zt],Yt=Gt.iteratee,qr=Gt.type,Br=Yt(Lt);if(qr==Pt)Lt=Br;else if(!Br){if(qr==wr)continue e;break e}}Ft[It++]=Lt}return Ft}qt.prototype=ii(Xi.prototype),qt.prototype.constructor=qt;function Zn($e){var Ae=-1,Be=$e==null?0:$e.length;for(this.clear();++Ae<Be;){var Le=$e[Ae];this.set(Le[0],Le[1])}}function Ed(){this.__data__=bi?bi(null):{},this.size=0}function Ad($e){var Ae=this.has($e)&&delete this.__data__[$e];return this.size-=Ae?1:0,Ae}function xd($e){var Ae=this.__data__;if(bi){var Be=Ae[$e];return Be===Re?ye:Be}return Jt.call(Ae,$e)?Ae[$e]:ye}function Td($e){var Ae=this.__data__;return bi?Ae[$e]!==ye:Jt.call(Ae,$e)}function Sd($e,Ae){var Be=this.__data__;return this.size+=this.has($e)?0:1,Be[$e]=bi&&Ae===ye?Re:Ae,this}Zn.prototype.clear=Ed,Zn.prototype.delete=Ad,Zn.prototype.get=xd,Zn.prototype.has=Td,Zn.prototype.set=Sd;function vn($e){var Ae=-1,Be=$e==null?0:$e.length;for(this.clear();++Ae<Be;){var Le=$e[Ae];this.set(Le[0],Le[1])}}function Pd(){this.__data__=[],this.size=0}function Id($e){var Ae=this.__data__,Be=ea(Ae,$e);if(Be<0)return!1;var Le=Ae.length-1;return Be==Le?Ae.pop():Yi.call(Ae,Be,1),--this.size,!0}function Od($e){var Ae=this.__data__,Be=ea(Ae,$e);return Be<0?ye:Ae[Be][1]}function Rd($e){return ea(this.__data__,$e)>-1}function Cd($e,Ae){var Be=this.__data__,Le=ea(Be,$e);return Le<0?(++this.size,Be.push([$e,Ae])):Be[Le][1]=Ae,this}vn.prototype.clear=Pd,vn.prototype.delete=Id,vn.prototype.get=Od,vn.prototype.has=Rd,vn.prototype.set=Cd;function _n($e){var Ae=-1,Be=$e==null?0:$e.length;for(this.clear();++Ae<Be;){var Le=$e[Ae];this.set(Le[0],Le[1])}}function Nd(){this.size=0,this.__data__={hash:new Zn,map:new(gi||vn),string:new Zn}}function Bd($e){var Ae=fa(this,$e).delete($e);return this.size-=Ae?1:0,Ae}function kd($e){return fa(this,$e).get($e)}function Fd($e){return fa(this,$e).has($e)}function Ld($e,Ae){var Be=fa(this,$e),Le=Be.size;return Be.set($e,Ae),this.size+=Be.size==Le?0:1,this}_n.prototype.clear=Nd,_n.prototype.delete=Bd,_n.prototype.get=kd,_n.prototype.has=Fd,_n.prototype.set=Ld;function Hn($e){var Ae=-1,Be=$e==null?0:$e.length;for(this.__data__=new _n;++Ae<Be;)this.add($e[Ae])}function Md($e){return this.__data__.set($e,Re),this}function jd($e){return this.__data__.has($e)}Hn.prototype.add=Hn.prototype.push=Md,Hn.prototype.has=jd;function sn($e){var Ae=this.__data__=new vn($e);this.size=Ae.size}function Dd(){this.__data__=new vn,this.size=0}function Ud($e){var Ae=this.__data__,Be=Ae.delete($e);return this.size=Ae.size,Be}function Zd($e){return this.__data__.get($e)}function Hd($e){return this.__data__.has($e)}function zd($e,Ae){var Be=this.__data__;if(Be instanceof vn){var Le=Be.__data__;if(!gi||Le.length<_e-1)return Le.push([$e,Ae]),this.size=++Be.size,this;Be=this.__data__=new _n(Le)}return Be.set($e,Ae),this.size=Be.size,this}sn.prototype.clear=Dd,sn.prototype.delete=Ud,sn.prototype.get=Zd,sn.prototype.has=Hd,sn.prototype.set=zd;function Ho($e,Ae){var Be=Dt($e),Le=!Be&&Vn($e),De=!Be&&!Le&&Mn($e),We=!Be&&!Le&&!De&&ui($e),et=Be||Le||De||We,rt=et?Ya($e.length,Xl):[],st=rt.length;for(var _t in $e)(Ae||Jt.call($e,_t))&&!(et&&(_t=="length"||De&&(_t=="offset"||_t=="parent")||We&&(_t=="buffer"||_t=="byteLength"||_t=="byteOffset")||An(_t,st)))&&rt.push(_t);return rt}function zo($e){var Ae=$e.length;return Ae?$e[ls(0,Ae-1)]:ye}function Gd($e,Ae){return ha(kr($e),zn(Ae,0,$e.length))}function qd($e){return ha(kr($e))}function es($e,Ae,Be){(Be!==ye&&!on($e[Ae],Be)||Be===ye&&!(Ae in $e))&&$n($e,Ae,Be)}function _i($e,Ae,Be){var Le=$e[Ae];(!(Jt.call($e,Ae)&&on(Le,Be))||Be===ye&&!(Ae in $e))&&$n($e,Ae,Be)}function ea($e,Ae){for(var Be=$e.length;Be--;)if(on($e[Be][0],Ae))return Be;return-1}function Yd($e,Ae,Be,Le){return Bn($e,function(De,We,et){Ae(Le,De,Be(De),et)}),Le}function Go($e,Ae){return $e&&pn(Ae,_r(Ae),$e)}function Vd($e,Ae){return $e&&pn(Ae,Lr(Ae),$e)}function $n($e,Ae,Be){Ae=="__proto__"&&Vi?Vi($e,Ae,{configurable:!0,enumerable:!0,value:Be,writable:!0}):$e[Ae]=Be}function ts($e,Ae){for(var Be=-1,Le=Ae.length,De=dt(Le),We=$e==null;++Be<Le;)De[Be]=We?ye:Ls($e,Ae[Be]);return De}function zn($e,Ae,Be){return $e===$e&&(Be!==ye&&($e=$e<=Be?$e:Be),Ae!==ye&&($e=$e>=Ae?$e:Ae)),$e}function Xr($e,Ae,Be,Le,De,We){var et,rt=Ae&Me,st=Ae&je,_t=Ae&ze;if(Be&&(et=De?Be($e,Le,De,We):Be($e)),et!==ye)return et;if(!fr($e))return $e;var $t=Dt($e);if($t){if(et=Mf($e),!rt)return kr($e,et)}else{var wt=Pr($e),It=wt==Rr||wt==mn;if(Mn($e))return yu($e,rt);if(wt==bn||wt==jr||It&&!De){if(et=st||It?{}:Bu($e),!rt)return st?Sf($e,Vd(et,$e)):Tf($e,Go(et,$e))}else{if(!nr[wt])return De?$e:{};et=jf($e,wt,rt)}}We||(We=new sn);var Nt=We.get($e);if(Nt)return Nt;We.set($e,et),cc($e)?$e.forEach(function(Lt){et.add(Xr(Lt,Ae,Be,Lt,$e,We))}):oc($e)&&$e.forEach(function(Lt,Gt){et.set(Gt,Xr(Lt,Ae,Be,Gt,$e,We))});var Ft=_t?st?Es:$s:st?Lr:_r,Zt=$t?ye:Ft($e);return Kr(Zt||$e,function(Lt,Gt){Zt&&(Gt=Lt,Lt=$e[Gt]),_i(et,Gt,Xr(Lt,Ae,Be,Gt,$e,We))}),et}function Wd($e){var Ae=_r($e);return function(Be){return qo(Be,$e,Ae)}}function qo($e,Ae,Be){var Le=Be.length;if($e==null)return!Le;for($e=rr($e);Le--;){var De=Be[Le],We=Ae[De],et=$e[De];if(et===ye&&!(De in $e)||!We(et))return!1}return!0}function Yo($e,Ae,Be){if(typeof $e!="function")throw new Qr(Pe);return Si(function(){$e.apply(ye,Be)},Ae)}function $i($e,Ae,Be,Le){var De=-1,We=ki,et=!0,rt=$e.length,st=[],_t=Ae.length;if(!rt)return st;Be&&(Ae=or(Ae,Hr(Be))),Le?(We=Ua,et=!1):Ae.length>=_e&&(We=pi,et=!1,Ae=new Hn(Ae));e:for(;++De<rt;){var $t=$e[De],wt=Be==null?$t:Be($t);if($t=Le||$t!==0?$t:0,et&&wt===wt){for(var It=_t;It--;)if(Ae[It]===wt)continue e;st.push($t)}else We(Ae,wt,Le)||st.push($t)}return st}var Bn=_u(hn),Vo=_u(ns,!0);function Kd($e,Ae){var Be=!0;return Bn($e,function(Le,De,We){return Be=!!Ae(Le,De,We),Be}),Be}function ta($e,Ae,Be){for(var Le=-1,De=$e.length;++Le<De;){var We=$e[Le],et=Ae(We);if(et!=null&&(rt===ye?et===et&&!Gr(et):Be(et,rt)))var rt=et,st=We}return st}function Qd($e,Ae,Be,Le){var De=$e.length;for(Be=Ut(Be),Be<0&&(Be=-Be>De?0:De+Be),Le=Le===ye||Le>De?De:Ut(Le),Le<0&&(Le+=De),Le=Be>Le?0:dc(Le);Be<Le;)$e[Be++]=Ae;return $e}function Wo($e,Ae){var Be=[];return Bn($e,function(Le,De,We){Ae(Le,De,We)&&Be.push(Le)}),Be}function Ar($e,Ae,Be,Le,De){var We=-1,et=$e.length;for(Be||(Be=Uf),De||(De=[]);++We<et;){var rt=$e[We];Ae>0&&Be(rt)?Ae>1?Ar(rt,Ae-1,Be,Le,De):Rn(De,rt):Le||(De[De.length]=rt)}return De}var rs=$u(),Ko=$u(!0);function hn($e,Ae){return $e&&rs($e,Ae,_r)}function ns($e,Ae){return $e&&Ko($e,Ae,_r)}function ra($e,Ae){return On(Ae,function(Be){return xn($e[Be])})}function Gn($e,Ae){Ae=Fn(Ae,$e);for(var Be=0,Le=Ae.length;$e!=null&&Be<Le;)$e=$e[yn(Ae[Be++])];return Be&&Be==Le?$e:ye}function Qo($e,Ae,Be){var Le=Ae($e);return Dt($e)?Le:Rn(Le,Be($e))}function Cr($e){return $e==null?$e===ye?xc:Ii:Un&&Un in rr($e)?kf($e):Vf($e)}function is($e,Ae){return $e>Ae}function Jd($e,Ae){return $e!=null&&Jt.call($e,Ae)}function Xd($e,Ae){return $e!=null&&Ae in rr($e)}function ef($e,Ae,Be){return $e>=Sr(Ae,Be)&&$e<vr(Ae,Be)}function as($e,Ae,Be){for(var Le=Be?Ua:ki,De=$e[0].length,We=$e.length,et=We,rt=dt(We),st=1/0,_t=[];et--;){var $t=$e[et];et&&Ae&&($t=or($t,Hr(Ae))),st=Sr($t.length,st),rt[et]=!Be&&(Ae||De>=120&&$t.length>=120)?new Hn(et&&$t):ye}$t=$e[0];var wt=-1,It=rt[0];e:for(;++wt<De&&_t.length<st;){var Nt=$t[wt],Ft=Ae?Ae(Nt):Nt;if(Nt=Be||Nt!==0?Nt:0,!(It?pi(It,Ft):Le(_t,Ft,Be))){for(et=We;--et;){var Zt=rt[et];if(!(Zt?pi(Zt,Ft):Le($e[et],Ft,Be)))continue e}It&&It.push(Ft),_t.push(Nt)}}return _t}function tf($e,Ae,Be,Le){return hn($e,function(De,We,et){Ae(Le,Be(De),We,et)}),Le}function wi($e,Ae,Be){Ae=Fn(Ae,$e),$e=Mu($e,Ae);var Le=$e==null?$e:$e[yn(tn(Ae))];return Le==null?ye:Zr(Le,$e,Be)}function Jo($e){return hr($e)&&Cr($e)==jr}function rf($e){return hr($e)&&Cr($e)==hi}function nf($e){return hr($e)&&Cr($e)==Ur}function Ei($e,Ae,Be,Le,De){return $e===Ae?!0:$e==null||Ae==null||!hr($e)&&!hr(Ae)?$e!==$e&&Ae!==Ae:af($e,Ae,Be,Le,Ei,De)}function af($e,Ae,Be,Le,De,We){var et=Dt($e),rt=Dt(Ae),st=et?dn:Pr($e),_t=rt?dn:Pr(Ae);st=st==jr?bn:st,_t=_t==jr?bn:_t;var $t=st==bn,wt=_t==bn,It=st==_t;if(It&&Mn($e)){if(!Mn(Ae))return!1;et=!0,$t=!1}if(It&&!$t)return We||(We=new sn),et||ui($e)?Ru($e,Ae,Be,Le,De,We):Nf($e,Ae,st,Be,Le,De,We);if(!(Be&He)){var Nt=$t&&Jt.call($e,"__wrapped__"),Ft=wt&&Jt.call(Ae,"__wrapped__");if(Nt||Ft){var Zt=Nt?$e.value():$e,Lt=Ft?Ae.value():Ae;return We||(We=new sn),De(Zt,Lt,Be,Le,We)}}return It?(We||(We=new sn),Bf($e,Ae,Be,Le,De,We)):!1}function sf($e){return hr($e)&&Pr($e)==Tr}function ss($e,Ae,Be,Le){var De=Be.length,We=De,et=!Le;if($e==null)return!We;for($e=rr($e);De--;){var rt=Be[De];if(et&&rt[2]?rt[1]!==$e[rt[0]]:!(rt[0]in $e))return!1}for(;++De<We;){rt=Be[De];var st=rt[0],_t=$e[st],$t=rt[1];if(et&&rt[2]){if(_t===ye&&!(st in $e))return!1}else{var wt=new sn;if(Le)var It=Le(_t,$t,st,$e,Ae,wt);if(!(It===ye?Ei($t,_t,He|Ve,Le,wt):It))return!1}}return!0}function Xo($e){if(!fr($e)||Hf($e))return!1;var Ae=xn($e)?ad:Vc;return Ae.test(Yn($e))}function uf($e){return hr($e)&&Cr($e)==li}function cf($e){return hr($e)&&Pr($e)==nn}function lf($e){return hr($e)&&va($e.length)&&!!ir[Cr($e)]}function eu($e){return typeof $e=="function"?$e:$e==null?Mr:typeof $e=="object"?Dt($e)?nu($e[0],$e[1]):ru($e):wc($e)}function os($e){if(!Ti($e))return dd($e);var Ae=[];for(var Be in rr($e))Jt.call($e,Be)&&Be!="constructor"&&Ae.push(Be);return Ae}function df($e){if(!fr($e))return Yf($e);var Ae=Ti($e),Be=[];for(var Le in $e)Le=="constructor"&&(Ae||!Jt.call($e,Le))||Be.push(Le);return Be}function us($e,Ae){return $e<Ae}function tu($e,Ae){var Be=-1,Le=Fr($e)?dt($e.length):[];return Bn($e,function(De,We,et){Le[++Be]=Ae(De,We,et)}),Le}function ru($e){var Ae=xs($e);return Ae.length==1&&Ae[0][2]?Fu(Ae[0][0],Ae[0][1]):function(Be){return Be===$e||ss(Be,$e,Ae)}}function nu($e,Ae){return Ss($e)&&ku(Ae)?Fu(yn($e),Ae):function(Be){var Le=Ls(Be,$e);return Le===ye&&Le===Ae?Ms(Be,$e):Ei(Ae,Le,He|Ve)}}function na($e,Ae,Be,Le,De){$e!==Ae&&rs(Ae,function(We,et){if(De||(De=new sn),fr(We))ff($e,Ae,et,Be,na,Le,De);else{var rt=Le?Le(Is($e,et),We,et+"",$e,Ae,De):ye;rt===ye&&(rt=We),es($e,et,rt)}},Lr)}function ff($e,Ae,Be,Le,De,We,et){var rt=Is($e,Be),st=Is(Ae,Be),_t=et.get(st);if(_t){es($e,Be,_t);return}var $t=We?We(rt,st,Be+"",$e,Ae,et):ye,wt=$t===ye;if(wt){var It=Dt(st),Nt=!It&&Mn(st),Ft=!It&&!Nt&&ui(st);$t=st,It||Nt||Ft?Dt(rt)?$t=rt:pr(rt)?$t=kr(rt):Nt?(wt=!1,$t=yu(st,!0)):Ft?(wt=!1,$t=gu(st,!0)):$t=[]:Pi(st)||Vn(st)?($t=rt,Vn(rt)?$t=fc(rt):(!fr(rt)||xn(rt))&&($t=Bu(st))):wt=!1}wt&&(et.set(st,$t),De($t,st,Le,We,et),et.delete(st)),es($e,Be,$t)}function iu($e,Ae){var Be=$e.length;if(Be)return Ae+=Ae<0?Be:0,An(Ae,Be)?$e[Ae]:ye}function au($e,Ae,Be){Ae.length?Ae=or(Ae,function(We){return Dt(We)?function(et){return Gn(et,We.length===1?We[0]:We)}:We}):Ae=[Mr];var Le=-1;Ae=or(Ae,Hr(kt()));var De=tu($e,function(We,et,rt){var st=or(Ae,function(_t){return _t(We)});return{criteria:st,index:++Le,value:We}});return Fl(De,function(We,et){return xf(We,et,Be)})}function hf($e,Ae){return su($e,Ae,function(Be,Le){return Ms($e,Le)})}function su($e,Ae,Be){for(var Le=-1,De=Ae.length,We={};++Le<De;){var et=Ae[Le],rt=Gn($e,et);Be(rt,et)&&Ai(We,Fn(et,$e),rt)}return We}function pf($e){return function(Ae){return Gn(Ae,$e)}}function cs($e,Ae,Be,Le){var De=Le?kl:Qn,We=-1,et=Ae.length,rt=$e;for($e===Ae&&(Ae=kr(Ae)),Be&&(rt=or($e,Hr(Be)));++We<et;)for(var st=0,_t=Ae[We],$t=Be?Be(_t):_t;(st=De(rt,$t,st,Le))>-1;)rt!==$e&&Yi.call(rt,st,1),Yi.call($e,st,1);return $e}function ou($e,Ae){for(var Be=$e?Ae.length:0,Le=Be-1;Be--;){var De=Ae[Be];if(Be==Le||De!==We){var We=De;An(De)?Yi.call($e,De,1):hs($e,De)}}return $e}function ls($e,Ae){return $e+Ki(Uo()*(Ae-$e+1))}function yf($e,Ae,Be,Le){for(var De=-1,We=vr(Wi((Ae-$e)/(Be||1)),0),et=dt(We);We--;)et[Le?We:++De]=$e,$e+=Be;return et}function ds($e,Ae){var Be="";if(!$e||Ae<1||Ae>Vt)return Be;do Ae%2&&(Be+=$e),Ae=Ki(Ae/2),Ae&&($e+=$e);while(Ae);return Be}function Ht($e,Ae){return Os(Lu($e,Ae,Mr),$e+"")}function gf($e){return zo(ci($e))}function mf($e,Ae){var Be=ci($e);return ha(Be,zn(Ae,0,Be.length))}function Ai($e,Ae,Be,Le){if(!fr($e))return $e;Ae=Fn(Ae,$e);for(var De=-1,We=Ae.length,et=We-1,rt=$e;rt!=null&&++De<We;){var st=yn(Ae[De]),_t=Be;if(st==="__proto__"||st==="constructor"||st==="prototype")return $e;if(De!=et){var $t=rt[st];_t=Le?Le($t,st,rt):ye,_t===ye&&(_t=fr($t)?$t:An(Ae[De+1])?[]:{})}_i(rt,st,_t),rt=rt[st]}return $e}var uu=Qi?function($e,Ae){return Qi.set($e,Ae),$e}:Mr,bf=Vi?function($e,Ae){return Vi($e,"toString",{configurable:!0,enumerable:!1,value:Ds(Ae),writable:!0})}:Mr;function vf($e){return ha(ci($e))}function en($e,Ae,Be){var Le=-1,De=$e.length;Ae<0&&(Ae=-Ae>De?0:De+Ae),Be=Be>De?De:Be,Be<0&&(Be+=De),De=Ae>Be?0:Be-Ae>>>0,Ae>>>=0;for(var We=dt(De);++Le<De;)We[Le]=$e[Le+Ae];return We}function _f($e,Ae){var Be;return Bn($e,function(Le,De,We){return Be=Ae(Le,De,We),!Be}),!!Be}function ia($e,Ae,Be){var Le=0,De=$e==null?Le:$e.length;if(typeof Ae=="number"&&Ae===Ae&&De<=cn){for(;Le<De;){var We=Le+De>>>1,et=$e[We];et!==null&&!Gr(et)&&(Be?et<=Ae:et<Ae)?Le=We+1:De=We}return De}return fs($e,Ae,Mr,Be)}function fs($e,Ae,Be,Le){var De=0,We=$e==null?0:$e.length;if(We===0)return 0;Ae=Be(Ae);for(var et=Ae!==Ae,rt=Ae===null,st=Gr(Ae),_t=Ae===ye;De<We;){var $t=Ki((De+We)/2),wt=Be($e[$t]),It=wt!==ye,Nt=wt===null,Ft=wt===wt,Zt=Gr(wt);if(et)var Lt=Le||Ft;else _t?Lt=Ft&&(Le||It):rt?Lt=Ft&&It&&(Le||!Nt):st?Lt=Ft&&It&&!Nt&&(Le||!Zt):Nt||Zt?Lt=!1:Lt=Le?wt<=Ae:wt<Ae;Lt?De=$t+1:We=$t}return Sr(We,Or)}function cu($e,Ae){for(var Be=-1,Le=$e.length,De=0,We=[];++Be<Le;){var et=$e[Be],rt=Ae?Ae(et):et;if(!Be||!on(rt,st)){var st=rt;We[De++]=et===0?0:et}}return We}function lu($e){return typeof $e=="number"?$e:Gr($e)?dr:+$e}function zr($e){if(typeof $e=="string")return $e;if(Dt($e))return or($e,zr)+"";if(Gr($e))return Zo?Zo.call($e):"";var Ae=$e+"";return Ae=="0"&&1/$e==-Mt?"-0":Ae}function kn($e,Ae,Be){var Le=-1,De=ki,We=$e.length,et=!0,rt=[],st=rt;if(Be)et=!1,De=Ua;else if(We>=_e){var _t=Ae?null:Rf($e);if(_t)return Li(_t);et=!1,De=pi,st=new Hn}else st=Ae?[]:rt;e:for(;++Le<We;){var $t=$e[Le],wt=Ae?Ae($t):$t;if($t=Be||$t!==0?$t:0,et&&wt===wt){for(var It=st.length;It--;)if(st[It]===wt)continue e;Ae&&st.push(wt),rt.push($t)}else De(st,wt,Be)||(st!==rt&&st.push(wt),rt.push($t))}return rt}function hs($e,Ae){return Ae=Fn(Ae,$e),$e=Mu($e,Ae),$e==null||delete $e[yn(tn(Ae))]}function du($e,Ae,Be,Le){return Ai($e,Ae,Be(Gn($e,Ae)),Le)}function aa($e,Ae,Be,Le){for(var De=$e.length,We=Le?De:-1;(Le?We--:++We<De)&&Ae($e[We],We,$e););return Be?en($e,Le?0:We,Le?We+1:De):en($e,Le?We+1:0,Le?De:We)}function fu($e,Ae){var Be=$e;return Be instanceof qt&&(Be=Be.value()),Za(Ae,function(Le,De){return De.func.apply(De.thisArg,Rn([Le],De.args))},Be)}function ps($e,Ae,Be){var Le=$e.length;if(Le<2)return Le?kn($e[0]):[];for(var De=-1,We=dt(Le);++De<Le;)for(var et=$e[De],rt=-1;++rt<Le;)rt!=De&&(We[De]=$i(We[De]||et,$e[rt],Ae,Be));return kn(Ar(We,1),Ae,Be)}function hu($e,Ae,Be){for(var Le=-1,De=$e.length,We=Ae.length,et={};++Le<De;){var rt=Le<We?Ae[Le]:ye;Be(et,$e[Le],rt)}return et}function ys($e){return pr($e)?$e:[]}function gs($e){return typeof $e=="function"?$e:Mr}function Fn($e,Ae){return Dt($e)?$e:Ss($e,Ae)?[$e]:Zu(Kt($e))}var $f=Ht;function Ln($e,Ae,Be){var Le=$e.length;return Be=Be===ye?Le:Be,!Ae&&Be>=Le?$e:en($e,Ae,Be)}var pu=sd||function($e){return Er.clearTimeout($e)};function yu($e,Ae){if(Ae)return $e.slice();var Be=$e.length,Le=Fo?Fo(Be):new $e.constructor(Be);return $e.copy(Le),Le}function bs($e){var Ae=new $e.constructor($e.byteLength);return new Hi(Ae).set(new Hi($e)),Ae}function wf($e,Ae){var Be=Ae?bs($e.buffer):$e.buffer;return new $e.constructor(Be,$e.byteOffset,$e.byteLength)}function Ef($e){var Ae=new $e.constructor($e.source,Qs.exec($e));return Ae.lastIndex=$e.lastIndex,Ae}function Af($e){return vi?rr(vi.call($e)):{}}function gu($e,Ae){var Be=Ae?bs($e.buffer):$e.buffer;return new $e.constructor(Be,$e.byteOffset,$e.length)}function mu($e,Ae){if($e!==Ae){var Be=$e!==ye,Le=$e===null,De=$e===$e,We=Gr($e),et=Ae!==ye,rt=Ae===null,st=Ae===Ae,_t=Gr(Ae);if(!rt&&!_t&&!We&&$e>Ae||We&&et&&st&&!rt&&!_t||Le&&et&&st||!Be&&st||!De)return 1;if(!Le&&!We&&!_t&&$e<Ae||_t&&Be&&De&&!Le&&!We||rt&&Be&&De||!et&&De||!st)return-1}return 0}function xf($e,Ae,Be){for(var Le=-1,De=$e.criteria,We=Ae.criteria,et=De.length,rt=Be.length;++Le<et;){var st=mu(De[Le],We[Le]);if(st){if(Le>=rt)return st;var _t=Be[Le];return st*(_t=="desc"?-1:1)}}return $e.index-Ae.index}function bu($e,Ae,Be,Le){for(var De=-1,We=$e.length,et=Be.length,rt=-1,st=Ae.length,_t=vr(We-et,0),$t=dt(st+_t),wt=!Le;++rt<st;)$t[rt]=Ae[rt];for(;++De<et;)(wt||De<We)&&($t[Be[De]]=$e[De]);for(;_t--;)$t[rt++]=$e[De++];return $t}function vu($e,Ae,Be,Le){for(var De=-1,We=$e.length,et=-1,rt=Be.length,st=-1,_t=Ae.length,$t=vr(We-rt,0),wt=dt($t+_t),It=!Le;++De<$t;)wt[De]=$e[De];for(var Nt=De;++st<_t;)wt[Nt+st]=Ae[st];for(;++et<rt;)(It||De<We)&&(wt[Nt+Be[et]]=$e[De++]);return wt}function kr($e,Ae){var Be=-1,Le=$e.length;for(Ae||(Ae=dt(Le));++Be<Le;)Ae[Be]=$e[Be];return Ae}function pn($e,Ae,Be,Le){var De=!Be;Be||(Be={});for(var We=-1,et=Ae.length;++We<et;){var rt=Ae[We],st=Le?Le(Be[rt],$e[rt],rt,Be,$e):ye;st===ye&&(st=$e[rt]),De?$n(Be,rt,st):_i(Be,rt,st)}return Be}function Tf($e,Ae){return pn($e,Ts($e),Ae)}function Sf($e,Ae){return pn($e,Cu($e),Ae)}function sa($e,Ae){return function(Be,Le){var De=Dt(Be)?Il:Yd,We=Ae?Ae():{};return De(Be,$e,kt(Le,2),We)}}function ai($e){return Ht(function(Ae,Be){var Le=-1,De=Be.length,We=De>1?Be[De-1]:ye,et=De>2?Be[2]:ye;for(We=$e.length>3&&typeof We=="function"?(De--,We):ye,et&&Nr(Be[0],Be[1],et)&&(We=De<3?ye:We,De=1),Ae=rr(Ae);++Le<De;){var rt=Be[Le];rt&&$e(Ae,rt,Le,We)}return Ae})}function _u($e,Ae){return function(Be,Le){if(Be==null)return Be;if(!Fr(Be))return $e(Be,Le);for(var De=Be.length,We=Ae?De:-1,et=rr(Be);(Ae?We--:++We<De)&&Le(et[We],We,et)!==!1;);return Be}}function $u($e){return function(Ae,Be,Le){for(var De=-1,We=rr(Ae),et=Le(Ae),rt=et.length;rt--;){var st=et[$e?rt:++De];if(Be(We[st],st,We)===!1)break}return Ae}}function Pf($e,Ae,Be){var Le=Ae&Qe,De=xi($e);function We(){var et=this&&this!==Er&&this instanceof We?De:$e;return et.apply(Le?Be:this,arguments)}return We}function wu($e){return function(Ae){Ae=Kt(Ae);var Be=Jn(Ae)?an(Ae):ye,Le=Be?Be[0]:Ae.charAt(0),De=Be?Ln(Be,1).join(""):Ae.slice(1);return Le[$e]()+De}}function si($e){return function(Ae){return Za(_c(vc(Ae).replace(yl,"")),$e,"")}}function xi($e){return function(){var Ae=arguments;switch(Ae.length){case 0:return new $e;case 1:return new $e(Ae[0]);case 2:return new $e(Ae[0],Ae[1]);case 3:return new $e(Ae[0],Ae[1],Ae[2]);case 4:return new $e(Ae[0],Ae[1],Ae[2],Ae[3]);case 5:return new $e(Ae[0],Ae[1],Ae[2],Ae[3],Ae[4]);case 6:return new $e(Ae[0],Ae[1],Ae[2],Ae[3],Ae[4],Ae[5]);case 7:return new $e(Ae[0],Ae[1],Ae[2],Ae[3],Ae[4],Ae[5],Ae[6])}var Be=ii($e.prototype),Le=$e.apply(Be,Ae);return fr(Le)?Le:Be}}function If($e,Ae,Be){var Le=xi($e);function De(){for(var We=arguments.length,et=dt(We),rt=We,st=oi(De);rt--;)et[rt]=arguments[rt];var _t=We<3&&et[0]!==st&&et[We-1]!==st?[]:Cn(et,st);if(We-=_t.length,We<Be)return Su($e,Ae,oa,De.placeholder,ye,et,_t,ye,ye,Be-We);var $t=this&&this!==Er&&this instanceof De?Le:$e;return Zr($t,this,et)}return De}function Eu($e){return function(Ae,Be,Le){var De=rr(Ae);if(!Fr(Ae)){var We=kt(Be,3);Ae=_r(Ae),Be=function(rt){return We(De[rt],rt,De)}}var et=$e(Ae,Be,Le);return et>-1?De[We?Ae[et]:et]:ye}}function Au($e){return En(function(Ae){var Be=Ae.length,Le=Be,De=Jr.prototype.thru;for($e&&Ae.reverse();Le--;){var We=Ae[Le];if(typeof We!="function")throw new Qr(Pe);if(De&&!et&&da(We)=="wrapper")var et=new Jr([],!0)}for(Le=et?Le:Be;++Le<Be;){We=Ae[Le];var rt=da(We),st=rt=="wrapper"?As(We):ye;st&&Ps(st[0])&&st[1]==(St|ct|ht|Rt)&&!st[4].length&&st[9]==1?et=et[da(st[0])].apply(et,st[3]):et=We.length==1&&Ps(We)?et[rt]():et.thru(We)}return function(){var _t=arguments,$t=_t[0];if(et&&_t.length==1&&Dt($t))return et.plant($t).value();for(var wt=0,It=Be?Ae[wt].apply(this,_t):$t;++wt<Be;)It=Ae[wt].call(this,It);return It}})}function oa($e,Ae,Be,Le,De,We,et,rt,st,_t){var $t=Ae&St,wt=Ae&Qe,It=Ae&tt,Nt=Ae&(ct|vt),Ft=Ae&er,Zt=It?ye:xi($e);function Lt(){for(var Gt=arguments.length,Yt=dt(Gt),qr=Gt;qr--;)Yt[qr]=arguments[qr];if(Nt)var Br=oi(Lt),Vr=Ml(Yt,Br);if(Le&&(Yt=bu(Yt,Le,De,Nt)),We&&(Yt=vu(Yt,We,et,Nt)),Gt-=Vr,Nt&&Gt<_t){var gr=Cn(Yt,Br);return Su($e,Ae,oa,Lt.placeholder,Be,Yt,gr,rt,st,_t-Gt)}var un=wt?Be:this,Sn=It?un[$e]:$e;return Gt=Yt.length,rt?Yt=Wf(Yt,rt):Ft&&Gt>1&&Yt.reverse(),$t&&st<Gt&&(Yt.length=st),this&&this!==Er&&this instanceof Lt&&(Sn=Zt||xi(Sn)),Sn.apply(un,Yt)}return Lt}function xu($e,Ae){return function(Be,Le){return tf(Be,$e,Ae(Le),{})}}function ua($e,Ae){return function(Be,Le){var De;if(Be===ye&&Le===ye)return Ae;if(Be!==ye&&(De=Be),Le!==ye){if(De===ye)return Le;typeof Be=="string"||typeof Le=="string"?(Be=zr(Be),Le=zr(Le)):(Be=lu(Be),Le=lu(Le)),De=$e(Be,Le)}return De}}function vs($e){return En(function(Ae){return Ae=or(Ae,Hr(kt())),Ht(function(Be){var Le=this;return $e(Ae,function(De){return Zr(De,Le,Be)})})})}function ca($e,Ae){Ae=Ae===ye?" ":zr(Ae);var Be=Ae.length;if(Be<2)return Be?ds(Ae,$e):Ae;var Le=ds(Ae,Wi($e/Xn(Ae)));return Jn(Ae)?Ln(an(Le),0,$e).join(""):Le.slice(0,$e)}function Of($e,Ae,Be,Le){var De=Ae&Qe,We=xi($e);function et(){for(var rt=-1,st=arguments.length,_t=-1,$t=Le.length,wt=dt($t+st),It=this&&this!==Er&&this instanceof et?We:$e;++_t<$t;)wt[_t]=Le[_t];for(;st--;)wt[_t++]=arguments[++rt];return Zr(It,De?Be:this,wt)}return et}function Tu($e){return function(Ae,Be,Le){return Le&&typeof Le!="number"&&Nr(Ae,Be,Le)&&(Be=Le=ye),Ae=Tn(Ae),Be===ye?(Be=Ae,Ae=0):Be=Tn(Be),Le=Le===ye?Ae<Be?1:-1:Tn(Le),yf(Ae,Be,Le,$e)}}function la($e){return function(Ae,Be){return typeof Ae=="string"&&typeof Be=="string"||(Ae=rn(Ae),Be=rn(Be)),$e(Ae,Be)}}function Su($e,Ae,Be,Le,De,We,et,rt,st,_t){var $t=Ae&ct,wt=$t?et:ye,It=$t?ye:et,Nt=$t?We:ye,Ft=$t?ye:We;Ae|=$t?ht:lt,Ae&=~($t?lt:ht),Ae&nt||(Ae&=~(Qe|tt));var Zt=[$e,Ae,De,Nt,wt,Ft,It,rt,st,_t],Lt=Be.apply(ye,Zt);return Ps($e)&&ju(Lt,Zt),Lt.placeholder=Le,Du(Lt,$e,Ae)}function _s($e){var Ae=br[$e];return function(Be,Le){if(Be=rn(Be),Le=Le==null?0:Sr(Ut(Le),292),Le&&Do(Be)){var De=(Kt(Be)+"e").split("e"),We=Ae(De[0]+"e"+(+De[1]+Le));return De=(Kt(We)+"e").split("e"),+(De[0]+"e"+(+De[1]-Le))}return Ae(Be)}}var Rf=ri&&1/Li(new ri([,-0]))[1]==Mt?function($e){return new ri($e)}:Hs;function Pu($e){return function(Ae){var Be=Pr(Ae);return Be==Tr?Wa(Ae):Be==nn?Gl(Ae):Ll(Ae,$e(Ae))}}function wn($e,Ae,Be,Le,De,We,et,rt){var st=Ae&tt;if(!st&&typeof $e!="function")throw new Qr(Pe);var _t=Le?Le.length:0;if(_t||(Ae&=~(ht|lt),Le=De=ye),et=et===ye?et:vr(Ut(et),0),rt=rt===ye?rt:Ut(rt),_t-=De?De.length:0,Ae&lt){var $t=Le,wt=De;Le=De=ye}var It=st?ye:As($e),Nt=[$e,Ae,Be,Le,De,$t,wt,We,et,rt];if(It&&qf(Nt,It),$e=Nt[0],Ae=Nt[1],Be=Nt[2],Le=Nt[3],De=Nt[4],rt=Nt[9]=Nt[9]===ye?st?0:$e.length:vr(Nt[9]-_t,0),!rt&&Ae&(ct|vt)&&(Ae&=~(ct|vt)),!Ae||Ae==Qe)var Ft=Pf($e,Ae,Be);else Ae==ct||Ae==vt?Ft=If($e,Ae,rt):(Ae==ht||Ae==(Qe|ht))&&!De.length?Ft=Of($e,Ae,Be,Le):Ft=oa.apply(ye,Nt);var Zt=It?uu:ju;return Du(Zt(Ft,Nt),$e,Ae)}function Iu($e,Ae,Be,Le){return $e===ye||on($e,ti[Be])&&!Jt.call(Le,Be)?Ae:$e}function Ou($e,Ae,Be,Le,De,We){return fr($e)&&fr(Ae)&&(We.set(Ae,$e),na($e,Ae,ye,Ou,We),We.delete(Ae)),$e}function Cf($e){return Pi($e)?ye:$e}function Ru($e,Ae,Be,Le,De,We){var et=Be&He,rt=$e.length,st=Ae.length;if(rt!=st&&!(et&&st>rt))return!1;var _t=We.get($e),$t=We.get(Ae);if(_t&&$t)return _t==Ae&&$t==$e;var wt=-1,It=!0,Nt=Be&Ve?new Hn:ye;for(We.set($e,Ae),We.set(Ae,$e);++wt<rt;){var Ft=$e[wt],Zt=Ae[wt];if(Le)var Lt=et?Le(Zt,Ft,wt,Ae,$e,We):Le(Ft,Zt,wt,$e,Ae,We);if(Lt!==ye){if(Lt)continue;It=!1;break}if(Nt){if(!Ha(Ae,function(Gt,Yt){if(!pi(Nt,Yt)&&(Ft===Gt||De(Ft,Gt,Be,Le,We)))return Nt.push(Yt)})){It=!1;break}}else if(!(Ft===Zt||De(Ft,Zt,Be,Le,We))){It=!1;break}}return We.delete($e),We.delete(Ae),It}function Nf($e,Ae,Be,Le,De,We,et){switch(Be){case Wn:if($e.byteLength!=Ae.byteLength||$e.byteOffset!=Ae.byteOffset)return!1;$e=$e.buffer,Ae=Ae.buffer;case hi:return!($e.byteLength!=Ae.byteLength||!We(new Hi($e),new Hi(Ae)));case gn:case Ur:case In:return on(+$e,+Ae);case jn:return $e.name==Ae.name&&$e.message==Ae.message;case li:case di:return $e==Ae+"";case Tr:var rt=Wa;case nn:var st=Le&He;if(rt||(rt=Li),$e.size!=Ae.size&&!st)return!1;var _t=et.get($e);if(_t)return _t==Ae;Le|=Ve,et.set($e,Ae);var $t=Ru(rt($e),rt(Ae),Le,De,We,et);return et.delete($e),$t;case Oi:if(vi)return vi.call($e)==vi.call(Ae)}return!1}function Bf($e,Ae,Be,Le,De,We){var et=Be&He,rt=$s($e),st=rt.length,_t=$s(Ae),$t=_t.length;if(st!=$t&&!et)return!1;for(var wt=st;wt--;){var It=rt[wt];if(!(et?It in Ae:Jt.call(Ae,It)))return!1}var Nt=We.get($e),Ft=We.get(Ae);if(Nt&&Ft)return Nt==Ae&&Ft==$e;var Zt=!0;We.set($e,Ae),We.set(Ae,$e);for(var Lt=et;++wt<st;){It=rt[wt];var Gt=$e[It],Yt=Ae[It];if(Le)var qr=et?Le(Yt,Gt,It,Ae,$e,We):Le(Gt,Yt,It,$e,Ae,We);if(!(qr===ye?Gt===Yt||De(Gt,Yt,Be,Le,We):qr)){Zt=!1;break}Lt||(Lt=It=="constructor")}if(Zt&&!Lt){var Br=$e.constructor,Vr=Ae.constructor;Br!=Vr&&"constructor"in $e&&"constructor"in Ae&&!(typeof Br=="function"&&Br instanceof Br&&typeof Vr=="function"&&Vr instanceof Vr)&&(Zt=!1)}return We.delete($e),We.delete(Ae),Zt}function En($e){return Os(Lu($e,ye,qu),$e+"")}function $s($e){return Qo($e,_r,Ts)}function Es($e){return Qo($e,Lr,Cu)}var As=Qi?function($e){return Qi.get($e)}:Hs;function da($e){for(var Ae=$e.name+"",Be=ni[Ae],Le=Jt.call(ni,Ae)?Be.length:0;Le--;){var De=Be[Le],We=De.func;if(We==null||We==$e)return De.name}return Ae}function oi($e){var Ae=Jt.call(qe,"placeholder")?qe:$e;return Ae.placeholder}function kt(){var $e=qe.iteratee||Us;return $e=$e===Us?eu:$e,arguments.length?$e(arguments[0],arguments[1]):$e}function fa($e,Ae){var Be=$e.__data__;return Zf(Ae)?Be[typeof Ae=="string"?"string":"hash"]:Be.map}function xs($e){for(var Ae=_r($e),Be=Ae.length;Be--;){var Le=Ae[Be],De=$e[Le];Ae[Be]=[Le,De,ku(De)]}return Ae}function qn($e,Ae){var Be=Zl($e,Ae);return Xo(Be)?Be:ye}function kf($e){var Ae=Jt.call($e,Un),Be=$e[Un];try{$e[Un]=ye;var Le=!0}catch{}var De=Ui.call($e);return Le&&(Ae?$e[Un]=Be:delete $e[Un]),De}var Ts=Qa?function($e){return $e==null?[]:($e=rr($e),On(Qa($e),function(Ae){return Mo.call($e,Ae)}))}:zs,Cu=Qa?function($e){for(var Ae=[];$e;)Rn(Ae,Ts($e)),$e=qi($e);return Ae}:zs,Pr=Cr;(Ja&&Pr(new Ja(new ArrayBuffer(1)))!=Wn||gi&&Pr(new gi)!=Tr||Xa&&Pr(Xa.resolve())!=Ys||ri&&Pr(new ri)!=nn||mi&&Pr(new mi)!=fi)&&(Pr=function($e){var Ae=Cr($e),Be=Ae==bn?$e.constructor:ye,Le=Be?Yn(Be):"";if(Le)switch(Le){case yd:return Wn;case gd:return Tr;case md:return Ys;case bd:return nn;case vd:return fi}return Ae});function Ff($e,Ae,Be){for(var Le=-1,De=Be.length;++Le<De;){var We=Be[Le],et=We.size;switch(We.type){case"drop":$e+=et;break;case"dropRight":Ae-=et;break;case"take":Ae=Sr(Ae,$e+et);break;case"takeRight":$e=vr($e,Ae-et);break}}return{start:$e,end:Ae}}function Lf($e){var Ae=$e.match(Dc);return Ae?Ae[1].split(Uc):[]}function Nu($e,Ae,Be){Ae=Fn(Ae,$e);for(var Le=-1,De=Ae.length,We=!1;++Le<De;){var et=yn(Ae[Le]);if(!(We=$e!=null&&Be($e,et)))break;$e=$e[et]}return We||++Le!=De?We:(De=$e==null?0:$e.length,!!De&&va(De)&&An(et,De)&&(Dt($e)||Vn($e)))}function Mf($e){var Ae=$e.length,Be=new $e.constructor(Ae);return Ae&&typeof $e[0]=="string"&&Jt.call($e,"index")&&(Be.index=$e.index,Be.input=$e.input),Be}function Bu($e){return typeof $e.constructor=="function"&&!Ti($e)?ii(qi($e)):{}}function jf($e,Ae,Be){var Le=$e.constructor;switch(Ae){case hi:return bs($e);case gn:case Ur:return new Le(+$e);case Wn:return wf($e,Be);case Ea:case Aa:case xa:case Ta:case Sa:case Pa:case Ia:case Oa:case Ra:return gu($e,Be);case Tr:return new Le;case In:case di:return new Le($e);case li:return Ef($e);case nn:return new Le;case Oi:return Af($e)}}function Df($e,Ae){var Be=Ae.length;if(!Be)return $e;var Le=Be-1;return Ae[Le]=(Be>1?"& ":"")+Ae[Le],Ae=Ae.join(Be>2?", ":" "),$e.replace(jc,`{
/* [wrapped with `+Ae+`] */
`)}function Uf($e){return Dt($e)||Vn($e)||!!(jo&&$e&&$e[jo])}function An($e,Ae){var Be=typeof $e;return Ae=Ae??Vt,!!Ae&&(Be=="number"||Be!="symbol"&&Kc.test($e))&&$e>-1&&$e%1==0&&$e<Ae}function Nr($e,Ae,Be){if(!fr(Be))return!1;var Le=typeof Ae;return(Le=="number"?Fr(Be)&&An(Ae,Be.length):Le=="string"&&Ae in Be)?on(Be[Ae],$e):!1}function Ss($e,Ae){if(Dt($e))return!1;var Be=typeof $e;return Be=="number"||Be=="symbol"||Be=="boolean"||$e==null||Gr($e)?!0:kc.test($e)||!Bc.test($e)||Ae!=null&&$e in rr(Ae)}function Zf($e){var Ae=typeof $e;return Ae=="string"||Ae=="number"||Ae=="symbol"||Ae=="boolean"?$e!=="__proto__":$e===null}function Ps($e){var Ae=da($e),Be=qe[Ae];if(typeof Be!="function"||!(Ae in qt.prototype))return!1;if($e===Be)return!0;var Le=As(Be);return!!Le&&$e===Le[0]}function Hf($e){return!!ko&&ko in $e}var zf=ji?xn:Gs;function Ti($e){var Ae=$e&&$e.constructor,Be=typeof Ae=="function"&&Ae.prototype||ti;return $e===Be}function ku($e){return $e===$e&&!fr($e)}function Fu($e,Ae){return function(Be){return Be==null?!1:Be[$e]===Ae&&(Ae!==ye||$e in rr(Be))}}function Gf($e){var Ae=ma($e,function(Le){return Be.size===ke&&Be.clear(),Le}),Be=Ae.cache;return Ae}function qf($e,Ae){var Be=$e[1],Le=Ae[1],De=Be|Le,We=De<(Qe|tt|St),et=Le==St&&Be==ct||Le==St&&Be==Rt&&$e[7].length<=Ae[8]||Le==(St|Rt)&&Ae[7].length<=Ae[8]&&Be==ct;if(!(We||et))return $e;Le&Qe&&($e[2]=Ae[2],De|=Be&Qe?0:nt);var rt=Ae[3];if(rt){var st=$e[3];$e[3]=st?bu(st,rt,Ae[4]):rt,$e[4]=st?Cn($e[3],Fe):Ae[4]}return rt=Ae[5],rt&&(st=$e[5],$e[5]=st?vu(st,rt,Ae[6]):rt,$e[6]=st?Cn($e[5],Fe):Ae[6]),rt=Ae[7],rt&&($e[7]=rt),Le&St&&($e[8]=$e[8]==null?Ae[8]:Sr($e[8],Ae[8])),$e[9]==null&&($e[9]=Ae[9]),$e[0]=Ae[0],$e[1]=De,$e}function Yf($e){var Ae=[];if($e!=null)for(var Be in rr($e))Ae.push(Be);return Ae}function Vf($e){return Ui.call($e)}function Lu($e,Ae,Be){return Ae=vr(Ae===ye?$e.length-1:Ae,0),function(){for(var Le=arguments,De=-1,We=vr(Le.length-Ae,0),et=dt(We);++De<We;)et[De]=Le[Ae+De];De=-1;for(var rt=dt(Ae+1);++De<Ae;)rt[De]=Le[De];return rt[Ae]=Be(et),Zr($e,this,rt)}}function Mu($e,Ae){return Ae.length<2?$e:Gn($e,en(Ae,0,-1))}function Wf($e,Ae){for(var Be=$e.length,Le=Sr(Ae.length,Be),De=kr($e);Le--;){var We=Ae[Le];$e[Le]=An(We,Be)?De[We]:ye}return $e}function Is($e,Ae){if(!(Ae==="constructor"&&typeof $e[Ae]=="function")&&Ae!="__proto__")return $e[Ae]}var ju=Uu(uu),Si=ud||function($e,Ae){return Er.setTimeout($e,Ae)},Os=Uu(bf);function Du($e,Ae,Be){var Le=Ae+"";return Os($e,Df(Le,Kf(Lf(Le),Be)))}function Uu($e){var Ae=0,Be=0;return function(){var Le=fd(),De=tr-(Le-Be);if(Be=Le,De>0){if(++Ae>=ar)return arguments[0]}else Ae=0;return $e.apply(ye,arguments)}}function ha($e,Ae){var Be=-1,Le=$e.length,De=Le-1;for(Ae=Ae===ye?Le:Ae;++Be<Ae;){var We=ls(Be,De),et=$e[We];$e[We]=$e[Be],$e[Be]=et}return $e.length=Ae,$e}var Zu=Gf(function($e){var Ae=[];return $e.charCodeAt(0)===46&&Ae.push(""),$e.replace(Fc,function(Be,Le,De,We){Ae.push(De?We.replace(zc,"$1"):Le||Be)}),Ae});function yn($e){if(typeof $e=="string"||Gr($e))return $e;var Ae=$e+"";return Ae=="0"&&1/$e==-Mt?"-0":Ae}function Yn($e){if($e!=null){try{return Di.call($e)}catch{}try{return $e+""}catch{}}return""}function Kf($e,Ae){return Kr(ln,function(Be){var Le="_."+Be[0];Ae&Be[1]&&!ki($e,Le)&&$e.push(Le)}),$e.sort()}function Hu($e){if($e instanceof qt)return $e.clone();var Ae=new Jr($e.__wrapped__,$e.__chain__);return Ae.__actions__=kr($e.__actions__),Ae.__index__=$e.__index__,Ae.__values__=$e.__values__,Ae}function Qf($e,Ae,Be){(Be?Nr($e,Ae,Be):Ae===ye)?Ae=1:Ae=vr(Ut(Ae),0);var Le=$e==null?0:$e.length;if(!Le||Ae<1)return[];for(var De=0,We=0,et=dt(Wi(Le/Ae));De<Le;)et[We++]=en($e,De,De+=Ae);return et}function Jf($e){for(var Ae=-1,Be=$e==null?0:$e.length,Le=0,De=[];++Ae<Be;){var We=$e[Ae];We&&(De[Le++]=We)}return De}function Xf(){var $e=arguments.length;if(!$e)return[];for(var Ae=dt($e-1),Be=arguments[0],Le=$e;Le--;)Ae[Le-1]=arguments[Le];return Rn(Dt(Be)?kr(Be):[Be],Ar(Ae,1))}var eh=Ht(function($e,Ae){return pr($e)?$i($e,Ar(Ae,1,pr,!0)):[]}),th=Ht(function($e,Ae){var Be=tn(Ae);return pr(Be)&&(Be=ye),pr($e)?$i($e,Ar(Ae,1,pr,!0),kt(Be,2)):[]}),rh=Ht(function($e,Ae){var Be=tn(Ae);return pr(Be)&&(Be=ye),pr($e)?$i($e,Ar(Ae,1,pr,!0),ye,Be):[]});function nh($e,Ae,Be){var Le=$e==null?0:$e.length;return Le?(Ae=Be||Ae===ye?1:Ut(Ae),en($e,Ae<0?0:Ae,Le)):[]}function ih($e,Ae,Be){var Le=$e==null?0:$e.length;return Le?(Ae=Be||Ae===ye?1:Ut(Ae),Ae=Le-Ae,en($e,0,Ae<0?0:Ae)):[]}function ah($e,Ae){return $e&&$e.length?aa($e,kt(Ae,3),!0,!0):[]}function sh($e,Ae){return $e&&$e.length?aa($e,kt(Ae,3),!0):[]}function oh($e,Ae,Be,Le){var De=$e==null?0:$e.length;return De?(Be&&typeof Be!="number"&&Nr($e,Ae,Be)&&(Be=0,Le=De),Qd($e,Ae,Be,Le)):[]}function zu($e,Ae,Be){var Le=$e==null?0:$e.length;if(!Le)return-1;var De=Be==null?0:Ut(Be);return De<0&&(De=vr(Le+De,0)),Fi($e,kt(Ae,3),De)}function Gu($e,Ae,Be){var Le=$e==null?0:$e.length;if(!Le)return-1;var De=Le-1;return Be!==ye&&(De=Ut(Be),De=Be<0?vr(Le+De,0):Sr(De,Le-1)),Fi($e,kt(Ae,3),De,!0)}function qu($e){var Ae=$e==null?0:$e.length;return Ae?Ar($e,1):[]}function uh($e){var Ae=$e==null?0:$e.length;return Ae?Ar($e,Mt):[]}function ch($e,Ae){var Be=$e==null?0:$e.length;return Be?(Ae=Ae===ye?1:Ut(Ae),Ar($e,Ae)):[]}function lh($e){for(var Ae=-1,Be=$e==null?0:$e.length,Le={};++Ae<Be;){var De=$e[Ae];Le[De[0]]=De[1]}return Le}function Yu($e){return $e&&$e.length?$e[0]:ye}function dh($e,Ae,Be){var Le=$e==null?0:$e.length;if(!Le)return-1;var De=Be==null?0:Ut(Be);return De<0&&(De=vr(Le+De,0)),Qn($e,Ae,De)}function fh($e){var Ae=$e==null?0:$e.length;return Ae?en($e,0,-1):[]}var hh=Ht(function($e){var Ae=or($e,ys);return Ae.length&&Ae[0]===$e[0]?as(Ae):[]}),ph=Ht(function($e){var Ae=tn($e),Be=or($e,ys);return Ae===tn(Be)?Ae=ye:Be.pop(),Be.length&&Be[0]===$e[0]?as(Be,kt(Ae,2)):[]}),yh=Ht(function($e){var Ae=tn($e),Be=or($e,ys);return Ae=typeof Ae=="function"?Ae:ye,Ae&&Be.pop(),Be.length&&Be[0]===$e[0]?as(Be,ye,Ae):[]});function gh($e,Ae){return $e==null?"":ld.call($e,Ae)}function tn($e){var Ae=$e==null?0:$e.length;return Ae?$e[Ae-1]:ye}function mh($e,Ae,Be){var Le=$e==null?0:$e.length;if(!Le)return-1;var De=Le;return Be!==ye&&(De=Ut(Be),De=De<0?vr(Le+De,0):Sr(De,Le-1)),Ae===Ae?Yl($e,Ae,De):Fi($e,So,De,!0)}function bh($e,Ae){return $e&&$e.length?iu($e,Ut(Ae)):ye}var vh=Ht(Vu);function Vu($e,Ae){return $e&&$e.length&&Ae&&Ae.length?cs($e,Ae):$e}function _h($e,Ae,Be){return $e&&$e.length&&Ae&&Ae.length?cs($e,Ae,kt(Be,2)):$e}function $h($e,Ae,Be){return $e&&$e.length&&Ae&&Ae.length?cs($e,Ae,ye,Be):$e}var wh=En(function($e,Ae){var Be=$e==null?0:$e.length,Le=ts($e,Ae);return ou($e,or(Ae,function(De){return An(De,Be)?+De:De}).sort(mu)),Le});function Eh($e,Ae){var Be=[];if(!($e&&$e.length))return Be;var Le=-1,De=[],We=$e.length;for(Ae=kt(Ae,3);++Le<We;){var et=$e[Le];Ae(et,Le,$e)&&(Be.push(et),De.push(Le))}return ou($e,De),Be}function Rs($e){return $e==null?$e:pd.call($e)}function Ah($e,Ae,Be){var Le=$e==null?0:$e.length;return Le?(Be&&typeof Be!="number"&&Nr($e,Ae,Be)?(Ae=0,Be=Le):(Ae=Ae==null?0:Ut(Ae),Be=Be===ye?Le:Ut(Be)),en($e,Ae,Be)):[]}function xh($e,Ae){return ia($e,Ae)}function Th($e,Ae,Be){return fs($e,Ae,kt(Be,2))}function Sh($e,Ae){var Be=$e==null?0:$e.length;if(Be){var Le=ia($e,Ae);if(Le<Be&&on($e[Le],Ae))return Le}return-1}function Ph($e,Ae){return ia($e,Ae,!0)}function Ih($e,Ae,Be){return fs($e,Ae,kt(Be,2),!0)}function Oh($e,Ae){var Be=$e==null?0:$e.length;if(Be){var Le=ia($e,Ae,!0)-1;if(on($e[Le],Ae))return Le}return-1}function Rh($e){return $e&&$e.length?cu($e):[]}function Ch($e,Ae){return $e&&$e.length?cu($e,kt(Ae,2)):[]}function Nh($e){var Ae=$e==null?0:$e.length;return Ae?en($e,1,Ae):[]}function Bh($e,Ae,Be){return $e&&$e.length?(Ae=Be||Ae===ye?1:Ut(Ae),en($e,0,Ae<0?0:Ae)):[]}function kh($e,Ae,Be){var Le=$e==null?0:$e.length;return Le?(Ae=Be||Ae===ye?1:Ut(Ae),Ae=Le-Ae,en($e,Ae<0?0:Ae,Le)):[]}function Fh($e,Ae){return $e&&$e.length?aa($e,kt(Ae,3),!1,!0):[]}function Lh($e,Ae){return $e&&$e.length?aa($e,kt(Ae,3)):[]}var Mh=Ht(function($e){return kn(Ar($e,1,pr,!0))}),jh=Ht(function($e){var Ae=tn($e);return pr(Ae)&&(Ae=ye),kn(Ar($e,1,pr,!0),kt(Ae,2))}),Dh=Ht(function($e){var Ae=tn($e);return Ae=typeof Ae=="function"?Ae:ye,kn(Ar($e,1,pr,!0),ye,Ae)});function Uh($e){return $e&&$e.length?kn($e):[]}function Zh($e,Ae){return $e&&$e.length?kn($e,kt(Ae,2)):[]}function Hh($e,Ae){return Ae=typeof Ae=="function"?Ae:ye,$e&&$e.length?kn($e,ye,Ae):[]}function Cs($e){if(!($e&&$e.length))return[];var Ae=0;return $e=On($e,function(Be){if(pr(Be))return Ae=vr(Be.length,Ae),!0}),Ya(Ae,function(Be){return or($e,za(Be))})}function Wu($e,Ae){if(!($e&&$e.length))return[];var Be=Cs($e);return Ae==null?Be:or(Be,function(Le){return Zr(Ae,ye,Le)})}var zh=Ht(function($e,Ae){return pr($e)?$i($e,Ae):[]}),Gh=Ht(function($e){return ps(On($e,pr))}),qh=Ht(function($e){var Ae=tn($e);return pr(Ae)&&(Ae=ye),ps(On($e,pr),kt(Ae,2))}),Yh=Ht(function($e){var Ae=tn($e);return Ae=typeof Ae=="function"?Ae:ye,ps(On($e,pr),ye,Ae)}),Vh=Ht(Cs);function Wh($e,Ae){return hu($e||[],Ae||[],_i)}function Kh($e,Ae){return hu($e||[],Ae||[],Ai)}var Qh=Ht(function($e){var Ae=$e.length,Be=Ae>1?$e[Ae-1]:ye;return Be=typeof Be=="function"?($e.pop(),Be):ye,Wu($e,Be)});function Ku($e){var Ae=qe($e);return Ae.__chain__=!0,Ae}function Jh($e,Ae){return Ae($e),$e}function pa($e,Ae){return Ae($e)}var Xh=En(function($e){var Ae=$e.length,Be=Ae?$e[0]:0,Le=this.__wrapped__,De=function(We){return ts(We,$e)};return Ae>1||this.__actions__.length||!(Le instanceof qt)||!An(Be)?this.thru(De):(Le=Le.slice(Be,+Be+(Ae?1:0)),Le.__actions__.push({func:pa,args:[De],thisArg:ye}),new Jr(Le,this.__chain__).thru(function(We){return Ae&&!We.length&&We.push(ye),We}))});function ep(){return Ku(this)}function tp(){return new Jr(this.value(),this.__chain__)}function rp(){this.__values__===ye&&(this.__values__=lc(this.value()));var $e=this.__index__>=this.__values__.length,Ae=$e?ye:this.__values__[this.__index__++];return{done:$e,value:Ae}}function np(){return this}function ip($e){for(var Ae,Be=this;Be instanceof Xi;){var Le=Hu(Be);Le.__index__=0,Le.__values__=ye,Ae?De.__wrapped__=Le:Ae=Le;var De=Le;Be=Be.__wrapped__}return De.__wrapped__=$e,Ae}function ap(){var $e=this.__wrapped__;if($e instanceof qt){var Ae=$e;return this.__actions__.length&&(Ae=new qt(this)),Ae=Ae.reverse(),Ae.__actions__.push({func:pa,args:[Rs],thisArg:ye}),new Jr(Ae,this.__chain__)}return this.thru(Rs)}function sp(){return fu(this.__wrapped__,this.__actions__)}var op=sa(function($e,Ae,Be){Jt.call($e,Be)?++$e[Be]:$n($e,Be,1)});function up($e,Ae,Be){var Le=Dt($e)?xo:Kd;return Be&&Nr($e,Ae,Be)&&(Ae=ye),Le($e,kt(Ae,3))}function cp($e,Ae){var Be=Dt($e)?On:Wo;return Be($e,kt(Ae,3))}var lp=Eu(zu),dp=Eu(Gu);function fp($e,Ae){return Ar(ya($e,Ae),1)}function hp($e,Ae){return Ar(ya($e,Ae),Mt)}function pp($e,Ae,Be){return Be=Be===ye?1:Ut(Be),Ar(ya($e,Ae),Be)}function Qu($e,Ae){var Be=Dt($e)?Kr:Bn;return Be($e,kt(Ae,3))}function Ju($e,Ae){var Be=Dt($e)?Ol:Vo;return Be($e,kt(Ae,3))}var yp=sa(function($e,Ae,Be){Jt.call($e,Be)?$e[Be].push(Ae):$n($e,Be,[Ae])});function gp($e,Ae,Be,Le){$e=Fr($e)?$e:ci($e),Be=Be&&!Le?Ut(Be):0;var De=$e.length;return Be<0&&(Be=vr(De+Be,0)),$a($e)?Be<=De&&$e.indexOf(Ae,Be)>-1:!!De&&Qn($e,Ae,Be)>-1}var mp=Ht(function($e,Ae,Be){var Le=-1,De=typeof Ae=="function",We=Fr($e)?dt($e.length):[];return Bn($e,function(et){We[++Le]=De?Zr(Ae,et,Be):wi(et,Ae,Be)}),We}),bp=sa(function($e,Ae,Be){$n($e,Be,Ae)});function ya($e,Ae){var Be=Dt($e)?or:tu;return Be($e,kt(Ae,3))}function vp($e,Ae,Be,Le){return $e==null?[]:(Dt(Ae)||(Ae=Ae==null?[]:[Ae]),Be=Le?ye:Be,Dt(Be)||(Be=Be==null?[]:[Be]),au($e,Ae,Be))}var _p=sa(function($e,Ae,Be){$e[Be?0:1].push(Ae)},function(){return[[],[]]});function $p($e,Ae,Be){var Le=Dt($e)?Za:Io,De=arguments.length<3;return Le($e,kt(Ae,4),Be,De,Bn)}function wp($e,Ae,Be){var Le=Dt($e)?Rl:Io,De=arguments.length<3;return Le($e,kt(Ae,4),Be,De,Vo)}function Ep($e,Ae){var Be=Dt($e)?On:Wo;return Be($e,ba(kt(Ae,3)))}function Ap($e){var Ae=Dt($e)?zo:gf;return Ae($e)}function xp($e,Ae,Be){(Be?Nr($e,Ae,Be):Ae===ye)?Ae=1:Ae=Ut(Ae);var Le=Dt($e)?Gd:mf;return Le($e,Ae)}function Tp($e){var Ae=Dt($e)?qd:vf;return Ae($e)}function Sp($e){if($e==null)return 0;if(Fr($e))return $a($e)?Xn($e):$e.length;var Ae=Pr($e);return Ae==Tr||Ae==nn?$e.size:os($e).length}function Pp($e,Ae,Be){var Le=Dt($e)?Ha:_f;return Be&&Nr($e,Ae,Be)&&(Ae=ye),Le($e,kt(Ae,3))}var Ip=Ht(function($e,Ae){if($e==null)return[];var Be=Ae.length;return Be>1&&Nr($e,Ae[0],Ae[1])?Ae=[]:Be>2&&Nr(Ae[0],Ae[1],Ae[2])&&(Ae=[Ae[0]]),au($e,Ar(Ae,1),[])}),ga=od||function(){return Er.Date.now()};function Op($e,Ae){if(typeof Ae!="function")throw new Qr(Pe);return $e=Ut($e),function(){if(--$e<1)return Ae.apply(this,arguments)}}function Xu($e,Ae,Be){return Ae=Be?ye:Ae,Ae=$e&&Ae==null?$e.length:Ae,wn($e,St,ye,ye,ye,ye,Ae)}function ec($e,Ae){var Be;if(typeof Ae!="function")throw new Qr(Pe);return $e=Ut($e),function(){return--$e>0&&(Be=Ae.apply(this,arguments)),$e<=1&&(Ae=ye),Be}}var Ns=Ht(function($e,Ae,Be){var Le=Qe;if(Be.length){var De=Cn(Be,oi(Ns));Le|=ht}return wn($e,Le,Ae,Be,De)}),tc=Ht(function($e,Ae,Be){var Le=Qe|tt;if(Be.length){var De=Cn(Be,oi(tc));Le|=ht}return wn(Ae,Le,$e,Be,De)});function rc($e,Ae,Be){Ae=Be?ye:Ae;var Le=wn($e,ct,ye,ye,ye,ye,ye,Ae);return Le.placeholder=rc.placeholder,Le}function nc($e,Ae,Be){Ae=Be?ye:Ae;var Le=wn($e,vt,ye,ye,ye,ye,ye,Ae);return Le.placeholder=nc.placeholder,Le}function ic($e,Ae,Be){var Le,De,We,et,rt,st,_t=0,$t=!1,wt=!1,It=!0;if(typeof $e!="function")throw new Qr(Pe);Ae=rn(Ae)||0,fr(Be)&&($t=!!Be.leading,wt="maxWait"in Be,We=wt?vr(rn(Be.maxWait)||0,Ae):We,It="trailing"in Be?!!Be.trailing:It);function Nt(gr){var un=Le,Sn=De;return Le=De=ye,_t=gr,et=$e.apply(Sn,un),et}function Ft(gr){return _t=gr,rt=Si(Gt,Ae),$t?Nt(gr):et}function Zt(gr){var un=gr-st,Sn=gr-_t,Ec=Ae-un;return wt?Sr(Ec,We-Sn):Ec}function Lt(gr){var un=gr-st,Sn=gr-_t;return st===ye||un>=Ae||un<0||wt&&Sn>=We}function Gt(){var gr=ga();if(Lt(gr))return Yt(gr);rt=Si(Gt,Zt(gr))}function Yt(gr){return rt=ye,It&&Le?Nt(gr):(Le=De=ye,et)}function qr(){rt!==ye&&pu(rt),_t=0,Le=st=De=rt=ye}function Br(){return rt===ye?et:Yt(ga())}function Vr(){var gr=ga(),un=Lt(gr);if(Le=arguments,De=this,st=gr,un){if(rt===ye)return Ft(st);if(wt)return pu(rt),rt=Si(Gt,Ae),Nt(st)}return rt===ye&&(rt=Si(Gt,Ae)),et}return Vr.cancel=qr,Vr.flush=Br,Vr}var Rp=Ht(function($e,Ae){return Yo($e,1,Ae)}),Cp=Ht(function($e,Ae,Be){return Yo($e,rn(Ae)||0,Be)});function Np($e){return wn($e,er)}function ma($e,Ae){if(typeof $e!="function"||Ae!=null&&typeof Ae!="function")throw new Qr(Pe);var Be=function(){var Le=arguments,De=Ae?Ae.apply(this,Le):Le[0],We=Be.cache;if(We.has(De))return We.get(De);var et=$e.apply(this,Le);return Be.cache=We.set(De,et)||We,et};return Be.cache=new(ma.Cache||_n),Be}ma.Cache=_n;function ba($e){if(typeof $e!="function")throw new Qr(Pe);return function(){var Ae=arguments;switch(Ae.length){case 0:return!$e.call(this);case 1:return!$e.call(this,Ae[0]);case 2:return!$e.call(this,Ae[0],Ae[1]);case 3:return!$e.call(this,Ae[0],Ae[1],Ae[2])}return!$e.apply(this,Ae)}}function Bp($e){return ec(2,$e)}var kp=$f(function($e,Ae){Ae=Ae.length==1&&Dt(Ae[0])?or(Ae[0],Hr(kt())):or(Ar(Ae,1),Hr(kt()));var Be=Ae.length;return Ht(function(Le){for(var De=-1,We=Sr(Le.length,Be);++De<We;)Le[De]=Ae[De].call(this,Le[De]);return Zr($e,this,Le)})}),Bs=Ht(function($e,Ae){var Be=Cn(Ae,oi(Bs));return wn($e,ht,ye,Ae,Be)}),ac=Ht(function($e,Ae){var Be=Cn(Ae,oi(ac));return wn($e,lt,ye,Ae,Be)}),Lp=En(function($e,Ae){return wn($e,Rt,ye,ye,ye,Ae)});function Mp($e,Ae){if(typeof $e!="function")throw new Qr(Pe);return Ae=Ae===ye?Ae:Ut(Ae),Ht($e,Ae)}function jp($e,Ae){if(typeof $e!="function")throw new Qr(Pe);return Ae=Ae==null?0:vr(Ut(Ae),0),Ht(function(Be){var Le=Be[Ae],De=Ln(Be,0,Ae);return Le&&Rn(De,Le),Zr($e,this,De)})}function Dp($e,Ae,Be){var Le=!0,De=!0;if(typeof $e!="function")throw new Qr(Pe);return fr(Be)&&(Le="leading"in Be?!!Be.leading:Le,De="trailing"in Be?!!Be.trailing:De),ic($e,Ae,{leading:Le,maxWait:Ae,trailing:De})}function Up($e){return Xu($e,1)}function Zp($e,Ae){return Bs(gs(Ae),$e)}function Hp(){if(!arguments.length)return[];var $e=arguments[0];return Dt($e)?$e:[$e]}function zp($e){return Xr($e,ze)}function Gp($e,Ae){return Ae=typeof Ae=="function"?Ae:ye,Xr($e,ze,Ae)}function qp($e){return Xr($e,Me|ze)}function Yp($e,Ae){return Ae=typeof Ae=="function"?Ae:ye,Xr($e,Me|ze,Ae)}function Vp($e,Ae){return Ae==null||qo($e,Ae,_r(Ae))}function on($e,Ae){return $e===Ae||$e!==$e&&Ae!==Ae}var Wp=la(is),Kp=la(function($e,Ae){return $e>=Ae}),Vn=Jo(function(){return arguments}())?Jo:function($e){return hr($e)&&Jt.call($e,"callee")&&!Mo.call($e,"callee")},Dt=dt.isArray,Qp=vo?Hr(vo):rf;function Fr($e){return $e!=null&&va($e.length)&&!xn($e)}function pr($e){return hr($e)&&Fr($e)}function Jp($e){return $e===!0||$e===!1||hr($e)&&Cr($e)==gn}var Mn=cd||Gs,Xp=_o?Hr(_o):nf;function ey($e){return hr($e)&&$e.nodeType===1&&!Pi($e)}function ty($e){if($e==null)return!0;if(Fr($e)&&(Dt($e)||typeof $e=="string"||typeof $e.splice=="function"||Mn($e)||ui($e)||Vn($e)))return!$e.length;var Ae=Pr($e);if(Ae==Tr||Ae==nn)return!$e.size;if(Ti($e))return!os($e).length;for(var Be in $e)if(Jt.call($e,Be))return!1;return!0}function ry($e,Ae){return Ei($e,Ae)}function ny($e,Ae,Be){Be=typeof Be=="function"?Be:ye;var Le=Be?Be($e,Ae):ye;return Le===ye?Ei($e,Ae,ye,Be):!!Le}function ks($e){if(!hr($e))return!1;var Ae=Cr($e);return Ae==jn||Ae==Pn||typeof $e.message=="string"&&typeof $e.name=="string"&&!Pi($e)}function iy($e){return typeof $e=="number"&&Do($e)}function xn($e){if(!fr($e))return!1;var Ae=Cr($e);return Ae==Rr||Ae==mn||Ae==fn||Ae==Ac}function sc($e){return typeof $e=="number"&&$e==Ut($e)}function va($e){return typeof $e=="number"&&$e>-1&&$e%1==0&&$e<=Vt}function fr($e){var Ae=typeof $e;return $e!=null&&(Ae=="object"||Ae=="function")}function hr($e){return $e!=null&&typeof $e=="object"}var oc=$o?Hr($o):sf;function ay($e,Ae){return $e===Ae||ss($e,Ae,xs(Ae))}function sy($e,Ae,Be){return Be=typeof Be=="function"?Be:ye,ss($e,Ae,xs(Ae),Be)}function oy($e){return uc($e)&&$e!=+$e}function uy($e){if(zf($e))throw new jt(we);return Xo($e)}function cy($e){return $e===null}function ly($e){return $e==null}function uc($e){return typeof $e=="number"||hr($e)&&Cr($e)==In}function Pi($e){if(!hr($e)||Cr($e)!=bn)return!1;var Ae=qi($e);if(Ae===null)return!0;var Be=Jt.call(Ae,"constructor")&&Ae.constructor;return typeof Be=="function"&&Be instanceof Be&&Di.call(Be)==rd}var Fs=wo?Hr(wo):uf;function dy($e){return sc($e)&&$e>=-Vt&&$e<=Vt}var cc=Eo?Hr(Eo):cf;function $a($e){return typeof $e=="string"||!Dt($e)&&hr($e)&&Cr($e)==di}function Gr($e){return typeof $e=="symbol"||hr($e)&&Cr($e)==Oi}var ui=Ao?Hr(Ao):lf;function fy($e){return $e===ye}function hy($e){return hr($e)&&Pr($e)==fi}function py($e){return hr($e)&&Cr($e)==Tc}var yy=la(us),gy=la(function($e,Ae){return $e<=Ae});function lc($e){if(!$e)return[];if(Fr($e))return $a($e)?an($e):kr($e);if(yi&&$e[yi])return zl($e[yi]());var Ae=Pr($e),Be=Ae==Tr?Wa:Ae==nn?Li:ci;return Be($e)}function Tn($e){if(!$e)return $e===0?$e:0;if($e=rn($e),$e===Mt||$e===-Mt){var Ae=$e<0?-1:1;return Ae*Qt}return $e===$e?$e:0}function Ut($e){var Ae=Tn($e),Be=Ae%1;return Ae===Ae?Be?Ae-Be:Ae:0}function dc($e){return $e?zn(Ut($e),0,sr):0}function rn($e){if(typeof $e=="number")return $e;if(Gr($e))return dr;if(fr($e)){var Ae=typeof $e.valueOf=="function"?$e.valueOf():$e;$e=fr(Ae)?Ae+"":Ae}if(typeof $e!="string")return $e===0?$e:+$e;$e=Oo($e);var Be=Yc.test($e);return Be||Wc.test($e)?Sl($e.slice(2),Be?2:8):qc.test($e)?dr:+$e}function fc($e){return pn($e,Lr($e))}function my($e){return $e?zn(Ut($e),-Vt,Vt):$e===0?$e:0}function Kt($e){return $e==null?"":zr($e)}var by=ai(function($e,Ae){if(Ti(Ae)||Fr(Ae)){pn(Ae,_r(Ae),$e);return}for(var Be in Ae)Jt.call(Ae,Be)&&_i($e,Be,Ae[Be])}),hc=ai(function($e,Ae){pn(Ae,Lr(Ae),$e)}),wa=ai(function($e,Ae,Be,Le){pn(Ae,Lr(Ae),$e,Le)}),vy=ai(function($e,Ae,Be,Le){pn(Ae,_r(Ae),$e,Le)}),_y=En(ts);function $y($e,Ae){var Be=ii($e);return Ae==null?Be:Go(Be,Ae)}var wy=Ht(function($e,Ae){$e=rr($e);var Be=-1,Le=Ae.length,De=Le>2?Ae[2]:ye;for(De&&Nr(Ae[0],Ae[1],De)&&(Le=1);++Be<Le;)for(var We=Ae[Be],et=Lr(We),rt=-1,st=et.length;++rt<st;){var _t=et[rt],$t=$e[_t];($t===ye||on($t,ti[_t])&&!Jt.call($e,_t))&&($e[_t]=We[_t])}return $e}),Ey=Ht(function($e){return $e.push(ye,Ou),Zr(pc,ye,$e)});function Ay($e,Ae){return To($e,kt(Ae,3),hn)}function xy($e,Ae){return To($e,kt(Ae,3),ns)}function Ty($e,Ae){return $e==null?$e:rs($e,kt(Ae,3),Lr)}function Sy($e,Ae){return $e==null?$e:Ko($e,kt(Ae,3),Lr)}function Py($e,Ae){return $e&&hn($e,kt(Ae,3))}function Iy($e,Ae){return $e&&ns($e,kt(Ae,3))}function Oy($e){return $e==null?[]:ra($e,_r($e))}function Ry($e){return $e==null?[]:ra($e,Lr($e))}function Ls($e,Ae,Be){var Le=$e==null?ye:Gn($e,Ae);return Le===ye?Be:Le}function Cy($e,Ae){return $e!=null&&Nu($e,Ae,Jd)}function Ms($e,Ae){return $e!=null&&Nu($e,Ae,Xd)}var Ny=xu(function($e,Ae,Be){Ae!=null&&typeof Ae.toString!="function"&&(Ae=Ui.call(Ae)),$e[Ae]=Be},Ds(Mr)),By=xu(function($e,Ae,Be){Ae!=null&&typeof Ae.toString!="function"&&(Ae=Ui.call(Ae)),Jt.call($e,Ae)?$e[Ae].push(Be):$e[Ae]=[Be]},kt),ky=Ht(wi);function _r($e){return Fr($e)?Ho($e):os($e)}function Lr($e){return Fr($e)?Ho($e,!0):df($e)}function Fy($e,Ae){var Be={};return Ae=kt(Ae,3),hn($e,function(Le,De,We){$n(Be,Ae(Le,De,We),Le)}),Be}function Ly($e,Ae){var Be={};return Ae=kt(Ae,3),hn($e,function(Le,De,We){$n(Be,De,Ae(Le,De,We))}),Be}var My=ai(function($e,Ae,Be){na($e,Ae,Be)}),pc=ai(function($e,Ae,Be,Le){na($e,Ae,Be,Le)}),jy=En(function($e,Ae){var Be={};if($e==null)return Be;var Le=!1;Ae=or(Ae,function(We){return We=Fn(We,$e),Le||(Le=We.length>1),We}),pn($e,Es($e),Be),Le&&(Be=Xr(Be,Me|je|ze,Cf));for(var De=Ae.length;De--;)hs(Be,Ae[De]);return Be});function Dy($e,Ae){return yc($e,ba(kt(Ae)))}var Uy=En(function($e,Ae){return $e==null?{}:hf($e,Ae)});function yc($e,Ae){if($e==null)return{};var Be=or(Es($e),function(Le){return[Le]});return Ae=kt(Ae),su($e,Be,function(Le,De){return Ae(Le,De[0])})}function Zy($e,Ae,Be){Ae=Fn(Ae,$e);var Le=-1,De=Ae.length;for(De||(De=1,$e=ye);++Le<De;){var We=$e==null?ye:$e[yn(Ae[Le])];We===ye&&(Le=De,We=Be),$e=xn(We)?We.call($e):We}return $e}function Hy($e,Ae,Be){return $e==null?$e:Ai($e,Ae,Be)}function zy($e,Ae,Be,Le){return Le=typeof Le=="function"?Le:ye,$e==null?$e:Ai($e,Ae,Be,Le)}var gc=Pu(_r),mc=Pu(Lr);function Gy($e,Ae,Be){var Le=Dt($e),De=Le||Mn($e)||ui($e);if(Ae=kt(Ae,4),Be==null){var We=$e&&$e.constructor;De?Be=Le?new We:[]:fr($e)?Be=xn(We)?ii(qi($e)):{}:Be={}}return(De?Kr:hn)($e,function(et,rt,st){return Ae(Be,et,rt,st)}),Be}function qy($e,Ae){return $e==null?!0:hs($e,Ae)}function Yy($e,Ae,Be){return $e==null?$e:du($e,Ae,gs(Be))}function Vy($e,Ae,Be,Le){return Le=typeof Le=="function"?Le:ye,$e==null?$e:du($e,Ae,gs(Be),Le)}function ci($e){return $e==null?[]:Va($e,_r($e))}function Wy($e){return $e==null?[]:Va($e,Lr($e))}function Ky($e,Ae,Be){return Be===ye&&(Be=Ae,Ae=ye),Be!==ye&&(Be=rn(Be),Be=Be===Be?Be:0),Ae!==ye&&(Ae=rn(Ae),Ae=Ae===Ae?Ae:0),zn(rn($e),Ae,Be)}function Qy($e,Ae,Be){return Ae=Tn(Ae),Be===ye?(Be=Ae,Ae=0):Be=Tn(Be),$e=rn($e),ef($e,Ae,Be)}function Jy($e,Ae,Be){if(Be&&typeof Be!="boolean"&&Nr($e,Ae,Be)&&(Ae=Be=ye),Be===ye&&(typeof Ae=="boolean"?(Be=Ae,Ae=ye):typeof $e=="boolean"&&(Be=$e,$e=ye)),$e===ye&&Ae===ye?($e=0,Ae=1):($e=Tn($e),Ae===ye?(Ae=$e,$e=0):Ae=Tn(Ae)),$e>Ae){var Le=$e;$e=Ae,Ae=Le}if(Be||$e%1||Ae%1){var De=Uo();return Sr($e+De*(Ae-$e+Tl("1e-"+((De+"").length-1))),Ae)}return ls($e,Ae)}var Xy=si(function($e,Ae,Be){return Ae=Ae.toLowerCase(),$e+(Be?bc(Ae):Ae)});function bc($e){return js(Kt($e).toLowerCase())}function vc($e){return $e=Kt($e),$e&&$e.replace(Qc,jl).replace(gl,"")}function eg($e,Ae,Be){$e=Kt($e),Ae=zr(Ae);var Le=$e.length;Be=Be===ye?Le:zn(Ut(Be),0,Le);var De=Be;return Be-=Ae.length,Be>=0&&$e.slice(Be,De)==Ae}function tg($e){return $e=Kt($e),$e&&Rc.test($e)?$e.replace(Ws,Dl):$e}function rg($e){return $e=Kt($e),$e&&Lc.test($e)?$e.replace(Ca,"\\$&"):$e}var ng=si(function($e,Ae,Be){return $e+(Be?"-":"")+Ae.toLowerCase()}),ig=si(function($e,Ae,Be){return $e+(Be?" ":"")+Ae.toLowerCase()}),ag=wu("toLowerCase");function sg($e,Ae,Be){$e=Kt($e),Ae=Ut(Ae);var Le=Ae?Xn($e):0;if(!Ae||Le>=Ae)return $e;var De=(Ae-Le)/2;return ca(Ki(De),Be)+$e+ca(Wi(De),Be)}function og($e,Ae,Be){$e=Kt($e),Ae=Ut(Ae);var Le=Ae?Xn($e):0;return Ae&&Le<Ae?$e+ca(Ae-Le,Be):$e}function ug($e,Ae,Be){$e=Kt($e),Ae=Ut(Ae);var Le=Ae?Xn($e):0;return Ae&&Le<Ae?ca(Ae-Le,Be)+$e:$e}function cg($e,Ae,Be){return Be||Ae==null?Ae=0:Ae&&(Ae=+Ae),hd(Kt($e).replace(Na,""),Ae||0)}function lg($e,Ae,Be){return(Be?Nr($e,Ae,Be):Ae===ye)?Ae=1:Ae=Ut(Ae),ds(Kt($e),Ae)}function dg(){var $e=arguments,Ae=Kt($e[0]);return $e.length<3?Ae:Ae.replace($e[1],$e[2])}var fg=si(function($e,Ae,Be){return $e+(Be?"_":"")+Ae.toLowerCase()});function hg($e,Ae,Be){return Be&&typeof Be!="number"&&Nr($e,Ae,Be)&&(Ae=Be=ye),Be=Be===ye?sr:Be>>>0,Be?($e=Kt($e),$e&&(typeof Ae=="string"||Ae!=null&&!Fs(Ae))&&(Ae=zr(Ae),!Ae&&Jn($e))?Ln(an($e),0,Be):$e.split(Ae,Be)):[]}var pg=si(function($e,Ae,Be){return $e+(Be?" ":"")+js(Ae)});function yg($e,Ae,Be){return $e=Kt($e),Be=Be==null?0:zn(Ut(Be),0,$e.length),Ae=zr(Ae),$e.slice(Be,Be+Ae.length)==Ae}function gg($e,Ae,Be){var Le=qe.templateSettings;Be&&Nr($e,Ae,Be)&&(Ae=ye),$e=Kt($e),Ae=wa({},Ae,Le,Iu);var De=wa({},Ae.imports,Le.imports,Iu),We=_r(De),et=Va(De,We),rt,st,_t=0,$t=Ae.interpolate||Ri,wt="__p += '",It=Ka((Ae.escape||Ri).source+"|"+$t.source+"|"+($t===Ks?Gc:Ri).source+"|"+(Ae.evaluate||Ri).source+"|$","g"),Nt="//# sourceURL="+(Jt.call(Ae,"sourceURL")?(Ae.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$l+"]")+`
`;$e.replace(It,function(Lt,Gt,Yt,qr,Br,Vr){return Yt||(Yt=qr),wt+=$e.slice(_t,Vr).replace(Jc,Ul),Gt&&(rt=!0,wt+=`' +
__e(`+Gt+`) +
'`),Br&&(st=!0,wt+=`';
`+Br+`;
__p += '`),Yt&&(wt+=`' +
((__t = (`+Yt+`)) == null ? '' : __t) +
'`),_t=Vr+Lt.length,Lt}),wt+=`';
`;var Ft=Jt.call(Ae,"variable")&&Ae.variable;if(!Ft)wt=`with (obj) {
`+wt+`
}
`;else if(Hc.test(Ft))throw new jt(Ie);wt=(st?wt.replace(Sc,""):wt).replace(Pc,"$1").replace(Ic,"$1;"),wt="function("+(Ft||"obj")+`) {
`+(Ft?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(rt?", __e = _.escape":"")+(st?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+wt+`return __p
}`;var Zt=$c(function(){return Wt(We,Nt+"return "+wt).apply(ye,et)});if(Zt.source=wt,ks(Zt))throw Zt;return Zt}function mg($e){return Kt($e).toLowerCase()}function bg($e){return Kt($e).toUpperCase()}function vg($e,Ae,Be){if($e=Kt($e),$e&&(Be||Ae===ye))return Oo($e);if(!$e||!(Ae=zr(Ae)))return $e;var Le=an($e),De=an(Ae),We=Ro(Le,De),et=Co(Le,De)+1;return Ln(Le,We,et).join("")}function _g($e,Ae,Be){if($e=Kt($e),$e&&(Be||Ae===ye))return $e.slice(0,Bo($e)+1);if(!$e||!(Ae=zr(Ae)))return $e;var Le=an($e),De=Co(Le,an(Ae))+1;return Ln(Le,0,De).join("")}function $g($e,Ae,Be){if($e=Kt($e),$e&&(Be||Ae===ye))return $e.replace(Na,"");if(!$e||!(Ae=zr(Ae)))return $e;var Le=an($e),De=Ro(Le,an(Ae));return Ln(Le,De).join("")}function wg($e,Ae){var Be=At,Le=Bt;if(fr(Ae)){var De="separator"in Ae?Ae.separator:De;Be="length"in Ae?Ut(Ae.length):Be,Le="omission"in Ae?zr(Ae.omission):Le}$e=Kt($e);var We=$e.length;if(Jn($e)){var et=an($e);We=et.length}if(Be>=We)return $e;var rt=Be-Xn(Le);if(rt<1)return Le;var st=et?Ln(et,0,rt).join(""):$e.slice(0,rt);if(De===ye)return st+Le;if(et&&(rt+=st.length-rt),Fs(De)){if($e.slice(rt).search(De)){var _t,$t=st;for(De.global||(De=Ka(De.source,Kt(Qs.exec(De))+"g")),De.lastIndex=0;_t=De.exec($t);)var wt=_t.index;st=st.slice(0,wt===ye?rt:wt)}}else if($e.indexOf(zr(De),rt)!=rt){var It=st.lastIndexOf(De);It>-1&&(st=st.slice(0,It))}return st+Le}function Eg($e){return $e=Kt($e),$e&&Oc.test($e)?$e.replace(Vs,Vl):$e}var Ag=si(function($e,Ae,Be){return $e+(Be?" ":"")+Ae.toUpperCase()}),js=wu("toUpperCase");function _c($e,Ae,Be){return $e=Kt($e),Ae=Be?ye:Ae,Ae===ye?Hl($e)?Ql($e):Bl($e):$e.match(Ae)||[]}var $c=Ht(function($e,Ae){try{return Zr($e,ye,Ae)}catch(Be){return ks(Be)?Be:new jt(Be)}}),xg=En(function($e,Ae){return Kr(Ae,function(Be){Be=yn(Be),$n($e,Be,Ns($e[Be],$e))}),$e});function Tg($e){var Ae=$e==null?0:$e.length,Be=kt();return $e=Ae?or($e,function(Le){if(typeof Le[1]!="function")throw new Qr(Pe);return[Be(Le[0]),Le[1]]}):[],Ht(function(Le){for(var De=-1;++De<Ae;){var We=$e[De];if(Zr(We[0],this,Le))return Zr(We[1],this,Le)}})}function Sg($e){return Wd(Xr($e,Me))}function Ds($e){return function(){return $e}}function Pg($e,Ae){return $e==null||$e!==$e?Ae:$e}var Ig=Au(),Og=Au(!0);function Mr($e){return $e}function Us($e){return eu(typeof $e=="function"?$e:Xr($e,Me))}function Rg($e){return ru(Xr($e,Me))}function Cg($e,Ae){return nu($e,Xr(Ae,Me))}var Ng=Ht(function($e,Ae){return function(Be){return wi(Be,$e,Ae)}}),Bg=Ht(function($e,Ae){return function(Be){return wi($e,Be,Ae)}});function Zs($e,Ae,Be){var Le=_r(Ae),De=ra(Ae,Le);Be==null&&!(fr(Ae)&&(De.length||!Le.length))&&(Be=Ae,Ae=$e,$e=this,De=ra(Ae,_r(Ae)));var We=!(fr(Be)&&"chain"in Be)||!!Be.chain,et=xn($e);return Kr(De,function(rt){var st=Ae[rt];$e[rt]=st,et&&($e.prototype[rt]=function(){var _t=this.__chain__;if(We||_t){var $t=$e(this.__wrapped__),wt=$t.__actions__=kr(this.__actions__);return wt.push({func:st,args:arguments,thisArg:$e}),$t.__chain__=_t,$t}return st.apply($e,Rn([this.value()],arguments))})}),$e}function kg(){return Er._===this&&(Er._=nd),this}function Hs(){}function Fg($e){return $e=Ut($e),Ht(function(Ae){return iu(Ae,$e)})}var Lg=vs(or),Mg=vs(xo),jg=vs(Ha);function wc($e){return Ss($e)?za(yn($e)):pf($e)}function Dg($e){return function(Ae){return $e==null?ye:Gn($e,Ae)}}var Ug=Tu(),Zg=Tu(!0);function zs(){return[]}function Gs(){return!1}function Hg(){return{}}function zg(){return""}function Gg(){return!0}function qg($e,Ae){if($e=Ut($e),$e<1||$e>Vt)return[];var Be=sr,Le=Sr($e,sr);Ae=kt(Ae),$e-=sr;for(var De=Ya(Le,Ae);++Be<$e;)Ae(Be);return De}function Yg($e){return Dt($e)?or($e,yn):Gr($e)?[$e]:kr(Zu(Kt($e)))}function Vg($e){var Ae=++td;return Kt($e)+Ae}var Wg=ua(function($e,Ae){return $e+Ae},0),Kg=_s("ceil"),Qg=ua(function($e,Ae){return $e/Ae},1),Jg=_s("floor");function Xg($e){return $e&&$e.length?ta($e,Mr,is):ye}function em($e,Ae){return $e&&$e.length?ta($e,kt(Ae,2),is):ye}function tm($e){return Po($e,Mr)}function rm($e,Ae){return Po($e,kt(Ae,2))}function nm($e){return $e&&$e.length?ta($e,Mr,us):ye}function im($e,Ae){return $e&&$e.length?ta($e,kt(Ae,2),us):ye}var am=ua(function($e,Ae){return $e*Ae},1),sm=_s("round"),om=ua(function($e,Ae){return $e-Ae},0);function um($e){return $e&&$e.length?qa($e,Mr):0}function cm($e,Ae){return $e&&$e.length?qa($e,kt(Ae,2)):0}return qe.after=Op,qe.ary=Xu,qe.assign=by,qe.assignIn=hc,qe.assignInWith=wa,qe.assignWith=vy,qe.at=_y,qe.before=ec,qe.bind=Ns,qe.bindAll=xg,qe.bindKey=tc,qe.castArray=Hp,qe.chain=Ku,qe.chunk=Qf,qe.compact=Jf,qe.concat=Xf,qe.cond=Tg,qe.conforms=Sg,qe.constant=Ds,qe.countBy=op,qe.create=$y,qe.curry=rc,qe.curryRight=nc,qe.debounce=ic,qe.defaults=wy,qe.defaultsDeep=Ey,qe.defer=Rp,qe.delay=Cp,qe.difference=eh,qe.differenceBy=th,qe.differenceWith=rh,qe.drop=nh,qe.dropRight=ih,qe.dropRightWhile=ah,qe.dropWhile=sh,qe.fill=oh,qe.filter=cp,qe.flatMap=fp,qe.flatMapDeep=hp,qe.flatMapDepth=pp,qe.flatten=qu,qe.flattenDeep=uh,qe.flattenDepth=ch,qe.flip=Np,qe.flow=Ig,qe.flowRight=Og,qe.fromPairs=lh,qe.functions=Oy,qe.functionsIn=Ry,qe.groupBy=yp,qe.initial=fh,qe.intersection=hh,qe.intersectionBy=ph,qe.intersectionWith=yh,qe.invert=Ny,qe.invertBy=By,qe.invokeMap=mp,qe.iteratee=Us,qe.keyBy=bp,qe.keys=_r,qe.keysIn=Lr,qe.map=ya,qe.mapKeys=Fy,qe.mapValues=Ly,qe.matches=Rg,qe.matchesProperty=Cg,qe.memoize=ma,qe.merge=My,qe.mergeWith=pc,qe.method=Ng,qe.methodOf=Bg,qe.mixin=Zs,qe.negate=ba,qe.nthArg=Fg,qe.omit=jy,qe.omitBy=Dy,qe.once=Bp,qe.orderBy=vp,qe.over=Lg,qe.overArgs=kp,qe.overEvery=Mg,qe.overSome=jg,qe.partial=Bs,qe.partialRight=ac,qe.partition=_p,qe.pick=Uy,qe.pickBy=yc,qe.property=wc,qe.propertyOf=Dg,qe.pull=vh,qe.pullAll=Vu,qe.pullAllBy=_h,qe.pullAllWith=$h,qe.pullAt=wh,qe.range=Ug,qe.rangeRight=Zg,qe.rearg=Lp,qe.reject=Ep,qe.remove=Eh,qe.rest=Mp,qe.reverse=Rs,qe.sampleSize=xp,qe.set=Hy,qe.setWith=zy,qe.shuffle=Tp,qe.slice=Ah,qe.sortBy=Ip,qe.sortedUniq=Rh,qe.sortedUniqBy=Ch,qe.split=hg,qe.spread=jp,qe.tail=Nh,qe.take=Bh,qe.takeRight=kh,qe.takeRightWhile=Fh,qe.takeWhile=Lh,qe.tap=Jh,qe.throttle=Dp,qe.thru=pa,qe.toArray=lc,qe.toPairs=gc,qe.toPairsIn=mc,qe.toPath=Yg,qe.toPlainObject=fc,qe.transform=Gy,qe.unary=Up,qe.union=Mh,qe.unionBy=jh,qe.unionWith=Dh,qe.uniq=Uh,qe.uniqBy=Zh,qe.uniqWith=Hh,qe.unset=qy,qe.unzip=Cs,qe.unzipWith=Wu,qe.update=Yy,qe.updateWith=Vy,qe.values=ci,qe.valuesIn=Wy,qe.without=zh,qe.words=_c,qe.wrap=Zp,qe.xor=Gh,qe.xorBy=qh,qe.xorWith=Yh,qe.zip=Vh,qe.zipObject=Wh,qe.zipObjectDeep=Kh,qe.zipWith=Qh,qe.entries=gc,qe.entriesIn=mc,qe.extend=hc,qe.extendWith=wa,Zs(qe,qe),qe.add=Wg,qe.attempt=$c,qe.camelCase=Xy,qe.capitalize=bc,qe.ceil=Kg,qe.clamp=Ky,qe.clone=zp,qe.cloneDeep=qp,qe.cloneDeepWith=Yp,qe.cloneWith=Gp,qe.conformsTo=Vp,qe.deburr=vc,qe.defaultTo=Pg,qe.divide=Qg,qe.endsWith=eg,qe.eq=on,qe.escape=tg,qe.escapeRegExp=rg,qe.every=up,qe.find=lp,qe.findIndex=zu,qe.findKey=Ay,qe.findLast=dp,qe.findLastIndex=Gu,qe.findLastKey=xy,qe.floor=Jg,qe.forEach=Qu,qe.forEachRight=Ju,qe.forIn=Ty,qe.forInRight=Sy,qe.forOwn=Py,qe.forOwnRight=Iy,qe.get=Ls,qe.gt=Wp,qe.gte=Kp,qe.has=Cy,qe.hasIn=Ms,qe.head=Yu,qe.identity=Mr,qe.includes=gp,qe.indexOf=dh,qe.inRange=Qy,qe.invoke=ky,qe.isArguments=Vn,qe.isArray=Dt,qe.isArrayBuffer=Qp,qe.isArrayLike=Fr,qe.isArrayLikeObject=pr,qe.isBoolean=Jp,qe.isBuffer=Mn,qe.isDate=Xp,qe.isElement=ey,qe.isEmpty=ty,qe.isEqual=ry,qe.isEqualWith=ny,qe.isError=ks,qe.isFinite=iy,qe.isFunction=xn,qe.isInteger=sc,qe.isLength=va,qe.isMap=oc,qe.isMatch=ay,qe.isMatchWith=sy,qe.isNaN=oy,qe.isNative=uy,qe.isNil=ly,qe.isNull=cy,qe.isNumber=uc,qe.isObject=fr,qe.isObjectLike=hr,qe.isPlainObject=Pi,qe.isRegExp=Fs,qe.isSafeInteger=dy,qe.isSet=cc,qe.isString=$a,qe.isSymbol=Gr,qe.isTypedArray=ui,qe.isUndefined=fy,qe.isWeakMap=hy,qe.isWeakSet=py,qe.join=gh,qe.kebabCase=ng,qe.last=tn,qe.lastIndexOf=mh,qe.lowerCase=ig,qe.lowerFirst=ag,qe.lt=yy,qe.lte=gy,qe.max=Xg,qe.maxBy=em,qe.mean=tm,qe.meanBy=rm,qe.min=nm,qe.minBy=im,qe.stubArray=zs,qe.stubFalse=Gs,qe.stubObject=Hg,qe.stubString=zg,qe.stubTrue=Gg,qe.multiply=am,qe.nth=bh,qe.noConflict=kg,qe.noop=Hs,qe.now=ga,qe.pad=sg,qe.padEnd=og,qe.padStart=ug,qe.parseInt=cg,qe.random=Jy,qe.reduce=$p,qe.reduceRight=wp,qe.repeat=lg,qe.replace=dg,qe.result=Zy,qe.round=sm,qe.runInContext=it,qe.sample=Ap,qe.size=Sp,qe.snakeCase=fg,qe.some=Pp,qe.sortedIndex=xh,qe.sortedIndexBy=Th,qe.sortedIndexOf=Sh,qe.sortedLastIndex=Ph,qe.sortedLastIndexBy=Ih,qe.sortedLastIndexOf=Oh,qe.startCase=pg,qe.startsWith=yg,qe.subtract=om,qe.sum=um,qe.sumBy=cm,qe.template=gg,qe.times=qg,qe.toFinite=Tn,qe.toInteger=Ut,qe.toLength=dc,qe.toLower=mg,qe.toNumber=rn,qe.toSafeInteger=my,qe.toString=Kt,qe.toUpper=bg,qe.trim=vg,qe.trimEnd=_g,qe.trimStart=$g,qe.truncate=wg,qe.unescape=Eg,qe.uniqueId=Vg,qe.upperCase=Ag,qe.upperFirst=js,qe.each=Qu,qe.eachRight=Ju,qe.first=Yu,Zs(qe,function(){var $e={};return hn(qe,function(Ae,Be){Jt.call(qe.prototype,Be)||($e[Be]=Ae)}),$e}(),{chain:!1}),qe.VERSION=ve,Kr(["bind","bindKey","curry","curryRight","partial","partialRight"],function($e){qe[$e].placeholder=qe}),Kr(["drop","take"],function($e,Ae){qt.prototype[$e]=function(Be){Be=Be===ye?1:vr(Ut(Be),0);var Le=this.__filtered__&&!Ae?new qt(this):this.clone();return Le.__filtered__?Le.__takeCount__=Sr(Be,Le.__takeCount__):Le.__views__.push({size:Sr(Be,sr),type:$e+(Le.__dir__<0?"Right":"")}),Le},qt.prototype[$e+"Right"]=function(Be){return this.reverse()[$e](Be).reverse()}}),Kr(["filter","map","takeWhile"],function($e,Ae){var Be=Ae+1,Le=Be==wr||Be==Ct;qt.prototype[$e]=function(De){var We=this.clone();return We.__iteratees__.push({iteratee:kt(De,3),type:Be}),We.__filtered__=We.__filtered__||Le,We}}),Kr(["head","last"],function($e,Ae){var Be="take"+(Ae?"Right":"");qt.prototype[$e]=function(){return this[Be](1).value()[0]}}),Kr(["initial","tail"],function($e,Ae){var Be="drop"+(Ae?"":"Right");qt.prototype[$e]=function(){return this.__filtered__?new qt(this):this[Be](1)}}),qt.prototype.compact=function(){return this.filter(Mr)},qt.prototype.find=function($e){return this.filter($e).head()},qt.prototype.findLast=function($e){return this.reverse().find($e)},qt.prototype.invokeMap=Ht(function($e,Ae){return typeof $e=="function"?new qt(this):this.map(function(Be){return wi(Be,$e,Ae)})}),qt.prototype.reject=function($e){return this.filter(ba(kt($e)))},qt.prototype.slice=function($e,Ae){$e=Ut($e);var Be=this;return Be.__filtered__&&($e>0||Ae<0)?new qt(Be):($e<0?Be=Be.takeRight(-$e):$e&&(Be=Be.drop($e)),Ae!==ye&&(Ae=Ut(Ae),Be=Ae<0?Be.dropRight(-Ae):Be.take(Ae-$e)),Be)},qt.prototype.takeRightWhile=function($e){return this.reverse().takeWhile($e).reverse()},qt.prototype.toArray=function(){return this.take(sr)},hn(qt.prototype,function($e,Ae){var Be=/^(?:filter|find|map|reject)|While$/.test(Ae),Le=/^(?:head|last)$/.test(Ae),De=qe[Le?"take"+(Ae=="last"?"Right":""):Ae],We=Le||/^find/.test(Ae);De&&(qe.prototype[Ae]=function(){var et=this.__wrapped__,rt=Le?[1]:arguments,st=et instanceof qt,_t=rt[0],$t=st||Dt(et),wt=function(Gt){var Yt=De.apply(qe,Rn([Gt],rt));return Le&&It?Yt[0]:Yt};$t&&Be&&typeof _t=="function"&&_t.length!=1&&(st=$t=!1);var It=this.__chain__,Nt=!!this.__actions__.length,Ft=We&&!It,Zt=st&&!Nt;if(!We&&$t){et=Zt?et:new qt(this);var Lt=$e.apply(et,rt);return Lt.__actions__.push({func:pa,args:[wt],thisArg:ye}),new Jr(Lt,It)}return Ft&&Zt?$e.apply(this,rt):(Lt=this.thru(wt),Ft?Le?Lt.value()[0]:Lt.value():Lt)})}),Kr(["pop","push","shift","sort","splice","unshift"],function($e){var Ae=Mi[$e],Be=/^(?:push|sort|unshift)$/.test($e)?"tap":"thru",Le=/^(?:pop|shift)$/.test($e);qe.prototype[$e]=function(){var De=arguments;if(Le&&!this.__chain__){var We=this.value();return Ae.apply(Dt(We)?We:[],De)}return this[Be](function(et){return Ae.apply(Dt(et)?et:[],De)})}}),hn(qt.prototype,function($e,Ae){var Be=qe[Ae];if(Be){var Le=Be.name+"";Jt.call(ni,Le)||(ni[Le]=[]),ni[Le].push({name:Ae,func:Be})}}),ni[oa(ye,tt).name]=[{name:"wrapper",func:ye}],qt.prototype.clone=_d,qt.prototype.reverse=$d,qt.prototype.value=wd,qe.prototype.at=Xh,qe.prototype.chain=ep,qe.prototype.commit=tp,qe.prototype.next=rp,qe.prototype.plant=ip,qe.prototype.reverse=ap,qe.prototype.toJSON=qe.prototype.valueOf=qe.prototype.value=sp,qe.prototype.first=qe.prototype.head,yi&&(qe.prototype[yi]=np),qe},ei=Jl();Dn?((Dn.exports=ei)._=ei,ja._=ei):Er._=ei}).call(commonjsGlobal)})(lodash$1,lodash$1.exports);var lodashExports=lodash$1.exports;const lodash=getDefaultExportFromCjs(lodashExports);var util;(function(oe){oe.assertEqual=_e=>_e;function he(_e){}oe.assertIs=he;function ye(_e){throw new Error}oe.assertNever=ye,oe.arrayToEnum=_e=>{const we={};for(const Pe of _e)we[Pe]=Pe;return we},oe.getValidEnumValues=_e=>{const we=oe.objectKeys(_e).filter(Ie=>typeof _e[_e[Ie]]!="number"),Pe={};for(const Ie of we)Pe[Ie]=_e[Ie];return oe.objectValues(Pe)},oe.objectValues=_e=>oe.objectKeys(_e).map(function(we){return _e[we]}),oe.objectKeys=typeof Object.keys=="function"?_e=>Object.keys(_e):_e=>{const we=[];for(const Pe in _e)Object.prototype.hasOwnProperty.call(_e,Pe)&&we.push(Pe);return we},oe.find=(_e,we)=>{for(const Pe of _e)if(we(Pe))return Pe},oe.isInteger=typeof Number.isInteger=="function"?_e=>Number.isInteger(_e):_e=>typeof _e=="number"&&isFinite(_e)&&Math.floor(_e)===_e;function ve(_e,we=" | "){return _e.map(Pe=>typeof Pe=="string"?`'${Pe}'`:Pe).join(we)}oe.joinValues=ve,oe.jsonStringifyReplacer=(_e,we)=>typeof we=="bigint"?we.toString():we})(util||(util={}));var objectUtil;(function(oe){oe.mergeShapes=(he,ye)=>({...he,...ye})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=oe=>{switch(typeof oe){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(oe)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(oe)?ZodParsedType.array:oe===null?ZodParsedType.null:oe.then&&typeof oe.then=="function"&&oe.catch&&typeof oe.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&oe instanceof Map?ZodParsedType.map:typeof Set<"u"&&oe instanceof Set?ZodParsedType.set:typeof Date<"u"&&oe instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=oe=>JSON.stringify(oe,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(he){super(),this.issues=[],this.addIssue=ve=>{this.issues=[...this.issues,ve]},this.addIssues=(ve=[])=>{this.issues=[...this.issues,...ve]};const ye=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,ye):this.__proto__=ye,this.name="ZodError",this.issues=he}get errors(){return this.issues}format(he){const ye=he||function(we){return we.message},ve={_errors:[]},_e=we=>{for(const Pe of we.issues)if(Pe.code==="invalid_union")Pe.unionErrors.map(_e);else if(Pe.code==="invalid_return_type")_e(Pe.returnTypeError);else if(Pe.code==="invalid_arguments")_e(Pe.argumentsError);else if(Pe.path.length===0)ve._errors.push(ye(Pe));else{let Ie=ve,Re=0;for(;Re<Pe.path.length;){const ke=Pe.path[Re];Re===Pe.path.length-1?(Ie[ke]=Ie[ke]||{_errors:[]},Ie[ke]._errors.push(ye(Pe))):Ie[ke]=Ie[ke]||{_errors:[]},Ie=Ie[ke],Re++}}};return _e(this),ve}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(he=ye=>ye.message){const ye={},ve=[];for(const _e of this.issues)_e.path.length>0?(ye[_e.path[0]]=ye[_e.path[0]]||[],ye[_e.path[0]].push(he(_e))):ve.push(he(_e));return{formErrors:ve,fieldErrors:ye}}get formErrors(){return this.flatten()}}ZodError.create=oe=>new ZodError(oe);const errorMap=(oe,he)=>{let ye;switch(oe.code){case ZodIssueCode.invalid_type:oe.received===ZodParsedType.undefined?ye="Required":ye=`Expected ${oe.expected}, received ${oe.received}`;break;case ZodIssueCode.invalid_literal:ye=`Invalid literal value, expected ${JSON.stringify(oe.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:ye=`Unrecognized key(s) in object: ${util.joinValues(oe.keys,", ")}`;break;case ZodIssueCode.invalid_union:ye="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:ye=`Invalid discriminator value. Expected ${util.joinValues(oe.options)}`;break;case ZodIssueCode.invalid_enum_value:ye=`Invalid enum value. Expected ${util.joinValues(oe.options)}, received '${oe.received}'`;break;case ZodIssueCode.invalid_arguments:ye="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:ye="Invalid function return type";break;case ZodIssueCode.invalid_date:ye="Invalid date";break;case ZodIssueCode.invalid_string:typeof oe.validation=="object"?"includes"in oe.validation?(ye=`Invalid input: must include "${oe.validation.includes}"`,typeof oe.validation.position=="number"&&(ye=`${ye} at one or more positions greater than or equal to ${oe.validation.position}`)):"startsWith"in oe.validation?ye=`Invalid input: must start with "${oe.validation.startsWith}"`:"endsWith"in oe.validation?ye=`Invalid input: must end with "${oe.validation.endsWith}"`:util.assertNever(oe.validation):oe.validation!=="regex"?ye=`Invalid ${oe.validation}`:ye="Invalid";break;case ZodIssueCode.too_small:oe.type==="array"?ye=`Array must contain ${oe.exact?"exactly":oe.inclusive?"at least":"more than"} ${oe.minimum} element(s)`:oe.type==="string"?ye=`String must contain ${oe.exact?"exactly":oe.inclusive?"at least":"over"} ${oe.minimum} character(s)`:oe.type==="number"?ye=`Number must be ${oe.exact?"exactly equal to ":oe.inclusive?"greater than or equal to ":"greater than "}${oe.minimum}`:oe.type==="date"?ye=`Date must be ${oe.exact?"exactly equal to ":oe.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(oe.minimum))}`:ye="Invalid input";break;case ZodIssueCode.too_big:oe.type==="array"?ye=`Array must contain ${oe.exact?"exactly":oe.inclusive?"at most":"less than"} ${oe.maximum} element(s)`:oe.type==="string"?ye=`String must contain ${oe.exact?"exactly":oe.inclusive?"at most":"under"} ${oe.maximum} character(s)`:oe.type==="number"?ye=`Number must be ${oe.exact?"exactly":oe.inclusive?"less than or equal to":"less than"} ${oe.maximum}`:oe.type==="bigint"?ye=`BigInt must be ${oe.exact?"exactly":oe.inclusive?"less than or equal to":"less than"} ${oe.maximum}`:oe.type==="date"?ye=`Date must be ${oe.exact?"exactly":oe.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(oe.maximum))}`:ye="Invalid input";break;case ZodIssueCode.custom:ye="Invalid input";break;case ZodIssueCode.invalid_intersection_types:ye="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:ye=`Number must be a multiple of ${oe.multipleOf}`;break;case ZodIssueCode.not_finite:ye="Number must be finite";break;default:ye=he.defaultError,util.assertNever(oe)}return{message:ye}};let overrideErrorMap=errorMap;function setErrorMap(oe){overrideErrorMap=oe}function getErrorMap(){return overrideErrorMap}const makeIssue=oe=>{const{data:he,path:ye,errorMaps:ve,issueData:_e}=oe,we=[...ye,..._e.path||[]],Pe={..._e,path:we};let Ie="";const Re=ve.filter(ke=>!!ke).slice().reverse();for(const ke of Re)Ie=ke(Pe,{data:he,defaultError:Ie}).message;return{..._e,path:we,message:_e.message||Ie}},EMPTY_PATH=[];function addIssueToContext(oe,he){const ye=makeIssue({issueData:he,data:oe.data,path:oe.path,errorMaps:[oe.common.contextualErrorMap,oe.schemaErrorMap,getErrorMap(),errorMap].filter(ve=>!!ve)});oe.common.issues.push(ye)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(he,ye){const ve=[];for(const _e of ye){if(_e.status==="aborted")return INVALID;_e.status==="dirty"&&he.dirty(),ve.push(_e.value)}return{status:he.value,value:ve}}static async mergeObjectAsync(he,ye){const ve=[];for(const _e of ye)ve.push({key:await _e.key,value:await _e.value});return ParseStatus.mergeObjectSync(he,ve)}static mergeObjectSync(he,ye){const ve={};for(const _e of ye){const{key:we,value:Pe}=_e;if(we.status==="aborted"||Pe.status==="aborted")return INVALID;we.status==="dirty"&&he.dirty(),Pe.status==="dirty"&&he.dirty(),we.value!=="__proto__"&&(typeof Pe.value<"u"||_e.alwaysSet)&&(ve[we.value]=Pe.value)}return{status:he.value,value:ve}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=oe=>({status:"dirty",value:oe}),OK=oe=>({status:"valid",value:oe}),isAborted=oe=>oe.status==="aborted",isDirty=oe=>oe.status==="dirty",isValid=oe=>oe.status==="valid",isAsync=oe=>typeof Promise<"u"&&oe instanceof Promise;var errorUtil;(function(oe){oe.errToObj=he=>typeof he=="string"?{message:he}:he||{},oe.toString=he=>typeof he=="string"?he:he?.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(he,ye,ve,_e){this._cachedPath=[],this.parent=he,this.data=ye,this._path=ve,this._key=_e}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(oe,he)=>{if(isValid(he))return{success:!0,data:he.value};if(!oe.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const ye=new ZodError(oe.common.issues);return this._error=ye,this._error}}};function processCreateParams(oe){if(!oe)return{};const{errorMap:he,invalid_type_error:ye,required_error:ve,description:_e}=oe;if(he&&(ye||ve))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return he?{errorMap:he,description:_e}:{errorMap:(Pe,Ie)=>Pe.code!=="invalid_type"?{message:Ie.defaultError}:typeof Ie.data>"u"?{message:ve??Ie.defaultError}:{message:ye??Ie.defaultError},description:_e}}class ZodType{constructor(he){this.spa=this.safeParseAsync,this._def=he,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(he){return getParsedType(he.data)}_getOrReturnCtx(he,ye){return ye||{common:he.parent.common,data:he.data,parsedType:getParsedType(he.data),schemaErrorMap:this._def.errorMap,path:he.path,parent:he.parent}}_processInputParams(he){return{status:new ParseStatus,ctx:{common:he.parent.common,data:he.data,parsedType:getParsedType(he.data),schemaErrorMap:this._def.errorMap,path:he.path,parent:he.parent}}}_parseSync(he){const ye=this._parse(he);if(isAsync(ye))throw new Error("Synchronous parse encountered promise.");return ye}_parseAsync(he){const ye=this._parse(he);return Promise.resolve(ye)}parse(he,ye){const ve=this.safeParse(he,ye);if(ve.success)return ve.data;throw ve.error}safeParse(he,ye){var ve;const _e={common:{issues:[],async:(ve=ye?.async)!==null&&ve!==void 0?ve:!1,contextualErrorMap:ye?.errorMap},path:ye?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:he,parsedType:getParsedType(he)},we=this._parseSync({data:he,path:_e.path,parent:_e});return handleResult(_e,we)}async parseAsync(he,ye){const ve=await this.safeParseAsync(he,ye);if(ve.success)return ve.data;throw ve.error}async safeParseAsync(he,ye){const ve={common:{issues:[],contextualErrorMap:ye?.errorMap,async:!0},path:ye?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:he,parsedType:getParsedType(he)},_e=this._parse({data:he,path:ve.path,parent:ve}),we=await(isAsync(_e)?_e:Promise.resolve(_e));return handleResult(ve,we)}refine(he,ye){const ve=_e=>typeof ye=="string"||typeof ye>"u"?{message:ye}:typeof ye=="function"?ye(_e):ye;return this._refinement((_e,we)=>{const Pe=he(_e),Ie=()=>we.addIssue({code:ZodIssueCode.custom,...ve(_e)});return typeof Promise<"u"&&Pe instanceof Promise?Pe.then(Re=>Re?!0:(Ie(),!1)):Pe?!0:(Ie(),!1)})}refinement(he,ye){return this._refinement((ve,_e)=>he(ve)?!0:(_e.addIssue(typeof ye=="function"?ye(ve,_e):ye),!1))}_refinement(he){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:he}})}superRefine(he){return this._refinement(he)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(he){return ZodUnion.create([this,he],this._def)}and(he){return ZodIntersection.create(this,he,this._def)}transform(he){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:he}})}default(he){const ye=typeof he=="function"?he:()=>he;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:ye,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(he){const ye=typeof he=="function"?he:()=>he;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:ye,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(he){const ye=this.constructor;return new ye({...this._def,description:he})}pipe(he){return ZodPipeline.create(this,he)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/[0-9A-HJKMNP-TV-Z]{26}/,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,emailRegex=/^([A-Z0-9_+-]+\.?)*[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,emojiRegex=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=oe=>oe.precision?oe.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${oe.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${oe.precision}}Z$`):oe.precision===0?oe.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):oe.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(oe,he){return!!((he==="v4"||!he)&&ipv4Regex.test(oe)||(he==="v6"||!he)&&ipv6Regex.test(oe))}class ZodString extends ZodType{constructor(){super(...arguments),this._regex=(he,ye,ve)=>this.refinement(_e=>he.test(_e),{validation:ye,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(ve)}),this.nonempty=he=>this.min(1,errorUtil.errToObj(he)),this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(he){if(this._def.coerce&&(he.data=String(he.data)),this._getType(he)!==ZodParsedType.string){const we=this._getOrReturnCtx(he);return addIssueToContext(we,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:we.parsedType}),INVALID}const ve=new ParseStatus;let _e;for(const we of this._def.checks)if(we.kind==="min")he.data.length<we.value&&(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.too_small,minimum:we.value,type:"string",inclusive:!0,exact:!1,message:we.message}),ve.dirty());else if(we.kind==="max")he.data.length>we.value&&(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.too_big,maximum:we.value,type:"string",inclusive:!0,exact:!1,message:we.message}),ve.dirty());else if(we.kind==="length"){const Pe=he.data.length>we.value,Ie=he.data.length<we.value;(Pe||Ie)&&(_e=this._getOrReturnCtx(he,_e),Pe?addIssueToContext(_e,{code:ZodIssueCode.too_big,maximum:we.value,type:"string",inclusive:!0,exact:!0,message:we.message}):Ie&&addIssueToContext(_e,{code:ZodIssueCode.too_small,minimum:we.value,type:"string",inclusive:!0,exact:!0,message:we.message}),ve.dirty())}else if(we.kind==="email")emailRegex.test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"email",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty());else if(we.kind==="emoji")emojiRegex.test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"emoji",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty());else if(we.kind==="uuid")uuidRegex.test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"uuid",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty());else if(we.kind==="cuid")cuidRegex.test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"cuid",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty());else if(we.kind==="cuid2")cuid2Regex.test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty());else if(we.kind==="ulid")ulidRegex.test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"ulid",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty());else if(we.kind==="url")try{new URL(he.data)}catch{_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"url",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty()}else we.kind==="regex"?(we.regex.lastIndex=0,we.regex.test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"regex",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty())):we.kind==="trim"?he.data=he.data.trim():we.kind==="includes"?he.data.includes(we.value,we.position)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.invalid_string,validation:{includes:we.value,position:we.position},message:we.message}),ve.dirty()):we.kind==="toLowerCase"?he.data=he.data.toLowerCase():we.kind==="toUpperCase"?he.data=he.data.toUpperCase():we.kind==="startsWith"?he.data.startsWith(we.value)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.invalid_string,validation:{startsWith:we.value},message:we.message}),ve.dirty()):we.kind==="endsWith"?he.data.endsWith(we.value)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.invalid_string,validation:{endsWith:we.value},message:we.message}),ve.dirty()):we.kind==="datetime"?datetimeRegex(we).test(he.data)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.invalid_string,validation:"datetime",message:we.message}),ve.dirty()):we.kind==="ip"?isValidIP(he.data,we.version)||(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{validation:"ip",code:ZodIssueCode.invalid_string,message:we.message}),ve.dirty()):util.assertNever(we);return{status:ve.value,value:he.data}}_addCheck(he){return new ZodString({...this._def,checks:[...this._def.checks,he]})}email(he){return this._addCheck({kind:"email",...errorUtil.errToObj(he)})}url(he){return this._addCheck({kind:"url",...errorUtil.errToObj(he)})}emoji(he){return this._addCheck({kind:"emoji",...errorUtil.errToObj(he)})}uuid(he){return this._addCheck({kind:"uuid",...errorUtil.errToObj(he)})}cuid(he){return this._addCheck({kind:"cuid",...errorUtil.errToObj(he)})}cuid2(he){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(he)})}ulid(he){return this._addCheck({kind:"ulid",...errorUtil.errToObj(he)})}ip(he){return this._addCheck({kind:"ip",...errorUtil.errToObj(he)})}datetime(he){var ye;return typeof he=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:he}):this._addCheck({kind:"datetime",precision:typeof he?.precision>"u"?null:he?.precision,offset:(ye=he?.offset)!==null&&ye!==void 0?ye:!1,...errorUtil.errToObj(he?.message)})}regex(he,ye){return this._addCheck({kind:"regex",regex:he,...errorUtil.errToObj(ye)})}includes(he,ye){return this._addCheck({kind:"includes",value:he,position:ye?.position,...errorUtil.errToObj(ye?.message)})}startsWith(he,ye){return this._addCheck({kind:"startsWith",value:he,...errorUtil.errToObj(ye)})}endsWith(he,ye){return this._addCheck({kind:"endsWith",value:he,...errorUtil.errToObj(ye)})}min(he,ye){return this._addCheck({kind:"min",value:he,...errorUtil.errToObj(ye)})}max(he,ye){return this._addCheck({kind:"max",value:he,...errorUtil.errToObj(ye)})}length(he,ye){return this._addCheck({kind:"length",value:he,...errorUtil.errToObj(ye)})}get isDatetime(){return!!this._def.checks.find(he=>he.kind==="datetime")}get isEmail(){return!!this._def.checks.find(he=>he.kind==="email")}get isURL(){return!!this._def.checks.find(he=>he.kind==="url")}get isEmoji(){return!!this._def.checks.find(he=>he.kind==="emoji")}get isUUID(){return!!this._def.checks.find(he=>he.kind==="uuid")}get isCUID(){return!!this._def.checks.find(he=>he.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(he=>he.kind==="cuid2")}get isULID(){return!!this._def.checks.find(he=>he.kind==="ulid")}get isIP(){return!!this._def.checks.find(he=>he.kind==="ip")}get minLength(){let he=null;for(const ye of this._def.checks)ye.kind==="min"&&(he===null||ye.value>he)&&(he=ye.value);return he}get maxLength(){let he=null;for(const ye of this._def.checks)ye.kind==="max"&&(he===null||ye.value<he)&&(he=ye.value);return he}}ZodString.create=oe=>{var he;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(he=oe?.coerce)!==null&&he!==void 0?he:!1,...processCreateParams(oe)})};function floatSafeRemainder(oe,he){const ye=(oe.toString().split(".")[1]||"").length,ve=(he.toString().split(".")[1]||"").length,_e=ye>ve?ye:ve,we=parseInt(oe.toFixed(_e).replace(".","")),Pe=parseInt(he.toFixed(_e).replace(".",""));return we%Pe/Math.pow(10,_e)}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(he){if(this._def.coerce&&(he.data=Number(he.data)),this._getType(he)!==ZodParsedType.number){const we=this._getOrReturnCtx(he);return addIssueToContext(we,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:we.parsedType}),INVALID}let ve;const _e=new ParseStatus;for(const we of this._def.checks)we.kind==="int"?util.isInteger(he.data)||(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:we.message}),_e.dirty()):we.kind==="min"?(we.inclusive?he.data<we.value:he.data<=we.value)&&(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.too_small,minimum:we.value,type:"number",inclusive:we.inclusive,exact:!1,message:we.message}),_e.dirty()):we.kind==="max"?(we.inclusive?he.data>we.value:he.data>=we.value)&&(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.too_big,maximum:we.value,type:"number",inclusive:we.inclusive,exact:!1,message:we.message}),_e.dirty()):we.kind==="multipleOf"?floatSafeRemainder(he.data,we.value)!==0&&(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.not_multiple_of,multipleOf:we.value,message:we.message}),_e.dirty()):we.kind==="finite"?Number.isFinite(he.data)||(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.not_finite,message:we.message}),_e.dirty()):util.assertNever(we);return{status:_e.value,value:he.data}}gte(he,ye){return this.setLimit("min",he,!0,errorUtil.toString(ye))}gt(he,ye){return this.setLimit("min",he,!1,errorUtil.toString(ye))}lte(he,ye){return this.setLimit("max",he,!0,errorUtil.toString(ye))}lt(he,ye){return this.setLimit("max",he,!1,errorUtil.toString(ye))}setLimit(he,ye,ve,_e){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:he,value:ye,inclusive:ve,message:errorUtil.toString(_e)}]})}_addCheck(he){return new ZodNumber({...this._def,checks:[...this._def.checks,he]})}int(he){return this._addCheck({kind:"int",message:errorUtil.toString(he)})}positive(he){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(he)})}negative(he){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(he)})}nonpositive(he){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(he)})}nonnegative(he){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(he)})}multipleOf(he,ye){return this._addCheck({kind:"multipleOf",value:he,message:errorUtil.toString(ye)})}finite(he){return this._addCheck({kind:"finite",message:errorUtil.toString(he)})}safe(he){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(he)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(he)})}get minValue(){let he=null;for(const ye of this._def.checks)ye.kind==="min"&&(he===null||ye.value>he)&&(he=ye.value);return he}get maxValue(){let he=null;for(const ye of this._def.checks)ye.kind==="max"&&(he===null||ye.value<he)&&(he=ye.value);return he}get isInt(){return!!this._def.checks.find(he=>he.kind==="int"||he.kind==="multipleOf"&&util.isInteger(he.value))}get isFinite(){let he=null,ye=null;for(const ve of this._def.checks){if(ve.kind==="finite"||ve.kind==="int"||ve.kind==="multipleOf")return!0;ve.kind==="min"?(ye===null||ve.value>ye)&&(ye=ve.value):ve.kind==="max"&&(he===null||ve.value<he)&&(he=ve.value)}return Number.isFinite(ye)&&Number.isFinite(he)}}ZodNumber.create=oe=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:oe?.coerce||!1,...processCreateParams(oe)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(he){if(this._def.coerce&&(he.data=BigInt(he.data)),this._getType(he)!==ZodParsedType.bigint){const we=this._getOrReturnCtx(he);return addIssueToContext(we,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:we.parsedType}),INVALID}let ve;const _e=new ParseStatus;for(const we of this._def.checks)we.kind==="min"?(we.inclusive?he.data<we.value:he.data<=we.value)&&(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.too_small,type:"bigint",minimum:we.value,inclusive:we.inclusive,message:we.message}),_e.dirty()):we.kind==="max"?(we.inclusive?he.data>we.value:he.data>=we.value)&&(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.too_big,type:"bigint",maximum:we.value,inclusive:we.inclusive,message:we.message}),_e.dirty()):we.kind==="multipleOf"?he.data%we.value!==BigInt(0)&&(ve=this._getOrReturnCtx(he,ve),addIssueToContext(ve,{code:ZodIssueCode.not_multiple_of,multipleOf:we.value,message:we.message}),_e.dirty()):util.assertNever(we);return{status:_e.value,value:he.data}}gte(he,ye){return this.setLimit("min",he,!0,errorUtil.toString(ye))}gt(he,ye){return this.setLimit("min",he,!1,errorUtil.toString(ye))}lte(he,ye){return this.setLimit("max",he,!0,errorUtil.toString(ye))}lt(he,ye){return this.setLimit("max",he,!1,errorUtil.toString(ye))}setLimit(he,ye,ve,_e){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:he,value:ye,inclusive:ve,message:errorUtil.toString(_e)}]})}_addCheck(he){return new ZodBigInt({...this._def,checks:[...this._def.checks,he]})}positive(he){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(he)})}negative(he){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(he)})}nonpositive(he){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(he)})}nonnegative(he){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(he)})}multipleOf(he,ye){return this._addCheck({kind:"multipleOf",value:he,message:errorUtil.toString(ye)})}get minValue(){let he=null;for(const ye of this._def.checks)ye.kind==="min"&&(he===null||ye.value>he)&&(he=ye.value);return he}get maxValue(){let he=null;for(const ye of this._def.checks)ye.kind==="max"&&(he===null||ye.value<he)&&(he=ye.value);return he}}ZodBigInt.create=oe=>{var he;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(he=oe?.coerce)!==null&&he!==void 0?he:!1,...processCreateParams(oe)})};class ZodBoolean extends ZodType{_parse(he){if(this._def.coerce&&(he.data=!!he.data),this._getType(he)!==ZodParsedType.boolean){const ve=this._getOrReturnCtx(he);return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:ve.parsedType}),INVALID}return OK(he.data)}}ZodBoolean.create=oe=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:oe?.coerce||!1,...processCreateParams(oe)});class ZodDate extends ZodType{_parse(he){if(this._def.coerce&&(he.data=new Date(he.data)),this._getType(he)!==ZodParsedType.date){const we=this._getOrReturnCtx(he);return addIssueToContext(we,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:we.parsedType}),INVALID}if(isNaN(he.data.getTime())){const we=this._getOrReturnCtx(he);return addIssueToContext(we,{code:ZodIssueCode.invalid_date}),INVALID}const ve=new ParseStatus;let _e;for(const we of this._def.checks)we.kind==="min"?he.data.getTime()<we.value&&(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.too_small,message:we.message,inclusive:!0,exact:!1,minimum:we.value,type:"date"}),ve.dirty()):we.kind==="max"?he.data.getTime()>we.value&&(_e=this._getOrReturnCtx(he,_e),addIssueToContext(_e,{code:ZodIssueCode.too_big,message:we.message,inclusive:!0,exact:!1,maximum:we.value,type:"date"}),ve.dirty()):util.assertNever(we);return{status:ve.value,value:new Date(he.data.getTime())}}_addCheck(he){return new ZodDate({...this._def,checks:[...this._def.checks,he]})}min(he,ye){return this._addCheck({kind:"min",value:he.getTime(),message:errorUtil.toString(ye)})}max(he,ye){return this._addCheck({kind:"max",value:he.getTime(),message:errorUtil.toString(ye)})}get minDate(){let he=null;for(const ye of this._def.checks)ye.kind==="min"&&(he===null||ye.value>he)&&(he=ye.value);return he!=null?new Date(he):null}get maxDate(){let he=null;for(const ye of this._def.checks)ye.kind==="max"&&(he===null||ye.value<he)&&(he=ye.value);return he!=null?new Date(he):null}}ZodDate.create=oe=>new ZodDate({checks:[],coerce:oe?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(oe)});class ZodSymbol extends ZodType{_parse(he){if(this._getType(he)!==ZodParsedType.symbol){const ve=this._getOrReturnCtx(he);return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:ve.parsedType}),INVALID}return OK(he.data)}}ZodSymbol.create=oe=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(oe)});class ZodUndefined extends ZodType{_parse(he){if(this._getType(he)!==ZodParsedType.undefined){const ve=this._getOrReturnCtx(he);return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:ve.parsedType}),INVALID}return OK(he.data)}}ZodUndefined.create=oe=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(oe)});class ZodNull extends ZodType{_parse(he){if(this._getType(he)!==ZodParsedType.null){const ve=this._getOrReturnCtx(he);return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:ve.parsedType}),INVALID}return OK(he.data)}}ZodNull.create=oe=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(oe)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(he){return OK(he.data)}}ZodAny.create=oe=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(oe)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(he){return OK(he.data)}}ZodUnknown.create=oe=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(oe)});class ZodNever extends ZodType{_parse(he){const ye=this._getOrReturnCtx(he);return addIssueToContext(ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:ye.parsedType}),INVALID}}ZodNever.create=oe=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(oe)});class ZodVoid extends ZodType{_parse(he){if(this._getType(he)!==ZodParsedType.undefined){const ve=this._getOrReturnCtx(he);return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:ve.parsedType}),INVALID}return OK(he.data)}}ZodVoid.create=oe=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(oe)});class ZodArray extends ZodType{_parse(he){const{ctx:ye,status:ve}=this._processInputParams(he),_e=this._def;if(ye.parsedType!==ZodParsedType.array)return addIssueToContext(ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ye.parsedType}),INVALID;if(_e.exactLength!==null){const Pe=ye.data.length>_e.exactLength.value,Ie=ye.data.length<_e.exactLength.value;(Pe||Ie)&&(addIssueToContext(ye,{code:Pe?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:Ie?_e.exactLength.value:void 0,maximum:Pe?_e.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:_e.exactLength.message}),ve.dirty())}if(_e.minLength!==null&&ye.data.length<_e.minLength.value&&(addIssueToContext(ye,{code:ZodIssueCode.too_small,minimum:_e.minLength.value,type:"array",inclusive:!0,exact:!1,message:_e.minLength.message}),ve.dirty()),_e.maxLength!==null&&ye.data.length>_e.maxLength.value&&(addIssueToContext(ye,{code:ZodIssueCode.too_big,maximum:_e.maxLength.value,type:"array",inclusive:!0,exact:!1,message:_e.maxLength.message}),ve.dirty()),ye.common.async)return Promise.all([...ye.data].map((Pe,Ie)=>_e.type._parseAsync(new ParseInputLazyPath(ye,Pe,ye.path,Ie)))).then(Pe=>ParseStatus.mergeArray(ve,Pe));const we=[...ye.data].map((Pe,Ie)=>_e.type._parseSync(new ParseInputLazyPath(ye,Pe,ye.path,Ie)));return ParseStatus.mergeArray(ve,we)}get element(){return this._def.type}min(he,ye){return new ZodArray({...this._def,minLength:{value:he,message:errorUtil.toString(ye)}})}max(he,ye){return new ZodArray({...this._def,maxLength:{value:he,message:errorUtil.toString(ye)}})}length(he,ye){return new ZodArray({...this._def,exactLength:{value:he,message:errorUtil.toString(ye)}})}nonempty(he){return this.min(1,he)}}ZodArray.create=(oe,he)=>new ZodArray({type:oe,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(he)});function deepPartialify(oe){if(oe instanceof ZodObject){const he={};for(const ye in oe.shape){const ve=oe.shape[ye];he[ye]=ZodOptional.create(deepPartialify(ve))}return new ZodObject({...oe._def,shape:()=>he})}else return oe instanceof ZodArray?new ZodArray({...oe._def,type:deepPartialify(oe.element)}):oe instanceof ZodOptional?ZodOptional.create(deepPartialify(oe.unwrap())):oe instanceof ZodNullable?ZodNullable.create(deepPartialify(oe.unwrap())):oe instanceof ZodTuple?ZodTuple.create(oe.items.map(he=>deepPartialify(he))):oe}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const he=this._def.shape(),ye=util.objectKeys(he);return this._cached={shape:he,keys:ye}}_parse(he){if(this._getType(he)!==ZodParsedType.object){const ke=this._getOrReturnCtx(he);return addIssueToContext(ke,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ke.parsedType}),INVALID}const{status:ve,ctx:_e}=this._processInputParams(he),{shape:we,keys:Pe}=this._getCached(),Ie=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const ke in _e.data)Pe.includes(ke)||Ie.push(ke);const Re=[];for(const ke of Pe){const Fe=we[ke],Me=_e.data[ke];Re.push({key:{status:"valid",value:ke},value:Fe._parse(new ParseInputLazyPath(_e,Me,_e.path,ke)),alwaysSet:ke in _e.data})}if(this._def.catchall instanceof ZodNever){const ke=this._def.unknownKeys;if(ke==="passthrough")for(const Fe of Ie)Re.push({key:{status:"valid",value:Fe},value:{status:"valid",value:_e.data[Fe]}});else if(ke==="strict")Ie.length>0&&(addIssueToContext(_e,{code:ZodIssueCode.unrecognized_keys,keys:Ie}),ve.dirty());else if(ke!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const ke=this._def.catchall;for(const Fe of Ie){const Me=_e.data[Fe];Re.push({key:{status:"valid",value:Fe},value:ke._parse(new ParseInputLazyPath(_e,Me,_e.path,Fe)),alwaysSet:Fe in _e.data})}}return _e.common.async?Promise.resolve().then(async()=>{const ke=[];for(const Fe of Re){const Me=await Fe.key;ke.push({key:Me,value:await Fe.value,alwaysSet:Fe.alwaysSet})}return ke}).then(ke=>ParseStatus.mergeObjectSync(ve,ke)):ParseStatus.mergeObjectSync(ve,Re)}get shape(){return this._def.shape()}strict(he){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...he!==void 0?{errorMap:(ye,ve)=>{var _e,we,Pe,Ie;const Re=(Pe=(we=(_e=this._def).errorMap)===null||we===void 0?void 0:we.call(_e,ye,ve).message)!==null&&Pe!==void 0?Pe:ve.defaultError;return ye.code==="unrecognized_keys"?{message:(Ie=errorUtil.errToObj(he).message)!==null&&Ie!==void 0?Ie:Re}:{message:Re}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(he){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...he})})}merge(he){return new ZodObject({unknownKeys:he._def.unknownKeys,catchall:he._def.catchall,shape:()=>({...this._def.shape(),...he._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(he,ye){return this.augment({[he]:ye})}catchall(he){return new ZodObject({...this._def,catchall:he})}pick(he){const ye={};return util.objectKeys(he).forEach(ve=>{he[ve]&&this.shape[ve]&&(ye[ve]=this.shape[ve])}),new ZodObject({...this._def,shape:()=>ye})}omit(he){const ye={};return util.objectKeys(this.shape).forEach(ve=>{he[ve]||(ye[ve]=this.shape[ve])}),new ZodObject({...this._def,shape:()=>ye})}deepPartial(){return deepPartialify(this)}partial(he){const ye={};return util.objectKeys(this.shape).forEach(ve=>{const _e=this.shape[ve];he&&!he[ve]?ye[ve]=_e:ye[ve]=_e.optional()}),new ZodObject({...this._def,shape:()=>ye})}required(he){const ye={};return util.objectKeys(this.shape).forEach(ve=>{if(he&&!he[ve])ye[ve]=this.shape[ve];else{let we=this.shape[ve];for(;we instanceof ZodOptional;)we=we._def.innerType;ye[ve]=we}}),new ZodObject({...this._def,shape:()=>ye})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(oe,he)=>new ZodObject({shape:()=>oe,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(he)});ZodObject.strictCreate=(oe,he)=>new ZodObject({shape:()=>oe,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(he)});ZodObject.lazycreate=(oe,he)=>new ZodObject({shape:oe,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(he)});class ZodUnion extends ZodType{_parse(he){const{ctx:ye}=this._processInputParams(he),ve=this._def.options;function _e(we){for(const Ie of we)if(Ie.result.status==="valid")return Ie.result;for(const Ie of we)if(Ie.result.status==="dirty")return ye.common.issues.push(...Ie.ctx.common.issues),Ie.result;const Pe=we.map(Ie=>new ZodError(Ie.ctx.common.issues));return addIssueToContext(ye,{code:ZodIssueCode.invalid_union,unionErrors:Pe}),INVALID}if(ye.common.async)return Promise.all(ve.map(async we=>{const Pe={...ye,common:{...ye.common,issues:[]},parent:null};return{result:await we._parseAsync({data:ye.data,path:ye.path,parent:Pe}),ctx:Pe}})).then(_e);{let we;const Pe=[];for(const Re of ve){const ke={...ye,common:{...ye.common,issues:[]},parent:null},Fe=Re._parseSync({data:ye.data,path:ye.path,parent:ke});if(Fe.status==="valid")return Fe;Fe.status==="dirty"&&!we&&(we={result:Fe,ctx:ke}),ke.common.issues.length&&Pe.push(ke.common.issues)}if(we)return ye.common.issues.push(...we.ctx.common.issues),we.result;const Ie=Pe.map(Re=>new ZodError(Re));return addIssueToContext(ye,{code:ZodIssueCode.invalid_union,unionErrors:Ie}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(oe,he)=>new ZodUnion({options:oe,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(he)});const getDiscriminator=oe=>oe instanceof ZodLazy?getDiscriminator(oe.schema):oe instanceof ZodEffects?getDiscriminator(oe.innerType()):oe instanceof ZodLiteral?[oe.value]:oe instanceof ZodEnum?oe.options:oe instanceof ZodNativeEnum?Object.keys(oe.enum):oe instanceof ZodDefault?getDiscriminator(oe._def.innerType):oe instanceof ZodUndefined?[void 0]:oe instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(he){const{ctx:ye}=this._processInputParams(he);if(ye.parsedType!==ZodParsedType.object)return addIssueToContext(ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ye.parsedType}),INVALID;const ve=this.discriminator,_e=ye.data[ve],we=this.optionsMap.get(_e);return we?ye.common.async?we._parseAsync({data:ye.data,path:ye.path,parent:ye}):we._parseSync({data:ye.data,path:ye.path,parent:ye}):(addIssueToContext(ye,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[ve]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(he,ye,ve){const _e=new Map;for(const we of ye){const Pe=getDiscriminator(we.shape[he]);if(!Pe)throw new Error(`A discriminator value for key \`${he}\` could not be extracted from all schema options`);for(const Ie of Pe){if(_e.has(Ie))throw new Error(`Discriminator property ${String(he)} has duplicate value ${String(Ie)}`);_e.set(Ie,we)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:he,options:ye,optionsMap:_e,...processCreateParams(ve)})}}function mergeValues(oe,he){const ye=getParsedType(oe),ve=getParsedType(he);if(oe===he)return{valid:!0,data:oe};if(ye===ZodParsedType.object&&ve===ZodParsedType.object){const _e=util.objectKeys(he),we=util.objectKeys(oe).filter(Ie=>_e.indexOf(Ie)!==-1),Pe={...oe,...he};for(const Ie of we){const Re=mergeValues(oe[Ie],he[Ie]);if(!Re.valid)return{valid:!1};Pe[Ie]=Re.data}return{valid:!0,data:Pe}}else if(ye===ZodParsedType.array&&ve===ZodParsedType.array){if(oe.length!==he.length)return{valid:!1};const _e=[];for(let we=0;we<oe.length;we++){const Pe=oe[we],Ie=he[we],Re=mergeValues(Pe,Ie);if(!Re.valid)return{valid:!1};_e.push(Re.data)}return{valid:!0,data:_e}}else return ye===ZodParsedType.date&&ve===ZodParsedType.date&&+oe==+he?{valid:!0,data:oe}:{valid:!1}}class ZodIntersection extends ZodType{_parse(he){const{status:ye,ctx:ve}=this._processInputParams(he),_e=(we,Pe)=>{if(isAborted(we)||isAborted(Pe))return INVALID;const Ie=mergeValues(we.value,Pe.value);return Ie.valid?((isDirty(we)||isDirty(Pe))&&ye.dirty(),{status:ye.value,value:Ie.data}):(addIssueToContext(ve,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return ve.common.async?Promise.all([this._def.left._parseAsync({data:ve.data,path:ve.path,parent:ve}),this._def.right._parseAsync({data:ve.data,path:ve.path,parent:ve})]).then(([we,Pe])=>_e(we,Pe)):_e(this._def.left._parseSync({data:ve.data,path:ve.path,parent:ve}),this._def.right._parseSync({data:ve.data,path:ve.path,parent:ve}))}}ZodIntersection.create=(oe,he,ye)=>new ZodIntersection({left:oe,right:he,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(ye)});class ZodTuple extends ZodType{_parse(he){const{status:ye,ctx:ve}=this._processInputParams(he);if(ve.parsedType!==ZodParsedType.array)return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ve.parsedType}),INVALID;if(ve.data.length<this._def.items.length)return addIssueToContext(ve,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&ve.data.length>this._def.items.length&&(addIssueToContext(ve,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ye.dirty());const we=[...ve.data].map((Pe,Ie)=>{const Re=this._def.items[Ie]||this._def.rest;return Re?Re._parse(new ParseInputLazyPath(ve,Pe,ve.path,Ie)):null}).filter(Pe=>!!Pe);return ve.common.async?Promise.all(we).then(Pe=>ParseStatus.mergeArray(ye,Pe)):ParseStatus.mergeArray(ye,we)}get items(){return this._def.items}rest(he){return new ZodTuple({...this._def,rest:he})}}ZodTuple.create=(oe,he)=>{if(!Array.isArray(oe))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:oe,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(he)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(he){const{status:ye,ctx:ve}=this._processInputParams(he);if(ve.parsedType!==ZodParsedType.object)return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ve.parsedType}),INVALID;const _e=[],we=this._def.keyType,Pe=this._def.valueType;for(const Ie in ve.data)_e.push({key:we._parse(new ParseInputLazyPath(ve,Ie,ve.path,Ie)),value:Pe._parse(new ParseInputLazyPath(ve,ve.data[Ie],ve.path,Ie))});return ve.common.async?ParseStatus.mergeObjectAsync(ye,_e):ParseStatus.mergeObjectSync(ye,_e)}get element(){return this._def.valueType}static create(he,ye,ve){return ye instanceof ZodType?new ZodRecord({keyType:he,valueType:ye,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(ve)}):new ZodRecord({keyType:ZodString.create(),valueType:he,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(ye)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(he){const{status:ye,ctx:ve}=this._processInputParams(he);if(ve.parsedType!==ZodParsedType.map)return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:ve.parsedType}),INVALID;const _e=this._def.keyType,we=this._def.valueType,Pe=[...ve.data.entries()].map(([Ie,Re],ke)=>({key:_e._parse(new ParseInputLazyPath(ve,Ie,ve.path,[ke,"key"])),value:we._parse(new ParseInputLazyPath(ve,Re,ve.path,[ke,"value"]))}));if(ve.common.async){const Ie=new Map;return Promise.resolve().then(async()=>{for(const Re of Pe){const ke=await Re.key,Fe=await Re.value;if(ke.status==="aborted"||Fe.status==="aborted")return INVALID;(ke.status==="dirty"||Fe.status==="dirty")&&ye.dirty(),Ie.set(ke.value,Fe.value)}return{status:ye.value,value:Ie}})}else{const Ie=new Map;for(const Re of Pe){const ke=Re.key,Fe=Re.value;if(ke.status==="aborted"||Fe.status==="aborted")return INVALID;(ke.status==="dirty"||Fe.status==="dirty")&&ye.dirty(),Ie.set(ke.value,Fe.value)}return{status:ye.value,value:Ie}}}}ZodMap.create=(oe,he,ye)=>new ZodMap({valueType:he,keyType:oe,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(ye)});class ZodSet extends ZodType{_parse(he){const{status:ye,ctx:ve}=this._processInputParams(he);if(ve.parsedType!==ZodParsedType.set)return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:ve.parsedType}),INVALID;const _e=this._def;_e.minSize!==null&&ve.data.size<_e.minSize.value&&(addIssueToContext(ve,{code:ZodIssueCode.too_small,minimum:_e.minSize.value,type:"set",inclusive:!0,exact:!1,message:_e.minSize.message}),ye.dirty()),_e.maxSize!==null&&ve.data.size>_e.maxSize.value&&(addIssueToContext(ve,{code:ZodIssueCode.too_big,maximum:_e.maxSize.value,type:"set",inclusive:!0,exact:!1,message:_e.maxSize.message}),ye.dirty());const we=this._def.valueType;function Pe(Re){const ke=new Set;for(const Fe of Re){if(Fe.status==="aborted")return INVALID;Fe.status==="dirty"&&ye.dirty(),ke.add(Fe.value)}return{status:ye.value,value:ke}}const Ie=[...ve.data.values()].map((Re,ke)=>we._parse(new ParseInputLazyPath(ve,Re,ve.path,ke)));return ve.common.async?Promise.all(Ie).then(Re=>Pe(Re)):Pe(Ie)}min(he,ye){return new ZodSet({...this._def,minSize:{value:he,message:errorUtil.toString(ye)}})}max(he,ye){return new ZodSet({...this._def,maxSize:{value:he,message:errorUtil.toString(ye)}})}size(he,ye){return this.min(he,ye).max(he,ye)}nonempty(he){return this.min(1,he)}}ZodSet.create=(oe,he)=>new ZodSet({valueType:oe,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(he)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(he){const{ctx:ye}=this._processInputParams(he);if(ye.parsedType!==ZodParsedType.function)return addIssueToContext(ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:ye.parsedType}),INVALID;function ve(Ie,Re){return makeIssue({data:Ie,path:ye.path,errorMaps:[ye.common.contextualErrorMap,ye.schemaErrorMap,getErrorMap(),errorMap].filter(ke=>!!ke),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:Re}})}function _e(Ie,Re){return makeIssue({data:Ie,path:ye.path,errorMaps:[ye.common.contextualErrorMap,ye.schemaErrorMap,getErrorMap(),errorMap].filter(ke=>!!ke),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:Re}})}const we={errorMap:ye.common.contextualErrorMap},Pe=ye.data;if(this._def.returns instanceof ZodPromise){const Ie=this;return OK(async function(...Re){const ke=new ZodError([]),Fe=await Ie._def.args.parseAsync(Re,we).catch(ze=>{throw ke.addIssue(ve(Re,ze)),ke}),Me=await Reflect.apply(Pe,this,Fe);return await Ie._def.returns._def.type.parseAsync(Me,we).catch(ze=>{throw ke.addIssue(_e(Me,ze)),ke})})}else{const Ie=this;return OK(function(...Re){const ke=Ie._def.args.safeParse(Re,we);if(!ke.success)throw new ZodError([ve(Re,ke.error)]);const Fe=Reflect.apply(Pe,this,ke.data),Me=Ie._def.returns.safeParse(Fe,we);if(!Me.success)throw new ZodError([_e(Fe,Me.error)]);return Me.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...he){return new ZodFunction({...this._def,args:ZodTuple.create(he).rest(ZodUnknown.create())})}returns(he){return new ZodFunction({...this._def,returns:he})}implement(he){return this.parse(he)}strictImplement(he){return this.parse(he)}static create(he,ye,ve){return new ZodFunction({args:he||ZodTuple.create([]).rest(ZodUnknown.create()),returns:ye||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(ve)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(he){const{ctx:ye}=this._processInputParams(he);return this._def.getter()._parse({data:ye.data,path:ye.path,parent:ye})}}ZodLazy.create=(oe,he)=>new ZodLazy({getter:oe,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(he)});class ZodLiteral extends ZodType{_parse(he){if(he.data!==this._def.value){const ye=this._getOrReturnCtx(he);return addIssueToContext(ye,{received:ye.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:he.data}}get value(){return this._def.value}}ZodLiteral.create=(oe,he)=>new ZodLiteral({value:oe,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(he)});function createZodEnum(oe,he){return new ZodEnum({values:oe,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(he)})}class ZodEnum extends ZodType{_parse(he){if(typeof he.data!="string"){const ye=this._getOrReturnCtx(he),ve=this._def.values;return addIssueToContext(ye,{expected:util.joinValues(ve),received:ye.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._def.values.indexOf(he.data)===-1){const ye=this._getOrReturnCtx(he),ve=this._def.values;return addIssueToContext(ye,{received:ye.data,code:ZodIssueCode.invalid_enum_value,options:ve}),INVALID}return OK(he.data)}get options(){return this._def.values}get enum(){const he={};for(const ye of this._def.values)he[ye]=ye;return he}get Values(){const he={};for(const ye of this._def.values)he[ye]=ye;return he}get Enum(){const he={};for(const ye of this._def.values)he[ye]=ye;return he}extract(he){return ZodEnum.create(he)}exclude(he){return ZodEnum.create(this.options.filter(ye=>!he.includes(ye)))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(he){const ye=util.getValidEnumValues(this._def.values),ve=this._getOrReturnCtx(he);if(ve.parsedType!==ZodParsedType.string&&ve.parsedType!==ZodParsedType.number){const _e=util.objectValues(ye);return addIssueToContext(ve,{expected:util.joinValues(_e),received:ve.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(ye.indexOf(he.data)===-1){const _e=util.objectValues(ye);return addIssueToContext(ve,{received:ve.data,code:ZodIssueCode.invalid_enum_value,options:_e}),INVALID}return OK(he.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(oe,he)=>new ZodNativeEnum({values:oe,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(he)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(he){const{ctx:ye}=this._processInputParams(he);if(ye.parsedType!==ZodParsedType.promise&&ye.common.async===!1)return addIssueToContext(ye,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:ye.parsedType}),INVALID;const ve=ye.parsedType===ZodParsedType.promise?ye.data:Promise.resolve(ye.data);return OK(ve.then(_e=>this._def.type.parseAsync(_e,{path:ye.path,errorMap:ye.common.contextualErrorMap})))}}ZodPromise.create=(oe,he)=>new ZodPromise({type:oe,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(he)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(he){const{status:ye,ctx:ve}=this._processInputParams(he),_e=this._def.effect||null,we={addIssue:Pe=>{addIssueToContext(ve,Pe),Pe.fatal?ye.abort():ye.dirty()},get path(){return ve.path}};if(we.addIssue=we.addIssue.bind(we),_e.type==="preprocess"){const Pe=_e.transform(ve.data,we);return ve.common.issues.length?{status:"dirty",value:ve.data}:ve.common.async?Promise.resolve(Pe).then(Ie=>this._def.schema._parseAsync({data:Ie,path:ve.path,parent:ve})):this._def.schema._parseSync({data:Pe,path:ve.path,parent:ve})}if(_e.type==="refinement"){const Pe=Ie=>{const Re=_e.refinement(Ie,we);if(ve.common.async)return Promise.resolve(Re);if(Re instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return Ie};if(ve.common.async===!1){const Ie=this._def.schema._parseSync({data:ve.data,path:ve.path,parent:ve});return Ie.status==="aborted"?INVALID:(Ie.status==="dirty"&&ye.dirty(),Pe(Ie.value),{status:ye.value,value:Ie.value})}else return this._def.schema._parseAsync({data:ve.data,path:ve.path,parent:ve}).then(Ie=>Ie.status==="aborted"?INVALID:(Ie.status==="dirty"&&ye.dirty(),Pe(Ie.value).then(()=>({status:ye.value,value:Ie.value}))))}if(_e.type==="transform")if(ve.common.async===!1){const Pe=this._def.schema._parseSync({data:ve.data,path:ve.path,parent:ve});if(!isValid(Pe))return Pe;const Ie=_e.transform(Pe.value,we);if(Ie instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:ye.value,value:Ie}}else return this._def.schema._parseAsync({data:ve.data,path:ve.path,parent:ve}).then(Pe=>isValid(Pe)?Promise.resolve(_e.transform(Pe.value,we)).then(Ie=>({status:ye.value,value:Ie})):Pe);util.assertNever(_e)}}ZodEffects.create=(oe,he,ye)=>new ZodEffects({schema:oe,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:he,...processCreateParams(ye)});ZodEffects.createWithPreprocess=(oe,he,ye)=>new ZodEffects({schema:he,effect:{type:"preprocess",transform:oe},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(ye)});class ZodOptional extends ZodType{_parse(he){return this._getType(he)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(he)}unwrap(){return this._def.innerType}}ZodOptional.create=(oe,he)=>new ZodOptional({innerType:oe,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(he)});class ZodNullable extends ZodType{_parse(he){return this._getType(he)===ZodParsedType.null?OK(null):this._def.innerType._parse(he)}unwrap(){return this._def.innerType}}ZodNullable.create=(oe,he)=>new ZodNullable({innerType:oe,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(he)});class ZodDefault extends ZodType{_parse(he){const{ctx:ye}=this._processInputParams(he);let ve=ye.data;return ye.parsedType===ZodParsedType.undefined&&(ve=this._def.defaultValue()),this._def.innerType._parse({data:ve,path:ye.path,parent:ye})}removeDefault(){return this._def.innerType}}ZodDefault.create=(oe,he)=>new ZodDefault({innerType:oe,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof he.default=="function"?he.default:()=>he.default,...processCreateParams(he)});class ZodCatch extends ZodType{_parse(he){const{ctx:ye}=this._processInputParams(he),ve={...ye,common:{...ye.common,issues:[]}},_e=this._def.innerType._parse({data:ve.data,path:ve.path,parent:{...ve}});return isAsync(_e)?_e.then(we=>({status:"valid",value:we.status==="valid"?we.value:this._def.catchValue({get error(){return new ZodError(ve.common.issues)},input:ve.data})})):{status:"valid",value:_e.status==="valid"?_e.value:this._def.catchValue({get error(){return new ZodError(ve.common.issues)},input:ve.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(oe,he)=>new ZodCatch({innerType:oe,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof he.catch=="function"?he.catch:()=>he.catch,...processCreateParams(he)});class ZodNaN extends ZodType{_parse(he){if(this._getType(he)!==ZodParsedType.nan){const ve=this._getOrReturnCtx(he);return addIssueToContext(ve,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:ve.parsedType}),INVALID}return{status:"valid",value:he.data}}}ZodNaN.create=oe=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(oe)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(he){const{ctx:ye}=this._processInputParams(he),ve=ye.data;return this._def.type._parse({data:ve,path:ye.path,parent:ye})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(he){const{status:ye,ctx:ve}=this._processInputParams(he);if(ve.common.async)return(async()=>{const we=await this._def.in._parseAsync({data:ve.data,path:ve.path,parent:ve});return we.status==="aborted"?INVALID:we.status==="dirty"?(ye.dirty(),DIRTY(we.value)):this._def.out._parseAsync({data:we.value,path:ve.path,parent:ve})})();{const _e=this._def.in._parseSync({data:ve.data,path:ve.path,parent:ve});return _e.status==="aborted"?INVALID:_e.status==="dirty"?(ye.dirty(),{status:"dirty",value:_e.value}):this._def.out._parseSync({data:_e.value,path:ve.path,parent:ve})}}static create(he,ye){return new ZodPipeline({in:he,out:ye,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(he){const ye=this._def.innerType._parse(he);return isValid(ye)&&(ye.value=Object.freeze(ye.value)),ye}}ZodReadonly.create=(oe,he)=>new ZodReadonly({innerType:oe,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(he)});const custom$1=(oe,he={},ye)=>oe?ZodAny.create().superRefine((ve,_e)=>{var we,Pe;if(!oe(ve)){const Ie=typeof he=="function"?he(ve):typeof he=="string"?{message:he}:he,Re=(Pe=(we=Ie.fatal)!==null&&we!==void 0?we:ye)!==null&&Pe!==void 0?Pe:!0,ke=typeof Ie=="string"?{message:Ie}:Ie;_e.addIssue({code:"custom",...ke,fatal:Re})}}):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(oe){oe.ZodString="ZodString",oe.ZodNumber="ZodNumber",oe.ZodNaN="ZodNaN",oe.ZodBigInt="ZodBigInt",oe.ZodBoolean="ZodBoolean",oe.ZodDate="ZodDate",oe.ZodSymbol="ZodSymbol",oe.ZodUndefined="ZodUndefined",oe.ZodNull="ZodNull",oe.ZodAny="ZodAny",oe.ZodUnknown="ZodUnknown",oe.ZodNever="ZodNever",oe.ZodVoid="ZodVoid",oe.ZodArray="ZodArray",oe.ZodObject="ZodObject",oe.ZodUnion="ZodUnion",oe.ZodDiscriminatedUnion="ZodDiscriminatedUnion",oe.ZodIntersection="ZodIntersection",oe.ZodTuple="ZodTuple",oe.ZodRecord="ZodRecord",oe.ZodMap="ZodMap",oe.ZodSet="ZodSet",oe.ZodFunction="ZodFunction",oe.ZodLazy="ZodLazy",oe.ZodLiteral="ZodLiteral",oe.ZodEnum="ZodEnum",oe.ZodEffects="ZodEffects",oe.ZodNativeEnum="ZodNativeEnum",oe.ZodOptional="ZodOptional",oe.ZodNullable="ZodNullable",oe.ZodDefault="ZodDefault",oe.ZodCatch="ZodCatch",oe.ZodPromise="ZodPromise",oe.ZodBranded="ZodBranded",oe.ZodPipeline="ZodPipeline",oe.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(oe,he={message:`Input not instance of ${oe.name}`})=>custom$1(ye=>ye instanceof oe,he),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:oe=>ZodString.create({...oe,coerce:!0}),number:oe=>ZodNumber.create({...oe,coerce:!0}),boolean:oe=>ZodBoolean.create({...oe,coerce:!0}),bigint:oe=>ZodBigInt.create({...oe,coerce:!0}),date:oe=>ZodDate.create({...oe,coerce:!0})},NEVER=INVALID;var z$2=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap,getErrorMap,makeIssue,EMPTY_PATH,addIssueToContext,ParseStatus,INVALID,DIRTY,OK,isAborted,isDirty,isValid,isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType,getParsedType,ZodType,ZodString,ZodNumber,ZodBigInt,ZodBoolean,ZodDate,ZodSymbol,ZodUndefined,ZodNull,ZodAny,ZodUnknown,ZodNever,ZodVoid,ZodArray,ZodObject,ZodUnion,ZodDiscriminatedUnion,ZodIntersection,ZodTuple,ZodRecord,ZodMap,ZodSet,ZodFunction,ZodLazy,ZodLiteral,ZodEnum,ZodNativeEnum,ZodPromise,ZodEffects,ZodTransformer:ZodEffects,ZodOptional,ZodNullable,ZodDefault,ZodCatch,ZodNaN,BRAND,ZodBranded,ZodPipeline,ZodReadonly,custom:custom$1,Schema:ZodType,ZodSchema:ZodType,late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER,ZodIssueCode,quotelessJson,ZodError});const identifierRegex=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function joinPath(oe){return oe.length===1?oe[0].toString():oe.reduce((he,ye)=>{if(typeof ye=="number")return he+"["+ye.toString()+"]";if(ye.includes('"'))return he+'["'+escapeQuotes(ye)+'"]';if(!identifierRegex.test(ye))return he+'["'+ye+'"]';const ve=he.length===0?"":".";return he+ve+ye},"")}function escapeQuotes(oe){return oe.replace(/"/g,'\\"')}function isNonEmptyArray(oe){return oe.length!==0}const MAX_ISSUES_IN_MESSAGE=99,ISSUE_SEPARATOR="; ",UNION_SEPARATOR=", or ",PREFIX="Validation error",PREFIX_SEPARATOR=": ";class ValidationError extends Error{details;name;constructor(he,ye=[]){super(he),this.details=ye,this.name="ZodValidationError"}toString(){return this.message}}function getMessageFromZodIssue(oe,he,ye){if(oe.code==="invalid_union")return oe.unionErrors.reduce((ve,_e)=>{const we=_e.issues.map(Pe=>getMessageFromZodIssue(Pe,he,ye)).join(he);return ve.includes(we)||ve.push(we),ve},[]).join(ye);if(isNonEmptyArray(oe.path)){if(oe.path.length===1){const ve=oe.path[0];if(typeof ve=="number")return`${oe.message} at index ${ve}`}return`${oe.message} at "${joinPath(oe.path)}"`}return oe.message}function conditionallyPrefixMessage(oe,he,ye){return he!==null?oe.length>0?[he,oe].join(ye):he:oe.length>0?oe:PREFIX}function fromZodError(oe,he={}){const{maxIssuesInMessage:ye=MAX_ISSUES_IN_MESSAGE,issueSeparator:ve=ISSUE_SEPARATOR,unionSeparator:_e=UNION_SEPARATOR,prefixSeparator:we=PREFIX_SEPARATOR,prefix:Pe=PREFIX}=he,Ie=oe.errors.slice(0,ye).map(ke=>getMessageFromZodIssue(ke,ve,_e)).join(ve),Re=conditionallyPrefixMessage(Ie,Pe,we);return new ValidationError(Re,oe.errors)}var a$7=Object.defineProperty,d$4=(oe,he,ye)=>he in oe?a$7(oe,he,{enumerable:!0,configurable:!0,writable:!0,value:ye}):oe[he]=ye,p$6=(oe,he,ye)=>(d$4(oe,typeof he!="symbol"?he+"":he,ye),ye),t$3=class extends Error{name="MUDContextAlreadyCreatedError";message="MUD context was already created"},s$7=class extends Error{name="MUDContextNotCreatedError";message="MUD context has not been created"};function f$6(oe,he){return fromZodError(oe,{prefix:he,prefixSeparator:`
- `,issueSeparator:`
- `})}const version$1="0.9.8";let BaseError$1=class qs extends Error{constructor(he,ye={}){const ve=ye.cause instanceof qs?ye.cause.details:ye.cause?.message?ye.cause.message:ye.details,_e=ye.cause instanceof qs&&ye.cause.docsPath||ye.docsPath,we=[he||"An error occurred.","",...ye.metaMessages?[...ye.metaMessages,""]:[],..._e?[`Docs: https://abitype.dev${_e}`]:[],...ve?[`Details: ${ve}`]:[],`Version: abitype@${version$1}`].join(`
`);super(we),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),ye.cause&&(this.cause=ye.cause),this.details=ve,this.docsPath=_e,this.metaMessages=ye.metaMessages,this.shortMessage=he}};function execTyped(oe,he){return oe.exec(he)?.groups}const bytesRegex$1=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex$1=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,isTupleRegex=/^\(.+?\).*?$/,errorSignatureRegex=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isErrorSignature(oe){return errorSignatureRegex.test(oe)}function execErrorSignature(oe){return execTyped(errorSignatureRegex,oe)}const eventSignatureRegex=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function isEventSignature(oe){return eventSignatureRegex.test(oe)}function execEventSignature(oe){return execTyped(eventSignatureRegex,oe)}const functionSignatureRegex=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function isFunctionSignature(oe){return functionSignatureRegex.test(oe)}function execFunctionSignature(oe){return execTyped(functionSignatureRegex,oe)}const structSignatureRegex=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function isStructSignature(oe){return structSignatureRegex.test(oe)}function execStructSignature(oe){return execTyped(structSignatureRegex,oe)}const constructorSignatureRegex=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function isConstructorSignature(oe){return constructorSignatureRegex.test(oe)}function execConstructorSignature(oe){return execTyped(constructorSignatureRegex,oe)}const fallbackSignatureRegex=/^fallback\(\)$/;function isFallbackSignature(oe){return fallbackSignatureRegex.test(oe)}const receiveSignatureRegex=/^receive\(\) external payable$/;function isReceiveSignature(oe){return receiveSignatureRegex.test(oe)}const modifiers=new Set(["memory","indexed","storage","calldata"]),eventModifiers=new Set(["indexed"]),functionModifiers=new Set(["calldata","memory","storage"]);class UnknownTypeError extends BaseError$1{constructor({type:he}){super("Unknown type.",{metaMessages:[`Type "${he}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class UnknownSolidityTypeError extends BaseError$1{constructor({type:he}){super("Unknown type.",{metaMessages:[`Type "${he}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class InvalidAbiParametersError extends BaseError$1{constructor({params:he}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(he,null,2)})`,docsPath:"/api/human.html#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class InvalidParameterError extends BaseError$1{constructor({param:he}){super("Invalid ABI parameter.",{details:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class SolidityProtectedKeywordError extends BaseError$1{constructor({param:he,name:ye}){super("Invalid ABI parameter.",{details:he,metaMessages:[`"${ye}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class InvalidModifierError extends BaseError$1{constructor({param:he,type:ye,modifier:ve}){super("Invalid ABI parameter.",{details:he,metaMessages:[`Modifier "${ve}" not allowed${ye?` in "${ye}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class InvalidFunctionModifierError extends BaseError$1{constructor({param:he,type:ye,modifier:ve}){super("Invalid ABI parameter.",{details:he,metaMessages:[`Modifier "${ve}" not allowed${ye?` in "${ye}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${ve}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class InvalidAbiTypeParameterError extends BaseError$1{constructor({abiParameter:he}){super("Invalid ABI parameter.",{details:JSON.stringify(he,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class InvalidSignatureError extends BaseError$1{constructor({signature:he,type:ye}){super(`Invalid ${ye} signature.`,{details:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class UnknownSignatureError extends BaseError$1{constructor({signature:he}){super("Unknown signature.",{details:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class InvalidStructSignatureError extends BaseError$1{constructor({signature:he}){super("Invalid struct signature.",{details:he,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class CircularReferenceError extends BaseError$1{constructor({type:he}){super("Circular reference detected.",{metaMessages:[`Struct "${he}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class InvalidParenthesisError extends BaseError$1{constructor({current:he,depth:ye}){super("Unbalanced parentheses.",{metaMessages:[`"${he.trim()}" has too many ${ye>0?"opening":"closing"} parentheses.`],details:`Depth "${ye}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function getParameterCacheKey(oe,he){return he?`${he}:${oe}`:oe}const parameterCache=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function parseSignature(oe,he={}){if(isFunctionSignature(oe)){const ye=execFunctionSignature(oe);if(!ye)throw new InvalidSignatureError({signature:oe,type:"function"});const ve=splitParameters(ye.parameters),_e=[],we=ve.length;for(let Ie=0;Ie<we;Ie++)_e.push(parseAbiParameter(ve[Ie],{modifiers:functionModifiers,structs:he,type:"function"}));const Pe=[];if(ye.returns){const Ie=splitParameters(ye.returns),Re=Ie.length;for(let ke=0;ke<Re;ke++)Pe.push(parseAbiParameter(Ie[ke],{modifiers:functionModifiers,structs:he,type:"function"}))}return{name:ye.name,type:"function",stateMutability:ye.stateMutability??"nonpayable",inputs:_e,outputs:Pe}}if(isEventSignature(oe)){const ye=execEventSignature(oe);if(!ye)throw new InvalidSignatureError({signature:oe,type:"event"});const ve=splitParameters(ye.parameters),_e=[],we=ve.length;for(let Pe=0;Pe<we;Pe++)_e.push(parseAbiParameter(ve[Pe],{modifiers:eventModifiers,structs:he,type:"event"}));return{name:ye.name,type:"event",inputs:_e}}if(isErrorSignature(oe)){const ye=execErrorSignature(oe);if(!ye)throw new InvalidSignatureError({signature:oe,type:"error"});const ve=splitParameters(ye.parameters),_e=[],we=ve.length;for(let Pe=0;Pe<we;Pe++)_e.push(parseAbiParameter(ve[Pe],{structs:he,type:"error"}));return{name:ye.name,type:"error",inputs:_e}}if(isConstructorSignature(oe)){const ye=execConstructorSignature(oe);if(!ye)throw new InvalidSignatureError({signature:oe,type:"constructor"});const ve=splitParameters(ye.parameters),_e=[],we=ve.length;for(let Pe=0;Pe<we;Pe++)_e.push(parseAbiParameter(ve[Pe],{structs:he,type:"constructor"}));return{type:"constructor",stateMutability:ye.stateMutability??"nonpayable",inputs:_e}}if(isFallbackSignature(oe))return{type:"fallback"};if(isReceiveSignature(oe))return{type:"receive",stateMutability:"payable"};throw new UnknownSignatureError({signature:oe})}const abiParameterWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,abiParameterWithTupleRegex=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dynamicIntegerRegex=/^u?int$/;function parseAbiParameter(oe,he){const ye=getParameterCacheKey(oe,he?.type);if(parameterCache.has(ye))return parameterCache.get(ye);const ve=isTupleRegex.test(oe),_e=execTyped(ve?abiParameterWithTupleRegex:abiParameterWithoutTupleRegex,oe);if(!_e)throw new InvalidParameterError({param:oe});if(_e.name&&isSolidityKeyword(_e.name))throw new SolidityProtectedKeywordError({param:oe,name:_e.name});const we=_e.name?{name:_e.name}:{},Pe=_e.modifier==="indexed"?{indexed:!0}:{},Ie=he?.structs??{};let Re,ke={};if(ve){Re="tuple";const Me=splitParameters(_e.type),je=[],ze=Me.length;for(let He=0;He<ze;He++)je.push(parseAbiParameter(Me[He],{structs:Ie}));ke={components:je}}else if(_e.type in Ie)Re="tuple",ke={components:Ie[_e.type]};else if(dynamicIntegerRegex.test(_e.type))Re=`${_e.type}256`;else if(Re=_e.type,he?.type!=="struct"&&!isSolidityType(Re))throw new UnknownSolidityTypeError({type:Re});if(_e.modifier){if(!he?.modifiers?.has?.(_e.modifier))throw new InvalidModifierError({param:oe,type:he?.type,modifier:_e.modifier});if(functionModifiers.has(_e.modifier)&&!isValidDataLocation(Re,!!_e.array))throw new InvalidFunctionModifierError({param:oe,type:he?.type,modifier:_e.modifier})}const Fe={type:`${Re}${_e.array??""}`,...we,...Pe,...ke};return parameterCache.set(ye,Fe),Fe}function splitParameters(oe,he=[],ye="",ve=0){if(oe===""){if(ye==="")return he;if(ve!==0)throw new InvalidParenthesisError({current:ye,depth:ve});return he.push(ye.trim()),he}const _e=oe.length;for(let we=0;we<_e;we++){const Pe=oe[we],Ie=oe.slice(we+1);switch(Pe){case",":return ve===0?splitParameters(Ie,[...he,ye.trim()]):splitParameters(Ie,he,`${ye}${Pe}`,ve);case"(":return splitParameters(Ie,he,`${ye}${Pe}`,ve+1);case")":return splitParameters(Ie,he,`${ye}${Pe}`,ve-1);default:return splitParameters(Ie,he,`${ye}${Pe}`,ve)}}return[]}function isSolidityType(oe){return oe==="address"||oe==="bool"||oe==="function"||oe==="string"||bytesRegex$1.test(oe)||integerRegex$1.test(oe)}const protectedKeywordsRegex=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function isSolidityKeyword(oe){return oe==="address"||oe==="bool"||oe==="function"||oe==="string"||oe==="tuple"||bytesRegex$1.test(oe)||integerRegex$1.test(oe)||protectedKeywordsRegex.test(oe)}function isValidDataLocation(oe,he){return he||oe==="bytes"||oe==="string"||oe==="tuple"}function parseStructs(oe){const he={},ye=oe.length;for(let Pe=0;Pe<ye;Pe++){const Ie=oe[Pe];if(!isStructSignature(Ie))continue;const Re=execStructSignature(Ie);if(!Re)throw new InvalidSignatureError({signature:Ie,type:"struct"});const ke=Re.properties.split(";"),Fe=[],Me=ke.length;for(let je=0;je<Me;je++){const He=ke[je].trim();if(!He)continue;const Ve=parseAbiParameter(He,{type:"struct"});Fe.push(Ve)}if(!Fe.length)throw new InvalidStructSignatureError({signature:Ie});he[Re.name]=Fe}const ve={},_e=Object.entries(he),we=_e.length;for(let Pe=0;Pe<we;Pe++){const[Ie,Re]=_e[Pe];ve[Ie]=resolveStructs(Re,he)}return ve}const typeWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function resolveStructs(oe,he,ye=new Set){const ve=[],_e=oe.length;for(let we=0;we<_e;we++){const Pe=oe[we];if(isTupleRegex.test(Pe.type))ve.push(Pe);else{const Re=execTyped(typeWithoutTupleRegex,Pe.type);if(!Re?.type)throw new InvalidAbiTypeParameterError({abiParameter:Pe});const{array:ke,type:Fe}=Re;if(Fe in he){if(ye.has(Fe))throw new CircularReferenceError({type:Fe});ve.push({...Pe,type:`tuple${ke??""}`,components:resolveStructs(he[Fe]??[],he,new Set([...ye,Fe]))})}else if(isSolidityType(Fe))ve.push(Pe);else throw new UnknownTypeError({type:Fe})}}return ve}function parseAbi(oe){const he=parseStructs(oe),ye=[],ve=oe.length;for(let _e=0;_e<ve;_e++){const we=oe[_e];isStructSignature(we)||ye.push(parseSignature(we,he))}return ye}function parseAbiParameters(oe){const he=[];if(typeof oe=="string"){const ye=splitParameters(oe),ve=ye.length;for(let _e=0;_e<ve;_e++)he.push(parseAbiParameter(ye[_e],{modifiers}))}else{const ye=parseStructs(oe),ve=oe.length;for(let _e=0;_e<ve;_e++){const we=oe[_e];if(isStructSignature(we))continue;const Pe=splitParameters(we),Ie=Pe.length;for(let Re=0;Re<Ie;Re++)he.push(parseAbiParameter(Pe[Re],{modifiers,structs:ye}))}}if(he.length===0)throw new InvalidAbiParametersError({params:oe});return he}function formatAbiItem(oe,{includeName:he=!1}={}){if(oe.type!=="function"&&oe.type!=="event"&&oe.type!=="error")throw new InvalidDefinitionTypeError(oe.type);return`${oe.name}(${formatAbiParams(oe.inputs,{includeName:he})})`}function formatAbiParams(oe,{includeName:he=!1}={}){return oe?oe.map(ye=>formatAbiParam(ye,{includeName:he})).join(he?", ":","):""}function formatAbiParam(oe,{includeName:he}){return oe.type.startsWith("tuple")?`(${formatAbiParams(oe.components,{includeName:he})})${oe.type.slice(5)}`:oe.type+(he&&oe.name?` ${oe.name}`:"")}function isHex(oe,{strict:he=!0}={}){return!oe||typeof oe!="string"?!1:he?/^0x[0-9a-fA-F]*$/.test(oe):oe.startsWith("0x")}function size$1(oe){return isHex(oe,{strict:!1})?Math.ceil((oe.length-2)/2):oe.length}const version="1.13.2",getContractAddress=oe=>oe,getUrl$1=oe=>oe,getVersion=()=>`viem@${version}`;class BaseError extends Error{constructor(he,ye={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:getVersion()});const ve=ye.cause instanceof BaseError?ye.cause.details:ye.cause?.message?ye.cause.message:ye.details,_e=ye.cause instanceof BaseError&&ye.cause.docsPath||ye.docsPath;this.message=[he||"An error occurred.","",...ye.metaMessages?[...ye.metaMessages,""]:[],..._e?[`Docs: https://viem.sh${_e}.html${ye.docsSlug?`#${ye.docsSlug}`:""}`]:[],...ve?[`Details: ${ve}`]:[],`Version: ${this.version}`].join(`
`),ye.cause&&(this.cause=ye.cause),this.details=ve,this.docsPath=_e,this.metaMessages=ye.metaMessages,this.shortMessage=he}walk(he){return walk(this,he)}}function walk(oe,he){return he?.(oe)?oe:oe&&typeof oe=="object"&&"cause"in oe?walk(oe.cause,he):he?null:oe}class AbiConstructorNotFoundError extends BaseError{constructor({docsPath:he}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class AbiConstructorParamsNotFoundError extends BaseError{constructor({docsPath:he}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class AbiDecodingDataSizeTooSmallError extends BaseError{constructor({data:he,params:ye,size:ve}){super([`Data size of ${ve} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(ye,{includeName:!0})})`,`Data:   ${he} (${ve} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=he,this.params=ye,this.size=ve}}class AbiDecodingZeroDataError extends BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class AbiEncodingArrayLengthMismatchError extends BaseError{constructor({expectedLength:he,givenLength:ye,type:ve}){super([`ABI encoding array length mismatch for type ${ve}.`,`Expected length: ${he}`,`Given length: ${ye}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class AbiEncodingBytesSizeMismatchError extends BaseError{constructor({expectedSize:he,value:ye}){super(`Size of bytes "${ye}" (bytes${size$1(ye)}) does not match expected size (bytes${he}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class AbiEncodingLengthMismatchError extends BaseError{constructor({expectedLength:he,givenLength:ye}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${he}`,`Given length (values): ${ye}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class AbiErrorSignatureNotFoundError extends BaseError{constructor(he,{docsPath:ye}){super([`Encoded error signature "${he}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${he}.`].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=he}}class AbiEventSignatureEmptyTopicsError extends BaseError{constructor({docsPath:he}){super("Cannot extract event signature from empty topics.",{docsPath:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class AbiEventSignatureNotFoundError extends BaseError{constructor(he,{docsPath:ye}){super([`Encoded event signature "${he}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${he}.`].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class AbiEventNotFoundError extends BaseError{constructor(he,{docsPath:ye}={}){super([`Event ${he?`"${he}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class AbiFunctionNotFoundError extends BaseError{constructor(he,{docsPath:ye}={}){super([`Function ${he?`"${he}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class AbiFunctionOutputsNotFoundError extends BaseError{constructor(he,{docsPath:ye}){super([`Function "${he}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class AbiFunctionSignatureNotFoundError extends BaseError{constructor(he,{docsPath:ye}){super([`Encoded function signature "${he}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${he}.`].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionSignatureNotFoundError"})}}class BytesSizeMismatchError extends BaseError{constructor({expectedSize:he,givenSize:ye}){super(`Expected bytes${he}, got bytes${ye}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class DecodeLogDataMismatch extends BaseError{constructor({abiItem:he,data:ye,params:ve,size:_e}){super([`Data size of ${_e} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${formatAbiParams(ve,{includeName:!0})})`,`Data:   ${ye} (${_e} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=he,this.data=ye,this.params=ve,this.size=_e}}class DecodeLogTopicsMismatch extends BaseError{constructor({abiItem:he,param:ye}){super([`Expected a topic for indexed event parameter${ye.name?` "${ye.name}"`:""} on event "${formatAbiItem(he,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=he}}class InvalidAbiEncodingTypeError extends BaseError{constructor(he,{docsPath:ye}){super([`Type "${he}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class InvalidAbiDecodingTypeError extends BaseError{constructor(he,{docsPath:ye}){super([`Type "${he}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:ye}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class InvalidArrayError extends BaseError{constructor(he){super([`Value "${he}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class InvalidDefinitionTypeError extends BaseError{constructor(he){super([`"${he}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class UnsupportedPackedAbiType extends BaseError{constructor(he){super(`Type "${he}" is not supported for packed encoding.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedPackedAbiType"})}}class FilterTypeNotSupportedError extends BaseError{constructor(he){super(`Filter type "${he}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class SliceOffsetOutOfBoundsError extends BaseError{constructor({offset:he,position:ye,size:ve}){super(`Slice ${ye==="start"?"starting":"ending"} at offset "${he}" is out-of-bounds (size: ${ve}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class SizeExceedsPaddingSizeError extends BaseError{constructor({size:he,targetSize:ye,type:ve}){super(`${ve.charAt(0).toUpperCase()}${ve.slice(1).toLowerCase()} size (${he}) exceeds padding size (${ye}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function pad(oe,{dir:he,size:ye=32}={}){return typeof oe=="string"?padHex(oe,{dir:he,size:ye}):padBytes(oe,{dir:he,size:ye})}function padHex(oe,{dir:he,size:ye=32}={}){if(ye===null)return oe;const ve=oe.replace("0x","");if(ve.length>ye*2)throw new SizeExceedsPaddingSizeError({size:Math.ceil(ve.length/2),targetSize:ye,type:"hex"});return`0x${ve[he==="right"?"padEnd":"padStart"](ye*2,"0")}`}function padBytes(oe,{dir:he,size:ye=32}={}){if(ye===null)return oe;if(oe.length>ye)throw new SizeExceedsPaddingSizeError({size:oe.length,targetSize:ye,type:"bytes"});const ve=new Uint8Array(ye);for(let _e=0;_e<ye;_e++){const we=he==="right";ve[we?_e:ye-_e-1]=oe[we?_e:oe.length-_e-1]}return ve}class IntegerOutOfRangeError extends BaseError{constructor({max:he,min:ye,signed:ve,size:_e,value:we}){super(`Number "${we}" is not in safe ${_e?`${_e*8}-bit ${ve?"signed":"unsigned"} `:""}integer range ${he?`(${ye} to ${he})`:`(above ${ye})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class InvalidHexBooleanError extends BaseError{constructor(he){super(`Hex value "${he}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class SizeOverflowError extends BaseError{constructor({givenSize:he,maxSize:ye}){super(`Size cannot exceed ${ye} bytes. Given size: ${he} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function trim(oe,{dir:he="left"}={}){let ye=typeof oe=="string"?oe.replace("0x",""):oe,ve=0;for(let _e=0;_e<ye.length-1&&ye[he==="left"?_e:ye.length-_e-1].toString()==="0";_e++)ve++;return ye=he==="left"?ye.slice(ve):ye.slice(0,ye.length-ve),typeof oe=="string"?(ye.length===1&&he==="right"&&(ye=`${ye}0`),`0x${ye.length%2===1?`0${ye}`:ye}`):ye}function assertSize(oe,{size:he}){if(size$1(oe)>he)throw new SizeOverflowError({givenSize:size$1(oe),maxSize:he})}function hexToBigInt(oe,he={}){const{signed:ye}=he;he.size&&assertSize(oe,{size:he.size});const ve=BigInt(oe);if(!ye)return ve;const _e=(oe.length-2)/2,we=(1n<<BigInt(_e)*8n-1n)-1n;return ve<=we?ve:ve-BigInt(`0x${"f".padStart(_e*2,"f")}`)-1n}function hexToBool(oe,he={}){let ye=oe;if(he.size&&(assertSize(ye,{size:he.size}),ye=trim(ye)),trim(ye)==="0x00")return!1;if(trim(ye)==="0x01")return!0;throw new InvalidHexBooleanError(ye)}function hexToNumber$1(oe,he={}){return Number(hexToBigInt(oe,he))}function hexToString(oe,he={}){let ye=hexToBytes$1(oe);return he.size&&(assertSize(ye,{size:he.size}),ye=trim(ye,{dir:"right"})),new TextDecoder().decode(ye)}const hexes$1=Array.from({length:256},(oe,he)=>he.toString(16).padStart(2,"0"));function toHex(oe,he={}){return typeof oe=="number"||typeof oe=="bigint"?numberToHex(oe,he):typeof oe=="string"?stringToHex(oe,he):typeof oe=="boolean"?boolToHex(oe,he):bytesToHex$1(oe,he)}function boolToHex(oe,he={}){const ye=`0x${Number(oe)}`;return typeof he.size=="number"?(assertSize(ye,{size:he.size}),pad(ye,{size:he.size})):ye}function bytesToHex$1(oe,he={}){let ye="";for(let _e=0;_e<oe.length;_e++)ye+=hexes$1[oe[_e]];const ve=`0x${ye}`;return typeof he.size=="number"?(assertSize(ve,{size:he.size}),pad(ve,{dir:"right",size:he.size})):ve}function numberToHex(oe,he={}){const{signed:ye,size:ve}=he,_e=BigInt(oe);let we;ve?ye?we=(1n<<BigInt(ve)*8n-1n)-1n:we=2n**(BigInt(ve)*8n)-1n:typeof oe=="number"&&(we=BigInt(Number.MAX_SAFE_INTEGER));const Pe=typeof we=="bigint"&&ye?-we-1n:0;if(we&&_e>we||_e<Pe){const Re=typeof oe=="bigint"?"n":"";throw new IntegerOutOfRangeError({max:we?`${we}${Re}`:void 0,min:`${Pe}${Re}`,signed:ye,size:ve,value:`${oe}${Re}`})}const Ie=`0x${(ye&&_e<0?(1n<<BigInt(ve*8))+BigInt(_e):_e).toString(16)}`;return ve?pad(Ie,{size:ve}):Ie}const encoder$1=new TextEncoder;function stringToHex(oe,he={}){const ye=encoder$1.encode(oe);return bytesToHex$1(ye,he)}const encoder=new TextEncoder;function toBytes$1(oe,he={}){return typeof oe=="number"||typeof oe=="bigint"?numberToBytes(oe,he):typeof oe=="boolean"?boolToBytes(oe,he):isHex(oe)?hexToBytes$1(oe,he):stringToBytes(oe,he)}function boolToBytes(oe,he={}){const ye=new Uint8Array(1);return ye[0]=Number(oe),typeof he.size=="number"?(assertSize(ye,{size:he.size}),pad(ye,{size:he.size})):ye}const charCodeMap={zero:48,nine:57,A:65,F:70,a:97,f:102};function charCodeToBase16(oe){if(oe>=charCodeMap.zero&&oe<=charCodeMap.nine)return oe-charCodeMap.zero;if(oe>=charCodeMap.A&&oe<=charCodeMap.F)return oe-(charCodeMap.A-10);if(oe>=charCodeMap.a&&oe<=charCodeMap.f)return oe-(charCodeMap.a-10)}function hexToBytes$1(oe,he={}){let ye=oe;he.size&&(assertSize(ye,{size:he.size}),ye=pad(ye,{dir:"right",size:he.size}));let ve=ye.slice(2);ve.length%2&&(ve=`0${ve}`);const _e=ve.length/2,we=new Uint8Array(_e);for(let Pe=0,Ie=0;Pe<_e;Pe++){const Re=charCodeToBase16(ve.charCodeAt(Ie++)),ke=charCodeToBase16(ve.charCodeAt(Ie++));if(Re===void 0||ke===void 0)throw new BaseError(`Invalid byte sequence ("${ve[Ie-2]}${ve[Ie-1]}" in "${ve}").`);we[Pe]=Re*16+ke}return we}function numberToBytes(oe,he){const ye=numberToHex(oe,he);return hexToBytes$1(ye)}function stringToBytes(oe,he={}){const ye=encoder.encode(oe);return typeof he.size=="number"?(assertSize(ye,{size:he.size}),pad(ye,{dir:"right",size:he.size})):ye}const paramsRegex=/((function|event)\s)?(.*)(\((.*)\))/;function extractFunctionParts(oe){const he=oe.match(paramsRegex),ye=he?.[2]||void 0,ve=he?.[3],_e=he?.[5]||void 0;return{type:ye,name:ve,params:_e}}function extractFunctionName(oe){return extractFunctionParts(oe).name}function extractFunctionParams(oe){return extractFunctionParts(oe).params?.split(",").map(ve=>ve.trim().split(" "))?.map(ve=>({type:ve[0],name:ve[1]==="indexed"?ve[2]:ve[1],...ve[1]==="indexed"?{indexed:!0}:{}}))}const getFunctionSignature=oe=>{if(typeof oe=="string"){const he=extractFunctionName(oe),ye=extractFunctionParams(oe)||[];return`${he}(${ye.map(({type:ve})=>ve).join(",")})`}return formatAbiItem(oe)},getEventSignature=oe=>getFunctionSignature(oe);function number(oe){if(!Number.isSafeInteger(oe)||oe<0)throw new Error(`Wrong positive integer: ${oe}`)}function bytes(oe,...he){if(!(oe instanceof Uint8Array))throw new Error("Expected Uint8Array");if(he.length>0&&!he.includes(oe.length))throw new Error(`Expected Uint8Array of length ${he}, not of length=${oe.length}`)}function hash$2(oe){if(typeof oe!="function"||typeof oe.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number(oe.outputLen),number(oe.blockLen)}function exists(oe,he=!0){if(oe.destroyed)throw new Error("Hash instance has been destroyed");if(he&&oe.finished)throw new Error("Hash#digest() has already been called")}function output(oe,he){bytes(oe);const ye=he.outputLen;if(oe.length<ye)throw new Error(`digestInto() expects output buffer of length at least ${ye}`)}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(oe,he=!1){return he?{h:Number(oe&U32_MASK64),l:Number(oe>>_32n&U32_MASK64)}:{h:Number(oe>>_32n&U32_MASK64)|0,l:Number(oe&U32_MASK64)|0}}function split(oe,he=!1){let ye=new Uint32Array(oe.length),ve=new Uint32Array(oe.length);for(let _e=0;_e<oe.length;_e++){const{h:we,l:Pe}=fromBig(oe[_e],he);[ye[_e],ve[_e]]=[we,Pe]}return[ye,ve]}const rotlSH=(oe,he,ye)=>oe<<ye|he>>>32-ye,rotlSL=(oe,he,ye)=>he<<ye|oe>>>32-ye,rotlBH=(oe,he,ye)=>he<<ye-32|oe>>>64-ye,rotlBL=(oe,he,ye)=>oe<<ye-32|he>>>64-ye,crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$1=oe=>oe instanceof Uint8Array,u32=oe=>new Uint32Array(oe.buffer,oe.byteOffset,Math.floor(oe.byteLength/4)),createView=oe=>new DataView(oe.buffer,oe.byteOffset,oe.byteLength),rotr=(oe,he)=>oe<<32-he|oe>>>he,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$1(oe){if(typeof oe!="string")throw new Error(`utf8ToBytes expected string, got ${typeof oe}`);return new Uint8Array(new TextEncoder().encode(oe))}function toBytes(oe){if(typeof oe=="string"&&(oe=utf8ToBytes$1(oe)),!u8a$1(oe))throw new Error(`expected Uint8Array, got ${typeof oe}`);return oe}function concatBytes$2(...oe){const he=new Uint8Array(oe.reduce((ve,_e)=>ve+_e.length,0));let ye=0;return oe.forEach(ve=>{if(!u8a$1(ve))throw new Error("Uint8Array expected");he.set(ve,ye),ye+=ve.length}),he}let Hash$2=class{clone(){return this._cloneInto()}};function wrapConstructor(oe){const he=ve=>oe().update(toBytes(ve)).digest(),ye=oe();return he.outputLen=ye.outputLen,he.blockLen=ye.blockLen,he.create=()=>oe(),he}function randomBytes(oe=32){if(crypto&&typeof crypto.getRandomValues=="function")return crypto.getRandomValues(new Uint8Array(oe));throw new Error("crypto.getRandomValues must be defined")}const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$4=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let oe=0,he=_1n$5,ye=1,ve=0;oe<24;oe++){[ye,ve]=[ve,(2*ye+3*ve)%5],SHA3_PI.push(2*(5*ve+ye)),SHA3_ROTL.push((oe+1)*(oe+2)/2%64);let _e=_0n$4;for(let we=0;we<7;we++)he=(he<<_1n$5^(he>>_7n)*_0x71n)%_256n,he&_2n$3&&(_e^=_1n$5<<(_1n$5<<BigInt(we))-_1n$5);_SHA3_IOTA.push(_e)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split(_SHA3_IOTA,!0),rotlH=(oe,he,ye)=>ye>32?rotlBH(oe,he,ye):rotlSH(oe,he,ye),rotlL=(oe,he,ye)=>ye>32?rotlBL(oe,he,ye):rotlSL(oe,he,ye);function keccakP(oe,he=24){const ye=new Uint32Array(10);for(let ve=24-he;ve<24;ve++){for(let Pe=0;Pe<10;Pe++)ye[Pe]=oe[Pe]^oe[Pe+10]^oe[Pe+20]^oe[Pe+30]^oe[Pe+40];for(let Pe=0;Pe<10;Pe+=2){const Ie=(Pe+8)%10,Re=(Pe+2)%10,ke=ye[Re],Fe=ye[Re+1],Me=rotlH(ke,Fe,1)^ye[Ie],je=rotlL(ke,Fe,1)^ye[Ie+1];for(let ze=0;ze<50;ze+=10)oe[Pe+ze]^=Me,oe[Pe+ze+1]^=je}let _e=oe[2],we=oe[3];for(let Pe=0;Pe<24;Pe++){const Ie=SHA3_ROTL[Pe],Re=rotlH(_e,we,Ie),ke=rotlL(_e,we,Ie),Fe=SHA3_PI[Pe];_e=oe[Fe],we=oe[Fe+1],oe[Fe]=Re,oe[Fe+1]=ke}for(let Pe=0;Pe<50;Pe+=10){for(let Ie=0;Ie<10;Ie++)ye[Ie]=oe[Pe+Ie];for(let Ie=0;Ie<10;Ie++)oe[Pe+Ie]^=~ye[(Ie+2)%10]&ye[(Ie+4)%10]}oe[0]^=SHA3_IOTA_H[ve],oe[1]^=SHA3_IOTA_L[ve]}ye.fill(0)}class Keccak extends Hash$2{constructor(he,ye,ve,_e=!1,we=24){if(super(),this.blockLen=he,this.suffix=ye,this.outputLen=ve,this.enableXOF=_e,this.rounds=we,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number(ve),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(he){exists(this);const{blockLen:ye,state:ve}=this;he=toBytes(he);const _e=he.length;for(let we=0;we<_e;){const Pe=Math.min(ye-this.pos,_e-we);for(let Ie=0;Ie<Pe;Ie++)ve[this.pos++]^=he[we++];this.pos===ye&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:he,suffix:ye,pos:ve,blockLen:_e}=this;he[ve]^=ye,ye&128&&ve===_e-1&&this.keccak(),he[_e-1]^=128,this.keccak()}writeInto(he){exists(this,!1),bytes(he),this.finish();const ye=this.state,{blockLen:ve}=this;for(let _e=0,we=he.length;_e<we;){this.posOut>=ve&&this.keccak();const Pe=Math.min(ve-this.posOut,we-_e);he.set(ye.subarray(this.posOut,this.posOut+Pe),_e),this.posOut+=Pe,_e+=Pe}return he}xofInto(he){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(he)}xof(he){return number(he),this.xofInto(new Uint8Array(he))}digestInto(he){if(output(he,this),this.finished)throw new Error("digest() was already called");return this.writeInto(he),this.destroy(),he}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(he){const{blockLen:ye,suffix:ve,outputLen:_e,rounds:we,enableXOF:Pe}=this;return he||(he=new Keccak(ye,ve,_e,Pe,we)),he.state32.set(this.state32),he.pos=this.pos,he.posOut=this.posOut,he.finished=this.finished,he.rounds=we,he.suffix=ve,he.outputLen=_e,he.enableXOF=Pe,he.destroyed=this.destroyed,he}}const gen=(oe,he,ye)=>wrapConstructor(()=>new Keccak(he,oe,ye)),keccak_256=gen(1,136,256/8);function keccak256(oe,he){const ye=he||"hex",ve=keccak_256(isHex(oe,{strict:!1})?toBytes$1(oe):oe);return ye==="bytes"?ve:toHex(ve)}const hash$1=oe=>keccak256(toBytes$1(oe)),getEventSelector=oe=>hash$1(getEventSignature(oe));class InvalidAddressError extends BaseError{constructor({address:he}){super(`Address "${he}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const addressRegex=/^0x[a-fA-F0-9]{40}$/;function isAddress(oe){return addressRegex.test(oe)}function concat(oe){return typeof oe[0]=="string"?concatHex(oe):concatBytes$1(oe)}function concatBytes$1(oe){let he=0;for(const _e of oe)he+=_e.length;const ye=new Uint8Array(he);let ve=0;for(const _e of oe)ye.set(_e,ve),ve+=_e.length;return ye}function concatHex(oe){return`0x${oe.reduce((he,ye)=>he+ye.replace("0x",""),"")}`}function slice(oe,he,ye,{strict:ve}={}){return isHex(oe,{strict:!1})?sliceHex(oe,he,ye,{strict:ve}):sliceBytes(oe,he,ye,{strict:ve})}function assertStartOffset(oe,he){if(typeof he=="number"&&he>0&&he>size$1(oe)-1)throw new SliceOffsetOutOfBoundsError({offset:he,position:"start",size:size$1(oe)})}function assertEndOffset(oe,he,ye){if(typeof he=="number"&&typeof ye=="number"&&size$1(oe)!==ye-he)throw new SliceOffsetOutOfBoundsError({offset:ye,position:"end",size:size$1(oe)})}function sliceBytes(oe,he,ye,{strict:ve}={}){assertStartOffset(oe,he);const _e=oe.slice(he,ye);return ve&&assertEndOffset(_e,he,ye),_e}function sliceHex(oe,he,ye,{strict:ve}={}){assertStartOffset(oe,he);const _e=`0x${oe.replace("0x","").slice((he??0)*2,(ye??oe.length)*2)}`;return ve&&assertEndOffset(_e,he,ye),_e}function encodeAbiParameters(oe,he){if(oe.length!==he.length)throw new AbiEncodingLengthMismatchError({expectedLength:oe.length,givenLength:he.length});const ye=prepareParams({params:oe,values:he}),ve=encodeParams(ye);return ve.length===0?"0x":ve}function prepareParams({params:oe,values:he}){const ye=[];for(let ve=0;ve<oe.length;ve++)ye.push(prepareParam({param:oe[ve],value:he[ve]}));return ye}function prepareParam({param:oe,value:he}){const ye=getArrayComponents(oe.type);if(ye){const[ve,_e]=ye;return encodeArray(he,{length:ve,param:{...oe,type:_e}})}if(oe.type==="tuple")return encodeTuple(he,{param:oe});if(oe.type==="address")return encodeAddress(he);if(oe.type==="bool")return encodeBool(he);if(oe.type.startsWith("uint")||oe.type.startsWith("int")){const ve=oe.type.startsWith("int");return encodeNumber(he,{signed:ve})}if(oe.type.startsWith("bytes"))return encodeBytes(he,{param:oe});if(oe.type==="string")return encodeString(he);throw new InvalidAbiEncodingTypeError(oe.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function encodeParams(oe){let he=0;for(let we=0;we<oe.length;we++){const{dynamic:Pe,encoded:Ie}=oe[we];Pe?he+=32:he+=size$1(Ie)}const ye=[],ve=[];let _e=0;for(let we=0;we<oe.length;we++){const{dynamic:Pe,encoded:Ie}=oe[we];Pe?(ye.push(numberToHex(he+_e,{size:32})),ve.push(Ie),_e+=size$1(Ie)):ye.push(Ie)}return concat([...ye,...ve])}function encodeAddress(oe){if(!isAddress(oe))throw new InvalidAddressError({address:oe});return{dynamic:!1,encoded:padHex(oe.toLowerCase())}}function encodeArray(oe,{length:he,param:ye}){const ve=he===null;if(!Array.isArray(oe))throw new InvalidArrayError(oe);if(!ve&&oe.length!==he)throw new AbiEncodingArrayLengthMismatchError({expectedLength:he,givenLength:oe.length,type:`${ye.type}[${he}]`});let _e=!1;const we=[];for(let Pe=0;Pe<oe.length;Pe++){const Ie=prepareParam({param:ye,value:oe[Pe]});Ie.dynamic&&(_e=!0),we.push(Ie)}if(ve||_e){const Pe=encodeParams(we);if(ve){const Ie=numberToHex(we.length,{size:32});return{dynamic:!0,encoded:we.length>0?concat([Ie,Pe]):Ie}}if(_e)return{dynamic:!0,encoded:Pe}}return{dynamic:!1,encoded:concat(we.map(({encoded:Pe})=>Pe))}}function encodeBytes(oe,{param:he}){const[,ye]=he.type.split("bytes"),ve=size$1(oe);if(!ye){let _e=oe;return ve%32!==0&&(_e=padHex(_e,{dir:"right",size:Math.ceil((oe.length-2)/2/32)*32})),{dynamic:!0,encoded:concat([padHex(numberToHex(ve,{size:32})),_e])}}if(ve!==parseInt(ye))throw new AbiEncodingBytesSizeMismatchError({expectedSize:parseInt(ye),value:oe});return{dynamic:!1,encoded:padHex(oe,{dir:"right"})}}function encodeBool(oe){return{dynamic:!1,encoded:padHex(boolToHex(oe))}}function encodeNumber(oe,{signed:he}){return{dynamic:!1,encoded:numberToHex(oe,{size:32,signed:he})}}function encodeString(oe){const he=stringToHex(oe),ye=Math.ceil(size$1(he)/32),ve=[];for(let _e=0;_e<ye;_e++)ve.push(padHex(slice(he,_e*32,(_e+1)*32),{dir:"right"}));return{dynamic:!0,encoded:concat([padHex(numberToHex(size$1(he),{size:32})),...ve])}}function encodeTuple(oe,{param:he}){let ye=!1;const ve=[];for(let _e=0;_e<he.components.length;_e++){const we=he.components[_e],Pe=Array.isArray(oe)?_e:we.name,Ie=prepareParam({param:we,value:oe[Pe]});ve.push(Ie),Ie.dynamic&&(ye=!0)}return{dynamic:ye,encoded:ye?encodeParams(ve):concat(ve.map(({encoded:_e})=>_e))}}function getArrayComponents(oe){const he=oe.match(/^(.*)\[(\d+)?\]$/);return he?[he[2]?Number(he[2]):null,he[1]]:void 0}const hash=oe=>keccak256(toBytes$1(oe)),getFunctionSelector=oe=>slice(hash(getFunctionSignature(oe)),0,4);function getAbiItem({abi:oe,args:he=[],name:ye}){const ve=isHex(ye,{strict:!1}),_e=oe.filter(we=>ve?we.type==="function"?getFunctionSelector(we)===ye:we.type==="event"?getEventSelector(we)===ye:!1:"name"in we&&we.name===ye);if(_e.length!==0){if(_e.length===1)return _e[0];for(const we of _e){if(!("inputs"in we))continue;if(!he||he.length===0){if(!we.inputs||we.inputs.length===0)return we;continue}if(!we.inputs||we.inputs.length===0||we.inputs.length!==he.length)continue;if(he.every((Ie,Re)=>{const ke="inputs"in we&&we.inputs[Re];return ke?isArgOfType(Ie,ke):!1}))return we}return _e[0]}}function isArgOfType(oe,he){const ye=typeof oe,ve=he.type;switch(ve){case"address":return isAddress(oe);case"bool":return ye==="boolean";case"function":return ye==="string";case"string":return ye==="string";default:return ve==="tuple"&&"components"in he?Object.values(he.components).every((_e,we)=>isArgOfType(Object.values(oe)[we],_e)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(ve)?ye==="number"||ye==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(ve)?ye==="string"||oe instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(ve)?Array.isArray(oe)&&oe.every(_e=>isArgOfType(_e,{...he,type:ve.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function encodeEventTopics({abi:oe,eventName:he,args:ye}){let ve=oe[0];if(he&&(ve=getAbiItem({abi:oe,args:ye,name:he}),!ve))throw new AbiEventNotFoundError(he,{docsPath:"/docs/contract/encodeEventTopics"});if(ve.type!=="event")throw new AbiEventNotFoundError(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const _e=formatAbiItem(ve),we=getEventSelector(_e);let Pe=[];if(ye&&"inputs"in ve){const Ie=ve.inputs?.filter(ke=>"indexed"in ke&&ke.indexed),Re=Array.isArray(ye)?ye:Object.values(ye).length>0?Ie?.map(ke=>ye[ke.name])??[]:[];Re.length>0&&(Pe=Ie?.map((ke,Fe)=>Array.isArray(Re[Fe])?Re[Fe].map((Me,je)=>encodeArg({param:ke,value:Re[Fe][je]})):Re[Fe]?encodeArg({param:ke,value:Re[Fe]}):null)??[])}return[we,...Pe]}function encodeArg({param:oe,value:he}){if(oe.type==="string"||oe.type==="bytes")return keccak256(toBytes$1(he));if(oe.type==="tuple"||oe.type.match(/^(.*)\[(\d+)?\]$/))throw new FilterTypeNotSupportedError(oe.type);return encodeAbiParameters([oe],[he])}function createFilterRequestScope(oe,{method:he}){const ye={};return oe.transport.type==="fallback"&&oe.transport.onResponse?.(({method:ve,response:_e,status:we,transport:Pe})=>{we==="success"&&he===ve&&(ye[_e]=Pe.request)}),ve=>ye[ve]||oe.request}async function createContractEventFilter(oe,{address:he,abi:ye,args:ve,eventName:_e,fromBlock:we,strict:Pe,toBlock:Ie}){const Re=createFilterRequestScope(oe,{method:"eth_newFilter"}),ke=_e?encodeEventTopics({abi:ye,args:ve,eventName:_e}):void 0,Fe=await oe.request({method:"eth_newFilter",params:[{address:he,fromBlock:typeof we=="bigint"?numberToHex(we):we,toBlock:typeof Ie=="bigint"?numberToHex(Ie):Ie,topics:ke}]});return{abi:ye,args:ve,eventName:_e,id:Fe,request:Re(Fe),strict:Pe,type:"event"}}function parseAccount(oe){return typeof oe=="string"?{address:oe,type:"json-rpc"}:oe}function encodeFunctionData({abi:oe,args:he,functionName:ye}){let ve=oe[0];if(ye&&(ve=getAbiItem({abi:oe,args:he,name:ye}),!ve))throw new AbiFunctionNotFoundError(ye,{docsPath:"/docs/contract/encodeFunctionData"});if(ve.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const _e=formatAbiItem(ve),we=getFunctionSelector(_e),Pe="inputs"in ve&&ve.inputs?encodeAbiParameters(ve.inputs,he??[]):void 0;return concatHex([we,Pe??"0x"])}const panicReasons={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},solidityError={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},solidityPanic={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function checksumAddress(oe,he){const ye=he?`${he}${oe.toLowerCase()}`:oe.substring(2).toLowerCase(),ve=keccak256(stringToBytes(ye),"bytes"),_e=(he?ye.substring(`${he}0x`.length):ye).split("");for(let we=0;we<40;we+=2)ve[we>>1]>>4>=8&&_e[we]&&(_e[we]=_e[we].toUpperCase()),(ve[we>>1]&15)>=8&&_e[we+1]&&(_e[we+1]=_e[we+1].toUpperCase());return`0x${_e.join("")}`}function getAddress(oe,he){if(!isAddress(oe))throw new InvalidAddressError({address:oe});return checksumAddress(oe,he)}function decodeAbiParameters(oe,he){if(he==="0x"&&oe.length>0)throw new AbiDecodingZeroDataError;if(size$1(he)&&size$1(he)<32)throw new AbiDecodingDataSizeTooSmallError({data:he,params:oe,size:size$1(he)});return decodeParams({data:he,params:oe})}function decodeParams({data:oe,params:he}){const ye=[];let ve=0;for(let _e=0;_e<he.length;_e++){if(ve>=size$1(oe))throw new AbiDecodingDataSizeTooSmallError({data:oe,params:he,size:size$1(oe)});const we=he[_e],{consumed:Pe,value:Ie}=decodeParam({data:oe,param:we,position:ve});ye.push(Ie),ve+=Pe}return ye}function decodeParam({data:oe,param:he,position:ye}){const ve=getArrayComponents(he.type);if(ve){const[we,Pe]=ve;return decodeArray(oe,{length:we,param:{...he,type:Pe},position:ye})}if(he.type==="tuple")return decodeTuple(oe,{param:he,position:ye});if(he.type==="string")return decodeString(oe,{position:ye});if(he.type.startsWith("bytes"))return decodeBytes(oe,{param:he,position:ye});const _e=slice(oe,ye,ye+32,{strict:!0});if(he.type.startsWith("uint")||he.type.startsWith("int"))return decodeNumber(_e,{param:he});if(he.type==="address")return decodeAddress(_e);if(he.type==="bool")return decodeBool(_e);throw new InvalidAbiDecodingTypeError(he.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function decodeAddress(oe){return{consumed:32,value:checksumAddress(slice(oe,-20))}}function decodeArray(oe,{param:he,length:ye,position:ve}){if(!ye){const Pe=hexToNumber$1(slice(oe,ve,ve+32,{strict:!0})),Ie=hexToNumber$1(slice(oe,Pe,Pe+32,{strict:!0}));let Re=0;const ke=[];for(let Fe=0;Fe<Ie;++Fe){const Me=decodeParam({data:slice(oe,Pe+32),param:he,position:Re});Re+=Me.consumed,ke.push(Me.value)}return{value:ke,consumed:32}}if(hasDynamicChild(he)){const Ie=!getArrayComponents(he.type)?.[0];let Re=0;const ke=[];for(let Fe=0;Fe<ye;++Fe){const Me=hexToNumber$1(slice(oe,ve,ve+32,{strict:!0})),je=decodeParam({data:slice(oe,Me),param:he,position:Ie?Re:Fe*32});Re+=je.consumed,ke.push(je.value)}return{value:ke,consumed:32}}let _e=0;const we=[];for(let Pe=0;Pe<ye;++Pe){const Ie=decodeParam({data:oe,param:he,position:ve+_e});_e+=Ie.consumed,we.push(Ie.value)}return{value:we,consumed:_e}}function decodeBool(oe){return{consumed:32,value:hexToBool(oe)}}function decodeBytes(oe,{param:he,position:ye}){const[ve,_e]=he.type.split("bytes");if(!_e){const Pe=hexToNumber$1(slice(oe,ye,ye+32,{strict:!0})),Ie=hexToNumber$1(slice(oe,Pe,Pe+32,{strict:!0}));return Ie===0?{consumed:32,value:"0x"}:{consumed:32,value:slice(oe,Pe+32,Pe+32+Ie,{strict:!0})}}return{consumed:32,value:slice(oe,ye,ye+parseInt(_e),{strict:!0})}}function decodeNumber(oe,{param:he}){const ye=he.type.startsWith("int");return{consumed:32,value:parseInt(he.type.split("int")[1]||"256")>48?hexToBigInt(oe,{signed:ye}):hexToNumber$1(oe,{signed:ye})}}function decodeString(oe,{position:he}){const ye=hexToNumber$1(slice(oe,he,he+32,{strict:!0})),ve=hexToNumber$1(slice(oe,ye,ye+32,{strict:!0}));return ve===0?{consumed:32,value:""}:{consumed:32,value:hexToString(trim(slice(oe,ye+32,ye+32+ve,{strict:!0})))}}function decodeTuple(oe,{param:he,position:ye}){const ve=he.components.length===0||he.components.some(({name:Pe})=>!Pe),_e=ve?[]:{};let we=0;if(hasDynamicChild(he)){const Pe=hexToNumber$1(slice(oe,ye,ye+32,{strict:!0}));for(let Ie=0;Ie<he.components.length;++Ie){const Re=he.components[Ie],ke=decodeParam({data:slice(oe,Pe),param:Re,position:we});we+=ke.consumed,_e[ve?Ie:Re?.name]=ke.value}return{consumed:32,value:_e}}for(let Pe=0;Pe<he.components.length;++Pe){const Ie=he.components[Pe],Re=decodeParam({data:oe,param:Ie,position:ye+we});we+=Re.consumed,_e[ve?Pe:Ie?.name]=Re.value}return{consumed:we,value:_e}}function hasDynamicChild(oe){const{type:he}=oe;if(he==="string"||he==="bytes"||he.endsWith("[]"))return!0;if(he==="tuple")return oe.components?.some(hasDynamicChild);const ye=getArrayComponents(oe.type);return!!(ye&&hasDynamicChild({...oe,type:ye[1]}))}function decodeErrorResult({abi:oe,data:he}){const ye=slice(he,0,4);if(ye==="0x")throw new AbiDecodingZeroDataError;const _e=[...oe||[],solidityError,solidityPanic].find(we=>we.type==="error"&&ye===getFunctionSelector(formatAbiItem(we)));if(!_e)throw new AbiErrorSignatureNotFoundError(ye,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:_e,args:"inputs"in _e&&_e.inputs&&_e.inputs.length>0?decodeAbiParameters(_e.inputs,slice(he,4)):void 0,errorName:_e.name}}const stringify=(oe,he,ye)=>JSON.stringify(oe,(ve,_e)=>{const we=typeof _e=="bigint"?_e.toString():_e;return typeof he=="function"?he(ve,we):we},ye);function formatAbiItemWithArgs({abiItem:oe,args:he,includeFunctionName:ye=!0,includeName:ve=!1}){if("name"in oe&&"inputs"in oe&&oe.inputs)return`${ye?oe.name:""}(${oe.inputs.map((_e,we)=>`${ve&&_e.name?`${_e.name}: `:""}${typeof he[we]=="object"?stringify(he[we]):he[we]}`).join(", ")})`}const etherUnits={gwei:9,wei:18},gweiUnits={ether:-9,wei:9},weiUnits={ether:-18,gwei:-9};function formatUnits(oe,he){let ye=oe.toString();const ve=ye.startsWith("-");ve&&(ye=ye.slice(1)),ye=ye.padStart(he,"0");let[_e,we]=[ye.slice(0,ye.length-he),ye.slice(ye.length-he)];return we=we.replace(/(0+)$/,""),`${ve?"-":""}${_e||"0"}${we?`.${we}`:""}`}function formatEther(oe,he="wei"){return formatUnits(oe,etherUnits[he])}function formatGwei(oe,he="wei"){return formatUnits(oe,gweiUnits[he])}function prettyPrint(oe){const he=Object.entries(oe).map(([ve,_e])=>_e===void 0||_e===!1?null:[ve,_e]).filter(Boolean),ye=he.reduce((ve,[_e])=>Math.max(ve,_e.length),0);return he.map(([ve,_e])=>`  ${`${ve}:`.padEnd(ye+1)}  ${_e}`).join(`
`)}class FeeConflictError extends BaseError{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class InvalidLegacyVError extends BaseError{constructor({v:he}){super(`Invalid \`v\` value "${he}". Expected 27 or 28.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidLegacyVError"})}}class InvalidSerializableTransactionError extends BaseError{constructor({transaction:he}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",prettyPrint(he),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class InvalidStorageKeySizeError extends BaseError{constructor({storageKey:he}){super(`Size for storage key "${he}" is invalid. Expected 32 bytes. Got ${Math.floor((he.length-2)/2)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStorageKeySizeError"})}}class TransactionExecutionError extends BaseError{constructor(he,{account:ye,docsPath:ve,chain:_e,data:we,gas:Pe,gasPrice:Ie,maxFeePerGas:Re,maxPriorityFeePerGas:ke,nonce:Fe,to:Me,value:je}){const ze=prettyPrint({chain:_e&&`${_e?.name} (id: ${_e?.id})`,from:ye?.address,to:Me,value:typeof je<"u"&&`${formatEther(je)} ${_e?.nativeCurrency.symbol||"ETH"}`,data:we,gas:Pe,gasPrice:typeof Ie<"u"&&`${formatGwei(Ie)} gwei`,maxFeePerGas:typeof Re<"u"&&`${formatGwei(Re)} gwei`,maxPriorityFeePerGas:typeof ke<"u"&&`${formatGwei(ke)} gwei`,nonce:Fe});super(he.shortMessage,{cause:he,docsPath:ve,metaMessages:[...he.metaMessages?[...he.metaMessages," "]:[],"Request Arguments:",ze].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=he}}class TransactionNotFoundError extends BaseError{constructor({blockHash:he,blockNumber:ye,blockTag:ve,hash:_e,index:we}){let Pe="Transaction";ve&&we!==void 0&&(Pe=`Transaction at block time "${ve}" at index "${we}"`),he&&we!==void 0&&(Pe=`Transaction at block hash "${he}" at index "${we}"`),ye&&we!==void 0&&(Pe=`Transaction at block number "${ye}" at index "${we}"`),_e&&(Pe=`Transaction with hash "${_e}"`),super(`${Pe} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class TransactionReceiptNotFoundError extends BaseError{constructor({hash:he}){super(`Transaction receipt with hash "${he}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class WaitForTransactionReceiptTimeoutError extends BaseError{constructor({hash:he}){super(`Timed out while waiting for transaction with hash "${he}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class CallExecutionError extends BaseError{constructor(he,{account:ye,docsPath:ve,chain:_e,data:we,gas:Pe,gasPrice:Ie,maxFeePerGas:Re,maxPriorityFeePerGas:ke,nonce:Fe,to:Me,value:je}){const ze=ye?parseAccount(ye):void 0,He=prettyPrint({from:ze?.address,to:Me,value:typeof je<"u"&&`${formatEther(je)} ${_e?.nativeCurrency.symbol||"ETH"}`,data:we,gas:Pe,gasPrice:typeof Ie<"u"&&`${formatGwei(Ie)} gwei`,maxFeePerGas:typeof Re<"u"&&`${formatGwei(Re)} gwei`,maxPriorityFeePerGas:typeof ke<"u"&&`${formatGwei(ke)} gwei`,nonce:Fe});super(he.shortMessage,{cause:he,docsPath:ve,metaMessages:[...he.metaMessages?[...he.metaMessages," "]:[],"Raw Call Arguments:",He].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=he}}class ContractFunctionExecutionError extends BaseError{constructor(he,{abi:ye,args:ve,contractAddress:_e,docsPath:we,functionName:Pe,sender:Ie}){const Re=getAbiItem({abi:ye,args:ve,name:Pe}),ke=Re?formatAbiItemWithArgs({abiItem:Re,args:ve,includeFunctionName:!1,includeName:!1}):void 0,Fe=Re?formatAbiItem(Re,{includeName:!0}):void 0,Me=prettyPrint({address:_e&&getContractAddress(_e),function:Fe,args:ke&&ke!=="()"&&`${[...Array(Pe?.length??0).keys()].map(()=>" ").join("")}${ke}`,sender:Ie});super(he.shortMessage||`An unknown error occurred while executing the contract function "${Pe}".`,{cause:he,docsPath:we,metaMessages:[...he.metaMessages?[...he.metaMessages," "]:[],"Contract Call:",Me].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=ye,this.args=ve,this.cause=he,this.contractAddress=_e,this.functionName=Pe,this.sender=Ie}}class ContractFunctionRevertedError extends BaseError{constructor({abi:he,data:ye,functionName:ve,message:_e}){let we,Pe,Ie,Re;if(ye&&ye!=="0x")try{Pe=decodeErrorResult({abi:he,data:ye});const{abiItem:Fe,errorName:Me,args:je}=Pe;if(Me==="Error")Re=je[0];else if(Me==="Panic"){const[ze]=je;Re=panicReasons[ze]}else{const ze=Fe?formatAbiItem(Fe,{includeName:!0}):void 0,He=Fe&&je?formatAbiItemWithArgs({abiItem:Fe,args:je,includeFunctionName:!1,includeName:!1}):void 0;Ie=[ze?`Error: ${ze}`:"",He&&He!=="()"?`       ${[...Array(Me?.length??0).keys()].map(()=>" ").join("")}${He}`:""]}}catch(Fe){we=Fe}else _e&&(Re=_e);let ke;we instanceof AbiErrorSignatureNotFoundError&&(ke=we.signature,Ie=[`Unable to decode signature "${ke}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${ke}.`]),super(Re&&Re!=="execution reverted"||ke?[`The contract function "${ve}" reverted with the following ${ke?"signature":"reason"}:`,Re||ke].join(`
`):`The contract function "${ve}" reverted.`,{cause:we,metaMessages:Ie}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=Pe,this.reason=Re,this.signature=ke}}class ContractFunctionZeroDataError extends BaseError{constructor({functionName:he}){super(`The contract function "${he}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${he}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class RawContractError extends BaseError{constructor({data:he,message:ye}){super(ye||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=he}}class HttpRequestError extends BaseError{constructor({body:he,details:ye,headers:ve,status:_e,url:we}){super("HTTP request failed.",{details:ye,metaMessages:[_e&&`Status: ${_e}`,`URL: ${getUrl$1(we)}`,he&&`Request body: ${stringify(he)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=he,this.headers=ve,this.status=_e,this.url=we}}class WebSocketRequestError extends BaseError{constructor({body:he,details:ye,url:ve}){super("WebSocket request failed.",{details:ye,metaMessages:[`URL: ${getUrl$1(ve)}`,`Request body: ${stringify(he)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class RpcRequestError extends BaseError{constructor({body:he,error:ye,url:ve}){super("RPC Request failed.",{cause:ye,details:ye.message,metaMessages:[`URL: ${getUrl$1(ve)}`,`Request body: ${stringify(he)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=ye.code}}let TimeoutError$1=class extends BaseError{constructor({body:he,url:ye}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${getUrl$1(ye)}`,`Request body: ${stringify(he)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}};const unknownErrorCode=-1;class RpcError extends BaseError{constructor(he,{code:ye,docsPath:ve,metaMessages:_e,shortMessage:we}){super(we,{cause:he,docsPath:ve,metaMessages:_e||he?.metaMessages}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=he.name,this.code=he instanceof RpcRequestError?he.code:ye??unknownErrorCode}}class ProviderRpcError extends RpcError{constructor(he,ye){super(he,ye),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=ye.data}}class ParseRpcError extends RpcError{constructor(he){super(he,{code:ParseRpcError.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(ParseRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class InvalidRequestRpcError extends RpcError{constructor(he){super(he,{code:InvalidRequestRpcError.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(InvalidRequestRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class MethodNotFoundRpcError extends RpcError{constructor(he){super(he,{code:MethodNotFoundRpcError.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(MethodNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class InvalidParamsRpcError extends RpcError{constructor(he){super(he,{code:InvalidParamsRpcError.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(InvalidParamsRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class InternalRpcError extends RpcError{constructor(he){super(he,{code:InternalRpcError.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(InternalRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class InvalidInputRpcError extends RpcError{constructor(he){super(he,{code:InvalidInputRpcError.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(InvalidInputRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ResourceNotFoundRpcError extends RpcError{constructor(he){super(he,{code:ResourceNotFoundRpcError.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ResourceNotFoundRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ResourceUnavailableRpcError extends RpcError{constructor(he){super(he,{code:ResourceUnavailableRpcError.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(ResourceUnavailableRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class TransactionRejectedRpcError extends RpcError{constructor(he){super(he,{code:TransactionRejectedRpcError.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(TransactionRejectedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class MethodNotSupportedRpcError extends RpcError{constructor(he){super(he,{code:MethodNotSupportedRpcError.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(MethodNotSupportedRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class LimitExceededRpcError extends RpcError{constructor(he){super(he,{code:LimitExceededRpcError.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(LimitExceededRpcError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class JsonRpcVersionUnsupportedError extends RpcError{constructor(he){super(he,{code:JsonRpcVersionUnsupportedError.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(JsonRpcVersionUnsupportedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class UserRejectedRequestError extends ProviderRpcError{constructor(he){super(he,{code:UserRejectedRequestError.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(UserRejectedRequestError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class UnauthorizedProviderError extends ProviderRpcError{constructor(he){super(he,{code:UnauthorizedProviderError.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(UnauthorizedProviderError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class UnsupportedProviderMethodError extends ProviderRpcError{constructor(he){super(he,{code:UnsupportedProviderMethodError.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(UnsupportedProviderMethodError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ProviderDisconnectedError extends ProviderRpcError{constructor(he){super(he,{code:ProviderDisconnectedError.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(ProviderDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ChainDisconnectedError extends ProviderRpcError{constructor(he){super(he,{code:ChainDisconnectedError.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ChainDisconnectedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class SwitchChainError extends ProviderRpcError{constructor(he){super(he,{code:SwitchChainError.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(SwitchChainError,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class UnknownRpcError extends RpcError{constructor(he){super(he,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const EXECUTION_REVERTED_ERROR_CODE=3;function getContractError(oe,{abi:he,address:ye,args:ve,docsPath:_e,functionName:we,sender:Pe}){const{code:Ie,data:Re,message:ke,shortMessage:Fe}=oe instanceof RawContractError?oe:oe instanceof BaseError?oe.walk(je=>"data"in je)||oe.walk():{},Me=(()=>oe instanceof AbiDecodingZeroDataError?new ContractFunctionZeroDataError({functionName:we}):[EXECUTION_REVERTED_ERROR_CODE,InternalRpcError.code].includes(Ie)&&(Re||ke||Fe)?new ContractFunctionRevertedError({abi:he,data:typeof Re=="object"?Re.data:Re,functionName:we,message:Fe??ke}):oe)();return new ContractFunctionExecutionError(Me,{abi:he,args:ve,contractAddress:ye,docsPath:_e,functionName:we,sender:Pe})}class AccountNotFoundError extends BaseError{constructor({docsPath:he}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:he,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class EstimateGasExecutionError extends BaseError{constructor(he,{account:ye,docsPath:ve,chain:_e,data:we,gas:Pe,gasPrice:Ie,maxFeePerGas:Re,maxPriorityFeePerGas:ke,nonce:Fe,to:Me,value:je}){const ze=prettyPrint({from:ye?.address,to:Me,value:typeof je<"u"&&`${formatEther(je)} ${_e?.nativeCurrency.symbol||"ETH"}`,data:we,gas:Pe,gasPrice:typeof Ie<"u"&&`${formatGwei(Ie)} gwei`,maxFeePerGas:typeof Re<"u"&&`${formatGwei(Re)} gwei`,maxPriorityFeePerGas:typeof ke<"u"&&`${formatGwei(ke)} gwei`,nonce:Fe});super(he.shortMessage,{cause:he,docsPath:ve,metaMessages:[...he.metaMessages?[...he.metaMessages," "]:[],"Estimate Gas Arguments:",ze].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=he}}class ExecutionRevertedError extends BaseError{constructor({cause:he,message:ye}={}){const ve=ye?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${ve?`with reason: ${ve}`:"for an unknown reason"}.`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(ExecutionRevertedError,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ExecutionRevertedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class FeeCapTooHighError extends BaseError{constructor({cause:he,maxFeePerGas:ye}={}){super(`The fee cap (\`maxFeePerGas\`${ye?` = ${formatGwei(ye)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(FeeCapTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class FeeCapTooLowError extends BaseError{constructor({cause:he,maxFeePerGas:ye}={}){super(`The fee cap (\`maxFeePerGas\`${ye?` = ${formatGwei(ye)}`:""} gwei) cannot be lower than the block base fee.`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(FeeCapTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class NonceTooHighError extends BaseError{constructor({cause:he,nonce:ye}={}){super(`Nonce provided for the transaction ${ye?`(${ye}) `:""}is higher than the next one expected.`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(NonceTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class NonceTooLowError extends BaseError{constructor({cause:he,nonce:ye}={}){super([`Nonce provided for the transaction ${ye?`(${ye}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(NonceTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class NonceMaxValueError extends BaseError{constructor({cause:he,nonce:ye}={}){super(`Nonce provided for the transaction ${ye?`(${ye}) `:""}exceeds the maximum allowed nonce.`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(NonceMaxValueError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class InsufficientFundsError extends BaseError{constructor({cause:he}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:he,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(InsufficientFundsError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class IntrinsicGasTooHighError extends BaseError{constructor({cause:he,gas:ye}={}){super(`The amount of gas ${ye?`(${ye}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(IntrinsicGasTooHighError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class IntrinsicGasTooLowError extends BaseError{constructor({cause:he,gas:ye}={}){super(`The amount of gas ${ye?`(${ye}) `:""}provided for the transaction is too low.`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(IntrinsicGasTooLowError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class TransactionTypeNotSupportedError extends BaseError{constructor({cause:he}){super("The transaction type is not supported for this chain.",{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(TransactionTypeNotSupportedError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class TipAboveFeeCapError extends BaseError{constructor({cause:he,maxPriorityFeePerGas:ye,maxFeePerGas:ve}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${ye?` = ${formatGwei(ye)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${ve?` = ${formatGwei(ve)} gwei`:""}).`].join(`
`),{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(TipAboveFeeCapError,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class UnknownNodeError extends BaseError{constructor({cause:he}){super(`An error occurred while executing: ${he?.shortMessage}`,{cause:he}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function getNodeError(oe,he){const ye=(oe.details||"").toLowerCase(),ve=oe.walk(_e=>_e.code===ExecutionRevertedError.code);return ve instanceof BaseError?new ExecutionRevertedError({cause:oe,message:ve.details}):ExecutionRevertedError.nodeMessage.test(ye)?new ExecutionRevertedError({cause:oe,message:oe.details}):FeeCapTooHighError.nodeMessage.test(ye)?new FeeCapTooHighError({cause:oe,maxFeePerGas:he?.maxFeePerGas}):FeeCapTooLowError.nodeMessage.test(ye)?new FeeCapTooLowError({cause:oe,maxFeePerGas:he?.maxFeePerGas}):NonceTooHighError.nodeMessage.test(ye)?new NonceTooHighError({cause:oe,nonce:he?.nonce}):NonceTooLowError.nodeMessage.test(ye)?new NonceTooLowError({cause:oe,nonce:he?.nonce}):NonceMaxValueError.nodeMessage.test(ye)?new NonceMaxValueError({cause:oe,nonce:he?.nonce}):InsufficientFundsError.nodeMessage.test(ye)?new InsufficientFundsError({cause:oe}):IntrinsicGasTooHighError.nodeMessage.test(ye)?new IntrinsicGasTooHighError({cause:oe,gas:he?.gas}):IntrinsicGasTooLowError.nodeMessage.test(ye)?new IntrinsicGasTooLowError({cause:oe,gas:he?.gas}):TransactionTypeNotSupportedError.nodeMessage.test(ye)?new TransactionTypeNotSupportedError({cause:oe}):TipAboveFeeCapError.nodeMessage.test(ye)?new TipAboveFeeCapError({cause:oe,maxFeePerGas:he?.maxFeePerGas,maxPriorityFeePerGas:he?.maxPriorityFeePerGas}):new UnknownNodeError({cause:oe})}function getEstimateGasError(oe,{docsPath:he,...ye}){const ve=(()=>{const _e=getNodeError(oe,ye);return _e instanceof UnknownNodeError?oe:_e})();return new EstimateGasExecutionError(ve,{docsPath:he,...ye})}function extract(oe,{format:he}){return he?Object.keys(he({})).reduce((ve,_e)=>(oe?.hasOwnProperty(_e)&&(ve[_e]=oe[_e]),ve),{}):{}}const rpcTransactionType={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function formatTransactionRequest(oe){return{...oe,gas:typeof oe.gas<"u"?numberToHex(oe.gas):void 0,gasPrice:typeof oe.gasPrice<"u"?numberToHex(oe.gasPrice):void 0,maxFeePerGas:typeof oe.maxFeePerGas<"u"?numberToHex(oe.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof oe.maxPriorityFeePerGas<"u"?numberToHex(oe.maxPriorityFeePerGas):void 0,nonce:typeof oe.nonce<"u"?numberToHex(oe.nonce):void 0,type:typeof oe.type<"u"?rpcTransactionType[oe.type]:void 0,value:typeof oe.value<"u"?numberToHex(oe.value):void 0}}function assertRequest(oe){const{account:he,gasPrice:ye,maxFeePerGas:ve,maxPriorityFeePerGas:_e,to:we}=oe,Pe=he?parseAccount(he):void 0;if(Pe&&!isAddress(Pe.address))throw new InvalidAddressError({address:Pe.address});if(we&&!isAddress(we))throw new InvalidAddressError({address:we});if(typeof ye<"u"&&(typeof ve<"u"||typeof _e<"u"))throw new FeeConflictError;if(ve&&ve>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:ve});if(_e&&ve&&_e>ve)throw new TipAboveFeeCapError({maxFeePerGas:ve,maxPriorityFeePerGas:_e})}class BaseFeeScalarError extends BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Eip1559FeesNotSupportedError extends BaseError{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class MaxFeePerGasTooLowError extends BaseError{constructor({maxPriorityFeePerGas:he}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${formatGwei(he)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class BlockNotFoundError extends BaseError{constructor({blockHash:he,blockNumber:ye}){let ve="Block";he&&(ve=`Block at hash "${he}"`),ye&&(ve=`Block at number "${ye}"`),super(`${ve} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const transactionType={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function formatTransaction(oe){const he={...oe,blockHash:oe.blockHash?oe.blockHash:null,blockNumber:oe.blockNumber?BigInt(oe.blockNumber):null,chainId:oe.chainId?hexToNumber$1(oe.chainId):void 0,gas:oe.gas?BigInt(oe.gas):void 0,gasPrice:oe.gasPrice?BigInt(oe.gasPrice):void 0,maxFeePerGas:oe.maxFeePerGas?BigInt(oe.maxFeePerGas):void 0,maxPriorityFeePerGas:oe.maxPriorityFeePerGas?BigInt(oe.maxPriorityFeePerGas):void 0,nonce:oe.nonce?hexToNumber$1(oe.nonce):void 0,to:oe.to?oe.to:null,transactionIndex:oe.transactionIndex?Number(oe.transactionIndex):null,type:oe.type?transactionType[oe.type]:void 0,typeHex:oe.type?oe.type:void 0,value:oe.value?BigInt(oe.value):void 0,v:oe.v?BigInt(oe.v):void 0};return he.type==="legacy"&&(delete he.accessList,delete he.maxFeePerGas,delete he.maxPriorityFeePerGas),he.type==="eip2930"&&(delete he.maxFeePerGas,delete he.maxPriorityFeePerGas),he}function formatBlock(oe){const he=oe.transactions?.map(ye=>typeof ye=="string"?ye:formatTransaction(ye));return{...oe,baseFeePerGas:oe.baseFeePerGas?BigInt(oe.baseFeePerGas):null,difficulty:oe.difficulty?BigInt(oe.difficulty):void 0,gasLimit:oe.gasLimit?BigInt(oe.gasLimit):void 0,gasUsed:oe.gasUsed?BigInt(oe.gasUsed):void 0,hash:oe.hash?oe.hash:null,logsBloom:oe.logsBloom?oe.logsBloom:null,nonce:oe.nonce?oe.nonce:null,number:oe.number?BigInt(oe.number):null,size:oe.size?BigInt(oe.size):void 0,timestamp:oe.timestamp?BigInt(oe.timestamp):void 0,transactions:he,totalDifficulty:oe.totalDifficulty?BigInt(oe.totalDifficulty):null}}async function getBlock(oe,{blockHash:he,blockNumber:ye,blockTag:ve,includeTransactions:_e}={}){const we=ve??"latest",Pe=_e??!1,Ie=ye!==void 0?numberToHex(ye):void 0;let Re=null;if(he?Re=await oe.request({method:"eth_getBlockByHash",params:[he,Pe]}):Re=await oe.request({method:"eth_getBlockByNumber",params:[Ie||we,Pe]}),!Re)throw new BlockNotFoundError({blockHash:he,blockNumber:ye});return(oe.chain?.formatters?.block?.format||formatBlock)(Re)}async function getGasPrice(oe){const he=await oe.request({method:"eth_gasPrice"});return BigInt(he)}async function estimateMaxPriorityFeePerGas(oe,he){return internal_estimateMaxPriorityFeePerGas(oe,he)}async function internal_estimateMaxPriorityFeePerGas(oe,he){const{block:ye,chain:ve=oe.chain,request:_e}=he||{};if(typeof ve?.fees?.defaultPriorityFee=="function"){const we=ye||await getBlock(oe);return ve.fees.defaultPriorityFee({block:we,client:oe,request:_e})}else if(ve?.fees?.defaultPriorityFee)return ve?.fees?.defaultPriorityFee;try{const we=await oe.request({method:"eth_maxPriorityFeePerGas"});return hexToBigInt(we)}catch{const[we,Pe]=await Promise.all([ye?Promise.resolve(ye):getBlock(oe),getGasPrice(oe)]);if(typeof we.baseFeePerGas!="bigint")throw new Eip1559FeesNotSupportedError;const Ie=Pe-we.baseFeePerGas;return Ie<0n?0n:Ie}}async function estimateFeesPerGas(oe,he){return internal_estimateFeesPerGas(oe,he)}async function internal_estimateFeesPerGas(oe,he){const{block:ye,chain:ve=oe.chain,request:_e,type:we="eip1559"}=he||{},Pe=await(async()=>typeof ve?.fees?.baseFeeMultiplier=="function"?ve.fees.baseFeeMultiplier({block:ye,client:oe,request:_e}):ve?.fees?.baseFeeMultiplier??1.2)();if(Pe<1)throw new BaseFeeScalarError;const Re=10**(Pe.toString().split(".")[1]?.length??0),ke=je=>je*BigInt(Math.ceil(Pe*Re))/BigInt(Re),Fe=ye||await getBlock(oe);if(typeof ve?.fees?.estimateFeesPerGas=="function")return ve.fees.estimateFeesPerGas({block:ye,client:oe,multiply:ke,request:_e,type:we});if(we==="eip1559"){if(typeof Fe.baseFeePerGas!="bigint")throw new Eip1559FeesNotSupportedError;const je=_e?.maxPriorityFeePerGas?_e.maxPriorityFeePerGas:await internal_estimateMaxPriorityFeePerGas(oe,{block:Fe,chain:ve,request:_e}),ze=ke(Fe.baseFeePerGas);return{maxFeePerGas:_e?.maxFeePerGas??ze+je,maxPriorityFeePerGas:je}}return{gasPrice:_e?.gasPrice??ke(await getGasPrice(oe))}}async function getTransactionCount(oe,{address:he,blockTag:ye="latest",blockNumber:ve}){const _e=await oe.request({method:"eth_getTransactionCount",params:[he,ve?numberToHex(ve):ye]});return hexToNumber$1(_e)}function getTransactionType(oe){if(oe.type)return oe.type;if(typeof oe.maxFeePerGas<"u"||typeof oe.maxPriorityFeePerGas<"u")return"eip1559";if(typeof oe.gasPrice<"u")return typeof oe.accessList<"u"?"eip2930":"legacy";throw new InvalidSerializableTransactionError({transaction:oe})}async function prepareTransactionRequest(oe,he){const{account:ye=oe.account,chain:ve,gas:_e,nonce:we,type:Pe}=he;if(!ye)throw new AccountNotFoundError;const Ie=parseAccount(ye),Re=await getBlock(oe,{blockTag:"latest"}),ke={...he,from:Ie.address};if(typeof we>"u"&&(ke.nonce=await getTransactionCount(oe,{address:Ie.address,blockTag:"pending"})),typeof Pe>"u")try{ke.type=getTransactionType(ke)}catch{ke.type=typeof Re.baseFeePerGas=="bigint"?"eip1559":"legacy"}if(ke.type==="eip1559"){const{maxFeePerGas:Fe,maxPriorityFeePerGas:Me}=await internal_estimateFeesPerGas(oe,{block:Re,chain:ve,request:ke});if(typeof he.maxPriorityFeePerGas>"u"&&he.maxFeePerGas&&he.maxFeePerGas<Me)throw new MaxFeePerGasTooLowError({maxPriorityFeePerGas:Me});ke.maxPriorityFeePerGas=Me,ke.maxFeePerGas=Fe}else{if(typeof he.maxFeePerGas<"u"||typeof he.maxPriorityFeePerGas<"u")throw new Eip1559FeesNotSupportedError;const{gasPrice:Fe}=await internal_estimateFeesPerGas(oe,{block:Re,chain:ve,request:ke,type:"legacy"});ke.gasPrice=Fe}return typeof _e>"u"&&(ke.gas=await estimateGas(oe,{...ke,account:{address:Ie.address,type:"json-rpc"}})),assertRequest(ke),ke}async function estimateGas(oe,he){const ye=he.account??oe.account;if(!ye)throw new AccountNotFoundError({docsPath:"/docs/actions/public/estimateGas"});const ve=parseAccount(ye);try{const{accessList:_e,blockNumber:we,blockTag:Pe,data:Ie,gas:Re,gasPrice:ke,maxFeePerGas:Fe,maxPriorityFeePerGas:Me,nonce:je,to:ze,value:He,...Ve}=ve.type==="local"?await prepareTransactionRequest(oe,he):he,tt=(we?numberToHex(we):void 0)||Pe;assertRequest(he);const nt=oe.chain?.formatters?.transactionRequest?.format||formatTransactionRequest,ct=nt({...extract(Ve,{format:nt}),from:ve.address,accessList:_e,data:Ie,gas:Re,gasPrice:ke,maxFeePerGas:Fe,maxPriorityFeePerGas:Me,nonce:je,to:ze,value:He}),vt=await oe.request({method:"eth_estimateGas",params:tt?[ct,tt]:[ct]});return BigInt(vt)}catch(_e){throw getEstimateGasError(_e,{...he,account:ve,chain:oe.chain})}}async function estimateContractGas(oe,{abi:he,address:ye,args:ve,functionName:_e,...we}){const Pe=encodeFunctionData({abi:he,args:ve,functionName:_e});try{return await estimateGas(oe,{data:Pe,to:ye,...we})}catch(Ie){const Re=we.account?parseAccount(we.account):void 0;throw getContractError(Ie,{abi:he,address:ye,args:ve,docsPath:"/docs/contract/estimateContractGas",functionName:_e,sender:Re?.address})}}const docsPath$2="/docs/contract/decodeEventLog";function decodeEventLog({abi:oe,data:he,strict:ye,topics:ve}){const _e=ye??!0,[we,...Pe]=ve;if(!we)throw new AbiEventSignatureEmptyTopicsError({docsPath:docsPath$2});const Ie=oe.find(He=>He.type==="event"&&we===getEventSelector(formatAbiItem(He)));if(!(Ie&&"name"in Ie)||Ie.type!=="event")throw new AbiEventSignatureNotFoundError(we,{docsPath:docsPath$2});const{name:Re,inputs:ke}=Ie,Fe=ke?.some(He=>!("name"in He&&He.name));let Me=Fe?[]:{};const je=ke.filter(He=>"indexed"in He&&He.indexed);if(Pe.length>0)for(let He=0;He<je.length;He++){const Ve=je[He],Qe=Pe[He];if(!Qe)throw new DecodeLogTopicsMismatch({abiItem:Ie,param:Ve});Me[Ve.name||He]=decodeTopic({param:Ve,value:Qe})}const ze=ke.filter(He=>!("indexed"in He&&He.indexed));if(ze.length>0){if(he&&he!=="0x")try{const He=decodeAbiParameters(ze,he);if(He)if(Fe)Me=[...Me,...He];else for(let Ve=0;Ve<ze.length;Ve++)Me[ze[Ve].name]=He[Ve]}catch(He){if(_e)throw He instanceof AbiDecodingDataSizeTooSmallError?new DecodeLogDataMismatch({abiItem:Ie,data:He.data,params:He.params,size:He.size}):He}else if(_e)throw new DecodeLogDataMismatch({abiItem:Ie,data:"0x",params:ze,size:0})}return{eventName:Re,args:Object.values(Me).length>0?Me:void 0}}function decodeTopic({param:oe,value:he}){return oe.type==="string"||oe.type==="bytes"||oe.type==="tuple"||oe.type.match(/^(.*)\[(\d+)?\]$/)?he:(decodeAbiParameters([oe],he)||[])[0]}function formatLog(oe,{args:he,eventName:ye}={}){return{...oe,blockHash:oe.blockHash?oe.blockHash:null,blockNumber:oe.blockNumber?BigInt(oe.blockNumber):null,logIndex:oe.logIndex?Number(oe.logIndex):null,transactionHash:oe.transactionHash?oe.transactionHash:null,transactionIndex:oe.transactionIndex?Number(oe.transactionIndex):null,...ye?{args:he,eventName:ye}:{}}}async function getLogs(oe,{address:he,blockHash:ye,fromBlock:ve,toBlock:_e,event:we,events:Pe,args:Ie,strict:Re}={}){const ke=Re??!1,Fe=Pe??(we?[we]:void 0);let Me=[];Fe&&(Me=[Fe.flatMap(ze=>encodeEventTopics({abi:[ze],eventName:ze.name,args:Ie}))],we&&(Me=Me[0]));let je;return ye?je=await oe.request({method:"eth_getLogs",params:[{address:he,topics:Me,blockHash:ye}]}):je=await oe.request({method:"eth_getLogs",params:[{address:he,topics:Me,fromBlock:typeof ve=="bigint"?numberToHex(ve):ve,toBlock:typeof _e=="bigint"?numberToHex(_e):_e}]}),je.map(ze=>{try{const{eventName:He,args:Ve}=Fe?decodeEventLog({abi:Fe,data:ze.data,topics:ze.topics,strict:ke}):{eventName:void 0,args:void 0};return formatLog(ze,{args:Ve,eventName:He})}catch(He){let Ve,Qe;if(He instanceof DecodeLogDataMismatch||He instanceof DecodeLogTopicsMismatch){if(ke)return;Ve=He.abiItem.name,Qe=He.abiItem.inputs?.some(tt=>!("name"in tt&&tt.name))}return formatLog(ze,{args:Qe?[]:{},eventName:Ve})}}).filter(Boolean)}async function getContractEvents(oe,{abi:he,address:ye,args:ve,blockHash:_e,eventName:we,fromBlock:Pe,toBlock:Ie,strict:Re}){const ke=we?getAbiItem({abi:he,name:we}):void 0,Fe=ke?void 0:he.filter(Me=>Me.type==="event");return getLogs(oe,{address:ye,args:ve,blockHash:_e,event:ke,events:Fe,fromBlock:Pe,toBlock:Ie,strict:Re})}const docsPath$1="/docs/contract/decodeFunctionResult";function decodeFunctionResult({abi:oe,args:he,functionName:ye,data:ve}){let _e=oe[0];if(ye&&(_e=getAbiItem({abi:oe,args:he,name:ye}),!_e))throw new AbiFunctionNotFoundError(ye,{docsPath:docsPath$1});if(_e.type!=="function")throw new AbiFunctionNotFoundError(void 0,{docsPath:docsPath$1});if(!_e.outputs)throw new AbiFunctionOutputsNotFoundError(_e.name,{docsPath:docsPath$1});const we=decodeAbiParameters(_e.outputs,ve);if(we&&we.length>1)return we;if(we&&we.length===1)return we[0]}const scriptRel="modulepreload",assetsURL=function(oe){return"/"+oe},seen={},__vitePreload=function(he,ye,ve){if(!ye||ye.length===0)return he();const _e=document.getElementsByTagName("link");return Promise.all(ye.map(we=>{if(we=assetsURL(we),we in seen)return;seen[we]=!0;const Pe=we.endsWith(".css"),Ie=Pe?'[rel="stylesheet"]':"";if(!!ve)for(let Fe=_e.length-1;Fe>=0;Fe--){const Me=_e[Fe];if(Me.href===we&&(!Pe||Me.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${we}"]${Ie}`))return;const ke=document.createElement("link");if(ke.rel=Pe?"stylesheet":scriptRel,Pe||(ke.as="script",ke.crossOrigin=""),ke.href=we,document.head.appendChild(ke),Pe)return new Promise((Fe,Me)=>{ke.addEventListener("load",Fe),ke.addEventListener("error",()=>Me(new Error(`Unable to preload CSS for ${we}`)))})})).then(()=>he()).catch(we=>{const Pe=new Event("vite:preloadError",{cancelable:!0});if(Pe.payload=we,window.dispatchEvent(Pe),!Pe.defaultPrevented)throw we})},multicall3Abi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],universalResolverErrors=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],universalResolverResolveAbi=[...universalResolverErrors,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],universalResolverReverseAbi=[...universalResolverErrors,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],textResolverAbi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],addressResolverAbi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],universalSignatureValidatorAbi=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],aggregate3Signature="0x82ad56cb";class ChainDoesNotSupportContract extends BaseError{constructor({blockNumber:he,chain:ye,contract:ve}){super(`Chain "${ye.name}" does not support contract "${ve.name}".`,{metaMessages:["This could be due to any of the following:",...he&&ve.blockCreated&&ve.blockCreated>he?[`- The contract "${ve.name}" was not deployed until block ${ve.blockCreated} (current block ${he}).`]:[`- The chain does not have the contract "${ve.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class ChainMismatchError extends BaseError{constructor({chain:he,currentChainId:ye}){super(`The current chain of the wallet (id: ${ye}) does not match the target chain for the transaction (id: ${he.id} – ${he.name}).`,{metaMessages:[`Current Chain ID:  ${ye}`,`Expected Chain ID: ${he.id} – ${he.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class ChainNotFoundError extends BaseError{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class ClientChainNotConfiguredError extends BaseError{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}class InvalidChainIdError extends BaseError{constructor({chainId:he}){super(`Chain ID "${he}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidChainIdError"})}}function assertCurrentChain({chain:oe,currentChainId:he}){if(!oe)throw new ChainNotFoundError;if(he!==oe.id)throw new ChainMismatchError({chain:oe,currentChainId:he})}function defineChain(oe,he={}){const{fees:ye=oe.fees,formatters:ve=oe.formatters,serializers:_e=oe.serializers}=he;return{...oe,fees:ye,formatters:ve,serializers:_e}}function getChainContractAddress({blockNumber:oe,chain:he,contract:ye}){const ve=he?.contracts?.[ye];if(!ve)throw new ChainDoesNotSupportContract({chain:he,contract:{name:ye}});if(oe&&ve.blockCreated&&ve.blockCreated>oe)throw new ChainDoesNotSupportContract({blockNumber:oe,chain:he,contract:{name:ye,blockCreated:ve.blockCreated}});return ve.address}function getCallError(oe,{docsPath:he,...ye}){const ve=(()=>{const _e=getNodeError(oe,ye);return _e instanceof UnknownNodeError?oe:_e})();return new CallExecutionError(ve,{docsPath:he,...ye})}const schedulerCache=new Map;function createBatchScheduler({fn:oe,id:he,shouldSplitBatch:ye,wait:ve=0}){const _e=async()=>{const ke=Ie();we();const Fe=ke.map(({args:Me})=>Me);Fe.length!==0&&oe(Fe).then(Me=>{ke.forEach(({pendingPromise:je},ze)=>je.resolve?.([Me[ze],Me]))}).catch(Me=>{ke.forEach(({pendingPromise:je})=>je.reject?.(Me))})},we=()=>schedulerCache.delete(he),Pe=()=>Ie().map(({args:ke})=>ke),Ie=()=>schedulerCache.get(he)||[],Re=ke=>schedulerCache.set(he,[...Ie(),ke]);return{flush:we,async schedule(ke){const Fe={},Me=new Promise((He,Ve)=>{Fe.resolve=He,Fe.reject=Ve});return ye?.([...Pe(),ke])&&_e(),Ie().length>0?(Re({args:ke,pendingPromise:Fe}),Me):(Re({args:ke,pendingPromise:Fe}),setTimeout(_e,ve),Me)}}}async function call(oe,he){const{account:ye=oe.account,batch:ve=!!oe.batch?.multicall,blockNumber:_e,blockTag:we="latest",accessList:Pe,data:Ie,gas:Re,gasPrice:ke,maxFeePerGas:Fe,maxPriorityFeePerGas:Me,nonce:je,to:ze,value:He,...Ve}=he,Qe=ye?parseAccount(ye):void 0;try{assertRequest(he);const nt=(_e?numberToHex(_e):void 0)||we,ct=oe.chain?.formatters?.transactionRequest?.format||formatTransactionRequest,vt=ct({...extract(Ve,{format:ct}),from:Qe?.address,accessList:Pe,data:Ie,gas:Re,gasPrice:ke,maxFeePerGas:Fe,maxPriorityFeePerGas:Me,nonce:je,to:ze,value:He});if(ve&&shouldPerformMulticall({request:vt}))try{return await scheduleMulticall(oe,{...vt,blockNumber:_e,blockTag:we})}catch(lt){if(!(lt instanceof ClientChainNotConfiguredError)&&!(lt instanceof ChainDoesNotSupportContract))throw lt}const ht=await oe.request({method:"eth_call",params:nt?[vt,nt]:[vt]});return ht==="0x"?{data:void 0}:{data:ht}}catch(tt){const nt=getRevertErrorData(tt),{offchainLookup:ct,offchainLookupSignature:vt}=await __vitePreload(()=>Promise.resolve().then(()=>ccip),void 0);if(nt?.slice(0,10)===vt&&ze)return{data:await ct(oe,{data:nt,to:ze})};throw getCallError(tt,{...he,account:Qe,chain:oe.chain})}}function shouldPerformMulticall({request:oe}){const{data:he,to:ye,...ve}=oe;return!(!he||he.startsWith(aggregate3Signature)||!ye||Object.values(ve).filter(_e=>typeof _e<"u").length>0)}async function scheduleMulticall(oe,he){const{batchSize:ye=1024,wait:ve=0}=typeof oe.batch?.multicall=="object"?oe.batch.multicall:{},{blockNumber:_e,blockTag:we="latest",data:Pe,multicallAddress:Ie,to:Re}=he;let ke=Ie;if(!ke){if(!oe.chain)throw new ClientChainNotConfiguredError;ke=getChainContractAddress({blockNumber:_e,chain:oe.chain,contract:"multicall3"})}const Me=(_e?numberToHex(_e):void 0)||we,{schedule:je}=createBatchScheduler({id:`${oe.uid}.${Me}`,wait:ve,shouldSplitBatch(Ve){return Ve.reduce((tt,{data:nt})=>tt+(nt.length-2),0)>ye*2},fn:async Ve=>{const Qe=Ve.map(ct=>({allowFailure:!0,callData:ct.data,target:ct.to})),tt=encodeFunctionData({abi:multicall3Abi,args:[Qe],functionName:"aggregate3"}),nt=await oe.request({method:"eth_call",params:[{data:tt,to:ke},Me]});return decodeFunctionResult({abi:multicall3Abi,args:[Qe],functionName:"aggregate3",data:nt||"0x"})}}),[{returnData:ze,success:He}]=await je({data:Pe,to:Re});if(!He)throw new RawContractError({data:ze});return ze==="0x"?{data:void 0}:{data:ze}}function getRevertErrorData(oe){if(!(oe instanceof BaseError))return;const he=oe.walk();return typeof he.data=="object"?he.data.data:he.data}async function readContract(oe,{abi:he,address:ye,args:ve,functionName:_e,...we}){const Pe=encodeFunctionData({abi:he,args:ve,functionName:_e});try{const{data:Ie}=await call(oe,{data:Pe,to:ye,...we});return decodeFunctionResult({abi:he,args:ve,functionName:_e,data:Ie||"0x"})}catch(Ie){throw getContractError(Ie,{abi:he,address:ye,args:ve,docsPath:"/docs/contract/readContract",functionName:_e})}}async function simulateContract(oe,{abi:he,address:ye,args:ve,dataSuffix:_e,functionName:we,...Pe}){const Ie=Pe.account?parseAccount(Pe.account):void 0,Re=encodeFunctionData({abi:he,args:ve,functionName:we});try{const{data:ke}=await call(oe,{batch:!1,data:`${Re}${_e?_e.replace("0x",""):""}`,to:ye,...Pe});return{result:decodeFunctionResult({abi:he,args:ve,functionName:we,data:ke||"0x"}),request:{abi:he,address:ye,args:ve,dataSuffix:_e,functionName:we,...Pe}}}catch(ke){throw getContractError(ke,{abi:he,address:ye,args:ve,docsPath:"/docs/contract/simulateContract",functionName:we,sender:Ie?.address})}}const listenersCache=new Map,cleanupCache=new Map;let callbackCount=0;function observe(oe,he,ye){const ve=++callbackCount,_e=()=>listenersCache.get(oe)||[],we=()=>{const Fe=_e();listenersCache.set(oe,Fe.filter(Me=>Me.id!==ve))},Pe=()=>{const Fe=cleanupCache.get(oe);_e().length===1&&Fe&&Fe(),we()},Ie=_e();if(listenersCache.set(oe,[...Ie,{id:ve,fns:he}]),Ie&&Ie.length>0)return Pe;const Re={};for(const Fe in he)Re[Fe]=(...Me)=>{const je=_e();je.length!==0&&je.forEach(ze=>ze.fns[Fe]?.(...Me))};const ke=ye(Re);return typeof ke=="function"&&cleanupCache.set(oe,ke),Pe}async function wait(oe){return new Promise(he=>setTimeout(he,oe))}function poll(oe,{emitOnBegin:he,initialWaitTime:ye,interval:ve}){let _e=!0;const we=()=>_e=!1;return(async()=>{let Ie;he&&(Ie=await oe({unpoll:we}));const Re=await ye?.(Ie)??ve;await wait(Re);const ke=async()=>{_e&&(await oe({unpoll:we}),await wait(ve),ke())};ke()})(),we}const promiseCache=new Map,responseCache=new Map;function getCache(oe){const he=(_e,we)=>({clear:()=>we.delete(_e),get:()=>we.get(_e),set:Pe=>we.set(_e,Pe)}),ye=he(oe,promiseCache),ve=he(oe,responseCache);return{clear:()=>{ye.clear(),ve.clear()},promise:ye,response:ve}}async function withCache(oe,{cacheKey:he,cacheTime:ye=1/0}){const ve=getCache(he),_e=ve.response.get();if(_e&&ye>0&&new Date().getTime()-_e.created.getTime()<ye)return _e.data;let we=ve.promise.get();we||(we=oe(),ve.promise.set(we));try{const Pe=await we;return ve.response.set({created:new Date,data:Pe}),Pe}finally{ve.promise.clear()}}const cacheKey=oe=>`blockNumber.${oe}`;async function getBlockNumber(oe,{cacheTime:he=oe.cacheTime,maxAge:ye}={}){const ve=await withCache(()=>oe.request({method:"eth_blockNumber"}),{cacheKey:cacheKey(oe.uid),cacheTime:ye??he});return BigInt(ve)}async function getFilterChanges(oe,{filter:he}){const ye="strict"in he&&he.strict;return(await he.request({method:"eth_getFilterChanges",params:[he.id]})).map(_e=>{if(typeof _e=="string")return _e;try{const{eventName:we,args:Pe}="abi"in he&&he.abi?decodeEventLog({abi:he.abi,data:_e.data,topics:_e.topics,strict:ye}):{eventName:void 0,args:void 0};return formatLog(_e,{args:Pe,eventName:we})}catch(we){let Pe,Ie;if(we instanceof DecodeLogDataMismatch||we instanceof DecodeLogTopicsMismatch){if("strict"in he&&he.strict)return;Pe=we.abiItem.name,Ie=we.abiItem.inputs?.some(Re=>!("name"in Re&&Re.name))}return formatLog(_e,{args:Ie?[]:{},eventName:Pe})}}).filter(Boolean)}async function uninstallFilter(oe,{filter:he}){return he.request({method:"eth_uninstallFilter",params:[he.id]})}function watchContractEvent(oe,{abi:he,address:ye,args:ve,batch:_e=!0,eventName:we,onError:Pe,onLogs:Ie,poll:Re,pollingInterval:ke=oe.pollingInterval,strict:Fe}){return(typeof Re<"u"?Re:oe.transport.type!=="webSocket")?(()=>{const He=stringify(["watchContractEvent",ye,ve,_e,oe.uid,we,ke]),Ve=Fe??!1;return observe(He,{onLogs:Ie,onError:Pe},Qe=>{let tt,nt,ct=!1;const vt=poll(async()=>{if(!ct){try{nt=await createContractEventFilter(oe,{abi:he,address:ye,args:ve,eventName:we,strict:Ve})}catch{}ct=!0;return}try{let ht;if(nt)ht=await getFilterChanges(oe,{filter:nt});else{const lt=await getBlockNumber(oe);tt&&tt!==lt?ht=await getContractEvents(oe,{abi:he,address:ye,args:ve,fromBlock:tt+1n,toBlock:lt,strict:Ve}):ht=[],tt=lt}if(ht.length===0)return;_e?Qe.onLogs(ht):ht.forEach(lt=>Qe.onLogs([lt]))}catch(ht){nt&&ht instanceof InvalidInputRpcError&&(ct=!1),Qe.onError?.(ht)}},{emitOnBegin:!0,interval:ke});return async()=>{nt&&await uninstallFilter(oe,{filter:nt}),vt()}})})():(()=>{let He=!0,Ve=()=>He=!1;return(async()=>{try{const Qe=we?encodeEventTopics({abi:he,eventName:we,args:ve}):[],{unsubscribe:tt}=await oe.transport.subscribe({params:["logs",{address:ye,topics:Qe}],onData(nt){if(!He)return;const ct=nt.result;try{const{eventName:vt,args:ht}=decodeEventLog({abi:he,data:ct.data,topics:ct.topics,strict:Fe}),lt=formatLog(ct,{args:ht,eventName:vt});Ie([lt])}catch(vt){let ht,lt;if(vt instanceof DecodeLogDataMismatch||vt instanceof DecodeLogTopicsMismatch){if(Fe)return;ht=vt.abiItem.name,lt=vt.abiItem.inputs?.some(Rt=>!("name"in Rt&&Rt.name))}const St=formatLog(ct,{args:lt?[]:{},eventName:ht});Ie([St])}},onError(nt){Pe?.(nt)}});Ve=tt,He||Ve()}catch(Qe){Pe?.(Qe)}})(),Ve})()}function getTransactionError(oe,{docsPath:he,...ye}){const ve=(()=>{const _e=getNodeError(oe,ye);return _e instanceof UnknownNodeError?oe:_e})();return new TransactionExecutionError(ve,{docsPath:he,...ye})}async function getChainId(oe){const he=await oe.request({method:"eth_chainId"});return hexToNumber$1(he)}async function sendRawTransaction(oe,{serializedTransaction:he}){return oe.request({method:"eth_sendRawTransaction",params:[he]})}async function sendTransaction(oe,he){const{account:ye=oe.account,chain:ve=oe.chain,accessList:_e,data:we,gas:Pe,gasPrice:Ie,maxFeePerGas:Re,maxPriorityFeePerGas:ke,nonce:Fe,to:Me,value:je,...ze}=he;if(!ye)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransaction"});const He=parseAccount(ye);try{assertRequest(he);let Ve;if(ve!==null&&(Ve=await getChainId(oe),assertCurrentChain({currentChainId:Ve,chain:ve})),He.type==="local"){const nt=await prepareTransactionRequest(oe,{account:He,accessList:_e,chain:ve,data:we,gas:Pe,gasPrice:Ie,maxFeePerGas:Re,maxPriorityFeePerGas:ke,nonce:Fe,to:Me,value:je,...ze});Ve||(Ve=await getChainId(oe));const ct=ve?.serializers?.transaction,vt=await He.signTransaction({...nt,chainId:Ve},{serializer:ct});return await sendRawTransaction(oe,{serializedTransaction:vt})}const Qe=ve?.formatters?.transactionRequest?.format||formatTransactionRequest,tt=Qe({...extract(ze,{format:Qe}),accessList:_e,data:we,from:He.address,gas:Pe,gasPrice:Ie,maxFeePerGas:Re,maxPriorityFeePerGas:ke,nonce:Fe,to:Me,value:je});return await oe.request({method:"eth_sendTransaction",params:[tt]})}catch(Ve){throw getTransactionError(Ve,{...he,account:He,chain:he.chain||void 0})}}async function writeContract(oe,{abi:he,address:ye,args:ve,dataSuffix:_e,functionName:we,...Pe}){const Ie=encodeFunctionData({abi:he,args:ve,functionName:we});return await sendTransaction(oe,{data:`${Ie}${_e?_e.replace("0x",""):""}`,to:ye,...Pe})}function getContract({abi:oe,address:he,publicClient:ye,walletClient:ve}){const _e=ye!=null,we=ve!=null,Pe={};let Ie=!1,Re=!1,ke=!1;for(const Fe of oe)if(Fe.type==="function"?Fe.stateMutability==="view"||Fe.stateMutability==="pure"?Ie=!0:Re=!0:Fe.type==="event"&&(ke=!0),Ie&&Re&&ke)break;return _e&&(Ie&&(Pe.read=new Proxy({},{get(Fe,Me){return(...je)=>{const{args:ze,options:He}=getFunctionParameters(je);return readContract(ye,{abi:oe,address:he,functionName:Me,args:ze,...He})}}})),Re&&(Pe.simulate=new Proxy({},{get(Fe,Me){return(...je)=>{const{args:ze,options:He}=getFunctionParameters(je);return simulateContract(ye,{abi:oe,address:he,functionName:Me,args:ze,...He})}}})),ke&&(Pe.createEventFilter=new Proxy({},{get(Fe,Me){return(...je)=>{const ze=oe.find(Qe=>Qe.type==="event"&&Qe.name===Me),{args:He,options:Ve}=getEventParameters(je,ze);return createContractEventFilter(ye,{abi:oe,address:he,eventName:Me,args:He,...Ve})}}}),Pe.getEvents=new Proxy({},{get(Fe,Me){return(...je)=>{const ze=oe.find(Qe=>Qe.type==="event"&&Qe.name===Me),{args:He,options:Ve}=getEventParameters(je,ze);return getContractEvents(ye,{abi:oe,address:he,eventName:Me,args:He,...Ve})}}}),Pe.watchEvent=new Proxy({},{get(Fe,Me){return(...je)=>{const ze=oe.find(Qe=>Qe.type==="event"&&Qe.name===Me),{args:He,options:Ve}=getEventParameters(je,ze);return watchContractEvent(ye,{abi:oe,address:he,eventName:Me,args:He,...Ve})}}}))),we&&Re&&(Pe.write=new Proxy({},{get(Fe,Me){return(...je)=>{const{args:ze,options:He}=getFunctionParameters(je);return writeContract(ve,{abi:oe,address:he,functionName:Me,args:ze,...He})}}})),(_e||we)&&Re&&(Pe.estimateGas=new Proxy({},{get(Fe,Me){return(...je)=>{const{args:ze,options:He}=getFunctionParameters(je);return estimateContractGas(ye??ve,{abi:oe,address:he,functionName:Me,args:ze,...He,account:He.account??ve.account})}}})),Pe.address=he,Pe.abi=oe,Pe}function getFunctionParameters(oe){const he=oe.length&&Array.isArray(oe[0]),ye=he?oe[0]:[],ve=(he?oe[1]:oe[0])??{};return{args:ye,options:ve}}function getEventParameters(oe,he){let ye=!1;Array.isArray(oe[0])?ye=!0:oe.length===1?ye=he.inputs.some(we=>we.indexed):oe.length===2&&(ye=!0);const ve=ye?oe[0]:void 0,_e=(ye?oe[1]:oe[0])??{};return{args:ve,options:_e}}async function addChain(oe,{chain:he}){const{id:ye,name:ve,nativeCurrency:_e,rpcUrls:we,blockExplorers:Pe}=he;await oe.request({method:"wallet_addEthereumChain",params:[{chainId:numberToHex(ye),chainName:ve,nativeCurrency:_e,rpcUrls:we.default.http,blockExplorerUrls:Pe?Object.values(Pe).map(({url:Ie})=>Ie):void 0}]})}function publicKeyToAddress(oe){const he=keccak256(`0x${oe.substring(4)}`).substring(26);return checksumAddress(`0x${he}`)}const size=256;let index=size,buffer;function uid(oe=11){if(!buffer||index+oe>size*2){buffer="",index=0;for(let he=0;he<size;he++)buffer+=(256+Math.random()*256|0).toString(16).substring(1)}return buffer.substring(index,index+++oe)}function createClient(oe){const{batch:he,cacheTime:ye=oe.pollingInterval??4e3,key:ve="base",name:_e="Base Client",pollingInterval:we=4e3,type:Pe="base"}=oe,Ie=oe.chain,Re=oe.account?parseAccount(oe.account):void 0,{config:ke,request:Fe,value:Me}=oe.transport({chain:Ie,pollingInterval:we}),je={...ke,...Me},ze={account:Re,batch:he,cacheTime:ye,chain:Ie,key:ve,name:_e,pollingInterval:we,request:Fe,transport:je,type:Pe,uid:uid()};function He(Ve){return Qe=>{const tt=Qe(Ve);for(const ct in ze)delete tt[ct];const nt={...Ve,...tt};return Object.assign(nt,{extend:He(nt)})}}return Object.assign(ze,{extend:He(ze)})}function withRetry(oe,{delay:he=100,retryCount:ye=2,shouldRetry:ve=()=>!0}={}){return new Promise((_e,we)=>{const Pe=async({count:Ie=0}={})=>{const Re=async({error:ke})=>{const Fe=typeof he=="function"?he({count:Ie,error:ke}):he;Fe&&await wait(Fe),Pe({count:Ie+1})};try{const ke=await oe();_e(ke)}catch(ke){if(Ie<ye&&await ve({count:Ie,error:ke}))return Re({error:ke});we(ke)}};Pe()})}const isDeterministicError=oe=>"code"in oe?oe.code!==-1&&oe.code!==-32004&&oe.code!==-32005&&oe.code!==-32042&&oe.code!==-32603:oe instanceof HttpRequestError&&oe.status?oe.status!==403&&oe.status!==408&&oe.status!==413&&oe.status!==429&&oe.status!==500&&oe.status!==502&&oe.status!==503&&oe.status!==504:!1;function buildRequest(oe,{retryDelay:he=150,retryCount:ye=3}={}){return async ve=>withRetry(async()=>{try{return await oe(ve)}catch(_e){const we=_e;switch(we.code){case ParseRpcError.code:throw new ParseRpcError(we);case InvalidRequestRpcError.code:throw new InvalidRequestRpcError(we);case MethodNotFoundRpcError.code:throw new MethodNotFoundRpcError(we);case InvalidParamsRpcError.code:throw new InvalidParamsRpcError(we);case InternalRpcError.code:throw new InternalRpcError(we);case InvalidInputRpcError.code:throw new InvalidInputRpcError(we);case ResourceNotFoundRpcError.code:throw new ResourceNotFoundRpcError(we);case ResourceUnavailableRpcError.code:throw new ResourceUnavailableRpcError(we);case TransactionRejectedRpcError.code:throw new TransactionRejectedRpcError(we);case MethodNotSupportedRpcError.code:throw new MethodNotSupportedRpcError(we);case LimitExceededRpcError.code:throw new LimitExceededRpcError(we);case JsonRpcVersionUnsupportedError.code:throw new JsonRpcVersionUnsupportedError(we);case UserRejectedRequestError.code:throw new UserRejectedRequestError(we);case UnauthorizedProviderError.code:throw new UnauthorizedProviderError(we);case UnsupportedProviderMethodError.code:throw new UnsupportedProviderMethodError(we);case ProviderDisconnectedError.code:throw new ProviderDisconnectedError(we);case ChainDisconnectedError.code:throw new ChainDisconnectedError(we);case SwitchChainError.code:throw new SwitchChainError(we);case 5e3:throw new UserRejectedRequestError(we);default:throw _e instanceof BaseError?_e:new UnknownRpcError(we)}}},{delay:({count:_e,error:we})=>{if(we&&we instanceof HttpRequestError){const Pe=we?.headers?.get("Retry-After");if(Pe?.match(/\d/))return parseInt(Pe)*1e3}return~~(1<<_e)*he},retryCount:ye,shouldRetry:({error:_e})=>!isDeterministicError(_e)})}function createTransport({key:oe,name:he,request:ye,retryCount:ve=3,retryDelay:_e=150,timeout:we,type:Pe},Ie){return{config:{key:oe,name:he,request:ye,retryCount:ve,retryDelay:_e,timeout:we,type:Pe},request:buildRequest(ye,{retryCount:ve,retryDelay:_e}),value:Ie}}function custom(oe,he={}){const{key:ye="custom",name:ve="Custom Provider",retryDelay:_e}=he;return({retryCount:we})=>createTransport({key:ye,name:ve,request:oe.request.bind(oe),retryCount:he.retryCount??we,retryDelay:_e,type:"custom"})}function fallback(oe,he={}){const{key:ye="fallback",name:ve="Fallback",rank:_e=!1,retryCount:we,retryDelay:Pe}=he;return({chain:Ie,pollingInterval:Re=4e3,timeout:ke})=>{let Fe=oe,Me=()=>{};const je=createTransport({key:ye,name:ve,async request({method:ze,params:He}){const Ve=async(Qe=0)=>{const tt=Fe[Qe]({chain:Ie,retryCount:0,timeout:ke});try{const nt=await tt.request({method:ze,params:He});return Me({method:ze,params:He,response:nt,transport:tt,status:"success"}),nt}catch(nt){if(Me({error:nt,method:ze,params:He,transport:tt,status:"error"}),isDeterministicError(nt)||Qe===Fe.length-1)throw nt;return Ve(Qe+1)}};return Ve()},retryCount:we,retryDelay:Pe,type:"fallback"},{onResponse:ze=>Me=ze,transports:Fe.map(ze=>ze({chain:Ie,retryCount:0}))});if(_e){const ze=typeof _e=="object"?_e:{};rankTransports({chain:Ie,interval:ze.interval??Re,onTransports:He=>Fe=He,sampleCount:ze.sampleCount,timeout:ze.timeout,transports:Fe,weights:ze.weights})}return je}}function rankTransports({chain:oe,interval:he=4e3,onTransports:ye,sampleCount:ve=10,timeout:_e=1e3,transports:we,weights:Pe={}}){const{stability:Ie=.7,latency:Re=.3}=Pe,ke=[],Fe=async()=>{const Me=await Promise.all(we.map(async He=>{const Ve=He({chain:oe,retryCount:0,timeout:_e}),Qe=Date.now();let tt,nt;try{await Ve.request({method:"net_listening"}),nt=1}catch{nt=0}finally{tt=Date.now()}return{latency:tt-Qe,success:nt}}));ke.push(Me),ke.length>ve&&ke.shift();const je=Math.max(...ke.map(He=>Math.max(...He.map(({latency:Ve})=>Ve)))),ze=we.map((He,Ve)=>{const Qe=ke.map(ht=>ht[Ve].latency),nt=1-Qe.reduce((ht,lt)=>ht+lt,0)/Qe.length/je,ct=ke.map(ht=>ht[Ve].success),vt=ct.reduce((ht,lt)=>ht+lt,0)/ct.length;return vt===0?[0,Ve]:[Re*nt+Ie*vt,Ve]}).sort((He,Ve)=>Ve[0]-He[0]);ye(ze.map(([,He])=>we[He])),await wait(he),Fe()};Fe()}class UrlRequiredError extends BaseError{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}var ws=null;typeof WebSocket<"u"?ws=WebSocket:typeof MozWebSocket<"u"?ws=MozWebSocket:typeof globalThis<"u"?ws=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?ws=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(ws=self.WebSocket||self.MozWebSocket);const WebSocket$1=ws;function withTimeout(oe,{errorInstance:he,timeout:ye,signal:ve}){return new Promise((_e,we)=>{(async()=>{let Pe;try{const Ie=new AbortController;ye>0&&(Pe=setTimeout(()=>{ve?Ie.abort():we(he)},ye)),_e(await oe({signal:Ie?.signal}))}catch(Ie){Ie.name==="AbortError"&&we(he),we(Ie)}finally{clearTimeout(Pe)}})()})}let id=0;async function http$1(oe,{body:he,fetchOptions:ye={},timeout:ve=1e4}){const{headers:_e,method:we,signal:Pe}=ye;try{const Ie=await withTimeout(async({signal:ke})=>await fetch(oe,{...ye,body:Array.isArray(he)?stringify(he.map(Me=>({jsonrpc:"2.0",id:Me.id??id++,...Me}))):stringify({jsonrpc:"2.0",id:he.id??id++,...he}),headers:{..._e,"Content-Type":"application/json"},method:we||"POST",signal:Pe||(ve>0?ke:void 0)}),{errorInstance:new TimeoutError$1({body:he,url:oe}),timeout:ve,signal:!0});let Re;if(Ie.headers.get("Content-Type")?.startsWith("application/json")?Re=await Ie.json():Re=await Ie.text(),!Ie.ok)throw new HttpRequestError({body:he,details:stringify(Re.error)||Ie.statusText,headers:Ie.headers,status:Ie.status,url:oe});return Re}catch(Ie){throw Ie instanceof HttpRequestError||Ie instanceof TimeoutError$1?Ie:new HttpRequestError({body:he,details:Ie.message,url:oe})}}const socketsCache=new Map;async function getSocket(oe){let he=socketsCache.get(oe);if(he)return he;const{schedule:ye}=createBatchScheduler({id:oe,fn:async()=>{let we=WebSocket$1;WebSocket$1.constructor||(we=WebSocket$1.WebSocket);const Pe=new we(oe),Ie=new Map,Re=new Map,ke=({data:Me})=>{const je=JSON.parse(Me),ze=je.method==="eth_subscription",He=ze?je.params.subscription:je.id,Ve=ze?Re:Ie,Qe=Ve.get(He);Qe&&Qe({data:Me}),ze||Ve.delete(He)},Fe=()=>{socketsCache.delete(oe),Pe.removeEventListener("close",Fe),Pe.removeEventListener("message",ke)};return Pe.addEventListener("close",Fe),Pe.addEventListener("message",ke),Pe.readyState===WebSocket$1.CONNECTING&&await new Promise((Me,je)=>{Pe&&(Pe.onopen=Me,Pe.onerror=je)}),he=Object.assign(Pe,{requests:Ie,subscriptions:Re}),socketsCache.set(oe,he),[he]}}),[ve,[_e]]=await ye();return _e}function webSocket$1(oe,{body:he,onResponse:ye}){if(oe.readyState===oe.CLOSED||oe.readyState===oe.CLOSING)throw new WebSocketRequestError({body:he,url:oe.url,details:"Socket is closed."});const ve=id++,_e=({data:we})=>{const Pe=JSON.parse(we);typeof Pe.id=="number"&&ve!==Pe.id||(ye?.(Pe),he.method==="eth_subscribe"&&typeof Pe.result=="string"&&oe.subscriptions.set(Pe.result,_e),he.method==="eth_unsubscribe"&&oe.subscriptions.delete(he.params?.[0]))};return oe.requests.set(ve,_e),oe.send(JSON.stringify({jsonrpc:"2.0",...he,id:ve})),oe}async function webSocketAsync(oe,{body:he,timeout:ye=1e4}){return withTimeout(()=>new Promise(ve=>rpc.webSocket(oe,{body:he,onResponse:ve})),{errorInstance:new TimeoutError$1({body:he,url:oe.url}),timeout:ye})}const rpc={http:http$1,webSocket:webSocket$1,webSocketAsync};function http(oe,he={}){const{batch:ye,fetchOptions:ve,key:_e="http",name:we="HTTP JSON-RPC",retryDelay:Pe}=he;return({chain:Ie,retryCount:Re,timeout:ke})=>{const{batchSize:Fe=1e3,wait:Me=0}=typeof ye=="object"?ye:{},je=he.retryCount??Re,ze=ke??he.timeout??1e4,He=oe||Ie?.rpcUrls.default.http[0];if(!He)throw new UrlRequiredError;return createTransport({key:_e,name:we,async request({method:Ve,params:Qe}){const tt={method:Ve,params:Qe},{schedule:nt}=createBatchScheduler({id:`${oe}`,wait:Me,shouldSplitBatch(lt){return lt.length>Fe},fn:lt=>rpc.http(He,{body:lt,fetchOptions:ve,timeout:ze})}),ct=async lt=>ye?nt(lt):[await rpc.http(He,{body:lt,fetchOptions:ve,timeout:ze})],[{error:vt,result:ht}]=await ct(tt);if(vt)throw new RpcRequestError({body:tt,error:vt,url:He});return ht},retryCount:je,retryDelay:Pe,timeout:ze,type:"http"},{url:oe})}}function isNullUniversalResolverError(oe,he){if(!(oe instanceof BaseError))return!1;const ye=oe.walk(ve=>ve instanceof ContractFunctionRevertedError);return ye instanceof ContractFunctionRevertedError?!!(ye.data?.errorName==="ResolverNotFound"||ye.data?.errorName==="ResolverWildcardNotSupported"||ye.reason?.includes("Wildcard on non-extended resolvers is not supported")||he==="reverse"&&ye.reason===panicReasons[50]):!1}function encodedLabelToLabelhash(oe){if(oe.length!==66||oe.indexOf("[")!==0||oe.indexOf("]")!==65)return null;const he=`0x${oe.slice(1,65)}`;return isHex(he)?he:null}function namehash(oe){let he=new Uint8Array(32).fill(0);if(!oe)return bytesToHex$1(he);const ye=oe.split(".");for(let ve=ye.length-1;ve>=0;ve-=1){const _e=encodedLabelToLabelhash(ye[ve]),we=_e?toBytes$1(_e):keccak256(stringToBytes(ye[ve]),"bytes");he=keccak256(concat([he,we]),"bytes")}return bytesToHex$1(he)}function encodeLabelhash(oe){return`[${oe.slice(2)}]`}function labelhash(oe){const he=new Uint8Array(32).fill(0);return oe?encodedLabelToLabelhash(oe)||keccak256(stringToBytes(oe)):bytesToHex$1(he)}function packetToBytes(oe){const he=oe.replace(/^\.|\.$/gm,"");if(he.length===0)return new Uint8Array(1);const ye=new Uint8Array(stringToBytes(he).byteLength+2);let ve=0;const _e=he.split(".");for(let we=0;we<_e.length;we++){let Pe=stringToBytes(_e[we]);Pe.byteLength>255&&(Pe=stringToBytes(encodeLabelhash(labelhash(_e[we])))),ye[ve]=Pe.length,ye.set(Pe,ve+1),ve+=Pe.length+1}return ye.byteLength!==ve+1?ye.slice(0,ve+1):ye}async function getEnsAddress(oe,{blockNumber:he,blockTag:ye,coinType:ve,name:_e,universalResolverAddress:we}){let Pe=we;if(!Pe){if(!oe.chain)throw new Error("client chain not configured. universalResolverAddress is required.");Pe=getChainContractAddress({blockNumber:he,chain:oe.chain,contract:"ensUniversalResolver"})}try{const Ie=encodeFunctionData({abi:addressResolverAbi,functionName:"addr",...ve!=null?{args:[namehash(_e),BigInt(ve)]}:{args:[namehash(_e)]}}),Re=await readContract(oe,{address:Pe,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(_e)),Ie],blockNumber:he,blockTag:ye});if(Re[0]==="0x")return null;const ke=decodeFunctionResult({abi:addressResolverAbi,args:ve!=null?[namehash(_e),BigInt(ve)]:void 0,functionName:"addr",data:Re[0]});return ke==="0x"||trim(ke)==="0x00"?null:ke}catch(Ie){if(isNullUniversalResolverError(Ie,"resolve"))return null;throw Ie}}class EnsAvatarInvalidMetadataError extends BaseError{constructor({data:he}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(he)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class EnsAvatarInvalidNftUriError extends BaseError{constructor({reason:he}){super(`ENS NFT avatar URI is invalid. ${he}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class EnsAvatarUriResolutionError extends BaseError{constructor({uri:he}){super(`Unable to resolve ENS avatar URI "${he}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class EnsAvatarUnsupportedNamespaceError extends BaseError{constructor({namespace:he}){super(`ENS NFT avatar namespace "${he}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const networkRegex=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ipfsHashRegex=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,base64Regex=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,dataURIRegex=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function isImageUri(oe){try{const he=await fetch(oe,{method:"HEAD"});return he.status===200?he.headers.get("content-type")?.startsWith("image/"):!1}catch(he){return typeof he=="object"&&typeof he.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(ye=>{const ve=new Image;ve.onload=()=>{ye(!0)},ve.onerror=()=>{ye(!1)},ve.src=oe})}}function getGateway(oe,he){return oe?oe.endsWith("/")?oe.slice(0,-1):oe:he}function resolveAvatarUri({uri:oe,gatewayUrls:he}){const ye=base64Regex.test(oe);if(ye)return{uri:oe,isOnChain:!0,isEncoded:ye};const ve=getGateway(he?.ipfs,"https://ipfs.io"),_e=getGateway(he?.arweave,"https://arweave.net"),we=oe.match(networkRegex),{protocol:Pe,subpath:Ie,target:Re,subtarget:ke=""}=we?.groups||{},Fe=Pe==="ipns:/"||Ie==="ipns/",Me=Pe==="ipfs:/"||Ie==="ipfs/"||ipfsHashRegex.test(oe);if(oe.startsWith("http")&&!Fe&&!Me){let ze=oe;return he?.arweave&&(ze=oe.replace(/https:\/\/arweave.net/g,he?.arweave)),{uri:ze,isOnChain:!1,isEncoded:!1}}if((Fe||Me)&&Re)return{uri:`${ve}/${Fe?"ipns":"ipfs"}/${Re}${ke}`,isOnChain:!1,isEncoded:!1};if(Pe==="ar:/"&&Re)return{uri:`${_e}/${Re}${ke||""}`,isOnChain:!1,isEncoded:!1};let je=oe.replace(dataURIRegex,"");if(je.startsWith("<svg")&&(je=`data:image/svg+xml;base64,${btoa(je)}`),je.startsWith("data:")||je.startsWith("{"))return{uri:je,isOnChain:!0,isEncoded:!1};throw new EnsAvatarUriResolutionError({uri:oe})}function getJsonImage(oe){if(typeof oe!="object"||!("image"in oe)&&!("image_url"in oe)&&!("image_data"in oe))throw new EnsAvatarInvalidMetadataError({data:oe});return oe.image||oe.image_url||oe.image_data}async function getMetadataAvatarUri({gatewayUrls:oe,uri:he}){try{const ye=await fetch(he).then(_e=>_e.json());return await parseAvatarUri({gatewayUrls:oe,uri:getJsonImage(ye)})}catch{throw new EnsAvatarUriResolutionError({uri:he})}}async function parseAvatarUri({gatewayUrls:oe,uri:he}){const{uri:ye,isOnChain:ve}=resolveAvatarUri({uri:he,gatewayUrls:oe});if(ve||await isImageUri(ye))return ye;throw new EnsAvatarUriResolutionError({uri:he})}function parseNftUri(oe){let he=oe;he.startsWith("did:nft:")&&(he=he.replace("did:nft:","").replace(/_/g,"/"));const[ye,ve,_e]=he.split("/"),[we,Pe]=ye.split(":"),[Ie,Re]=ve.split(":");if(!we||we.toLowerCase()!=="eip155")throw new EnsAvatarInvalidNftUriError({reason:"Only EIP-155 supported"});if(!Pe)throw new EnsAvatarInvalidNftUriError({reason:"Chain ID not found"});if(!Re)throw new EnsAvatarInvalidNftUriError({reason:"Contract address not found"});if(!_e)throw new EnsAvatarInvalidNftUriError({reason:"Token ID not found"});if(!Ie)throw new EnsAvatarInvalidNftUriError({reason:"ERC namespace not found"});return{chainID:parseInt(Pe),namespace:Ie.toLowerCase(),contractAddress:Re,tokenID:_e}}async function getNftTokenUri(oe,{nft:he}){if(he.namespace==="erc721")return readContract(oe,{address:he.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(he.tokenID)]});if(he.namespace==="erc1155")return readContract(oe,{address:he.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(he.tokenID)]});throw new EnsAvatarUnsupportedNamespaceError({namespace:he.namespace})}async function parseAvatarRecord(oe,{gatewayUrls:he,record:ye}){return/eip155:/i.test(ye)?parseNftAvatarUri(oe,{gatewayUrls:he,record:ye}):parseAvatarUri({uri:ye,gatewayUrls:he})}async function parseNftAvatarUri(oe,{gatewayUrls:he,record:ye}){const ve=parseNftUri(ye),_e=await getNftTokenUri(oe,{nft:ve}),{uri:we,isOnChain:Pe,isEncoded:Ie}=resolveAvatarUri({uri:_e,gatewayUrls:he});if(Pe&&(we.includes("data:application/json;base64,")||we.startsWith("{"))){const ke=Ie?atob(we.replace("data:application/json;base64,","")):we,Fe=JSON.parse(ke);return parseAvatarUri({uri:getJsonImage(Fe),gatewayUrls:he})}let Re=ve.tokenID;return ve.namespace==="erc1155"&&(Re=Re.replace("0x","").padStart(64,"0")),getMetadataAvatarUri({gatewayUrls:he,uri:we.replace(/(?:0x)?{id}/,Re)})}async function getEnsText(oe,{blockNumber:he,blockTag:ye,name:ve,key:_e,universalResolverAddress:we}){let Pe=we;if(!Pe){if(!oe.chain)throw new Error("client chain not configured. universalResolverAddress is required.");Pe=getChainContractAddress({blockNumber:he,chain:oe.chain,contract:"ensUniversalResolver"})}try{const Ie=await readContract(oe,{address:Pe,abi:universalResolverResolveAbi,functionName:"resolve",args:[toHex(packetToBytes(ve)),encodeFunctionData({abi:textResolverAbi,functionName:"text",args:[namehash(ve),_e]})],blockNumber:he,blockTag:ye});if(Ie[0]==="0x")return null;const Re=decodeFunctionResult({abi:textResolverAbi,functionName:"text",data:Ie[0]});return Re===""?null:Re}catch(Ie){if(isNullUniversalResolverError(Ie,"resolve"))return null;throw Ie}}async function getEnsAvatar(oe,{blockNumber:he,blockTag:ye,gatewayUrls:ve,name:_e,universalResolverAddress:we}){const Pe=await getEnsText(oe,{blockNumber:he,blockTag:ye,key:"avatar",name:_e,universalResolverAddress:we});if(!Pe)return null;try{return await parseAvatarRecord(oe,{record:Pe,gatewayUrls:ve})}catch{return null}}async function getEnsName(oe,{address:he,blockNumber:ye,blockTag:ve,universalResolverAddress:_e}){let we=_e;if(!we){if(!oe.chain)throw new Error("client chain not configured. universalResolverAddress is required.");we=getChainContractAddress({blockNumber:ye,chain:oe.chain,contract:"ensUniversalResolver"})}const Pe=`${he.toLowerCase().substring(2)}.addr.reverse`;try{return(await readContract(oe,{address:we,abi:universalResolverReverseAbi,functionName:"reverse",args:[toHex(packetToBytes(Pe))],blockNumber:ye,blockTag:ve}))[0]}catch(Ie){if(isNullUniversalResolverError(Ie,"reverse"))return null;throw Ie}}async function getEnsResolver(oe,{blockNumber:he,blockTag:ye,name:ve,universalResolverAddress:_e}){let we=_e;if(!we){if(!oe.chain)throw new Error("client chain not configured. universalResolverAddress is required.");we=getChainContractAddress({blockNumber:he,chain:oe.chain,contract:"ensUniversalResolver"})}const[Pe]=await readContract(oe,{address:we,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[toHex(packetToBytes(ve))],blockNumber:he,blockTag:ye});return Pe}async function createBlockFilter(oe){const he=createFilterRequestScope(oe,{method:"eth_newBlockFilter"}),ye=await oe.request({method:"eth_newBlockFilter"});return{id:ye,request:he(ye),type:"block"}}async function createEventFilter(oe,{address:he,args:ye,event:ve,events:_e,fromBlock:we,strict:Pe,toBlock:Ie}={}){const Re=_e??(ve?[ve]:void 0),ke=createFilterRequestScope(oe,{method:"eth_newFilter"});let Fe=[];Re&&(Fe=[Re.flatMap(je=>encodeEventTopics({abi:[je],eventName:je.name,args:ye}))],ve&&(Fe=Fe[0]));const Me=await oe.request({method:"eth_newFilter",params:[{address:he,fromBlock:typeof we=="bigint"?numberToHex(we):we,toBlock:typeof Ie=="bigint"?numberToHex(Ie):Ie,...Fe.length?{topics:Fe}:{}}]});return{abi:Re,args:ye,eventName:ve?ve.name:void 0,fromBlock:we,id:Me,request:ke(Me),strict:Pe,toBlock:Ie,type:"event"}}async function createPendingTransactionFilter(oe){const he=createFilterRequestScope(oe,{method:"eth_newPendingTransactionFilter"}),ye=await oe.request({method:"eth_newPendingTransactionFilter"});return{id:ye,request:he(ye),type:"transaction"}}async function getBalance(oe,{address:he,blockNumber:ye,blockTag:ve="latest"}){const _e=ye?numberToHex(ye):void 0,we=await oe.request({method:"eth_getBalance",params:[he,_e||ve]});return BigInt(we)}async function getBlockTransactionCount(oe,{blockHash:he,blockNumber:ye,blockTag:ve="latest"}={}){const _e=ye!==void 0?numberToHex(ye):void 0;let we;return he?we=await oe.request({method:"eth_getBlockTransactionCountByHash",params:[he]}):we=await oe.request({method:"eth_getBlockTransactionCountByNumber",params:[_e||ve]}),hexToNumber$1(we)}async function getBytecode(oe,{address:he,blockNumber:ye,blockTag:ve="latest"}){const _e=ye!==void 0?numberToHex(ye):void 0,we=await oe.request({method:"eth_getCode",params:[he,_e||ve]});if(we!=="0x")return we}function formatFeeHistory(oe){return{baseFeePerGas:oe.baseFeePerGas.map(he=>BigInt(he)),gasUsedRatio:oe.gasUsedRatio,oldestBlock:BigInt(oe.oldestBlock),reward:oe.reward?.map(he=>he.map(ye=>BigInt(ye)))}}async function getFeeHistory(oe,{blockCount:he,blockNumber:ye,blockTag:ve="latest",rewardPercentiles:_e}){const we=ye?numberToHex(ye):void 0,Pe=await oe.request({method:"eth_feeHistory",params:[numberToHex(he),we||ve,_e]});return formatFeeHistory(Pe)}async function getFilterLogs(oe,{filter:he}){const ye=he.strict??!1;return(await he.request({method:"eth_getFilterLogs",params:[he.id]})).map(_e=>{try{const{eventName:we,args:Pe}="abi"in he&&he.abi?decodeEventLog({abi:he.abi,data:_e.data,topics:_e.topics,strict:ye}):{eventName:void 0,args:void 0};return formatLog(_e,{args:Pe,eventName:we})}catch(we){let Pe,Ie;if(we instanceof DecodeLogDataMismatch||we instanceof DecodeLogTopicsMismatch){if("strict"in he&&he.strict)return;Pe=we.abiItem.name,Ie=we.abiItem.inputs?.some(Re=>!("name"in Re&&Re.name))}return formatLog(_e,{args:Ie?[]:{},eventName:Pe})}}).filter(Boolean)}async function getStorageAt(oe,{address:he,blockNumber:ye,blockTag:ve="latest",slot:_e}){const we=ye!==void 0?numberToHex(ye):void 0;return await oe.request({method:"eth_getStorageAt",params:[he,_e,we||ve]})}async function getTransaction(oe,{blockHash:he,blockNumber:ye,blockTag:ve,hash:_e,index:we}){const Pe=ve||"latest",Ie=ye!==void 0?numberToHex(ye):void 0;let Re=null;if(_e?Re=await oe.request({method:"eth_getTransactionByHash",params:[_e]}):he?Re=await oe.request({method:"eth_getTransactionByBlockHashAndIndex",params:[he,numberToHex(we)]}):(Ie||Pe)&&(Re=await oe.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[Ie||Pe,numberToHex(we)]})),!Re)throw new TransactionNotFoundError({blockHash:he,blockNumber:ye,blockTag:Pe,hash:_e,index:we});return(oe.chain?.formatters?.transaction?.format||formatTransaction)(Re)}async function getTransactionConfirmations(oe,{hash:he,transactionReceipt:ye}){const[ve,_e]=await Promise.all([getBlockNumber(oe),he?getTransaction(oe,{hash:he}):void 0]),we=ye?.blockNumber||_e?.blockNumber;return we?ve-we+1n:0n}const statuses={"0x0":"reverted","0x1":"success"};function formatTransactionReceipt(oe){return{...oe,blockNumber:oe.blockNumber?BigInt(oe.blockNumber):null,contractAddress:oe.contractAddress?oe.contractAddress:null,cumulativeGasUsed:oe.cumulativeGasUsed?BigInt(oe.cumulativeGasUsed):null,effectiveGasPrice:oe.effectiveGasPrice?BigInt(oe.effectiveGasPrice):null,gasUsed:oe.gasUsed?BigInt(oe.gasUsed):null,logs:oe.logs?oe.logs.map(he=>formatLog(he)):null,to:oe.to?oe.to:null,transactionIndex:oe.transactionIndex?hexToNumber$1(oe.transactionIndex):null,status:oe.status?statuses[oe.status]:null,type:oe.type?transactionType[oe.type]||oe.type:null}}async function getTransactionReceipt(oe,{hash:he}){const ye=await oe.request({method:"eth_getTransactionReceipt",params:[he]});if(!ye)throw new TransactionReceiptNotFoundError({hash:he});return(oe.chain?.formatters?.transactionReceipt?.format||formatTransactionReceipt)(ye)}async function multicall(oe,he){const{allowFailure:ye=!0,batchSize:ve,blockNumber:_e,blockTag:we,contracts:Pe,multicallAddress:Ie}=he,Re=ve??(typeof oe.batch?.multicall=="object"&&oe.batch.multicall.batchSize||1024);let ke=Ie;if(!ke){if(!oe.chain)throw new Error("client chain not configured. multicallAddress is required.");ke=getChainContractAddress({blockNumber:_e,chain:oe.chain,contract:"multicall3"})}const Fe=[[]];let Me=0,je=0;for(let Ve=0;Ve<Pe.length;Ve++){const{abi:Qe,address:tt,args:nt,functionName:ct}=Pe[Ve];try{const vt=encodeFunctionData({abi:Qe,args:nt,functionName:ct});je+=(vt.length-2)/2,Re>0&&je>Re&&Fe[Me].length>0&&(Me++,je=(vt.length-2)/2,Fe[Me]=[]),Fe[Me]=[...Fe[Me],{allowFailure:!0,callData:vt,target:tt}]}catch(vt){const ht=getContractError(vt,{abi:Qe,address:tt,args:nt,docsPath:"/docs/contract/multicall",functionName:ct});if(!ye)throw ht;Fe[Me]=[...Fe[Me],{allowFailure:!0,callData:"0x",target:tt}]}}const ze=await Promise.allSettled(Fe.map(Ve=>readContract(oe,{abi:multicall3Abi,address:ke,args:[Ve],blockNumber:_e,blockTag:we,functionName:"aggregate3"}))),He=[];for(let Ve=0;Ve<ze.length;Ve++){const Qe=ze[Ve];if(Qe.status==="rejected"){if(!ye)throw Qe.reason;for(let nt=0;nt<Fe[Ve].length;nt++)He.push({status:"failure",error:Qe.reason,result:void 0});continue}const tt=Qe.value;for(let nt=0;nt<tt.length;nt++){const{returnData:ct,success:vt}=tt[nt],{callData:ht}=Fe[Ve][nt],{abi:lt,address:St,functionName:Rt,args:er}=Pe[He.length];try{if(ht==="0x")throw new AbiDecodingZeroDataError;if(!vt)throw new RawContractError({data:ct});const At=decodeFunctionResult({abi:lt,args:er,data:ct,functionName:Rt});He.push(ye?{result:At,status:"success"}:At)}catch(At){const Bt=getContractError(At,{abi:lt,address:St,args:er,docsPath:"/docs/contract/multicall",functionName:Rt});if(!ye)throw Bt;He.push({error:Bt,result:void 0,status:"failure"})}}}if(He.length!==Pe.length)throw new BaseError("multicall results mismatch");return He}class OffchainLookupError extends BaseError{constructor({callbackSelector:he,cause:ye,data:ve,extraData:_e,sender:we,urls:Pe}){super(ye.shortMessage||"An error occurred while fetching for an offchain result.",{cause:ye,metaMessages:[...ye.metaMessages||[],ye.metaMessages?.length?"":[],"Offchain Gateway Call:",Pe&&["  Gateway URL(s):",...Pe.map(Ie=>`    ${getUrl$1(Ie)}`)],`  Sender: ${we}`,`  Data: ${ve}`,`  Callback selector: ${he}`,`  Extra data: ${_e}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class OffchainLookupResponseMalformedError extends BaseError{constructor({result:he,url:ye}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${getUrl$1(ye)}`,`Response: ${stringify(he)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class OffchainLookupSenderMismatchError extends BaseError{constructor({sender:he,to:ye}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${ye}`,`OffchainLookup sender address: ${he}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}function isAddressEqual(oe,he){if(!isAddress(oe))throw new InvalidAddressError({address:oe});if(!isAddress(he))throw new InvalidAddressError({address:he});return oe.toLowerCase()===he.toLowerCase()}const offchainLookupSignature="0x556f1830",offchainLookupAbiItem={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function offchainLookup(oe,{blockNumber:he,blockTag:ye,data:ve,to:_e}){const{args:we}=decodeErrorResult({data:ve,abi:[offchainLookupAbiItem]}),[Pe,Ie,Re,ke,Fe]=we;try{if(!isAddressEqual(_e,Pe))throw new OffchainLookupSenderMismatchError({sender:Pe,to:_e});const Me=await ccipFetch({data:Re,sender:Pe,urls:Ie}),{data:je}=await call(oe,{blockNumber:he,blockTag:ye,data:concat([ke,encodeAbiParameters([{type:"bytes"},{type:"bytes"}],[Me,Fe])]),to:_e});return je}catch(Me){throw new OffchainLookupError({callbackSelector:ke,cause:Me,data:ve,extraData:Fe,sender:Pe,urls:Ie})}}async function ccipFetch({data:oe,sender:he,urls:ye}){let ve=new Error("An unknown error occurred.");for(let _e=0;_e<ye.length;_e++){const we=ye[_e],Pe=we.includes("{sender}")||we.includes("{data}")?"GET":"POST",Ie=Pe==="POST"?{data:oe,sender:he}:void 0;try{const Re=await fetch(we.replace("{sender}",he).replace("{data}",oe),{body:JSON.stringify(Ie),method:Pe});let ke;if(Re.headers.get("Content-Type")?.startsWith("application/json")?ke=(await Re.json()).data:ke=await Re.text(),!Re.ok){ve=new HttpRequestError({body:Ie,details:stringify(ke.error)||Re.statusText,headers:Re.headers,status:Re.status,url:we});continue}if(!isHex(ke)){ve=new OffchainLookupResponseMalformedError({result:ke,url:we});continue}return ke}catch(Re){ve=new HttpRequestError({body:Ie,details:Re.message,url:we})}}throw ve}const ccip=Object.freeze(Object.defineProperty({__proto__:null,ccipFetch,offchainLookup,offchainLookupAbiItem,offchainLookupSignature},Symbol.toStringTag,{value:"Module"})),arrayRegex=/^(.*)\[([0-9]*)\]$/,bytesRegex=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,integerRegex=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function hashTypedData({domain:oe,message:he,primaryType:ye,types:ve}){const _e=typeof oe>"u"?{}:oe,we={EIP712Domain:getTypesForEIP712Domain({domain:_e}),...ve};validateTypedData({domain:_e,message:he,primaryType:ye,types:we});const Pe=["0x1901"];return _e&&Pe.push(hashDomain({domain:_e,types:we})),ye!=="EIP712Domain"&&Pe.push(hashStruct({data:he,primaryType:ye,types:we})),keccak256(concat(Pe))}function hashDomain({domain:oe,types:he}){return hashStruct({data:oe,primaryType:"EIP712Domain",types:he})}function hashStruct({data:oe,primaryType:he,types:ye}){const ve=encodeData({data:oe,primaryType:he,types:ye});return keccak256(ve)}function encodeData({data:oe,primaryType:he,types:ye}){const ve=[{type:"bytes32"}],_e=[hashType({primaryType:he,types:ye})];for(const we of ye[he]){const[Pe,Ie]=encodeField({types:ye,name:we.name,type:we.type,value:oe[we.name]});ve.push(Pe),_e.push(Ie)}return encodeAbiParameters(ve,_e)}function hashType({primaryType:oe,types:he}){const ye=toHex(encodeType({primaryType:oe,types:he}));return keccak256(ye)}function encodeType({primaryType:oe,types:he}){let ye="";const ve=findTypeDependencies({primaryType:oe,types:he});ve.delete(oe);const _e=[oe,...Array.from(ve).sort()];for(const we of _e)ye+=`${we}(${he[we].map(({name:Pe,type:Ie})=>`${Ie} ${Pe}`).join(",")})`;return ye}function findTypeDependencies({primaryType:oe,types:he},ye=new Set){const _e=oe.match(/^\w*/u)?.[0];if(ye.has(_e)||he[_e]===void 0)return ye;ye.add(_e);for(const we of he[_e])findTypeDependencies({primaryType:we.type,types:he},ye);return ye}function encodeField({types:oe,name:he,type:ye,value:ve}){if(oe[ye]!==void 0)return[{type:"bytes32"},keccak256(encodeData({data:ve,primaryType:ye,types:oe}))];if(ye==="bytes")return ve=`0x${(ve.length%2?"0":"")+ve.slice(2)}`,[{type:"bytes32"},keccak256(ve)];if(ye==="string")return[{type:"bytes32"},keccak256(toHex(ve))];if(ye.lastIndexOf("]")===ye.length-1){const _e=ye.slice(0,ye.lastIndexOf("[")),we=ve.map(Pe=>encodeField({name:he,type:_e,types:oe,value:Pe}));return[{type:"bytes32"},keccak256(encodeAbiParameters(we.map(([Pe])=>Pe),we.map(([,Pe])=>Pe)))]}return[{type:ye},ve]}function validateTypedData({domain:oe,message:he,primaryType:ye,types:ve}){const _e=ve,we=(Pe,Ie)=>{for(const Re of Pe){const{name:ke,type:Fe}=Re,Me=Fe,je=Ie[ke],ze=Me.match(integerRegex);if(ze&&(typeof je=="number"||typeof je=="bigint")){const[Qe,tt,nt]=ze;numberToHex(je,{signed:tt==="int",size:parseInt(nt)/8})}if(Me==="address"&&typeof je=="string"&&!isAddress(je))throw new InvalidAddressError({address:je});const He=Me.match(bytesRegex);if(He){const[Qe,tt]=He;if(tt&&size$1(je)!==parseInt(tt))throw new BytesSizeMismatchError({expectedSize:parseInt(tt),givenSize:size$1(je)})}const Ve=_e[Me];Ve&&we(Ve,je)}};if(_e.EIP712Domain&&oe&&we(_e.EIP712Domain,oe),ye!=="EIP712Domain"){const Pe=_e[ye];we(Pe,he)}}function getTypesForEIP712Domain({domain:oe}){return[typeof oe?.name=="string"&&{name:"name",type:"string"},oe?.version&&{name:"version",type:"string"},typeof oe?.chainId=="number"&&{name:"chainId",type:"uint256"},oe?.verifyingContract&&{name:"verifyingContract",type:"address"},oe?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function decodeFunctionData({abi:oe,data:he}){const ye=slice(he,0,4),ve=oe.find(_e=>_e.type==="function"&&ye===getFunctionSelector(formatAbiItem(_e)));if(!ve)throw new AbiFunctionSignatureNotFoundError(ye,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:ve.name,args:"inputs"in ve&&ve.inputs&&ve.inputs.length>0?decodeAbiParameters(ve.inputs,slice(he,4)):void 0}}const docsPath="/docs/contract/encodeDeployData";function encodeDeployData({abi:oe,args:he,bytecode:ye}){if(!he||he.length===0)return ye;const ve=oe.find(we=>"type"in we&&we.type==="constructor");if(!ve)throw new AbiConstructorNotFoundError({docsPath});if(!("inputs"in ve))throw new AbiConstructorParamsNotFoundError({docsPath});if(!ve.inputs||ve.inputs.length===0)throw new AbiConstructorParamsNotFoundError({docsPath});const _e=encodeAbiParameters(ve.inputs,he);return concatHex([ye,_e])}function encodePacked(oe,he){if(oe.length!==he.length)throw new AbiEncodingLengthMismatchError({expectedLength:oe.length,givenLength:he.length});const ye=[];for(let ve=0;ve<oe.length;ve++){const _e=oe[ve],we=he[ve];ye.push(encode(_e,we))}return concatHex(ye)}function encode(oe,he,ye=!1){if(oe==="address"){const Pe=he;if(!isAddress(Pe))throw new InvalidAddressError({address:Pe});return pad(Pe.toLowerCase(),{size:ye?32:null})}if(oe==="string")return stringToHex(he);if(oe==="bytes")return he;if(oe==="bool")return pad(boolToHex(he),{size:ye?32:1});const ve=oe.match(integerRegex);if(ve){const[Pe,Ie,Re="256"]=ve,ke=parseInt(Re)/8;return numberToHex(he,{size:ye?32:ke,signed:Ie==="int"})}const _e=oe.match(bytesRegex);if(_e){const[Pe,Ie]=_e;if(parseInt(Ie)!==(he.length-2)/2)throw new BytesSizeMismatchError({expectedSize:parseInt(Ie),givenSize:(he.length-2)/2});return pad(he,{dir:"right",size:ye?32:null})}const we=oe.match(arrayRegex);if(we&&Array.isArray(he)){const[Pe,Ie]=we,Re=[];for(let ke=0;ke<he.length;ke++)Re.push(encode(Ie,he[ke],!0));return Re.length===0?"0x":concatHex(Re)}throw new UnsupportedPackedAbiType(oe)}class NegativeOffsetError extends BaseError{constructor({offset:he}){super(`Offset \`${he}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class PositionOutOfBoundsError extends BaseError{constructor({length:he,position:ye}){super(`Position \`${ye}\` is out of bounds (\`0 < position < ${he}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}const staticCursor={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,assertPosition(oe){if(oe<0||oe>this.bytes.length-1)throw new PositionOutOfBoundsError({length:this.bytes.length,position:oe})},decrementPosition(oe){if(oe<0)throw new NegativeOffsetError({offset:oe});const he=this.position-oe;this.assertPosition(he),this.position=he},incrementPosition(oe){if(oe<0)throw new NegativeOffsetError({offset:oe});const he=this.position+oe;this.assertPosition(he),this.position=he},inspectByte(oe){const he=oe??this.position;return this.assertPosition(he),this.bytes[he]},inspectBytes(oe,he){const ye=he??this.position;return this.assertPosition(ye+oe-1),this.bytes.subarray(ye,ye+oe)},inspectUint8(oe){const he=oe??this.position;return this.assertPosition(he),this.bytes[he]},inspectUint16(oe){const he=oe??this.position;return this.assertPosition(he+1),this.dataView.getUint16(he)},inspectUint24(oe){const he=oe??this.position;return this.assertPosition(he+2),(this.dataView.getUint16(he)<<8)+this.dataView.getUint8(he+2)},inspectUint32(oe){const he=oe??this.position;return this.assertPosition(he+3),this.dataView.getUint32(he)},pushByte(oe){this.assertPosition(this.position),this.bytes[this.position]=oe,this.position++},pushBytes(oe){this.assertPosition(this.position+oe.length-1),this.bytes.set(oe,this.position),this.position+=oe.length},pushUint8(oe){this.assertPosition(this.position),this.bytes[this.position]=oe,this.position++},pushUint16(oe){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,oe),this.position+=2},pushUint24(oe){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,oe>>8),this.dataView.setUint8(this.position+2,oe&255),this.position+=3},pushUint32(oe){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,oe),this.position+=4},readByte(){const oe=this.inspectByte();return this.position++,oe},readBytes(oe){const he=this.inspectBytes(oe);return this.position+=oe,he},readUint8(){const oe=this.inspectUint8();return this.position+=1,oe},readUint16(){const oe=this.inspectUint16();return this.position+=2,oe},readUint24(){const oe=this.inspectUint24();return this.position+=3,oe},readUint32(){const oe=this.inspectUint32();return this.position+=4,oe},setPosition(oe){this.assertPosition(oe),this.position=oe}};function createCursor(oe){const he=Object.create(staticCursor);return he.bytes=oe,he.dataView=new DataView(oe.buffer,oe.byteOffset,oe.byteLength),he}function toRlp(oe,he="hex"){const ye=getEncodable(oe),ve=createCursor(new Uint8Array(ye.length));return ye.encode(ve),he==="hex"?bytesToHex$1(ve.bytes):ve.bytes}function getEncodable(oe){return Array.isArray(oe)?getEncodableList(oe.map(he=>getEncodable(he))):getEncodableBytes(oe)}function getEncodableList(oe){const he=oe.reduce((_e,we)=>_e+we.length,0),ye=getSizeOfLength(he);return{length:(()=>he<=55?1+he:1+ye+he)(),encode(_e){he<=55?_e.pushByte(192+he):(_e.pushByte(192+55+ye),ye===1?_e.pushUint8(he):ye===2?_e.pushUint16(he):ye===3?_e.pushUint24(he):_e.pushUint32(he)),oe.forEach(we=>we.encode(_e))}}}function getEncodableBytes(oe){const he=typeof oe=="string"?hexToBytes$1(oe):oe,ye=getSizeOfLength(he.length);return{length:(()=>he.length===1&&he[0]<128?1:he.length<=55?1+he.length:1+ye+he.length)(),encode(_e){he.length===1&&he[0]<128?_e.pushBytes(he):he.length<=55?(_e.pushByte(128+he.length),_e.pushBytes(he)):(_e.pushByte(128+55+ye),ye===1?_e.pushUint8(he.length):ye===2?_e.pushUint16(he.length):ye===3?_e.pushUint24(he.length):_e.pushUint32(he.length),_e.pushBytes(he))}}}function getSizeOfLength(oe){if(oe<2**8)return 1;if(oe<2**16)return 2;if(oe<2**24)return 3;if(oe<2**32)return 4;throw new BaseError("Length is too large.")}function hashMessage(oe,he){const ye=(()=>typeof oe=="string"?stringToBytes(oe):oe.raw instanceof Uint8Array?oe.raw:toBytes$1(oe.raw))(),ve=stringToBytes(`Ethereum Signed Message:
${ye.length}`);return keccak256(concat([ve,ye]),he)}function assertTransactionEIP1559(oe){const{chainId:he,maxPriorityFeePerGas:ye,gasPrice:ve,maxFeePerGas:_e,to:we}=oe;if(he<=0)throw new InvalidChainIdError({chainId:he});if(we&&!isAddress(we))throw new InvalidAddressError({address:we});if(ve)throw new BaseError("`gasPrice` is not a valid EIP-1559 Transaction attribute.");if(_e&&_e>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:_e});if(ye&&_e&&ye>_e)throw new TipAboveFeeCapError({maxFeePerGas:_e,maxPriorityFeePerGas:ye})}function assertTransactionEIP2930(oe){const{chainId:he,maxPriorityFeePerGas:ye,gasPrice:ve,maxFeePerGas:_e,to:we}=oe;if(he<=0)throw new InvalidChainIdError({chainId:he});if(we&&!isAddress(we))throw new InvalidAddressError({address:we});if(ye||_e)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(ve&&ve>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:ve})}function assertTransactionLegacy(oe){const{chainId:he,maxPriorityFeePerGas:ye,gasPrice:ve,maxFeePerGas:_e,to:we,accessList:Pe}=oe;if(we&&!isAddress(we))throw new InvalidAddressError({address:we});if(typeof he<"u"&&he<=0)throw new InvalidChainIdError({chainId:he});if(ye||_e)throw new BaseError("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(ve&&ve>2n**256n-1n)throw new FeeCapTooHighError({maxFeePerGas:ve});if(Pe)throw new BaseError("`accessList` is not a valid Legacy Transaction attribute.")}function serializeAccessList(oe){if(!oe||oe.length===0)return[];const he=[];for(let ye=0;ye<oe.length;ye++){const{address:ve,storageKeys:_e}=oe[ye];for(let we=0;we<_e.length;we++)if(_e[we].length-2!==64)throw new InvalidStorageKeySizeError({storageKey:_e[we]});if(!isAddress(ve))throw new InvalidAddressError({address:ve});he.push([ve,_e])}return he}function serializeTransaction(oe,he){const ye=getTransactionType(oe);return ye==="eip1559"?serializeTransactionEIP1559(oe,he):ye==="eip2930"?serializeTransactionEIP2930(oe,he):serializeTransactionLegacy(oe,he)}function serializeTransactionEIP1559(oe,he){const{chainId:ye,gas:ve,nonce:_e,to:we,value:Pe,maxFeePerGas:Ie,maxPriorityFeePerGas:Re,accessList:ke,data:Fe}=oe;assertTransactionEIP1559(oe);const Me=serializeAccessList(ke),je=[toHex(ye),_e?toHex(_e):"0x",Re?toHex(Re):"0x",Ie?toHex(Ie):"0x",ve?toHex(ve):"0x",we??"0x",Pe?toHex(Pe):"0x",Fe??"0x",Me];return he&&je.push(he.v===27n?"0x":toHex(1),trim(he.r),trim(he.s)),concatHex(["0x02",toRlp(je)])}function serializeTransactionEIP2930(oe,he){const{chainId:ye,gas:ve,data:_e,nonce:we,to:Pe,value:Ie,accessList:Re,gasPrice:ke}=oe;assertTransactionEIP2930(oe);const Fe=serializeAccessList(Re),Me=[toHex(ye),we?toHex(we):"0x",ke?toHex(ke):"0x",ve?toHex(ve):"0x",Pe??"0x",Ie?toHex(Ie):"0x",_e??"0x",Fe];return he&&Me.push(he.v===27n?"0x":toHex(1),he.r,he.s),concatHex(["0x01",toRlp(Me)])}function serializeTransactionLegacy(oe,he){const{chainId:ye=0,gas:ve,data:_e,nonce:we,to:Pe,value:Ie,gasPrice:Re}=oe;assertTransactionLegacy(oe);let ke=[we?toHex(we):"0x",Re?toHex(Re):"0x",ve?toHex(ve):"0x",Pe??"0x",Ie?toHex(Ie):"0x",_e??"0x"];if(he){let Fe=27n+(he.v===27n?0n:1n);if(ye>0)Fe=BigInt(ye*2)+BigInt(35n+he.v-27n);else if(he.v!==Fe)throw new InvalidLegacyVError({v:he.v});ke=[...ke,toHex(Fe),he.r,he.s]}else ye>0&&(ke=[...ke,toHex(ye),"0x","0x"]);return toRlp(ke)}function parseUnits(oe,he){let[ye,ve="0"]=oe.split(".");const _e=ye.startsWith("-");if(_e&&(ye=ye.slice(1)),ve=ve.replace(/(0+)$/,""),he===0)Math.round(+`.${ve}`)===1&&(ye=`${BigInt(ye)+1n}`),ve="";else if(ve.length>he){const[we,Pe,Ie]=[ve.slice(0,he-1),ve.slice(he-1,he),ve.slice(he)],Re=Math.round(+`${Pe}.${Ie}`);Re>9?ve=`${BigInt(we)+BigInt(1)}0`.padStart(we.length+1,"0"):ve=`${we}${Re}`,ve.length>he&&(ve=ve.slice(1),ye=`${BigInt(ye)+1n}`),ve=ve.slice(0,he)}else ve=ve.padEnd(he,"0");return BigInt(`${_e?"-":""}${ye}${ve}`)}function parseEther(oe,he="wei"){return parseUnits(oe,etherUnits[he])}const universalSignatureValidatorByteCode="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1),_2n$2=BigInt(2),u8a=oe=>oe instanceof Uint8Array,hexes=Array.from({length:256},(oe,he)=>he.toString(16).padStart(2,"0"));function bytesToHex(oe){if(!u8a(oe))throw new Error("Uint8Array expected");let he="";for(let ye=0;ye<oe.length;ye++)he+=hexes[oe[ye]];return he}function numberToHexUnpadded(oe){const he=oe.toString(16);return he.length&1?`0${he}`:he}function hexToNumber(oe){if(typeof oe!="string")throw new Error("hex string expected, got "+typeof oe);return BigInt(oe===""?"0":`0x${oe}`)}function hexToBytes(oe){if(typeof oe!="string")throw new Error("hex string expected, got "+typeof oe);const he=oe.length;if(he%2)throw new Error("padded hex string expected, got unpadded hex of length "+he);const ye=new Uint8Array(he/2);for(let ve=0;ve<ye.length;ve++){const _e=ve*2,we=oe.slice(_e,_e+2),Pe=Number.parseInt(we,16);if(Number.isNaN(Pe)||Pe<0)throw new Error("Invalid byte sequence");ye[ve]=Pe}return ye}function bytesToNumberBE(oe){return hexToNumber(bytesToHex(oe))}function bytesToNumberLE(oe){if(!u8a(oe))throw new Error("Uint8Array expected");return hexToNumber(bytesToHex(Uint8Array.from(oe).reverse()))}function numberToBytesBE(oe,he){return hexToBytes(oe.toString(16).padStart(he*2,"0"))}function numberToBytesLE(oe,he){return numberToBytesBE(oe,he).reverse()}function numberToVarBytesBE(oe){return hexToBytes(numberToHexUnpadded(oe))}function ensureBytes(oe,he,ye){let ve;if(typeof he=="string")try{ve=hexToBytes(he)}catch(we){throw new Error(`${oe} must be valid hex string, got "${he}". Cause: ${we}`)}else if(u8a(he))ve=Uint8Array.from(he);else throw new Error(`${oe} must be hex string or Uint8Array`);const _e=ve.length;if(typeof ye=="number"&&_e!==ye)throw new Error(`${oe} expected ${ye} bytes, got ${_e}`);return ve}function concatBytes(...oe){const he=new Uint8Array(oe.reduce((ve,_e)=>ve+_e.length,0));let ye=0;return oe.forEach(ve=>{if(!u8a(ve))throw new Error("Uint8Array expected");he.set(ve,ye),ye+=ve.length}),he}function equalBytes(oe,he){if(oe.length!==he.length)return!1;for(let ye=0;ye<oe.length;ye++)if(oe[ye]!==he[ye])return!1;return!0}function utf8ToBytes(oe){if(typeof oe!="string")throw new Error(`utf8ToBytes expected string, got ${typeof oe}`);return new Uint8Array(new TextEncoder().encode(oe))}function bitLen(oe){let he;for(he=0;oe>_0n$3;oe>>=_1n$4,he+=1);return he}function bitGet(oe,he){return oe>>BigInt(he)&_1n$4}const bitSet=(oe,he,ye)=>oe|(ye?_1n$4:_0n$3)<<BigInt(he),bitMask=oe=>(_2n$2<<BigInt(oe-1))-_1n$4,u8n=oe=>new Uint8Array(oe),u8fr=oe=>Uint8Array.from(oe);function createHmacDrbg(oe,he,ye){if(typeof oe!="number"||oe<2)throw new Error("hashLen must be a number");if(typeof he!="number"||he<2)throw new Error("qByteLen must be a number");if(typeof ye!="function")throw new Error("hmacFn must be a function");let ve=u8n(oe),_e=u8n(oe),we=0;const Pe=()=>{ve.fill(1),_e.fill(0),we=0},Ie=(...Me)=>ye(_e,ve,...Me),Re=(Me=u8n())=>{_e=Ie(u8fr([0]),Me),ve=Ie(),Me.length!==0&&(_e=Ie(u8fr([1]),Me),ve=Ie())},ke=()=>{if(we++>=1e3)throw new Error("drbg: tried 1000 values");let Me=0;const je=[];for(;Me<he;){ve=Ie();const ze=ve.slice();je.push(ze),Me+=ve.length}return concatBytes(...je)};return(Me,je)=>{Pe(),Re(Me);let ze;for(;!(ze=je(ke()));)Re();return Pe(),ze}}const validatorFns={bigint:oe=>typeof oe=="bigint",function:oe=>typeof oe=="function",boolean:oe=>typeof oe=="boolean",string:oe=>typeof oe=="string",stringOrUint8Array:oe=>typeof oe=="string"||oe instanceof Uint8Array,isSafeInteger:oe=>Number.isSafeInteger(oe),array:oe=>Array.isArray(oe),field:(oe,he)=>he.Fp.isValid(oe),hash:oe=>typeof oe=="function"&&Number.isSafeInteger(oe.outputLen)};function validateObject(oe,he,ye={}){const ve=(_e,we,Pe)=>{const Ie=validatorFns[we];if(typeof Ie!="function")throw new Error(`Invalid validator "${we}", expected function`);const Re=oe[_e];if(!(Pe&&Re===void 0)&&!Ie(Re,oe))throw new Error(`Invalid param ${String(_e)}=${Re} (${typeof Re}), expected ${we}`)};for(const[_e,we]of Object.entries(he))ve(_e,we,!1);for(const[_e,we]of Object.entries(ye))ve(_e,we,!0);return oe}const ut=Object.freeze(Object.defineProperty({__proto__:null,bitGet,bitLen,bitMask,bitSet,bytesToHex,bytesToNumberBE,bytesToNumberLE,concatBytes,createHmacDrbg,ensureBytes,equalBytes,hexToBytes,hexToNumber,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes,validateObject},Symbol.toStringTag,{value:"Module"}));function isBytesEqual(oe,he){const ye=isHex(oe)?toBytes$1(oe):oe,ve=isHex(he)?toBytes$1(he):he;return equalBytes(ye,ve)}async function verifyHash(oe,{address:he,hash:ye,signature:ve,..._e}){const we=isHex(ve)?ve:toHex(ve);try{const{data:Pe}=await call(oe,{data:encodeDeployData({abi:universalSignatureValidatorAbi,args:[he,ye,we],bytecode:universalSignatureValidatorByteCode}),..._e});return isBytesEqual(Pe??"0x0","0x1")}catch(Pe){if(Pe instanceof CallExecutionError)return!1;throw Pe}}async function verifyMessage(oe,{address:he,message:ye,signature:ve,..._e}){const we=hashMessage(ye);return verifyHash(oe,{address:he,hash:we,signature:ve,..._e})}async function verifyTypedData(oe,{address:he,signature:ye,message:ve,primaryType:_e,types:we,domain:Pe,...Ie}){const Re=hashTypedData({message:ve,primaryType:_e,types:we,domain:Pe});return verifyHash(oe,{address:he,hash:Re,signature:ye,...Ie})}function watchBlockNumber(oe,{emitOnBegin:he=!1,emitMissed:ye=!1,onBlockNumber:ve,onError:_e,poll:we,pollingInterval:Pe=oe.pollingInterval}){const Ie=typeof we<"u"?we:oe.transport.type!=="webSocket";let Re;return Ie?(()=>{const Me=stringify(["watchBlockNumber",oe.uid,he,ye,Pe]);return observe(Me,{onBlockNumber:ve,onError:_e},je=>poll(async()=>{try{const ze=await getBlockNumber(oe,{cacheTime:0});if(Re){if(ze===Re)return;if(ze-Re>1&&ye)for(let He=Re+1n;He<ze;He++)je.onBlockNumber(He,Re),Re=He}(!Re||ze>Re)&&(je.onBlockNumber(ze,Re),Re=ze)}catch(ze){je.onError?.(ze)}},{emitOnBegin:he,interval:Pe}))})():(()=>{let Me=!0,je=()=>Me=!1;return(async()=>{try{const{unsubscribe:ze}=await oe.transport.subscribe({params:["newHeads"],onData(He){if(!Me)return;const Ve=hexToBigInt(He.result?.number);ve(Ve,Re),Re=Ve},onError(He){_e?.(He)}});je=ze,Me||je()}catch(ze){_e?.(ze)}})(),je})()}async function waitForTransactionReceipt(oe,{confirmations:he=1,hash:ye,onReplaced:ve,pollingInterval:_e=oe.pollingInterval,timeout:we}){const Pe=stringify(["waitForTransactionReceipt",oe.uid,ye]);let Ie,Re,ke,Fe=!1;return new Promise((Me,je)=>{we&&setTimeout(()=>je(new WaitForTransactionReceiptTimeoutError({hash:ye})),we);const ze=observe(Pe,{onReplaced:ve,resolve:Me,reject:je},He=>{const Ve=watchBlockNumber(oe,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:_e,async onBlockNumber(Qe){if(Fe)return;let tt=Qe;const nt=ct=>{Ve(),ct(),ze()};try{if(ke){if(he>1&&(!ke.blockNumber||tt-ke.blockNumber+1n<he))return;nt(()=>He.resolve(ke));return}if(Ie||(Fe=!0,await withRetry(async()=>{Ie=await getTransaction(oe,{hash:ye}),Ie.blockNumber&&(tt=Ie.blockNumber)},{delay:({count:ct})=>~~(1<<ct)*200,retryCount:6}),Fe=!1),ke=await getTransactionReceipt(oe,{hash:ye}),he>1&&(!ke.blockNumber||tt-ke.blockNumber+1n<he))return;nt(()=>He.resolve(ke))}catch(ct){if(Ie&&(ct instanceof TransactionNotFoundError||ct instanceof TransactionReceiptNotFoundError))try{Re=Ie;const ht=(await getBlock(oe,{blockNumber:tt,includeTransactions:!0})).transactions.find(({from:St,nonce:Rt})=>St===Re.from&&Rt===Re.nonce);if(!ht||(ke=await getTransactionReceipt(oe,{hash:ht.hash}),he>1&&(!ke.blockNumber||tt-ke.blockNumber+1n<he)))return;let lt="replaced";ht.to===Re.to&&ht.value===Re.value?lt="repriced":ht.from===ht.to&&ht.value===0n&&(lt="cancelled"),nt(()=>{He.onReplaced?.({reason:lt,replacedTransaction:Re,transaction:ht,transactionReceipt:ke}),He.resolve(ke)})}catch(vt){nt(()=>He.reject(vt))}else nt(()=>He.reject(ct))}}})})})}function watchBlocks(oe,{blockTag:he="latest",emitMissed:ye=!1,emitOnBegin:ve=!1,onBlock:_e,onError:we,includeTransactions:Pe,poll:Ie,pollingInterval:Re=oe.pollingInterval}){const ke=typeof Ie<"u"?Ie:oe.transport.type!=="webSocket",Fe=Pe??!1;let Me;return ke?(()=>{const He=stringify(["watchBlocks",oe.uid,ye,ve,Fe,Re]);return observe(He,{onBlock:_e,onError:we},Ve=>poll(async()=>{try{const Qe=await getBlock(oe,{blockTag:he,includeTransactions:Fe});if(Qe.number&&Me?.number){if(Qe.number===Me.number)return;if(Qe.number-Me.number>1&&ye)for(let tt=Me?.number+1n;tt<Qe.number;tt++){const nt=await getBlock(oe,{blockNumber:tt,includeTransactions:Fe});Ve.onBlock(nt,Me),Me=nt}}(!Me?.number||he==="pending"&&!Qe?.number||Qe.number&&Qe.number>Me.number)&&(Ve.onBlock(Qe,Me),Me=Qe)}catch(Qe){Ve.onError?.(Qe)}},{emitOnBegin:ve,interval:Re}))})():(()=>{let He=!0,Ve=()=>He=!1;return(async()=>{try{const{unsubscribe:Qe}=await oe.transport.subscribe({params:["newHeads"],onData(tt){if(!He)return;const ct=(oe.chain?.formatters?.block?.format||formatBlock)(tt.result);_e(ct,Me),Me=ct},onError(tt){we?.(tt)}});Ve=Qe,He||Ve()}catch(Qe){we?.(Qe)}})(),Ve})()}function watchEvent(oe,{address:he,args:ye,batch:ve=!0,event:_e,events:we,onError:Pe,onLogs:Ie,poll:Re,pollingInterval:ke=oe.pollingInterval,strict:Fe}){const Me=typeof Re<"u"?Re:oe.transport.type!=="webSocket",je=Fe??!1;return Me?(()=>{const Ve=stringify(["watchEvent",he,ye,ve,oe.uid,_e,ke]);return observe(Ve,{onLogs:Ie,onError:Pe},Qe=>{let tt,nt,ct=!1;const vt=poll(async()=>{if(!ct){try{nt=await createEventFilter(oe,{address:he,args:ye,event:_e,events:we,strict:je})}catch{}ct=!0;return}try{let ht;if(nt)ht=await getFilterChanges(oe,{filter:nt});else{const lt=await getBlockNumber(oe);tt&&tt!==lt?ht=await getLogs(oe,{address:he,args:ye,event:_e,events:we,fromBlock:tt+1n,toBlock:lt}):ht=[],tt=lt}if(ht.length===0)return;ve?Qe.onLogs(ht):ht.forEach(lt=>Qe.onLogs([lt]))}catch(ht){nt&&ht instanceof InvalidInputRpcError&&(ct=!1),Qe.onError?.(ht)}},{emitOnBegin:!0,interval:ke});return async()=>{nt&&await uninstallFilter(oe,{filter:nt}),vt()}})})():(()=>{let Ve=!0,Qe=()=>Ve=!1;return(async()=>{try{const tt=we??(_e?[_e]:void 0);let nt=[];tt&&(nt=[tt.flatMap(vt=>encodeEventTopics({abi:[vt],eventName:vt.name,args:ye}))],_e&&(nt=nt[0]));const{unsubscribe:ct}=await oe.transport.subscribe({params:["logs",{address:he,topics:nt}],onData(vt){if(!Ve)return;const ht=vt.result;try{const{eventName:lt,args:St}=decodeEventLog({abi:tt,data:ht.data,topics:ht.topics,strict:je}),Rt=formatLog(ht,{args:St,eventName:lt});Ie([Rt])}catch(lt){let St,Rt;if(lt instanceof DecodeLogDataMismatch||lt instanceof DecodeLogTopicsMismatch){if(Fe)return;St=lt.abiItem.name,Rt=lt.abiItem.inputs?.some(At=>!("name"in At&&At.name))}const er=formatLog(ht,{args:Rt?[]:{},eventName:St});Ie([er])}},onError(vt){Pe?.(vt)}});Qe=ct,Ve||Qe()}catch(tt){Pe?.(tt)}})(),Qe})()}function watchPendingTransactions(oe,{batch:he=!0,onError:ye,onTransactions:ve,poll:_e,pollingInterval:we=oe.pollingInterval}){return(typeof _e<"u"?_e:oe.transport.type!=="webSocket")?(()=>{const ke=stringify(["watchPendingTransactions",oe.uid,he,we]);return observe(ke,{onTransactions:ve,onError:ye},Fe=>{let Me;const je=poll(async()=>{try{if(!Me)try{Me=await createPendingTransactionFilter(oe);return}catch(He){throw je(),He}const ze=await getFilterChanges(oe,{filter:Me});if(ze.length===0)return;he?Fe.onTransactions(ze):ze.forEach(He=>Fe.onTransactions([He]))}catch(ze){Fe.onError?.(ze)}},{emitOnBegin:!0,interval:we});return async()=>{Me&&await uninstallFilter(oe,{filter:Me}),je()}})})():(()=>{let ke=!0,Fe=()=>ke=!1;return(async()=>{try{const{unsubscribe:Me}=await oe.transport.subscribe({params:["newPendingTransactions"],onData(je){if(!ke)return;const ze=je.result;ve([ze])},onError(je){ye?.(je)}});Fe=Me,ke||Fe()}catch(Me){ye?.(Me)}})(),Fe})()}function publicActions(oe){return{call:he=>call(oe,he),createBlockFilter:()=>createBlockFilter(oe),createContractEventFilter:he=>createContractEventFilter(oe,he),createEventFilter:he=>createEventFilter(oe,he),createPendingTransactionFilter:()=>createPendingTransactionFilter(oe),estimateContractGas:he=>estimateContractGas(oe,he),estimateGas:he=>estimateGas(oe,he),getBalance:he=>getBalance(oe,he),getBlock:he=>getBlock(oe,he),getBlockNumber:he=>getBlockNumber(oe,he),getBlockTransactionCount:he=>getBlockTransactionCount(oe,he),getBytecode:he=>getBytecode(oe,he),getChainId:()=>getChainId(oe),getContractEvents:he=>getContractEvents(oe,he),getEnsAddress:he=>getEnsAddress(oe,he),getEnsAvatar:he=>getEnsAvatar(oe,he),getEnsName:he=>getEnsName(oe,he),getEnsResolver:he=>getEnsResolver(oe,he),getEnsText:he=>getEnsText(oe,he),getFeeHistory:he=>getFeeHistory(oe,he),estimateFeesPerGas:he=>estimateFeesPerGas(oe,he),getFilterChanges:he=>getFilterChanges(oe,he),getFilterLogs:he=>getFilterLogs(oe,he),getGasPrice:()=>getGasPrice(oe),getLogs:he=>getLogs(oe,he),estimateMaxPriorityFeePerGas:he=>estimateMaxPriorityFeePerGas(oe,he),getStorageAt:he=>getStorageAt(oe,he),getTransaction:he=>getTransaction(oe,he),getTransactionConfirmations:he=>getTransactionConfirmations(oe,he),getTransactionCount:he=>getTransactionCount(oe,he),getTransactionReceipt:he=>getTransactionReceipt(oe,he),multicall:he=>multicall(oe,he),prepareTransactionRequest:he=>prepareTransactionRequest(oe,he),readContract:he=>readContract(oe,he),sendRawTransaction:he=>sendRawTransaction(oe,he),simulateContract:he=>simulateContract(oe,he),verifyMessage:he=>verifyMessage(oe,he),verifyTypedData:he=>verifyTypedData(oe,he),uninstallFilter:he=>uninstallFilter(oe,he),waitForTransactionReceipt:he=>waitForTransactionReceipt(oe,he),watchBlocks:he=>watchBlocks(oe,he),watchBlockNumber:he=>watchBlockNumber(oe,he),watchContractEvent:he=>watchContractEvent(oe,he),watchEvent:he=>watchEvent(oe,he),watchPendingTransactions:he=>watchPendingTransactions(oe,he)}}function createPublicClient(oe){const{key:he="public",name:ye="Public Client"}=oe;return createClient({...oe,key:he,name:ye,type:"publicClient"}).extend(publicActions)}function deployContract(oe,{abi:he,args:ye,bytecode:ve,..._e}){const we=encodeDeployData({abi:he,args:ye,bytecode:ve});return sendTransaction(oe,{..._e,data:we})}async function getAddresses(oe){return(await oe.request({method:"eth_accounts"})).map(ye=>checksumAddress(ye))}async function getPermissions(oe){return await oe.request({method:"wallet_getPermissions"})}async function requestAddresses(oe){return(await oe.request({method:"eth_requestAccounts"})).map(ye=>getAddress(ye))}async function requestPermissions(oe,he){return oe.request({method:"wallet_requestPermissions",params:[he]})}async function signMessage$1(oe,{account:he=oe.account,message:ye}){if(!he)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});const ve=parseAccount(he);if(ve.type==="local")return ve.signMessage({message:ye});const _e=(()=>typeof ye=="string"?stringToHex(ye):ye.raw instanceof Uint8Array?toHex(ye.raw):ye.raw)();return oe.request({method:"personal_sign",params:[_e,ve.address]})}async function signTransaction$1(oe,he){const{account:ye=oe.account,chain:ve=oe.chain,..._e}=he;if(!ye)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});const we=parseAccount(ye);assertRequest({account:we,...he});const Pe=await getChainId(oe);ve!==null&&assertCurrentChain({currentChainId:Pe,chain:ve});const Re=(ve?.formatters||oe.chain?.formatters)?.transactionRequest?.format||formatTransactionRequest;return we.type==="local"?we.signTransaction({chainId:Pe,..._e},{serializer:oe.chain?.serializers?.transaction}):await oe.request({method:"eth_signTransaction",params:[{...Re(_e),chainId:numberToHex(Pe),from:we.address}]})}async function signTypedData$1(oe,{account:he=oe.account,domain:ye,message:ve,primaryType:_e,types:we}){if(!he)throw new AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});const Pe=parseAccount(he),Ie={EIP712Domain:getTypesForEIP712Domain({domain:ye}),...we};if(validateTypedData({domain:ye,message:ve,primaryType:_e,types:Ie}),Pe.type==="local")return Pe.signTypedData({domain:ye,primaryType:_e,types:Ie,message:ve});const Re=stringify({domain:ye??{},primaryType:_e,types:Ie,message:ve},(ke,Fe)=>isHex(Fe)?Fe.toLowerCase():Fe);return oe.request({method:"eth_signTypedData_v4",params:[Pe.address,Re]})}async function switchChain(oe,{id:he}){await oe.request({method:"wallet_switchEthereumChain",params:[{chainId:numberToHex(he)}]})}async function watchAsset(oe,he){return await oe.request({method:"wallet_watchAsset",params:he})}function walletActions(oe){return{addChain:he=>addChain(oe,he),deployContract:he=>deployContract(oe,he),getAddresses:()=>getAddresses(oe),getChainId:()=>getChainId(oe),getPermissions:()=>getPermissions(oe),prepareTransactionRequest:he=>prepareTransactionRequest(oe,he),requestAddresses:()=>requestAddresses(oe),requestPermissions:he=>requestPermissions(oe,he),sendRawTransaction:he=>sendRawTransaction(oe,he),sendTransaction:he=>sendTransaction(oe,he),signMessage:he=>signMessage$1(oe,he),signTransaction:he=>signTransaction$1(oe,he),signTypedData:he=>signTypedData$1(oe,he),switchChain:he=>switchChain(oe,he),watchAsset:he=>watchAsset(oe,he),writeContract:he=>writeContract(oe,he)}}function createWalletClient(oe){const{key:he="wallet",name:ye="Wallet Client",transport:ve}=oe;return createClient({...oe,key:he,name:ye,transport:we=>ve({...we,retryCount:0}),type:"walletClient"}).extend(walletActions)}function webSocket(oe,he={}){const{key:ye="webSocket",name:ve="WebSocket JSON-RPC",retryDelay:_e}=he;return({chain:we,retryCount:Pe,timeout:Ie})=>{const Re=he.retryCount??Pe,ke=Ie??he.timeout??1e4,Fe=oe||we?.rpcUrls.default.webSocket?.[0];if(!Fe)throw new UrlRequiredError;return createTransport({key:ye,name:ve,async request({method:Me,params:je}){const ze={method:Me,params:je},He=await getSocket(Fe),{error:Ve,result:Qe}=await rpc.webSocketAsync(He,{body:ze,timeout:ke});if(Ve)throw new RpcRequestError({body:ze,error:Ve,url:Fe});return Qe},retryCount:Re,retryDelay:_e,timeout:ke,type:"webSocket"},{getSocket(){return getSocket(Fe)},async subscribe({params:Me,onData:je,onError:ze}){const He=await getSocket(Fe),{result:Ve}=await new Promise((Qe,tt)=>rpc.webSocket(He,{body:{method:"eth_subscribe",params:Me},onResponse(nt){if(nt.error){tt(nt.error),ze?.(nt.error);return}if(typeof nt.id=="number"){Qe(nt);return}nt.method==="eth_subscription"&&je(nt.params)}}));return{subscriptionId:Ve,async unsubscribe(){return new Promise(Qe=>rpc.webSocket(He,{body:{method:"eth_unsubscribe",params:[Ve]},onResponse:Qe}))}}}})}}const maxInt32=2n**(32n-1n)-1n,maxUint256=2n**256n-1n;function setBigUint64(oe,he,ye,ve){if(typeof oe.setBigUint64=="function")return oe.setBigUint64(he,ye,ve);const _e=BigInt(32),we=BigInt(4294967295),Pe=Number(ye>>_e&we),Ie=Number(ye&we),Re=ve?4:0,ke=ve?0:4;oe.setUint32(he+Re,Pe,ve),oe.setUint32(he+ke,Ie,ve)}class SHA2 extends Hash$2{constructor(he,ye,ve,_e){super(),this.blockLen=he,this.outputLen=ye,this.padOffset=ve,this.isLE=_e,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(he),this.view=createView(this.buffer)}update(he){exists(this);const{view:ye,buffer:ve,blockLen:_e}=this;he=toBytes(he);const we=he.length;for(let Pe=0;Pe<we;){const Ie=Math.min(_e-this.pos,we-Pe);if(Ie===_e){const Re=createView(he);for(;_e<=we-Pe;Pe+=_e)this.process(Re,Pe);continue}ve.set(he.subarray(Pe,Pe+Ie),this.pos),this.pos+=Ie,Pe+=Ie,this.pos===_e&&(this.process(ye,0),this.pos=0)}return this.length+=he.length,this.roundClean(),this}digestInto(he){exists(this),output(he,this),this.finished=!0;const{buffer:ye,view:ve,blockLen:_e,isLE:we}=this;let{pos:Pe}=this;ye[Pe++]=128,this.buffer.subarray(Pe).fill(0),this.padOffset>_e-Pe&&(this.process(ve,0),Pe=0);for(let Me=Pe;Me<_e;Me++)ye[Me]=0;setBigUint64(ve,_e-8,BigInt(this.length*8),we),this.process(ve,0);const Ie=createView(he),Re=this.outputLen;if(Re%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const ke=Re/4,Fe=this.get();if(ke>Fe.length)throw new Error("_sha2: outputLen bigger than state");for(let Me=0;Me<ke;Me++)Ie.setUint32(4*Me,Fe[Me],we)}digest(){const{buffer:he,outputLen:ye}=this;this.digestInto(he);const ve=he.slice(0,ye);return this.destroy(),ve}_cloneInto(he){he||(he=new this.constructor),he.set(...this.get());const{blockLen:ye,buffer:ve,length:_e,finished:we,destroyed:Pe,pos:Ie}=this;return he.length=_e,he.pos=Ie,he.finished=we,he.destroyed=Pe,_e%ye&&he.buffer.set(ve),he}}const Chi=(oe,he,ye)=>oe&he^~oe&ye,Maj=(oe,he,ye)=>oe&he^oe&ye^he&ye,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:he,B:ye,C:ve,D:_e,E:we,F:Pe,G:Ie,H:Re}=this;return[he,ye,ve,_e,we,Pe,Ie,Re]}set(he,ye,ve,_e,we,Pe,Ie,Re){this.A=he|0,this.B=ye|0,this.C=ve|0,this.D=_e|0,this.E=we|0,this.F=Pe|0,this.G=Ie|0,this.H=Re|0}process(he,ye){for(let Me=0;Me<16;Me++,ye+=4)SHA256_W[Me]=he.getUint32(ye,!1);for(let Me=16;Me<64;Me++){const je=SHA256_W[Me-15],ze=SHA256_W[Me-2],He=rotr(je,7)^rotr(je,18)^je>>>3,Ve=rotr(ze,17)^rotr(ze,19)^ze>>>10;SHA256_W[Me]=Ve+SHA256_W[Me-7]+He+SHA256_W[Me-16]|0}let{A:ve,B:_e,C:we,D:Pe,E:Ie,F:Re,G:ke,H:Fe}=this;for(let Me=0;Me<64;Me++){const je=rotr(Ie,6)^rotr(Ie,11)^rotr(Ie,25),ze=Fe+je+Chi(Ie,Re,ke)+SHA256_K[Me]+SHA256_W[Me]|0,Ve=(rotr(ve,2)^rotr(ve,13)^rotr(ve,22))+Maj(ve,_e,we)|0;Fe=ke,ke=Re,Re=Ie,Ie=Pe+ze|0,Pe=we,we=_e,_e=ve,ve=ze+Ve|0}ve=ve+this.A|0,_e=_e+this.B|0,we=we+this.C|0,Pe=Pe+this.D|0,Ie=Ie+this.E|0,Re=Re+this.F|0,ke=ke+this.G|0,Fe=Fe+this.H|0,this.set(ve,_e,we,Pe,Ie,Re,ke,Fe)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256=wrapConstructor(()=>new SHA256);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1),_2n$1=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9);BigInt(16);function mod(oe,he){const ye=oe%he;return ye>=_0n$2?ye:he+ye}function pow(oe,he,ye){if(ye<=_0n$2||he<_0n$2)throw new Error("Expected power/modulo > 0");if(ye===_1n$3)return _0n$2;let ve=_1n$3;for(;he>_0n$2;)he&_1n$3&&(ve=ve*oe%ye),oe=oe*oe%ye,he>>=_1n$3;return ve}function pow2(oe,he,ye){let ve=oe;for(;he-- >_0n$2;)ve*=ve,ve%=ye;return ve}function invert$1(oe,he){if(oe===_0n$2||he<=_0n$2)throw new Error(`invert: expected positive integers, got n=${oe} mod=${he}`);let ye=mod(oe,he),ve=he,_e=_0n$2,we=_1n$3;for(;ye!==_0n$2;){const Ie=ve/ye,Re=ve%ye,ke=_e-we*Ie;ve=ye,ye=Re,_e=we,we=ke}if(ve!==_1n$3)throw new Error("invert: does not exist");return mod(_e,he)}function tonelliShanks(oe){const he=(oe-_1n$3)/_2n$1;let ye,ve,_e;for(ye=oe-_1n$3,ve=0;ye%_2n$1===_0n$2;ye/=_2n$1,ve++);for(_e=_2n$1;_e<oe&&pow(_e,he,oe)!==oe-_1n$3;_e++);if(ve===1){const Pe=(oe+_1n$3)/_4n;return function(Re,ke){const Fe=Re.pow(ke,Pe);if(!Re.eql(Re.sqr(Fe),ke))throw new Error("Cannot find square root");return Fe}}const we=(ye+_1n$3)/_2n$1;return function(Ie,Re){if(Ie.pow(Re,he)===Ie.neg(Ie.ONE))throw new Error("Cannot find square root");let ke=ve,Fe=Ie.pow(Ie.mul(Ie.ONE,_e),ye),Me=Ie.pow(Re,we),je=Ie.pow(Re,ye);for(;!Ie.eql(je,Ie.ONE);){if(Ie.eql(je,Ie.ZERO))return Ie.ZERO;let ze=1;for(let Ve=Ie.sqr(je);ze<ke&&!Ie.eql(Ve,Ie.ONE);ze++)Ve=Ie.sqr(Ve);const He=Ie.pow(Fe,_1n$3<<BigInt(ke-ze-1));Fe=Ie.sqr(He),Me=Ie.mul(Me,He),je=Ie.mul(je,Fe),ke=ze}return Me}}function FpSqrt(oe){if(oe%_4n===_3n$1){const he=(oe+_1n$3)/_4n;return function(ve,_e){const we=ve.pow(_e,he);if(!ve.eql(ve.sqr(we),_e))throw new Error("Cannot find square root");return we}}if(oe%_8n===_5n){const he=(oe-_5n)/_8n;return function(ve,_e){const we=ve.mul(_e,_2n$1),Pe=ve.pow(we,he),Ie=ve.mul(_e,Pe),Re=ve.mul(ve.mul(Ie,_2n$1),Pe),ke=ve.mul(Ie,ve.sub(Re,ve.ONE));if(!ve.eql(ve.sqr(ke),_e))throw new Error("Cannot find square root");return ke}}return tonelliShanks(oe)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(oe){const he={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},ye=FIELD_FIELDS.reduce((ve,_e)=>(ve[_e]="function",ve),he);return validateObject(oe,ye)}function FpPow(oe,he,ye){if(ye<_0n$2)throw new Error("Expected power > 0");if(ye===_0n$2)return oe.ONE;if(ye===_1n$3)return he;let ve=oe.ONE,_e=he;for(;ye>_0n$2;)ye&_1n$3&&(ve=oe.mul(ve,_e)),_e=oe.sqr(_e),ye>>=_1n$3;return ve}function FpInvertBatch(oe,he){const ye=new Array(he.length),ve=he.reduce((we,Pe,Ie)=>oe.is0(Pe)?we:(ye[Ie]=we,oe.mul(we,Pe)),oe.ONE),_e=oe.inv(ve);return he.reduceRight((we,Pe,Ie)=>oe.is0(Pe)?we:(ye[Ie]=oe.mul(we,ye[Ie]),oe.mul(we,Pe)),_e),ye}function nLength(oe,he){const ye=he!==void 0?he:oe.toString(2).length,ve=Math.ceil(ye/8);return{nBitLength:ye,nByteLength:ve}}function Field(oe,he,ye=!1,ve={}){if(oe<=_0n$2)throw new Error(`Expected Field ORDER > 0, got ${oe}`);const{nBitLength:_e,nByteLength:we}=nLength(oe,he);if(we>2048)throw new Error("Field lengths over 2048 bytes are not supported");const Pe=FpSqrt(oe),Ie=Object.freeze({ORDER:oe,BITS:_e,BYTES:we,MASK:bitMask(_e),ZERO:_0n$2,ONE:_1n$3,create:Re=>mod(Re,oe),isValid:Re=>{if(typeof Re!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof Re}`);return _0n$2<=Re&&Re<oe},is0:Re=>Re===_0n$2,isOdd:Re=>(Re&_1n$3)===_1n$3,neg:Re=>mod(-Re,oe),eql:(Re,ke)=>Re===ke,sqr:Re=>mod(Re*Re,oe),add:(Re,ke)=>mod(Re+ke,oe),sub:(Re,ke)=>mod(Re-ke,oe),mul:(Re,ke)=>mod(Re*ke,oe),pow:(Re,ke)=>FpPow(Ie,Re,ke),div:(Re,ke)=>mod(Re*invert$1(ke,oe),oe),sqrN:Re=>Re*Re,addN:(Re,ke)=>Re+ke,subN:(Re,ke)=>Re-ke,mulN:(Re,ke)=>Re*ke,inv:Re=>invert$1(Re,oe),sqrt:ve.sqrt||(Re=>Pe(Ie,Re)),invertBatch:Re=>FpInvertBatch(Ie,Re),cmov:(Re,ke,Fe)=>Fe?ke:Re,toBytes:Re=>ye?numberToBytesLE(Re,we):numberToBytesBE(Re,we),fromBytes:Re=>{if(Re.length!==we)throw new Error(`Fp.fromBytes: expected ${we}, got ${Re.length}`);return ye?bytesToNumberLE(Re):bytesToNumberBE(Re)}});return Object.freeze(Ie)}function getFieldBytesLength(oe){if(typeof oe!="bigint")throw new Error("field order must be bigint");const he=oe.toString(2).length;return Math.ceil(he/8)}function getMinHashLength(oe){const he=getFieldBytesLength(oe);return he+Math.ceil(he/2)}function mapHashToField(oe,he,ye=!1){const ve=oe.length,_e=getFieldBytesLength(he),we=getMinHashLength(he);if(ve<16||ve<we||ve>1024)throw new Error(`expected ${we}-1024 bytes of input, got ${ve}`);const Pe=ye?bytesToNumberBE(oe):bytesToNumberLE(oe),Ie=mod(Pe,he-_1n$3)+_1n$3;return ye?numberToBytesLE(Ie,_e):numberToBytesBE(Ie,_e)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$2=BigInt(1);function wNAF(oe,he){const ye=(_e,we)=>{const Pe=we.negate();return _e?Pe:we},ve=_e=>{const we=Math.ceil(he/_e)+1,Pe=2**(_e-1);return{windows:we,windowSize:Pe}};return{constTimeNegate:ye,unsafeLadder(_e,we){let Pe=oe.ZERO,Ie=_e;for(;we>_0n$1;)we&_1n$2&&(Pe=Pe.add(Ie)),Ie=Ie.double(),we>>=_1n$2;return Pe},precomputeWindow(_e,we){const{windows:Pe,windowSize:Ie}=ve(we),Re=[];let ke=_e,Fe=ke;for(let Me=0;Me<Pe;Me++){Fe=ke,Re.push(Fe);for(let je=1;je<Ie;je++)Fe=Fe.add(ke),Re.push(Fe);ke=Fe.double()}return Re},wNAF(_e,we,Pe){const{windows:Ie,windowSize:Re}=ve(_e);let ke=oe.ZERO,Fe=oe.BASE;const Me=BigInt(2**_e-1),je=2**_e,ze=BigInt(_e);for(let He=0;He<Ie;He++){const Ve=He*Re;let Qe=Number(Pe&Me);Pe>>=ze,Qe>Re&&(Qe-=je,Pe+=_1n$2);const tt=Ve,nt=Ve+Math.abs(Qe)-1,ct=He%2!==0,vt=Qe<0;Qe===0?Fe=Fe.add(ye(ct,we[tt])):ke=ke.add(ye(vt,we[nt]))}return{p:ke,f:Fe}},wNAFCached(_e,we,Pe,Ie){const Re=_e._WINDOW_SIZE||1;let ke=we.get(_e);return ke||(ke=this.precomputeWindow(_e,Re),Re!==1&&we.set(_e,Ie(ke))),this.wNAF(Re,ke,Pe)}}}function validateBasic(oe){return validateField(oe.Fp),validateObject(oe,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(oe.n,oe.nBitLength),...oe,p:oe.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts(oe){const he=validateBasic(oe);validateObject(he,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:ye,Fp:ve,a:_e}=he;if(ye){if(!ve.eql(_e,ve.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof ye!="object"||typeof ye.beta!="bigint"||typeof ye.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...he})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut,DER={Err:class extends Error{constructor(he=""){super(he)}},_parseInt(oe){const{Err:he}=DER;if(oe.length<2||oe[0]!==2)throw new he("Invalid signature integer tag");const ye=oe[1],ve=oe.subarray(2,ye+2);if(!ye||ve.length!==ye)throw new he("Invalid signature integer: wrong length");if(ve[0]&128)throw new he("Invalid signature integer: negative");if(ve[0]===0&&!(ve[1]&128))throw new he("Invalid signature integer: unnecessary leading zero");return{d:b2n(ve),l:oe.subarray(ye+2)}},toSig(oe){const{Err:he}=DER,ye=typeof oe=="string"?h2b(oe):oe;if(!(ye instanceof Uint8Array))throw new Error("ui8a expected");let ve=ye.length;if(ve<2||ye[0]!=48)throw new he("Invalid signature tag");if(ye[1]!==ve-2)throw new he("Invalid signature: incorrect length");const{d:_e,l:we}=DER._parseInt(ye.subarray(2)),{d:Pe,l:Ie}=DER._parseInt(we);if(Ie.length)throw new he("Invalid signature: left bytes after parsing");return{r:_e,s:Pe}},hexFromSig(oe){const he=ke=>Number.parseInt(ke[0],16)&8?"00"+ke:ke,ye=ke=>{const Fe=ke.toString(16);return Fe.length&1?`0${Fe}`:Fe},ve=he(ye(oe.s)),_e=he(ye(oe.r)),we=ve.length/2,Pe=_e.length/2,Ie=ye(we),Re=ye(Pe);return`30${ye(Pe+we+4)}02${Re}${_e}02${Ie}${ve}`}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(oe){const he=validatePointOpts(oe),{Fp:ye}=he,ve=he.toBytes||((He,Ve,Qe)=>{const tt=Ve.toAffine();return concatBytes(Uint8Array.from([4]),ye.toBytes(tt.x),ye.toBytes(tt.y))}),_e=he.fromBytes||(He=>{const Ve=He.subarray(1),Qe=ye.fromBytes(Ve.subarray(0,ye.BYTES)),tt=ye.fromBytes(Ve.subarray(ye.BYTES,2*ye.BYTES));return{x:Qe,y:tt}});function we(He){const{a:Ve,b:Qe}=he,tt=ye.sqr(He),nt=ye.mul(tt,He);return ye.add(ye.add(nt,ye.mul(He,Ve)),Qe)}if(!ye.eql(ye.sqr(he.Gy),we(he.Gx)))throw new Error("bad generator point: equation left != right");function Pe(He){return typeof He=="bigint"&&_0n<He&&He<he.n}function Ie(He){if(!Pe(He))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Re(He){const{allowedPrivateKeyLengths:Ve,nByteLength:Qe,wrapPrivateKey:tt,n:nt}=he;if(Ve&&typeof He!="bigint"){if(He instanceof Uint8Array&&(He=bytesToHex(He)),typeof He!="string"||!Ve.includes(He.length))throw new Error("Invalid key");He=He.padStart(Qe*2,"0")}let ct;try{ct=typeof He=="bigint"?He:bytesToNumberBE(ensureBytes("private key",He,Qe))}catch{throw new Error(`private key must be ${Qe} bytes, hex or bigint, not ${typeof He}`)}return tt&&(ct=mod(ct,nt)),Ie(ct),ct}const ke=new Map;function Fe(He){if(!(He instanceof Me))throw new Error("ProjectivePoint expected")}class Me{constructor(Ve,Qe,tt){if(this.px=Ve,this.py=Qe,this.pz=tt,Ve==null||!ye.isValid(Ve))throw new Error("x required");if(Qe==null||!ye.isValid(Qe))throw new Error("y required");if(tt==null||!ye.isValid(tt))throw new Error("z required")}static fromAffine(Ve){const{x:Qe,y:tt}=Ve||{};if(!Ve||!ye.isValid(Qe)||!ye.isValid(tt))throw new Error("invalid affine point");if(Ve instanceof Me)throw new Error("projective point not allowed");const nt=ct=>ye.eql(ct,ye.ZERO);return nt(Qe)&&nt(tt)?Me.ZERO:new Me(Qe,tt,ye.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Ve){const Qe=ye.invertBatch(Ve.map(tt=>tt.pz));return Ve.map((tt,nt)=>tt.toAffine(Qe[nt])).map(Me.fromAffine)}static fromHex(Ve){const Qe=Me.fromAffine(_e(ensureBytes("pointHex",Ve)));return Qe.assertValidity(),Qe}static fromPrivateKey(Ve){return Me.BASE.multiply(Re(Ve))}_setWindowSize(Ve){this._WINDOW_SIZE=Ve,ke.delete(this)}assertValidity(){if(this.is0()){if(he.allowInfinityPoint&&!ye.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Ve,y:Qe}=this.toAffine();if(!ye.isValid(Ve)||!ye.isValid(Qe))throw new Error("bad point: x or y not FE");const tt=ye.sqr(Qe),nt=we(Ve);if(!ye.eql(tt,nt))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Ve}=this.toAffine();if(ye.isOdd)return!ye.isOdd(Ve);throw new Error("Field doesn't support isOdd")}equals(Ve){Fe(Ve);const{px:Qe,py:tt,pz:nt}=this,{px:ct,py:vt,pz:ht}=Ve,lt=ye.eql(ye.mul(Qe,ht),ye.mul(ct,nt)),St=ye.eql(ye.mul(tt,ht),ye.mul(vt,nt));return lt&&St}negate(){return new Me(this.px,ye.neg(this.py),this.pz)}double(){const{a:Ve,b:Qe}=he,tt=ye.mul(Qe,_3n),{px:nt,py:ct,pz:vt}=this;let ht=ye.ZERO,lt=ye.ZERO,St=ye.ZERO,Rt=ye.mul(nt,nt),er=ye.mul(ct,ct),At=ye.mul(vt,vt),Bt=ye.mul(nt,ct);return Bt=ye.add(Bt,Bt),St=ye.mul(nt,vt),St=ye.add(St,St),ht=ye.mul(Ve,St),lt=ye.mul(tt,At),lt=ye.add(ht,lt),ht=ye.sub(er,lt),lt=ye.add(er,lt),lt=ye.mul(ht,lt),ht=ye.mul(Bt,ht),St=ye.mul(tt,St),At=ye.mul(Ve,At),Bt=ye.sub(Rt,At),Bt=ye.mul(Ve,Bt),Bt=ye.add(Bt,St),St=ye.add(Rt,Rt),Rt=ye.add(St,Rt),Rt=ye.add(Rt,At),Rt=ye.mul(Rt,Bt),lt=ye.add(lt,Rt),At=ye.mul(ct,vt),At=ye.add(At,At),Rt=ye.mul(At,Bt),ht=ye.sub(ht,Rt),St=ye.mul(At,er),St=ye.add(St,St),St=ye.add(St,St),new Me(ht,lt,St)}add(Ve){Fe(Ve);const{px:Qe,py:tt,pz:nt}=this,{px:ct,py:vt,pz:ht}=Ve;let lt=ye.ZERO,St=ye.ZERO,Rt=ye.ZERO;const er=he.a,At=ye.mul(he.b,_3n);let Bt=ye.mul(Qe,ct),ar=ye.mul(tt,vt),tr=ye.mul(nt,ht),wr=ye.add(Qe,tt),Pt=ye.add(ct,vt);wr=ye.mul(wr,Pt),Pt=ye.add(Bt,ar),wr=ye.sub(wr,Pt),Pt=ye.add(Qe,nt);let Ct=ye.add(ct,ht);return Pt=ye.mul(Pt,Ct),Ct=ye.add(Bt,tr),Pt=ye.sub(Pt,Ct),Ct=ye.add(tt,nt),lt=ye.add(vt,ht),Ct=ye.mul(Ct,lt),lt=ye.add(ar,tr),Ct=ye.sub(Ct,lt),Rt=ye.mul(er,Pt),lt=ye.mul(At,tr),Rt=ye.add(lt,Rt),lt=ye.sub(ar,Rt),Rt=ye.add(ar,Rt),St=ye.mul(lt,Rt),ar=ye.add(Bt,Bt),ar=ye.add(ar,Bt),tr=ye.mul(er,tr),Pt=ye.mul(At,Pt),ar=ye.add(ar,tr),tr=ye.sub(Bt,tr),tr=ye.mul(er,tr),Pt=ye.add(Pt,tr),Bt=ye.mul(ar,Pt),St=ye.add(St,Bt),Bt=ye.mul(Ct,Pt),lt=ye.mul(wr,lt),lt=ye.sub(lt,Bt),Bt=ye.mul(wr,ar),Rt=ye.mul(Ct,Rt),Rt=ye.add(Rt,Bt),new Me(lt,St,Rt)}subtract(Ve){return this.add(Ve.negate())}is0(){return this.equals(Me.ZERO)}wNAF(Ve){return ze.wNAFCached(this,ke,Ve,Qe=>{const tt=ye.invertBatch(Qe.map(nt=>nt.pz));return Qe.map((nt,ct)=>nt.toAffine(tt[ct])).map(Me.fromAffine)})}multiplyUnsafe(Ve){const Qe=Me.ZERO;if(Ve===_0n)return Qe;if(Ie(Ve),Ve===_1n$1)return this;const{endo:tt}=he;if(!tt)return ze.unsafeLadder(this,Ve);let{k1neg:nt,k1:ct,k2neg:vt,k2:ht}=tt.splitScalar(Ve),lt=Qe,St=Qe,Rt=this;for(;ct>_0n||ht>_0n;)ct&_1n$1&&(lt=lt.add(Rt)),ht&_1n$1&&(St=St.add(Rt)),Rt=Rt.double(),ct>>=_1n$1,ht>>=_1n$1;return nt&&(lt=lt.negate()),vt&&(St=St.negate()),St=new Me(ye.mul(St.px,tt.beta),St.py,St.pz),lt.add(St)}multiply(Ve){Ie(Ve);let Qe=Ve,tt,nt;const{endo:ct}=he;if(ct){const{k1neg:vt,k1:ht,k2neg:lt,k2:St}=ct.splitScalar(Qe);let{p:Rt,f:er}=this.wNAF(ht),{p:At,f:Bt}=this.wNAF(St);Rt=ze.constTimeNegate(vt,Rt),At=ze.constTimeNegate(lt,At),At=new Me(ye.mul(At.px,ct.beta),At.py,At.pz),tt=Rt.add(At),nt=er.add(Bt)}else{const{p:vt,f:ht}=this.wNAF(Qe);tt=vt,nt=ht}return Me.normalizeZ([tt,nt])[0]}multiplyAndAddUnsafe(Ve,Qe,tt){const nt=Me.BASE,ct=(ht,lt)=>lt===_0n||lt===_1n$1||!ht.equals(nt)?ht.multiplyUnsafe(lt):ht.multiply(lt),vt=ct(this,Qe).add(ct(Ve,tt));return vt.is0()?void 0:vt}toAffine(Ve){const{px:Qe,py:tt,pz:nt}=this,ct=this.is0();Ve==null&&(Ve=ct?ye.ONE:ye.inv(nt));const vt=ye.mul(Qe,Ve),ht=ye.mul(tt,Ve),lt=ye.mul(nt,Ve);if(ct)return{x:ye.ZERO,y:ye.ZERO};if(!ye.eql(lt,ye.ONE))throw new Error("invZ was invalid");return{x:vt,y:ht}}isTorsionFree(){const{h:Ve,isTorsionFree:Qe}=he;if(Ve===_1n$1)return!0;if(Qe)return Qe(Me,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Ve,clearCofactor:Qe}=he;return Ve===_1n$1?this:Qe?Qe(Me,this):this.multiplyUnsafe(he.h)}toRawBytes(Ve=!0){return this.assertValidity(),ve(Me,this,Ve)}toHex(Ve=!0){return bytesToHex(this.toRawBytes(Ve))}}Me.BASE=new Me(he.Gx,he.Gy,ye.ONE),Me.ZERO=new Me(ye.ZERO,ye.ONE,ye.ZERO);const je=he.nBitLength,ze=wNAF(Me,he.endo?Math.ceil(je/2):je);return{CURVE:he,ProjectivePoint:Me,normPrivateKeyToScalar:Re,weierstrassEquation:we,isWithinCurveOrder:Pe}}function validateOpts(oe){const he=validateBasic(oe);return validateObject(he,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...he})}function weierstrass(oe){const he=validateOpts(oe),{Fp:ye,n:ve}=he,_e=ye.BYTES+1,we=2*ye.BYTES+1;function Pe(Pt){return _0n<Pt&&Pt<ye.ORDER}function Ie(Pt){return mod(Pt,ve)}function Re(Pt){return invert$1(Pt,ve)}const{ProjectivePoint:ke,normPrivateKeyToScalar:Fe,weierstrassEquation:Me,isWithinCurveOrder:je}=weierstrassPoints({...he,toBytes(Pt,Ct,Mt){const Vt=Ct.toAffine(),Qt=ye.toBytes(Vt.x),dr=concatBytes;return Mt?dr(Uint8Array.from([Ct.hasEvenY()?2:3]),Qt):dr(Uint8Array.from([4]),Qt,ye.toBytes(Vt.y))},fromBytes(Pt){const Ct=Pt.length,Mt=Pt[0],Vt=Pt.subarray(1);if(Ct===_e&&(Mt===2||Mt===3)){const Qt=bytesToNumberBE(Vt);if(!Pe(Qt))throw new Error("Point is not on curve");const dr=Me(Qt);let sr=ye.sqrt(dr);const Or=(sr&_1n$1)===_1n$1;return(Mt&1)===1!==Or&&(sr=ye.neg(sr)),{x:Qt,y:sr}}else if(Ct===we&&Mt===4){const Qt=ye.fromBytes(Vt.subarray(0,ye.BYTES)),dr=ye.fromBytes(Vt.subarray(ye.BYTES,2*ye.BYTES));return{x:Qt,y:dr}}else throw new Error(`Point of length ${Ct} was invalid. Expected ${_e} compressed bytes or ${we} uncompressed bytes`)}}),ze=Pt=>bytesToHex(numberToBytesBE(Pt,he.nByteLength));function He(Pt){const Ct=ve>>_1n$1;return Pt>Ct}function Ve(Pt){return He(Pt)?Ie(-Pt):Pt}const Qe=(Pt,Ct,Mt)=>bytesToNumberBE(Pt.slice(Ct,Mt));class tt{constructor(Ct,Mt,Vt){this.r=Ct,this.s=Mt,this.recovery=Vt,this.assertValidity()}static fromCompact(Ct){const Mt=he.nByteLength;return Ct=ensureBytes("compactSignature",Ct,Mt*2),new tt(Qe(Ct,0,Mt),Qe(Ct,Mt,2*Mt))}static fromDER(Ct){const{r:Mt,s:Vt}=DER.toSig(ensureBytes("DER",Ct));return new tt(Mt,Vt)}assertValidity(){if(!je(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!je(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Ct){return new tt(this.r,this.s,Ct)}recoverPublicKey(Ct){const{r:Mt,s:Vt,recovery:Qt}=this,dr=St(ensureBytes("msgHash",Ct));if(Qt==null||![0,1,2,3].includes(Qt))throw new Error("recovery id invalid");const sr=Qt===2||Qt===3?Mt+he.n:Mt;if(sr>=ye.ORDER)throw new Error("recovery id 2 or 3 invalid");const Or=Qt&1?"03":"02",cn=ke.fromHex(Or+ze(sr)),ln=Re(sr),jr=Ie(-dr*ln),dn=Ie(Vt*ln),fn=ke.BASE.multiplyAndAddUnsafe(cn,jr,dn);if(!fn)throw new Error("point at infinify");return fn.assertValidity(),fn}hasHighS(){return He(this.s)}normalizeS(){return this.hasHighS()?new tt(this.r,Ie(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return ze(this.r)+ze(this.s)}}const nt={isValidPrivateKey(Pt){try{return Fe(Pt),!0}catch{return!1}},normPrivateKeyToScalar:Fe,randomPrivateKey:()=>{const Pt=getMinHashLength(he.n);return mapHashToField(he.randomBytes(Pt),he.n)},precompute(Pt=8,Ct=ke.BASE){return Ct._setWindowSize(Pt),Ct.multiply(BigInt(3)),Ct}};function ct(Pt,Ct=!0){return ke.fromPrivateKey(Pt).toRawBytes(Ct)}function vt(Pt){const Ct=Pt instanceof Uint8Array,Mt=typeof Pt=="string",Vt=(Ct||Mt)&&Pt.length;return Ct?Vt===_e||Vt===we:Mt?Vt===2*_e||Vt===2*we:Pt instanceof ke}function ht(Pt,Ct,Mt=!0){if(vt(Pt))throw new Error("first arg must be private key");if(!vt(Ct))throw new Error("second arg must be public key");return ke.fromHex(Ct).multiply(Fe(Pt)).toRawBytes(Mt)}const lt=he.bits2int||function(Pt){const Ct=bytesToNumberBE(Pt),Mt=Pt.length*8-he.nBitLength;return Mt>0?Ct>>BigInt(Mt):Ct},St=he.bits2int_modN||function(Pt){return Ie(lt(Pt))},Rt=bitMask(he.nBitLength);function er(Pt){if(typeof Pt!="bigint")throw new Error("bigint expected");if(!(_0n<=Pt&&Pt<Rt))throw new Error(`bigint expected < 2^${he.nBitLength}`);return numberToBytesBE(Pt,he.nByteLength)}function At(Pt,Ct,Mt=Bt){if(["recovered","canonical"].some(Ur=>Ur in Mt))throw new Error("sign() legacy options not supported");const{hash:Vt,randomBytes:Qt}=he;let{lowS:dr,prehash:sr,extraEntropy:Or}=Mt;dr==null&&(dr=!0),Pt=ensureBytes("msgHash",Pt),sr&&(Pt=ensureBytes("prehashed msgHash",Vt(Pt)));const cn=St(Pt),ln=Fe(Ct),jr=[er(ln),er(cn)];if(Or!=null){const Ur=Or===!0?Qt(ye.BYTES):Or;jr.push(ensureBytes("extraEntropy",Ur))}const dn=concatBytes(...jr),fn=cn;function gn(Ur){const Pn=lt(Ur);if(!je(Pn))return;const jn=Re(Pn),Rr=ke.BASE.multiply(Pn).toAffine(),mn=Ie(Rr.x);if(mn===_0n)return;const Tr=Ie(jn*Ie(fn+mn*ln));if(Tr===_0n)return;let In=(Rr.x===mn?0:2)|Number(Rr.y&_1n$1),Ii=Tr;return dr&&He(Tr)&&(Ii=Ve(Tr),In^=1),new tt(mn,Ii,In)}return{seed:dn,k2sig:gn}}const Bt={lowS:he.lowS,prehash:!1},ar={lowS:he.lowS,prehash:!1};function tr(Pt,Ct,Mt=Bt){const{seed:Vt,k2sig:Qt}=At(Pt,Ct,Mt),dr=he;return createHmacDrbg(dr.hash.outputLen,dr.nByteLength,dr.hmac)(Vt,Qt)}ke.BASE._setWindowSize(8);function wr(Pt,Ct,Mt,Vt=ar){const Qt=Pt;if(Ct=ensureBytes("msgHash",Ct),Mt=ensureBytes("publicKey",Mt),"strict"in Vt)throw new Error("options.strict was renamed to lowS");const{lowS:dr,prehash:sr}=Vt;let Or,cn;try{if(typeof Qt=="string"||Qt instanceof Uint8Array)try{Or=tt.fromDER(Qt)}catch(Rr){if(!(Rr instanceof DER.Err))throw Rr;Or=tt.fromCompact(Qt)}else if(typeof Qt=="object"&&typeof Qt.r=="bigint"&&typeof Qt.s=="bigint"){const{r:Rr,s:mn}=Qt;Or=new tt(Rr,mn)}else throw new Error("PARSE");cn=ke.fromHex(Mt)}catch(Rr){if(Rr.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(dr&&Or.hasHighS())return!1;sr&&(Ct=he.hash(Ct));const{r:ln,s:jr}=Or,dn=St(Ct),fn=Re(jr),gn=Ie(dn*fn),Ur=Ie(ln*fn),Pn=ke.BASE.multiplyAndAddUnsafe(cn,gn,Ur)?.toAffine();return Pn?Ie(Pn.x)===ln:!1}return{CURVE:he,getPublicKey:ct,getSharedSecret:ht,sign:tr,verify:wr,ProjectivePoint:ke,Signature:tt,utils:nt}}class HMAC extends Hash$2{constructor(he,ye){super(),this.finished=!1,this.destroyed=!1,hash$2(he);const ve=toBytes(ye);if(this.iHash=he.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const _e=this.blockLen,we=new Uint8Array(_e);we.set(ve.length>_e?he.create().update(ve).digest():ve);for(let Pe=0;Pe<we.length;Pe++)we[Pe]^=54;this.iHash.update(we),this.oHash=he.create();for(let Pe=0;Pe<we.length;Pe++)we[Pe]^=106;this.oHash.update(we),we.fill(0)}update(he){return exists(this),this.iHash.update(he),this}digestInto(he){exists(this),bytes(he,this.outputLen),this.finished=!0,this.iHash.digestInto(he),this.oHash.update(he),this.oHash.digestInto(he),this.destroy()}digest(){const he=new Uint8Array(this.oHash.outputLen);return this.digestInto(he),he}_cloneInto(he){he||(he=Object.create(Object.getPrototypeOf(this),{}));const{oHash:ye,iHash:ve,finished:_e,destroyed:we,blockLen:Pe,outputLen:Ie}=this;return he=he,he.finished=_e,he.destroyed=we,he.blockLen=Pe,he.outputLen=Ie,he.oHash=ye._cloneInto(he.oHash),he.iHash=ve._cloneInto(he.iHash),he}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(oe,he,ye)=>new HMAC(oe,he).update(ye).digest();hmac.create=(oe,he)=>new HMAC(oe,he);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(oe){return{hash:oe,hmac:(he,...ye)=>hmac(oe,he,concatBytes$2(...ye)),randomBytes}}function createCurve(oe,he){const ye=ve=>weierstrass({...oe,...getHash(ve)});return Object.freeze({...ye(he),create:ye})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(oe,he)=>(oe+he/_2n)/he;function sqrtMod(oe){const he=secp256k1P,ye=BigInt(3),ve=BigInt(6),_e=BigInt(11),we=BigInt(22),Pe=BigInt(23),Ie=BigInt(44),Re=BigInt(88),ke=oe*oe*oe%he,Fe=ke*ke*oe%he,Me=pow2(Fe,ye,he)*Fe%he,je=pow2(Me,ye,he)*Fe%he,ze=pow2(je,_2n,he)*ke%he,He=pow2(ze,_e,he)*ze%he,Ve=pow2(He,we,he)*He%he,Qe=pow2(Ve,Ie,he)*Ve%he,tt=pow2(Qe,Re,he)*Qe%he,nt=pow2(tt,Ie,he)*Ve%he,ct=pow2(nt,ye,he)*Fe%he,vt=pow2(ct,Pe,he)*He%he,ht=pow2(vt,ve,he)*ke%he,lt=pow2(ht,_2n,he);if(!Fp.eql(Fp.sqr(lt),oe))throw new Error("Cannot find square root");return lt}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:oe=>{const he=secp256k1N,ye=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),ve=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),_e=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),we=ye,Pe=BigInt("0x100000000000000000000000000000000"),Ie=divNearest(we*oe,he),Re=divNearest(-ve*oe,he);let ke=mod(oe-Ie*ye-Re*_e,he),Fe=mod(-Ie*ve-Re*we,he);const Me=ke>Pe,je=Fe>Pe;if(Me&&(ke=he-ke),je&&(Fe=he-Fe),ke>Pe||Fe>Pe)throw new Error("splitScalar: Endomorphism failed, k="+oe);return{k1neg:Me,k1:ke,k2neg:je,k2:Fe}}}},sha256);BigInt(0);secp256k1.ProjectivePoint;function signatureToHex({r:oe,s:he,v:ye}){return`0x${new secp256k1.Signature(hexToBigInt(oe),hexToBigInt(he)).toCompactHex()}${toHex(ye).slice(2)}`}var r$5=class extends Error{name="MUDError"},z$1=16,g$4=14;function d$3(oe,he){/^\w+$/.test(oe)||he.addIssue({code:ZodIssueCode.custom,message:"Name must contain only alphanumeric & underscore characters"})}function x$3(oe,he){d$3(oe,he),/^[A-Z]/.test(oe)||he.addIssue({code:ZodIssueCode.custom,message:"Name must start with a capital letter"})}function C$1(oe,he){d$3(oe,he),/^[a-z]/.test(oe)||he.addIssue({code:ZodIssueCode.custom,message:"Name must start with a lowercase letter"})}function h$2(oe,he){oe.length===0&&he.addIssue({code:ZodIssueCode.custom,message:"Enum must not be empty"}),oe.length>=256&&he.addIssue({code:ZodIssueCode.custom,message:"Length of enum must be < 256"});let ye=M$5(oe);ye.length>0&&he.addIssue({code:ZodIssueCode.custom,message:`Enum must not have duplicate names for: ${ye.join(", ")}`})}function c$2(oe,he){return(ye,ve)=>{if(ye===""){oe&&ve.addIssue({code:ZodIssueCode.custom,message:"Route must not be empty"});return}ye[0]!=="/"&&ve.addIssue({code:ZodIssueCode.custom,message:'Route must start with "/"'}),ye[ye.length-1]==="/"&&ve.addIssue({code:ZodIssueCode.custom,message:'Route must not end with "/"'});let _e=ye.split("/");he&&_e.length>2&&ve.addIssue({code:ZodIssueCode.custom,message:'Route must only have one level (e.g. "/foo")'});for(let we=1;we<_e.length;we++)_e[we]===""&&ve.addIssue({code:ZodIssueCode.custom,message:'Route must not contain empty route fragments (e.g. "//")'}),/^\w+$/.test(_e[we])||ve.addIssue({code:ZodIssueCode.custom,message:"Route must contain only alphanumeric & underscore characters"})}}var R$3=c$2(!0,!1),y$6=c$2(!1,!1),b$2=c$2(!0,!0);function D$1(oe,he){isAddress(oe)||he.addIssue({code:ZodIssueCode.custom,message:"Address must be a valid Ethereum address"})}function M$5(oe){let he=new Set,ye=new Set;for(let ve of oe)he.has(ve)&&ye.add(ve),he.add(ve);return[...ye]}function E$4(oe,he){oe.length>g$4&&he.addIssue({code:ZodIssueCode.custom,message:`Namespace must be <= ${g$4} characters`}),/^\w*$/.test(oe)||he.addIssue({code:ZodIssueCode.custom,message:"Selector must contain only alphanumeric & underscore characters"})}function S$2(oe){let he=oe.match(/^(\w+)\[(\d+)\]$/);return he?{elementType:he[1],staticLength:Number.parseInt(he[2])}:null}var v$2=z$2.string().superRefine(x$3),B$2=z$2.string().superRefine(C$1),G$3=z$2.string().superRefine(d$3),O$3=z$2.string().superRefine(E$4),V$3=z$2.array(v$2).superRefine(h$2);z$2.string().superRefine(R$3);z$2.string().superRefine(b$2);z$2.string().superRefine(y$6);var P$5=z$2.string().superRefine(D$1),l$4=class{static isCreated(){return this._global.__mudCoreContext!==void 0}static createContext(){if(this.isCreated())throw new t$3;let he=this._global,ye=new l$4;return he.__mudCoreContext=ye,ye}static getContext(){let he=this._global.__mudCoreContext;if(he===void 0)throw new s$7;return he}configExtenders=[]},i$6=l$4;p$6(i$6,"_global",typeof globalThis>"u"?window.global??{}:globalThis);function q$4(oe){let he=oe,ye=i$6.getContext();for(let ve of ye.configExtenders)he=ve(he);return he}function K$4(oe){i$6.getContext().configExtenders.push(oe)}var N$4=(oe=>(oe[oe.TABLE_ID=0]="TABLE_ID",oe[oe.SYSTEM_ADDRESS=1]="SYSTEM_ADDRESS",oe))(N$4||{});function te$2(oe){return{type:0,input:oe}}var o$2={registerFunctionSelector:!0,openAccess:!0,accessList:[]},t$2={worldContractName:void 0,worldInterfaceName:"IWorld",systems:{},excludeSystems:[],postDeployScript:"PostDeploy",deploysDirectory:"./deploys",worldsFile:"./worlds.json",worldgenDirectory:"world",worldImportPath:"@latticexyz/world/src/",modules:[]},r$4=v$2,a$6=v$2,i$5=z$2.array(r$4.or(P$5)).default(o$2.accessList),d$2=z$2.intersection(z$2.object({name:G$3.optional(),registerFunctionSelectors:z$2.boolean().default(o$2.registerFunctionSelector)}),z$2.discriminatedUnion("openAccess",[z$2.object({openAccess:z$2.literal(!0).default(o$2.openAccess)}),z$2.object({openAccess:z$2.literal(!1),accessList:i$5})])),u$3=z$2.object({value:z$2.union([z$2.string(),z$2.number(),z$2.instanceof(Uint8Array)]),type:z$2.string()}),m$4=z$2.object({type:z$2.nativeEnum(N$4),input:z$2.string()}),p$5=z$2.object({name:a$6,root:z$2.boolean().default(!1),args:z$2.array(z$2.union([u$3,m$4])).default([])}),y$5=z$2.object({worldContractName:z$2.string().optional(),worldInterfaceName:z$2.string().default(t$2.worldInterfaceName),systems:z$2.record(r$4,d$2).default(t$2.systems),excludeSystems:z$2.array(r$4).default(t$2.excludeSystems),postDeployScript:z$2.string().default(t$2.postDeployScript),deploysDirectory:z$2.string().default(t$2.deploysDirectory),worldsFile:z$2.string().default(t$2.worldsFile),worldgenDirectory:z$2.string().default(t$2.worldgenDirectory),worldImportPath:z$2.string().default(t$2.worldImportPath),modules:z$2.array(p$5).default(t$2.modules)}),w$4=y$5.catchall(z$2.any()),I$4=(oe=>(oe[oe.UINT8=0]="UINT8",oe[oe.UINT16=1]="UINT16",oe[oe.UINT24=2]="UINT24",oe[oe.UINT32=3]="UINT32",oe[oe.UINT40=4]="UINT40",oe[oe.UINT48=5]="UINT48",oe[oe.UINT56=6]="UINT56",oe[oe.UINT64=7]="UINT64",oe[oe.UINT72=8]="UINT72",oe[oe.UINT80=9]="UINT80",oe[oe.UINT88=10]="UINT88",oe[oe.UINT96=11]="UINT96",oe[oe.UINT104=12]="UINT104",oe[oe.UINT112=13]="UINT112",oe[oe.UINT120=14]="UINT120",oe[oe.UINT128=15]="UINT128",oe[oe.UINT136=16]="UINT136",oe[oe.UINT144=17]="UINT144",oe[oe.UINT152=18]="UINT152",oe[oe.UINT160=19]="UINT160",oe[oe.UINT168=20]="UINT168",oe[oe.UINT176=21]="UINT176",oe[oe.UINT184=22]="UINT184",oe[oe.UINT192=23]="UINT192",oe[oe.UINT200=24]="UINT200",oe[oe.UINT208=25]="UINT208",oe[oe.UINT216=26]="UINT216",oe[oe.UINT224=27]="UINT224",oe[oe.UINT232=28]="UINT232",oe[oe.UINT240=29]="UINT240",oe[oe.UINT248=30]="UINT248",oe[oe.UINT256=31]="UINT256",oe[oe.INT8=32]="INT8",oe[oe.INT16=33]="INT16",oe[oe.INT24=34]="INT24",oe[oe.INT32=35]="INT32",oe[oe.INT40=36]="INT40",oe[oe.INT48=37]="INT48",oe[oe.INT56=38]="INT56",oe[oe.INT64=39]="INT64",oe[oe.INT72=40]="INT72",oe[oe.INT80=41]="INT80",oe[oe.INT88=42]="INT88",oe[oe.INT96=43]="INT96",oe[oe.INT104=44]="INT104",oe[oe.INT112=45]="INT112",oe[oe.INT120=46]="INT120",oe[oe.INT128=47]="INT128",oe[oe.INT136=48]="INT136",oe[oe.INT144=49]="INT144",oe[oe.INT152=50]="INT152",oe[oe.INT160=51]="INT160",oe[oe.INT168=52]="INT168",oe[oe.INT176=53]="INT176",oe[oe.INT184=54]="INT184",oe[oe.INT192=55]="INT192",oe[oe.INT200=56]="INT200",oe[oe.INT208=57]="INT208",oe[oe.INT216=58]="INT216",oe[oe.INT224=59]="INT224",oe[oe.INT232=60]="INT232",oe[oe.INT240=61]="INT240",oe[oe.INT248=62]="INT248",oe[oe.INT256=63]="INT256",oe[oe.BYTES1=64]="BYTES1",oe[oe.BYTES2=65]="BYTES2",oe[oe.BYTES3=66]="BYTES3",oe[oe.BYTES4=67]="BYTES4",oe[oe.BYTES5=68]="BYTES5",oe[oe.BYTES6=69]="BYTES6",oe[oe.BYTES7=70]="BYTES7",oe[oe.BYTES8=71]="BYTES8",oe[oe.BYTES9=72]="BYTES9",oe[oe.BYTES10=73]="BYTES10",oe[oe.BYTES11=74]="BYTES11",oe[oe.BYTES12=75]="BYTES12",oe[oe.BYTES13=76]="BYTES13",oe[oe.BYTES14=77]="BYTES14",oe[oe.BYTES15=78]="BYTES15",oe[oe.BYTES16=79]="BYTES16",oe[oe.BYTES17=80]="BYTES17",oe[oe.BYTES18=81]="BYTES18",oe[oe.BYTES19=82]="BYTES19",oe[oe.BYTES20=83]="BYTES20",oe[oe.BYTES21=84]="BYTES21",oe[oe.BYTES22=85]="BYTES22",oe[oe.BYTES23=86]="BYTES23",oe[oe.BYTES24=87]="BYTES24",oe[oe.BYTES25=88]="BYTES25",oe[oe.BYTES26=89]="BYTES26",oe[oe.BYTES27=90]="BYTES27",oe[oe.BYTES28=91]="BYTES28",oe[oe.BYTES29=92]="BYTES29",oe[oe.BYTES30=93]="BYTES30",oe[oe.BYTES31=94]="BYTES31",oe[oe.BYTES32=95]="BYTES32",oe[oe.BOOL=96]="BOOL",oe[oe.ADDRESS=97]="ADDRESS",oe[oe.UINT8_ARRAY=98]="UINT8_ARRAY",oe[oe.UINT16_ARRAY=99]="UINT16_ARRAY",oe[oe.UINT24_ARRAY=100]="UINT24_ARRAY",oe[oe.UINT32_ARRAY=101]="UINT32_ARRAY",oe[oe.UINT40_ARRAY=102]="UINT40_ARRAY",oe[oe.UINT48_ARRAY=103]="UINT48_ARRAY",oe[oe.UINT56_ARRAY=104]="UINT56_ARRAY",oe[oe.UINT64_ARRAY=105]="UINT64_ARRAY",oe[oe.UINT72_ARRAY=106]="UINT72_ARRAY",oe[oe.UINT80_ARRAY=107]="UINT80_ARRAY",oe[oe.UINT88_ARRAY=108]="UINT88_ARRAY",oe[oe.UINT96_ARRAY=109]="UINT96_ARRAY",oe[oe.UINT104_ARRAY=110]="UINT104_ARRAY",oe[oe.UINT112_ARRAY=111]="UINT112_ARRAY",oe[oe.UINT120_ARRAY=112]="UINT120_ARRAY",oe[oe.UINT128_ARRAY=113]="UINT128_ARRAY",oe[oe.UINT136_ARRAY=114]="UINT136_ARRAY",oe[oe.UINT144_ARRAY=115]="UINT144_ARRAY",oe[oe.UINT152_ARRAY=116]="UINT152_ARRAY",oe[oe.UINT160_ARRAY=117]="UINT160_ARRAY",oe[oe.UINT168_ARRAY=118]="UINT168_ARRAY",oe[oe.UINT176_ARRAY=119]="UINT176_ARRAY",oe[oe.UINT184_ARRAY=120]="UINT184_ARRAY",oe[oe.UINT192_ARRAY=121]="UINT192_ARRAY",oe[oe.UINT200_ARRAY=122]="UINT200_ARRAY",oe[oe.UINT208_ARRAY=123]="UINT208_ARRAY",oe[oe.UINT216_ARRAY=124]="UINT216_ARRAY",oe[oe.UINT224_ARRAY=125]="UINT224_ARRAY",oe[oe.UINT232_ARRAY=126]="UINT232_ARRAY",oe[oe.UINT240_ARRAY=127]="UINT240_ARRAY",oe[oe.UINT248_ARRAY=128]="UINT248_ARRAY",oe[oe.UINT256_ARRAY=129]="UINT256_ARRAY",oe[oe.INT8_ARRAY=130]="INT8_ARRAY",oe[oe.INT16_ARRAY=131]="INT16_ARRAY",oe[oe.INT24_ARRAY=132]="INT24_ARRAY",oe[oe.INT32_ARRAY=133]="INT32_ARRAY",oe[oe.INT40_ARRAY=134]="INT40_ARRAY",oe[oe.INT48_ARRAY=135]="INT48_ARRAY",oe[oe.INT56_ARRAY=136]="INT56_ARRAY",oe[oe.INT64_ARRAY=137]="INT64_ARRAY",oe[oe.INT72_ARRAY=138]="INT72_ARRAY",oe[oe.INT80_ARRAY=139]="INT80_ARRAY",oe[oe.INT88_ARRAY=140]="INT88_ARRAY",oe[oe.INT96_ARRAY=141]="INT96_ARRAY",oe[oe.INT104_ARRAY=142]="INT104_ARRAY",oe[oe.INT112_ARRAY=143]="INT112_ARRAY",oe[oe.INT120_ARRAY=144]="INT120_ARRAY",oe[oe.INT128_ARRAY=145]="INT128_ARRAY",oe[oe.INT136_ARRAY=146]="INT136_ARRAY",oe[oe.INT144_ARRAY=147]="INT144_ARRAY",oe[oe.INT152_ARRAY=148]="INT152_ARRAY",oe[oe.INT160_ARRAY=149]="INT160_ARRAY",oe[oe.INT168_ARRAY=150]="INT168_ARRAY",oe[oe.INT176_ARRAY=151]="INT176_ARRAY",oe[oe.INT184_ARRAY=152]="INT184_ARRAY",oe[oe.INT192_ARRAY=153]="INT192_ARRAY",oe[oe.INT200_ARRAY=154]="INT200_ARRAY",oe[oe.INT208_ARRAY=155]="INT208_ARRAY",oe[oe.INT216_ARRAY=156]="INT216_ARRAY",oe[oe.INT224_ARRAY=157]="INT224_ARRAY",oe[oe.INT232_ARRAY=158]="INT232_ARRAY",oe[oe.INT240_ARRAY=159]="INT240_ARRAY",oe[oe.INT248_ARRAY=160]="INT248_ARRAY",oe[oe.INT256_ARRAY=161]="INT256_ARRAY",oe[oe.BYTES1_ARRAY=162]="BYTES1_ARRAY",oe[oe.BYTES2_ARRAY=163]="BYTES2_ARRAY",oe[oe.BYTES3_ARRAY=164]="BYTES3_ARRAY",oe[oe.BYTES4_ARRAY=165]="BYTES4_ARRAY",oe[oe.BYTES5_ARRAY=166]="BYTES5_ARRAY",oe[oe.BYTES6_ARRAY=167]="BYTES6_ARRAY",oe[oe.BYTES7_ARRAY=168]="BYTES7_ARRAY",oe[oe.BYTES8_ARRAY=169]="BYTES8_ARRAY",oe[oe.BYTES9_ARRAY=170]="BYTES9_ARRAY",oe[oe.BYTES10_ARRAY=171]="BYTES10_ARRAY",oe[oe.BYTES11_ARRAY=172]="BYTES11_ARRAY",oe[oe.BYTES12_ARRAY=173]="BYTES12_ARRAY",oe[oe.BYTES13_ARRAY=174]="BYTES13_ARRAY",oe[oe.BYTES14_ARRAY=175]="BYTES14_ARRAY",oe[oe.BYTES15_ARRAY=176]="BYTES15_ARRAY",oe[oe.BYTES16_ARRAY=177]="BYTES16_ARRAY",oe[oe.BYTES17_ARRAY=178]="BYTES17_ARRAY",oe[oe.BYTES18_ARRAY=179]="BYTES18_ARRAY",oe[oe.BYTES19_ARRAY=180]="BYTES19_ARRAY",oe[oe.BYTES20_ARRAY=181]="BYTES20_ARRAY",oe[oe.BYTES21_ARRAY=182]="BYTES21_ARRAY",oe[oe.BYTES22_ARRAY=183]="BYTES22_ARRAY",oe[oe.BYTES23_ARRAY=184]="BYTES23_ARRAY",oe[oe.BYTES24_ARRAY=185]="BYTES24_ARRAY",oe[oe.BYTES25_ARRAY=186]="BYTES25_ARRAY",oe[oe.BYTES26_ARRAY=187]="BYTES26_ARRAY",oe[oe.BYTES27_ARRAY=188]="BYTES27_ARRAY",oe[oe.BYTES28_ARRAY=189]="BYTES28_ARRAY",oe[oe.BYTES29_ARRAY=190]="BYTES29_ARRAY",oe[oe.BYTES30_ARRAY=191]="BYTES30_ARRAY",oe[oe.BYTES31_ARRAY=192]="BYTES31_ARRAY",oe[oe.BYTES32_ARRAY=193]="BYTES32_ARRAY",oe[oe.BOOL_ARRAY=194]="BOOL_ARRAY",oe[oe.ADDRESS_ARRAY=195]="ADDRESS_ARRAY",oe[oe.BYTES=196]="BYTES",oe[oe.STRING=197]="STRING",oe))(I$4||{}),Y$2={0:"uint8",1:"uint16",2:"uint24",3:"uint32",4:"uint40",5:"uint48",6:"uint56",7:"uint64",8:"uint72",9:"uint80",10:"uint88",11:"uint96",12:"uint104",13:"uint112",14:"uint120",15:"uint128",16:"uint136",17:"uint144",18:"uint152",19:"uint160",20:"uint168",21:"uint176",22:"uint184",23:"uint192",24:"uint200",25:"uint208",26:"uint216",27:"uint224",28:"uint232",29:"uint240",30:"uint248",31:"uint256",32:"int8",33:"int16",34:"int24",35:"int32",36:"int40",37:"int48",38:"int56",39:"int64",40:"int72",41:"int80",42:"int88",43:"int96",44:"int104",45:"int112",46:"int120",47:"int128",48:"int136",49:"int144",50:"int152",51:"int160",52:"int168",53:"int176",54:"int184",55:"int192",56:"int200",57:"int208",58:"int216",59:"int224",60:"int232",61:"int240",62:"int248",63:"int256",64:"bytes1",65:"bytes2",66:"bytes3",67:"bytes4",68:"bytes5",69:"bytes6",70:"bytes7",71:"bytes8",72:"bytes9",73:"bytes10",74:"bytes11",75:"bytes12",76:"bytes13",77:"bytes14",78:"bytes15",79:"bytes16",80:"bytes17",81:"bytes18",82:"bytes19",83:"bytes20",84:"bytes21",85:"bytes22",86:"bytes23",87:"bytes24",88:"bytes25",89:"bytes26",90:"bytes27",91:"bytes28",92:"bytes29",93:"bytes30",94:"bytes31",95:"bytes32",96:"bool",97:"address",98:"uint8[]",99:"uint16[]",100:"uint24[]",101:"uint32[]",102:"uint40[]",103:"uint48[]",104:"uint56[]",105:"uint64[]",106:"uint72[]",107:"uint80[]",108:"uint88[]",109:"uint96[]",110:"uint104[]",111:"uint112[]",112:"uint120[]",113:"uint128[]",114:"uint136[]",115:"uint144[]",116:"uint152[]",117:"uint160[]",118:"uint168[]",119:"uint176[]",120:"uint184[]",121:"uint192[]",122:"uint200[]",123:"uint208[]",124:"uint216[]",125:"uint224[]",126:"uint232[]",127:"uint240[]",128:"uint248[]",129:"uint256[]",130:"int8[]",131:"int16[]",132:"int24[]",133:"int32[]",134:"int40[]",135:"int48[]",136:"int56[]",137:"int64[]",138:"int72[]",139:"int80[]",140:"int88[]",141:"int96[]",142:"int104[]",143:"int112[]",144:"int120[]",145:"int128[]",146:"int136[]",147:"int144[]",148:"int152[]",149:"int160[]",150:"int168[]",151:"int176[]",152:"int184[]",153:"int192[]",154:"int200[]",155:"int208[]",156:"int216[]",157:"int224[]",158:"int232[]",159:"int240[]",160:"int248[]",161:"int256[]",162:"bytes1[]",163:"bytes2[]",164:"bytes3[]",165:"bytes4[]",166:"bytes5[]",167:"bytes6[]",168:"bytes7[]",169:"bytes8[]",170:"bytes9[]",171:"bytes10[]",172:"bytes11[]",173:"bytes12[]",174:"bytes13[]",175:"bytes14[]",176:"bytes15[]",177:"bytes16[]",178:"bytes17[]",179:"bytes18[]",180:"bytes19[]",181:"bytes20[]",182:"bytes21[]",183:"bytes22[]",184:"bytes23[]",185:"bytes24[]",186:"bytes25[]",187:"bytes26[]",188:"bytes27[]",189:"bytes28[]",190:"bytes29[]",191:"bytes30[]",192:"bytes31[]",193:"bytes32[]",194:"bool[]",195:"address[]",196:"bytes",197:"string"},s$6=Object.values(Y$2),_$2=Object.fromEntries(Object.entries(Y$2).map(([oe,he])=>[he,parseInt(oe)]));function n$2(oe){let he=oe.valueOf();return he<32?he+1:he<64?he+1-32:he<96?he+1-64:oe==96?1:oe==97?20:0}var U$1=s$6.filter(oe=>n$2(_$2[oe])>0),n$1=/\[\]$/;function b$1(oe){return n$1.test(oe)}function r$3(oe){return oe.replace(n$1,"")}var i$4=["uint8","uint16","uint24","uint32","uint40","uint48","uint56","uint64","uint72","uint80","uint88","uint96","uint104","uint112","uint120","uint128","uint136","uint144","uint152","uint160","uint168","uint176","uint184","uint192","uint200","uint208","uint216","uint224","uint232","uint240","uint248","uint256","int8","int16","int24","int32","int40","int48","int56","int64","int72","int80","int88","int96","int104","int112","int120","int128","int136","int144","int152","int160","int168","int176","int184","int192","int200","int208","int216","int224","int232","int240","int248","int256","bytes1","bytes2","bytes3","bytes4","bytes5","bytes6","bytes7","bytes8","bytes9","bytes10","bytes11","bytes12","bytes13","bytes14","bytes15","bytes16","bytes17","bytes18","bytes19","bytes20","bytes21","bytes22","bytes23","bytes24","bytes25","bytes26","bytes27","bytes28","bytes29","bytes30","bytes31","bytes32","bool","address","uint8[]","uint16[]","uint24[]","uint32[]","uint40[]","uint48[]","uint56[]","uint64[]","uint72[]","uint80[]","uint88[]","uint96[]","uint104[]","uint112[]","uint120[]","uint128[]","uint136[]","uint144[]","uint152[]","uint160[]","uint168[]","uint176[]","uint184[]","uint192[]","uint200[]","uint208[]","uint216[]","uint224[]","uint232[]","uint240[]","uint248[]","uint256[]","int8[]","int16[]","int24[]","int32[]","int40[]","int48[]","int56[]","int64[]","int72[]","int80[]","int88[]","int96[]","int104[]","int112[]","int120[]","int128[]","int136[]","int144[]","int152[]","int160[]","int168[]","int176[]","int184[]","int192[]","int200[]","int208[]","int216[]","int224[]","int232[]","int240[]","int248[]","int256[]","bytes1[]","bytes2[]","bytes3[]","bytes4[]","bytes5[]","bytes6[]","bytes7[]","bytes8[]","bytes9[]","bytes10[]","bytes11[]","bytes12[]","bytes13[]","bytes14[]","bytes15[]","bytes16[]","bytes17[]","bytes18[]","bytes19[]","bytes20[]","bytes21[]","bytes22[]","bytes23[]","bytes24[]","bytes25[]","bytes26[]","bytes27[]","bytes28[]","bytes29[]","bytes30[]","bytes31[]","bytes32[]","bool[]","address[]","bytes","string"],e$3=i$4.slice(0,98),y$4=i$4.slice(98),s$5={"uint8[]":[],"uint16[]":[],"uint24[]":[],"uint32[]":[],"uint40[]":[],"uint48[]":[],"uint56[]":[],"uint64[]":[],"uint72[]":[],"uint80[]":[],"uint88[]":[],"uint96[]":[],"uint104[]":[],"uint112[]":[],"uint120[]":[],"uint128[]":[],"uint136[]":[],"uint144[]":[],"uint152[]":[],"uint160[]":[],"uint168[]":[],"uint176[]":[],"uint184[]":[],"uint192[]":[],"uint200[]":[],"uint208[]":[],"uint216[]":[],"uint224[]":[],"uint232[]":[],"uint240[]":[],"uint248[]":[],"uint256[]":[],"int8[]":[],"int16[]":[],"int24[]":[],"int32[]":[],"int40[]":[],"int48[]":[],"int56[]":[],"int64[]":[],"int72[]":[],"int80[]":[],"int88[]":[],"int96[]":[],"int104[]":[],"int112[]":[],"int120[]":[],"int128[]":[],"int136[]":[],"int144[]":[],"int152[]":[],"int160[]":[],"int168[]":[],"int176[]":[],"int184[]":[],"int192[]":[],"int200[]":[],"int208[]":[],"int216[]":[],"int224[]":[],"int232[]":[],"int240[]":[],"int248[]":[],"int256[]":[],"bytes1[]":[],"bytes2[]":[],"bytes3[]":[],"bytes4[]":[],"bytes5[]":[],"bytes6[]":[],"bytes7[]":[],"bytes8[]":[],"bytes9[]":[],"bytes10[]":[],"bytes11[]":[],"bytes12[]":[],"bytes13[]":[],"bytes14[]":[],"bytes15[]":[],"bytes16[]":[],"bytes17[]":[],"bytes18[]":[],"bytes19[]":[],"bytes20[]":[],"bytes21[]":[],"bytes22[]":[],"bytes23[]":[],"bytes24[]":[],"bytes25[]":[],"bytes26[]":[],"bytes27[]":[],"bytes28[]":[],"bytes29[]":[],"bytes30[]":[],"bytes31[]":[],"bytes32[]":[],"bool[]":[],"address[]":[],bytes:"0x",string:""};function x$2(oe){return y$4.includes(oe)}var a$5={uint8:0,uint16:0,uint24:0,uint32:0,uint40:0,uint48:0,uint56:0n,uint64:0n,uint72:0n,uint80:0n,uint88:0n,uint96:0n,uint104:0n,uint112:0n,uint120:0n,uint128:0n,uint136:0n,uint144:0n,uint152:0n,uint160:0n,uint168:0n,uint176:0n,uint184:0n,uint192:0n,uint200:0n,uint208:0n,uint216:0n,uint224:0n,uint232:0n,uint240:0n,uint248:0n,uint256:0n,int8:0,int16:0,int24:0,int32:0,int40:0,int48:0,int56:0n,int64:0n,int72:0n,int80:0n,int88:0n,int96:0n,int104:0n,int112:0n,int120:0n,int128:0n,int136:0n,int144:0n,int152:0n,int160:0n,int168:0n,int176:0n,int184:0n,int192:0n,int200:0n,int208:0n,int216:0n,int224:0n,int232:0n,int240:0n,int248:0n,int256:0n,bytes1:"0x00",bytes2:"0x0000",bytes3:"0x000000",bytes4:"0x00000000",bytes5:"0x0000000000",bytes6:"0x000000000000",bytes7:"0x00000000000000",bytes8:"0x0000000000000000",bytes9:"0x000000000000000000",bytes10:"0x00000000000000000000",bytes11:"0x0000000000000000000000",bytes12:"0x000000000000000000000000",bytes13:"0x00000000000000000000000000",bytes14:"0x0000000000000000000000000000",bytes15:"0x000000000000000000000000000000",bytes16:"0x00000000000000000000000000000000",bytes17:"0x0000000000000000000000000000000000",bytes18:"0x000000000000000000000000000000000000",bytes19:"0x00000000000000000000000000000000000000",bytes20:"0x0000000000000000000000000000000000000000",bytes21:"0x000000000000000000000000000000000000000000",bytes22:"0x00000000000000000000000000000000000000000000",bytes23:"0x0000000000000000000000000000000000000000000000",bytes24:"0x000000000000000000000000000000000000000000000000",bytes25:"0x00000000000000000000000000000000000000000000000000",bytes26:"0x0000000000000000000000000000000000000000000000000000",bytes27:"0x000000000000000000000000000000000000000000000000000000",bytes28:"0x00000000000000000000000000000000000000000000000000000000",bytes29:"0x0000000000000000000000000000000000000000000000000000000000",bytes30:"0x000000000000000000000000000000000000000000000000000000000000",bytes31:"0x00000000000000000000000000000000000000000000000000000000000000",bytes32:"0x0000000000000000000000000000000000000000000000000000000000000000",bool:!1,address:"0x0000000000000000000000000000000000000000"},g$3={uint8:1,uint16:2,uint24:3,uint32:4,uint40:5,uint48:6,uint56:7,uint64:8,uint72:9,uint80:10,uint88:11,uint96:12,uint104:13,uint112:14,uint120:15,uint128:16,uint136:17,uint144:18,uint152:19,uint160:20,uint168:21,uint176:22,uint184:23,uint192:24,uint200:25,uint208:26,uint216:27,uint224:28,uint232:29,uint240:30,uint248:31,uint256:32,int8:1,int16:2,int24:3,int32:4,int40:5,int48:6,int56:7,int64:8,int72:9,int80:10,int88:11,int96:12,int104:13,int112:14,int120:15,int128:16,int136:17,int144:18,int152:19,int160:20,int168:21,int176:22,int184:23,int192:24,int200:25,int208:26,int216:27,int224:28,int232:29,int240:30,int248:31,int256:32,bytes1:1,bytes2:2,bytes3:3,bytes4:4,bytes5:5,bytes6:6,bytes7:7,bytes8:8,bytes9:9,bytes10:10,bytes11:11,bytes12:12,bytes13:13,bytes14:14,bytes15:15,bytes16:16,bytes17:17,bytes18:18,bytes19:19,bytes20:20,bytes21:21,bytes22:22,bytes23:23,bytes24:24,bytes25:25,bytes26:26,bytes27:27,bytes28:28,bytes29:29,bytes30:30,bytes31:31,bytes32:32,bool:1,address:20};function f$5(oe){return e$3.includes(oe)}function a$4(oe,he){throw new Error(he??`Unexpected value: ${oe}`)}function i$3(...oe){return oe.reduce((he,ye)=>ye>he?ye:he)}function f$4(...oe){return oe.reduce((he,ye)=>ye<he?ye:he)}function m$3(oe,he){return oe<he?-1:oe>he?1:0}function*y$3(oe,he){for(let ye=0;ye<oe.length;ye+=he)yield oe.slice(ye,ye+he)}function w$3(oe){return oe!==void 0}function R$2(oe,he){return Object.fromEntries(Object.entries(oe).map(([ye,ve])=>[ye,he(ve,ye)]))}function O$2(oe){return new Promise(he=>setTimeout(()=>he(),oe))}var browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var oe=1e3,he=oe*60,ye=he*60,ve=ye*24,_e=ve*7,we=ve*365.25;ms=function(Fe,Me){Me=Me||{};var je=typeof Fe;if(je==="string"&&Fe.length>0)return Pe(Fe);if(je==="number"&&isFinite(Fe))return Me.long?Re(Fe):Ie(Fe);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(Fe))};function Pe(Fe){if(Fe=String(Fe),!(Fe.length>100)){var Me=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(Fe);if(Me){var je=parseFloat(Me[1]),ze=(Me[2]||"ms").toLowerCase();switch(ze){case"years":case"year":case"yrs":case"yr":case"y":return je*we;case"weeks":case"week":case"w":return je*_e;case"days":case"day":case"d":return je*ve;case"hours":case"hour":case"hrs":case"hr":case"h":return je*ye;case"minutes":case"minute":case"mins":case"min":case"m":return je*he;case"seconds":case"second":case"secs":case"sec":case"s":return je*oe;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return je;default:return}}}}function Ie(Fe){var Me=Math.abs(Fe);return Me>=ve?Math.round(Fe/ve)+"d":Me>=ye?Math.round(Fe/ye)+"h":Me>=he?Math.round(Fe/he)+"m":Me>=oe?Math.round(Fe/oe)+"s":Fe+"ms"}function Re(Fe){var Me=Math.abs(Fe);return Me>=ve?ke(Fe,Me,ve,"day"):Me>=ye?ke(Fe,Me,ye,"hour"):Me>=he?ke(Fe,Me,he,"minute"):Me>=oe?ke(Fe,Me,oe,"second"):Fe+" ms"}function ke(Fe,Me,je,ze){var He=Me>=je*1.5;return Math.round(Fe/je)+" "+ze+(He?"s":"")}return ms}function setup(oe){ye.debug=ye,ye.default=ye,ye.coerce=Re,ye.disable=we,ye.enable=_e,ye.enabled=Pe,ye.humanize=requireMs(),ye.destroy=ke,Object.keys(oe).forEach(Fe=>{ye[Fe]=oe[Fe]}),ye.names=[],ye.skips=[],ye.formatters={};function he(Fe){let Me=0;for(let je=0;je<Fe.length;je++)Me=(Me<<5)-Me+Fe.charCodeAt(je),Me|=0;return ye.colors[Math.abs(Me)%ye.colors.length]}ye.selectColor=he;function ye(Fe){let Me,je=null,ze,He;function Ve(...Qe){if(!Ve.enabled)return;const tt=Ve,nt=Number(new Date),ct=nt-(Me||nt);tt.diff=ct,tt.prev=Me,tt.curr=nt,Me=nt,Qe[0]=ye.coerce(Qe[0]),typeof Qe[0]!="string"&&Qe.unshift("%O");let vt=0;Qe[0]=Qe[0].replace(/%([a-zA-Z%])/g,(lt,St)=>{if(lt==="%%")return"%";vt++;const Rt=ye.formatters[St];if(typeof Rt=="function"){const er=Qe[vt];lt=Rt.call(tt,er),Qe.splice(vt,1),vt--}return lt}),ye.formatArgs.call(tt,Qe),(tt.log||ye.log).apply(tt,Qe)}return Ve.namespace=Fe,Ve.useColors=ye.useColors(),Ve.color=ye.selectColor(Fe),Ve.extend=ve,Ve.destroy=ye.destroy,Object.defineProperty(Ve,"enabled",{enumerable:!0,configurable:!1,get:()=>je!==null?je:(ze!==ye.namespaces&&(ze=ye.namespaces,He=ye.enabled(Fe)),He),set:Qe=>{je=Qe}}),typeof ye.init=="function"&&ye.init(Ve),Ve}function ve(Fe,Me){const je=ye(this.namespace+(typeof Me>"u"?":":Me)+Fe);return je.log=this.log,je}function _e(Fe){ye.save(Fe),ye.namespaces=Fe,ye.names=[],ye.skips=[];let Me;const je=(typeof Fe=="string"?Fe:"").split(/[\s,]+/),ze=je.length;for(Me=0;Me<ze;Me++)je[Me]&&(Fe=je[Me].replace(/\*/g,".*?"),Fe[0]==="-"?ye.skips.push(new RegExp("^"+Fe.slice(1)+"$")):ye.names.push(new RegExp("^"+Fe+"$")))}function we(){const Fe=[...ye.names.map(Ie),...ye.skips.map(Ie).map(Me=>"-"+Me)].join(",");return ye.enable(""),Fe}function Pe(Fe){if(Fe[Fe.length-1]==="*")return!0;let Me,je;for(Me=0,je=ye.skips.length;Me<je;Me++)if(ye.skips[Me].test(Fe))return!1;for(Me=0,je=ye.names.length;Me<je;Me++)if(ye.names[Me].test(Fe))return!0;return!1}function Ie(Fe){return Fe.toString().substring(2,Fe.toString().length-2).replace(/\.\*\?$/,"*")}function Re(Fe){return Fe instanceof Error?Fe.stack||Fe.message:Fe}function ke(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return ye.enable(ye.load()),ye}var common=setup;(function(oe,he){he.formatArgs=ve,he.save=_e,he.load=we,he.useColors=ye,he.storage=Pe(),he.destroy=(()=>{let Re=!1;return()=>{Re||(Re=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),he.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ye(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function ve(Re){if(Re[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+Re[0]+(this.useColors?"%c ":" ")+"+"+oe.exports.humanize(this.diff),!this.useColors)return;const ke="color: "+this.color;Re.splice(1,0,ke,"color: inherit");let Fe=0,Me=0;Re[0].replace(/%[a-zA-Z%]/g,je=>{je!=="%%"&&(Fe++,je==="%c"&&(Me=Fe))}),Re.splice(Me,0,ke)}he.log=console.debug||console.log||(()=>{});function _e(Re){try{Re?he.storage.setItem("debug",Re):he.storage.removeItem("debug")}catch{}}function we(){let Re;try{Re=he.storage.getItem("debug")}catch{}return!Re&&typeof process<"u"&&"env"in process&&(Re={}.DEBUG),Re}function Pe(){try{return localStorage}catch{}}oe.exports=common(he);const{formatters:Ie}=oe.exports;Ie.j=function(Re){try{return JSON.stringify(Re)}catch(ke){return"[UnexpectedJSONParseError]: "+ke.message}}})(browser,browser.exports);var browserExports=browser.exports;const p$4=getDefaultExportFromCjs(browserExports);var e$2=p$4("mud:common"),r$2=p$4("mud:common");e$2.log=console.debug.bind(console);r$2.log=console.error.bind(console);function toAccount(oe){if(typeof oe=="string"){if(!isAddress(oe))throw new InvalidAddressError({address:oe});return{address:oe,type:"json-rpc"}}if(!isAddress(oe.address))throw new InvalidAddressError({address:oe.address});return{address:oe.address,signMessage:oe.signMessage,signTransaction:oe.signTransaction,signTypedData:oe.signTypedData,source:"custom",type:"local"}}async function sign({hash:oe,privateKey:he}){const{r:ye,s:ve,recovery:_e}=secp256k1.sign(oe.slice(2),he.slice(2));return{r:toHex(ye),s:toHex(ve),v:_e?28n:27n}}async function signMessage({message:oe,privateKey:he}){const ye=await sign({hash:hashMessage(oe),privateKey:he});return signatureToHex(ye)}async function signTransaction({privateKey:oe,transaction:he,serializer:ye=serializeTransaction}){const ve=await sign({hash:keccak256(ye(he)),privateKey:oe});return ye(he,ve)}async function signTypedData({privateKey:oe,...he}){const ye=await sign({hash:hashTypedData(he),privateKey:oe});return signatureToHex(ye)}function privateKeyToAccount(oe){const he=toHex(secp256k1.getPublicKey(oe.slice(2),!1)),ye=publicKeyToAddress(he);return{...toAccount({address:ye,async signMessage({message:_e}){return signMessage({message:_e,privateKey:oe})},async signTransaction(_e,{serializer:we}={}){return signTransaction({privateKey:oe,transaction:_e,serializer:we})},async signTypedData(_e){return signTypedData({..._e,privateKey:oe})}}),publicKey:he,source:"privateKey"}}var eventemitter3={exports:{}};(function(oe){var he=Object.prototype.hasOwnProperty,ye="~";function ve(){}Object.create&&(ve.prototype=Object.create(null),new ve().__proto__||(ye=!1));function _e(Re,ke,Fe){this.fn=Re,this.context=ke,this.once=Fe||!1}function we(Re,ke,Fe,Me,je){if(typeof Fe!="function")throw new TypeError("The listener must be a function");var ze=new _e(Fe,Me||Re,je),He=ye?ye+ke:ke;return Re._events[He]?Re._events[He].fn?Re._events[He]=[Re._events[He],ze]:Re._events[He].push(ze):(Re._events[He]=ze,Re._eventsCount++),Re}function Pe(Re,ke){--Re._eventsCount===0?Re._events=new ve:delete Re._events[ke]}function Ie(){this._events=new ve,this._eventsCount=0}Ie.prototype.eventNames=function(){var ke=[],Fe,Me;if(this._eventsCount===0)return ke;for(Me in Fe=this._events)he.call(Fe,Me)&&ke.push(ye?Me.slice(1):Me);return Object.getOwnPropertySymbols?ke.concat(Object.getOwnPropertySymbols(Fe)):ke},Ie.prototype.listeners=function(ke){var Fe=ye?ye+ke:ke,Me=this._events[Fe];if(!Me)return[];if(Me.fn)return[Me.fn];for(var je=0,ze=Me.length,He=new Array(ze);je<ze;je++)He[je]=Me[je].fn;return He},Ie.prototype.listenerCount=function(ke){var Fe=ye?ye+ke:ke,Me=this._events[Fe];return Me?Me.fn?1:Me.length:0},Ie.prototype.emit=function(ke,Fe,Me,je,ze,He){var Ve=ye?ye+ke:ke;if(!this._events[Ve])return!1;var Qe=this._events[Ve],tt=arguments.length,nt,ct;if(Qe.fn){switch(Qe.once&&this.removeListener(ke,Qe.fn,void 0,!0),tt){case 1:return Qe.fn.call(Qe.context),!0;case 2:return Qe.fn.call(Qe.context,Fe),!0;case 3:return Qe.fn.call(Qe.context,Fe,Me),!0;case 4:return Qe.fn.call(Qe.context,Fe,Me,je),!0;case 5:return Qe.fn.call(Qe.context,Fe,Me,je,ze),!0;case 6:return Qe.fn.call(Qe.context,Fe,Me,je,ze,He),!0}for(ct=1,nt=new Array(tt-1);ct<tt;ct++)nt[ct-1]=arguments[ct];Qe.fn.apply(Qe.context,nt)}else{var vt=Qe.length,ht;for(ct=0;ct<vt;ct++)switch(Qe[ct].once&&this.removeListener(ke,Qe[ct].fn,void 0,!0),tt){case 1:Qe[ct].fn.call(Qe[ct].context);break;case 2:Qe[ct].fn.call(Qe[ct].context,Fe);break;case 3:Qe[ct].fn.call(Qe[ct].context,Fe,Me);break;case 4:Qe[ct].fn.call(Qe[ct].context,Fe,Me,je);break;default:if(!nt)for(ht=1,nt=new Array(tt-1);ht<tt;ht++)nt[ht-1]=arguments[ht];Qe[ct].fn.apply(Qe[ct].context,nt)}}return!0},Ie.prototype.on=function(ke,Fe,Me){return we(this,ke,Fe,Me,!1)},Ie.prototype.once=function(ke,Fe,Me){return we(this,ke,Fe,Me,!0)},Ie.prototype.removeListener=function(ke,Fe,Me,je){var ze=ye?ye+ke:ke;if(!this._events[ze])return this;if(!Fe)return Pe(this,ze),this;var He=this._events[ze];if(He.fn)He.fn===Fe&&(!je||He.once)&&(!Me||He.context===Me)&&Pe(this,ze);else{for(var Ve=0,Qe=[],tt=He.length;Ve<tt;Ve++)(He[Ve].fn!==Fe||je&&!He[Ve].once||Me&&He[Ve].context!==Me)&&Qe.push(He[Ve]);Qe.length?this._events[ze]=Qe.length===1?Qe[0]:Qe:Pe(this,ze)}return this},Ie.prototype.removeAllListeners=function(ke){var Fe;return ke?(Fe=ye?ye+ke:ke,this._events[Fe]&&Pe(this,Fe)):(this._events=new ve,this._eventsCount=0),this},Ie.prototype.off=Ie.prototype.removeListener,Ie.prototype.addListener=Ie.prototype.on,Ie.prefixed=ye,Ie.EventEmitter=Ie,oe.exports=Ie})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);class TimeoutError extends Error{constructor(he){super(he),this.name="TimeoutError"}}let AbortError$2=class extends Error{constructor(he){super(),this.name="AbortError",this.message=he}};const getDOMException$1=oe=>globalThis.DOMException===void 0?new AbortError$2(oe):new DOMException(oe),getAbortedReason=oe=>{const he=oe.reason===void 0?getDOMException$1("This operation was aborted."):oe.reason;return he instanceof Error?he:getDOMException$1(he)};function pTimeout(oe,he,ye,ve){let _e;const we=new Promise((Pe,Ie)=>{if(typeof he!="number"||Math.sign(he)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${he}\``);if(he===Number.POSITIVE_INFINITY){Pe(oe);return}if(ve={customTimers:{setTimeout,clearTimeout},...ve},ve.signal){const{signal:Re}=ve;Re.aborted&&Ie(getAbortedReason(Re)),Re.addEventListener("abort",()=>{Ie(getAbortedReason(Re))})}_e=ve.customTimers.setTimeout.call(void 0,()=>{if(typeof ye=="function"){try{Pe(ye())}catch(Fe){Ie(Fe)}return}const Re=typeof ye=="string"?ye:`Promise timed out after ${he} milliseconds`,ke=ye instanceof Error?ye:new TimeoutError(Re);typeof oe.cancel=="function"&&oe.cancel(),Ie(ke)},he),(async()=>{try{Pe(await oe)}catch(Re){Ie(Re)}finally{ve.customTimers.clearTimeout.call(void 0,_e)}})()});return we.clear=()=>{clearTimeout(_e),_e=void 0},we}function lowerBound(oe,he,ye){let ve=0,_e=oe.length;for(;_e>0;){const we=Math.trunc(_e/2);let Pe=ve+we;ye(oe[Pe],he)<=0?(ve=++Pe,_e-=we+1):_e=we}return ve}var __classPrivateFieldGet$1=globalThis&&globalThis.__classPrivateFieldGet||function(oe,he,ye,ve){if(ye==="a"&&!ve)throw new TypeError("Private accessor was defined without a getter");if(typeof he=="function"?oe!==he||!ve:!he.has(oe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ye==="m"?ve:ye==="a"?ve.call(oe):ve?ve.value:he.get(oe)},_PriorityQueue_queue;class PriorityQueue{constructor(){_PriorityQueue_queue.set(this,[])}enqueue(he,ye){ye={priority:0,...ye};const ve={priority:ye.priority,run:he};if(this.size&&__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f")[this.size-1].priority>=ye.priority){__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").push(ve);return}const _e=lowerBound(__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f"),ve,(we,Pe)=>Pe.priority-we.priority);__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").splice(_e,0,ve)}dequeue(){const he=__classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").shift();return he?.run}filter(he){return __classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").filter(ye=>ye.priority===he.priority).map(ye=>ye.run)}get size(){return __classPrivateFieldGet$1(this,_PriorityQueue_queue,"f").length}}_PriorityQueue_queue=new WeakMap;var __classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(oe,he,ye,ve,_e){if(ve==="m")throw new TypeError("Private method is not writable");if(ve==="a"&&!_e)throw new TypeError("Private accessor was defined without a setter");if(typeof he=="function"?oe!==he||!_e:!he.has(oe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ve==="a"?_e.call(oe,ye):_e?_e.value=ye:he.set(oe,ye),ye},__classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(oe,he,ye,ve){if(ye==="a"&&!ve)throw new TypeError("Private accessor was defined without a getter");if(typeof he=="function"?oe!==he||!ve:!he.has(oe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return ye==="m"?ve:ye==="a"?ve.call(oe):ve?ve.value:he.get(oe)},_PQueue_instances,_PQueue_carryoverConcurrencyCount,_PQueue_isIntervalIgnored,_PQueue_intervalCount,_PQueue_intervalCap,_PQueue_interval,_PQueue_intervalEnd,_PQueue_intervalId,_PQueue_timeoutId,_PQueue_queue,_PQueue_queueClass,_PQueue_pending,_PQueue_concurrency,_PQueue_isPaused,_PQueue_throwOnTimeout,_PQueue_doesIntervalAllowAnother_get,_PQueue_doesConcurrentAllowAnother_get,_PQueue_next,_PQueue_onResumeInterval,_PQueue_isIntervalPaused_get,_PQueue_tryToStartAnother,_PQueue_initializeIntervalIfNeeded,_PQueue_onInterval,_PQueue_processQueue,_PQueue_throwOnAbort,_PQueue_onEvent;let AbortError$1=class extends Error{};class PQueue extends EventEmitter{constructor(he){var ye,ve,_e,we;if(super(),_PQueue_instances.add(this),_PQueue_carryoverConcurrencyCount.set(this,void 0),_PQueue_isIntervalIgnored.set(this,void 0),_PQueue_intervalCount.set(this,0),_PQueue_intervalCap.set(this,void 0),_PQueue_interval.set(this,void 0),_PQueue_intervalEnd.set(this,0),_PQueue_intervalId.set(this,void 0),_PQueue_timeoutId.set(this,void 0),_PQueue_queue.set(this,void 0),_PQueue_queueClass.set(this,void 0),_PQueue_pending.set(this,0),_PQueue_concurrency.set(this,void 0),_PQueue_isPaused.set(this,void 0),_PQueue_throwOnTimeout.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),he={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:PriorityQueue,...he},!(typeof he.intervalCap=="number"&&he.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(ve=(ye=he.intervalCap)===null||ye===void 0?void 0:ye.toString())!==null&&ve!==void 0?ve:""}\` (${typeof he.intervalCap})`);if(he.interval===void 0||!(Number.isFinite(he.interval)&&he.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(we=(_e=he.interval)===null||_e===void 0?void 0:_e.toString())!==null&&we!==void 0?we:""}\` (${typeof he.interval})`);__classPrivateFieldSet(this,_PQueue_carryoverConcurrencyCount,he.carryoverConcurrencyCount,"f"),__classPrivateFieldSet(this,_PQueue_isIntervalIgnored,he.intervalCap===Number.POSITIVE_INFINITY||he.interval===0,"f"),__classPrivateFieldSet(this,_PQueue_intervalCap,he.intervalCap,"f"),__classPrivateFieldSet(this,_PQueue_interval,he.interval,"f"),__classPrivateFieldSet(this,_PQueue_queue,new he.queueClass,"f"),__classPrivateFieldSet(this,_PQueue_queueClass,he.queueClass,"f"),this.concurrency=he.concurrency,this.timeout=he.timeout,__classPrivateFieldSet(this,_PQueue_throwOnTimeout,he.throwOnTimeout===!0,"f"),__classPrivateFieldSet(this,_PQueue_isPaused,he.autoStart===!1,"f")}get concurrency(){return __classPrivateFieldGet(this,_PQueue_concurrency,"f")}set concurrency(he){if(!(typeof he=="number"&&he>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${he}\` (${typeof he})`);__classPrivateFieldSet(this,_PQueue_concurrency,he,"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_processQueue).call(this)}async add(he,ye={}){return ye={timeout:this.timeout,throwOnTimeout:__classPrivateFieldGet(this,_PQueue_throwOnTimeout,"f"),...ye},new Promise((ve,_e)=>{__classPrivateFieldGet(this,_PQueue_queue,"f").enqueue(async()=>{var we,Pe,Ie;__classPrivateFieldSet(this,_PQueue_pending,(Pe=__classPrivateFieldGet(this,_PQueue_pending,"f"),Pe++,Pe),"f"),__classPrivateFieldSet(this,_PQueue_intervalCount,(Ie=__classPrivateFieldGet(this,_PQueue_intervalCount,"f"),Ie++,Ie),"f");try{if(!((we=ye.signal)===null||we===void 0)&&we.aborted)throw new AbortError$1("The task was aborted.");let Re=he({signal:ye.signal});ye.timeout&&(Re=pTimeout(Promise.resolve(Re),ye.timeout)),ye.signal&&(Re=Promise.race([Re,__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_throwOnAbort).call(this,ye.signal)]));const ke=await Re;ve(ke),this.emit("completed",ke)}catch(Re){if(Re instanceof TimeoutError&&!ye.throwOnTimeout){ve();return}_e(Re),this.emit("error",Re)}finally{__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_next).call(this)}},ye),this.emit("add"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this)})}async addAll(he,ye){return Promise.all(he.map(async ve=>this.add(ve,ye)))}start(){return __classPrivateFieldGet(this,_PQueue_isPaused,"f")?(__classPrivateFieldSet(this,_PQueue_isPaused,!1,"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_processQueue).call(this),this):this}pause(){__classPrivateFieldSet(this,_PQueue_isPaused,!0,"f")}clear(){__classPrivateFieldSet(this,_PQueue_queue,new(__classPrivateFieldGet(this,_PQueue_queueClass,"f")),"f")}async onEmpty(){__classPrivateFieldGet(this,_PQueue_queue,"f").size!==0&&await __classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"empty")}async onSizeLessThan(he){__classPrivateFieldGet(this,_PQueue_queue,"f").size<he||await __classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"next",()=>__classPrivateFieldGet(this,_PQueue_queue,"f").size<he)}async onIdle(){__classPrivateFieldGet(this,_PQueue_pending,"f")===0&&__classPrivateFieldGet(this,_PQueue_queue,"f").size===0||await __classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onEvent).call(this,"idle")}get size(){return __classPrivateFieldGet(this,_PQueue_queue,"f").size}sizeBy(he){return __classPrivateFieldGet(this,_PQueue_queue,"f").filter(he).length}get pending(){return __classPrivateFieldGet(this,_PQueue_pending,"f")}get isPaused(){return __classPrivateFieldGet(this,_PQueue_isPaused,"f")}}_PQueue_carryoverConcurrencyCount=new WeakMap,_PQueue_isIntervalIgnored=new WeakMap,_PQueue_intervalCount=new WeakMap,_PQueue_intervalCap=new WeakMap,_PQueue_interval=new WeakMap,_PQueue_intervalEnd=new WeakMap,_PQueue_intervalId=new WeakMap,_PQueue_timeoutId=new WeakMap,_PQueue_queue=new WeakMap,_PQueue_queueClass=new WeakMap,_PQueue_pending=new WeakMap,_PQueue_concurrency=new WeakMap,_PQueue_isPaused=new WeakMap,_PQueue_throwOnTimeout=new WeakMap,_PQueue_instances=new WeakSet,_PQueue_doesIntervalAllowAnother_get=function(){return __classPrivateFieldGet(this,_PQueue_isIntervalIgnored,"f")||__classPrivateFieldGet(this,_PQueue_intervalCount,"f")<__classPrivateFieldGet(this,_PQueue_intervalCap,"f")},_PQueue_doesConcurrentAllowAnother_get=function(){return __classPrivateFieldGet(this,_PQueue_pending,"f")<__classPrivateFieldGet(this,_PQueue_concurrency,"f")},_PQueue_next=function(){var he;__classPrivateFieldSet(this,_PQueue_pending,(he=__classPrivateFieldGet(this,_PQueue_pending,"f"),he--,he),"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this),this.emit("next")},_PQueue_onResumeInterval=function(){__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onInterval).call(this),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_initializeIntervalIfNeeded).call(this),__classPrivateFieldSet(this,_PQueue_timeoutId,void 0,"f")},_PQueue_isIntervalPaused_get=function(){const he=Date.now();if(__classPrivateFieldGet(this,_PQueue_intervalId,"f")===void 0){const ye=__classPrivateFieldGet(this,_PQueue_intervalEnd,"f")-he;if(ye<0)__classPrivateFieldSet(this,_PQueue_intervalCount,__classPrivateFieldGet(this,_PQueue_carryoverConcurrencyCount,"f")?__classPrivateFieldGet(this,_PQueue_pending,"f"):0,"f");else return __classPrivateFieldGet(this,_PQueue_timeoutId,"f")===void 0&&__classPrivateFieldSet(this,_PQueue_timeoutId,setTimeout(()=>{__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onResumeInterval).call(this)},ye),"f"),!0}return!1},_PQueue_tryToStartAnother=function(){if(__classPrivateFieldGet(this,_PQueue_queue,"f").size===0)return __classPrivateFieldGet(this,_PQueue_intervalId,"f")&&clearInterval(__classPrivateFieldGet(this,_PQueue_intervalId,"f")),__classPrivateFieldSet(this,_PQueue_intervalId,void 0,"f"),this.emit("empty"),__classPrivateFieldGet(this,_PQueue_pending,"f")===0&&this.emit("idle"),!1;if(!__classPrivateFieldGet(this,_PQueue_isPaused,"f")){const he=!__classPrivateFieldGet(this,_PQueue_instances,"a",_PQueue_isIntervalPaused_get);if(__classPrivateFieldGet(this,_PQueue_instances,"a",_PQueue_doesIntervalAllowAnother_get)&&__classPrivateFieldGet(this,_PQueue_instances,"a",_PQueue_doesConcurrentAllowAnother_get)){const ye=__classPrivateFieldGet(this,_PQueue_queue,"f").dequeue();return ye?(this.emit("active"),ye(),he&&__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_initializeIntervalIfNeeded).call(this),!0):!1}}return!1},_PQueue_initializeIntervalIfNeeded=function(){__classPrivateFieldGet(this,_PQueue_isIntervalIgnored,"f")||__classPrivateFieldGet(this,_PQueue_intervalId,"f")!==void 0||(__classPrivateFieldSet(this,_PQueue_intervalId,setInterval(()=>{__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_onInterval).call(this)},__classPrivateFieldGet(this,_PQueue_interval,"f")),"f"),__classPrivateFieldSet(this,_PQueue_intervalEnd,Date.now()+__classPrivateFieldGet(this,_PQueue_interval,"f"),"f"))},_PQueue_onInterval=function(){__classPrivateFieldGet(this,_PQueue_intervalCount,"f")===0&&__classPrivateFieldGet(this,_PQueue_pending,"f")===0&&__classPrivateFieldGet(this,_PQueue_intervalId,"f")&&(clearInterval(__classPrivateFieldGet(this,_PQueue_intervalId,"f")),__classPrivateFieldSet(this,_PQueue_intervalId,void 0,"f")),__classPrivateFieldSet(this,_PQueue_intervalCount,__classPrivateFieldGet(this,_PQueue_carryoverConcurrencyCount,"f")?__classPrivateFieldGet(this,_PQueue_pending,"f"):0,"f"),__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_processQueue).call(this)},_PQueue_processQueue=function(){for(;__classPrivateFieldGet(this,_PQueue_instances,"m",_PQueue_tryToStartAnother).call(this););},_PQueue_throwOnAbort=async function(he){return new Promise((ye,ve)=>{he.addEventListener("abort",()=>{ve(new AbortError$1("The task was aborted."))},{once:!0})})},_PQueue_onEvent=async function(he,ye){return new Promise(ve=>{const _e=()=>{ye&&!ye()||(this.off(he,_e),ve())};this.on(he,_e)})};var retry$2={};function RetryOperation(oe,he){typeof he=="boolean"&&(he={forever:he}),this._originalTimeouts=JSON.parse(JSON.stringify(oe)),this._timeouts=oe,this._options=he||{},this._maxRetryTime=he&&he.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var retry_operation=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};RetryOperation.prototype.retry=function(oe){if(this._timeout&&clearTimeout(this._timeout),!oe)return!1;var he=new Date().getTime();if(oe&&he-this._operationStart>=this._maxRetryTime)return this._errors.push(oe),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(oe);var ye=this._timeouts.shift();if(ye===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),ye=this._cachedTimeouts.slice(-1);else return!1;var ve=this;return this._timer=setTimeout(function(){ve._attempts++,ve._operationTimeoutCb&&(ve._timeout=setTimeout(function(){ve._operationTimeoutCb(ve._attempts)},ve._operationTimeout),ve._options.unref&&ve._timeout.unref()),ve._fn(ve._attempts)},ye),this._options.unref&&this._timer.unref(),!0};RetryOperation.prototype.attempt=function(oe,he){this._fn=oe,he&&(he.timeout&&(this._operationTimeout=he.timeout),he.cb&&(this._operationTimeoutCb=he.cb));var ye=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){ye._operationTimeoutCb()},ye._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};RetryOperation.prototype.try=function(oe){console.log("Using RetryOperation.try() is deprecated"),this.attempt(oe)};RetryOperation.prototype.start=function(oe){console.log("Using RetryOperation.start() is deprecated"),this.attempt(oe)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0)return null;for(var oe={},he=null,ye=0,ve=0;ve<this._errors.length;ve++){var _e=this._errors[ve],we=_e.message,Pe=(oe[we]||0)+1;oe[we]=Pe,Pe>=ye&&(he=_e,ye=Pe)}return he};(function(oe){var he=retry_operation;oe.operation=function(ye){var ve=oe.timeouts(ye);return new he(ve,{forever:ye&&(ye.forever||ye.retries===1/0),unref:ye&&ye.unref,maxRetryTime:ye&&ye.maxRetryTime})},oe.timeouts=function(ye){if(ye instanceof Array)return[].concat(ye);var ve={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var _e in ye)ve[_e]=ye[_e];if(ve.minTimeout>ve.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var we=[],Pe=0;Pe<ve.retries;Pe++)we.push(this.createTimeout(Pe,ve));return ye&&ye.forever&&!we.length&&we.push(this.createTimeout(Pe,ve)),we.sort(function(Ie,Re){return Ie-Re}),we},oe.createTimeout=function(ye,ve){var _e=ve.randomize?Math.random()+1:1,we=Math.round(_e*Math.max(ve.minTimeout,1)*Math.pow(ve.factor,ye));return we=Math.min(we,ve.maxTimeout),we},oe.wrap=function(ye,ve,_e){if(ve instanceof Array&&(_e=ve,ve=null),!_e){_e=[];for(var we in ye)typeof ye[we]=="function"&&_e.push(we)}for(var Pe=0;Pe<_e.length;Pe++){var Ie=_e[Pe],Re=ye[Ie];ye[Ie]=function(Fe){var Me=oe.operation(ve),je=Array.prototype.slice.call(arguments,1),ze=je.pop();je.push(function(He){Me.retry(He)||(He&&(arguments[0]=Me.mainError()),ze.apply(this,arguments))}),Me.attempt(function(){Fe.apply(ye,je)})}.bind(ye,Re),ye[Ie].options=ve}}})(retry$2);var retry=retry$2;const retry$1=getDefaultExportFromCjs(retry),networkErrorMsgs=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed"]);class AbortError extends Error{constructor(he){super(),he instanceof Error?(this.originalError=he,{message:he}=he):(this.originalError=new Error(he),this.originalError.stack=this.stack),this.name="AbortError",this.message=he}}const decorateErrorWithCounts=(oe,he,ye)=>{const ve=ye.retries-(he-1);return oe.attemptNumber=he,oe.retriesLeft=ve,oe},isNetworkError=oe=>networkErrorMsgs.has(oe),getDOMException=oe=>globalThis.DOMException===void 0?new Error(oe):new DOMException(oe);async function pRetry(oe,he){return new Promise((ye,ve)=>{he={onFailedAttempt(){},retries:10,...he};const _e=retry$1.operation(he);_e.attempt(async we=>{try{ye(await oe(we))}catch(Pe){if(!(Pe instanceof Error)){ve(new TypeError(`Non-error was thrown: "${Pe}". You should only throw errors.`));return}if(Pe instanceof AbortError)_e.stop(),ve(Pe.originalError);else if(Pe instanceof TypeError&&!isNetworkError(Pe.message))_e.stop(),ve(Pe);else{decorateErrorWithCounts(Pe,we,he);try{await he.onFailedAttempt(Pe)}catch(Ie){ve(Ie);return}_e.retry(Pe)||ve(_e.mainError())}}}),he.signal&&!he.signal.aborted&&he.signal.addEventListener("abort",()=>{_e.stop();const we=he.signal.reason===void 0?getDOMException("The operation was aborted."):he.signal.reason;ve(we instanceof Error?we:getDOMException(we))},{once:!0})})}var P$4=p$4("mud:benchmark");P$4.log=console.info.bind(console);function ge(oe){return{...privateKeyToAccount(oe)}}async function T$1({client:oe,address:he,blockTag:ye}){return`mud:createNonceManager:${oe.chain?.id??await getChainId(oe)}:${getAddress(he)}:${ye}`}var R$1=e$2.extend("createNonceManager");function k$1({client:oe,address:he,blockTag:ye="pending",broadcastChannelName:ve}){let _e={current:-1},we=null;typeof BroadcastChannel<"u"&&(ve?Promise.resolve(ve):T$1({client:oe,address:he,blockTag:ye})).then(Me=>{we=new BroadcastChannel(Me),we.addEventListener("message",je=>{let ze=JSON.parse(je.data);R$1("got nonce from broadcast channel",ze),_e.current=ze})});function Pe(){return _e.current>=0}function Ie(){if(!Pe())throw new Error("call resetNonce before using nextNonce");let Me=_e.current++;return we?.postMessage(JSON.stringify(_e.current)),Me}async function Re(){let Me=await getTransactionCount(oe,{address:he,blockTag:ye});_e.current=Me,we?.postMessage(JSON.stringify(_e.current)),R$1("reset nonce to",_e.current)}function ke(Me){return Me instanceof BaseError&&Me.walk(je=>je instanceof NonceTooLowError||je instanceof NonceTooHighError)!=null}let Fe=new PQueue({concurrency:1});return{hasNonce:Pe,nextNonce:Ie,resetNonce:Re,shouldResetNonce:ke,mempoolQueue:Fe}}var O$1=new Map;async function l$3({client:oe,address:he,blockTag:ye="pending"}){let ve=await T$1({client:oe,address:he,blockTag:ye}),_e=O$1.get(ve);if(_e)return _e;let we=k$1({client:oe,address:he,blockTag:ye});return O$1.set(ve,we),we}var f$3=e$2.extend("writeContract");async function H$3(oe,he){let ye=he.account??oe.account;if(!ye)throw new Error("No account provided");let ve=parseAccount(ye),_e=await l$3({client:oe,address:ve.address,blockTag:"pending"});async function we(){return he.gas?(f$3("gas provided, skipping simulate",he.functionName,he.address),he):(f$3("simulating",he.functionName,"at",he.address),(await simulateContract(oe,{...he,blockTag:"pending",account:ve})).request)}let Pe=await we();return _e.mempoolQueue.add(()=>pRetry(async()=>{_e.hasNonce()||await _e.resetNonce();let Ie=_e.nextNonce();return f$3("calling",Pe.functionName,"with nonce",Ie,"at",Pe.address),await writeContract(oe,{nonce:Ie,...Pe})},{retries:3,onFailedAttempt:async Ie=>{if(_e.shouldResetNonce(Ie)){f$3("got nonce error, retrying",Ie.message),await _e.resetNonce();return}throw Ie}}),{throwOnTimeout:!0})}function V$2(oe){let he=oe.length&&Array.isArray(oe[0]),ye=he?oe[0]:[],ve=(he?oe[1]:oe[0])??{};return{args:ye,options:ve}}function v$1({abi:oe,address:he,publicClient:ye,walletClient:ve,onWrite:_e}){let we=getContract({abi:oe,address:he,publicClient:ye,walletClient:ve});if(we.write){let Pe=0;we.write=new Proxy({},{get(Ie,Re){return(...ke)=>{let{args:Fe,options:Me}=V$2(ke),je={abi:oe,address:he,functionName:Re,args:Fe,...Me,onWrite:_e},ze=H$3(ve,je),He=`${ve.chain.id}:${ve.account.address}:${Pe++}`;return _e?.({id:He,request:je,result:ze}),ze}}})}return we}var M$4=["table","offchainTable","namespace","module","system"],y$2={table:"tb",offchainTable:"ot",namespace:"ns",module:"md",system:"sy"};function E$3(oe){let he=y$2[oe.type];return concatHex([stringToHex(he,{size:2}),stringToHex(oe.namespace.slice(0,14),{size:14}),stringToHex(oe.name.slice(0,16),{size:16})])}var ee$1=Object.fromEntries(Object.entries(y$2).map(([oe,he])=>[he,oe]));function re$1(oe){let he=ee$1[oe];if(M$4.includes(he))return he}function I$3(oe){let he=hexToString(sliceHex(oe,0,2)).replace(/\0+$/,""),ye=re$1(he),ve=hexToString(sliceHex(oe,2,16)).replace(/\0+$/,""),_e=hexToString(sliceHex(oe,16,32)).replace(/\0+$/,"");if(!ye)throw new Error(`Unknown type (${he}) for resource (${he}:${ve}:${_e})`);return{resourceId:oe,type:ye,namespace:ve,name:_e}}function N$3(oe,he,ye){return`0x${oe.replace(/^0x/,"").slice(he*2,ye!=null?ye*2:void 0).padEnd(((ye??he)-he)*2,"0")}`}function yr(oe){return"ok"in oe}e$2.extend("sendTransaction");function Ir(oe,he,ye=0,ve="0x"){return concatHex([N$3(oe,0,he),ve,N$3(oe,he+ye)])}var ue$1=e$2.extend("transportObserver");function Dr(oe){return he=>{let ye=oe(he);return{...ye,request:async ve=>{if(ve.method==="eth_sendRawTransaction"&&ve.params instanceof Array){let _e=ve.params.map(we=>keccak256(we));ue$1("saw txs",_e)}return ye.request(ve)}}}}var l$2={storeImportPath:"@latticexyz/store/src/",userTypesFilename:"common.sol",codegenDirectory:"codegen",codegenIndexFilename:"index.sol"},p$3={namespace:"",enums:{},userTypes:{}},c$1={directory:"tables",keySchema:{key:"bytes32"},tableIdArgument:!1,storeArgument:!1,offchainOnly:!1},L$2=v$2,V$1=B$2,_$1=B$2,P$3=v$2,$$1=v$2,u$2=z$2.string(),q$3=z$2.string(),B$1=z$2.record(V$1,q$3).default(c$1.keySchema),h$1=z$2.record(_$1,u$2).refine(oe=>Object.keys(oe).length>0,"Table schema may not be empty"),M$3=u$2.transform(oe=>h$1.parse({value:oe})),w$2=h$1.or(M$3),x$1=z$2.object({directory:z$2.string().default(c$1.directory),name:G$3.optional(),tableIdArgument:z$2.boolean().default(c$1.tableIdArgument),storeArgument:z$2.boolean().default(c$1.storeArgument),dataStruct:z$2.boolean().optional(),keySchema:B$1,valueSchema:w$2,offchainOnly:z$2.boolean().default(c$1.offchainOnly)}).transform(oe=>(Object.keys(oe.valueSchema).length===1?oe.dataStruct??=!1:oe.dataStruct??=!0,oe)),H$2=u$2.transform(oe=>x$1.parse({valueSchema:{value:oe}})),G$2=x$1.or(H$2),X$1=z$2.record(L$2,G$2).transform(oe=>{for(let he of Object.keys(oe)){let ye=oe[he];ye.name=he.slice(0,z$1),oe[he]=ye}return oe}),Z$1=z$2.object({enums:z$2.record(P$3,V$3).default(p$3.enums)}),J=z$2.object({filePath:z$2.string(),internalType:z$2.enum(i$4)}),Q$1=z$2.object({userTypes:z$2.record($$1,J).default(p$3.userTypes)}),C=z$2.object({namespace:O$3.default(p$3.namespace),storeImportPath:z$2.string().default(l$2.storeImportPath),tables:X$1,userTypesFilename:z$2.string().default(l$2.userTypesFilename),codegenDirectory:z$2.string().default(l$2.codegenDirectory),codegenIndexFilename:z$2.string().default(l$2.codegenIndexFilename)}).merge(Z$1).merge(Q$1);C.superRefine(E$2);var Ue=C.catchall(z$2.any()).superRefine(E$2);function E$2(oe,he){for(let ke of Object.values(oe.tables)){let Fe=Object.keys(ke.keySchema),Me=Object.keys(ke.valueSchema),je=M$5([...Fe,...Me]);je.length>0&&he.addIssue({code:ZodIssueCode.custom,message:`Field and key names within one table must be unique: ${je.join(", ")}`})}let ye=Object.keys(oe.tables),ve=[...Object.keys(oe.enums),...Object.keys(oe.userTypes)],_e=ve,we=[...ye,..._e],Pe=M$5(we);Pe.length>0&&he.addIssue({code:ZodIssueCode.custom,message:`Table library names, enum names, user type names must be globally unique: ${Pe.join(", ")}`});let Ie=Object.values(oe.tables).map(({name:ke})=>ke),Re=M$5(Ie);Re.length>0&&he.addIssue({code:ZodIssueCode.custom,message:`Table names must be unique: ${Re.join(", ")}`});for(let ke of Object.values(oe.tables)){for(let Fe of Object.values(ke.keySchema))F$1(ve,Fe,he);for(let Fe of Object.values(ke.valueSchema))W$3(_e,ve,Fe,he)}}function W$3(oe,he,ye,ve){if(!s$6.includes(ye)&&!oe.includes(ye)){let _e=S$2(ye);_e?Y$1(he,_e.elementType,_e.staticLength,ve):ve.addIssue({code:ZodIssueCode.custom,message:`${ye} is not a valid abi type, and is not defined in userTypes`})}}function F$1(oe,he,ye){!U$1.includes(he)&&!oe.includes(he)&&ye.addIssue({code:ZodIssueCode.custom,message:`${he} is not a static type`})}function Y$1(oe,he,ye,ve){F$1(oe,he,ve),ye===0?ve.addIssue({code:ZodIssueCode.custom,message:"Static array length must not be 0"}):ye>=2**16&&ve.addIssue({code:ZodIssueCode.custom,message:"Static array length must be less than 2**16"})}function Ce(oe){let he={};for(let ye of Object.keys(oe.tables))he[ye]=se$2(oe.tables[ye],oe.userTypes,Object.keys(oe.enums),oe.namespace,ye);return{tables:he}}function se$2(oe,he,ye,ve,_e){let{keySchema:we,valueSchema:Pe}=oe;return{keySchema:te$1(we,he,ye),valueSchema:re(Pe,he,ye),namespace:ve,name:_e,tableId:E$3({type:oe.offchainOnly?"offchainTable":"table",namespace:ve,name:_e})}}function te$1(oe,he,ye){let ve=oe==null?{key:"bytes32"}:typeof oe=="string"?{key:oe}:oe;return N$2(ve,he,ye)}function re(oe,he,ye){return N$2(typeof oe=="string"?{value:oe}:oe,he,ye)}function N$2(oe,he,ye){return R$2(oe,(ve,_e)=>{let we=he&&ve in he,Pe=ye.includes(ve);return{type:we?he[ve].internalType:Pe?"uint8":ve,internalType:ve}})}i$6.isCreated()||i$6.createContext();K$4(oe=>{try{return Ue.parse(oe)}catch(he){throw he instanceof ZodError?f$6(he,"StoreConfig Validation Error"):he}});function m$2(oe){return q$4(oe)}K$4(oe=>{try{return w$4.parse(oe)}catch(he){throw he instanceof ZodError?f$6(he,"WorldConfig Validation Error"):he}});z$2.object({chainId:z$2.number(),address:z$2.string().refine(isHex).optional(),filters:z$2.array(z$2.object({tableId:z$2.string().refine(isHex),key0:z$2.string().refine(isHex).optional(),key1:z$2.string().refine(isHex).optional()})).default([])});function invert(oe){const he=Object.create(null);for(const ye in oe){const ve=oe[ye];he[ve]=ye}return he}const TRPC_ERROR_CODES_BY_KEY={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};invert(TRPC_ERROR_CODES_BY_KEY);invert(TRPC_ERROR_CODES_BY_KEY);const noop=()=>{};function createInnerProxy(oe,he){return new Proxy(noop,{get(ve,_e){if(!(typeof _e!="string"||_e==="then"))return createInnerProxy(oe,[...he,_e])},apply(ve,_e,we){const Pe=he[he.length-1]==="apply";return oe({args:Pe?we.length>=2?we[1]:[]:we,path:Pe?he.slice(0,-1):he})}})}const createRecursiveProxy=oe=>createInnerProxy(oe,[]),createFlatProxy=oe=>new Proxy(noop,{get(he,ye){if(!(typeof ye!="string"||ye==="then"))return oe(ye)}});typeof window>"u"||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||globalThis.process?.env?.JEST_WORKER_ID||globalThis.process?.env?.VITEST_WORKER_ID;var DoubleIndexedKV=function(){function oe(){this.keyToValue=new Map,this.valueToKey=new Map}return oe.prototype.set=function(he,ye){this.keyToValue.set(he,ye),this.valueToKey.set(ye,he)},oe.prototype.getByKey=function(he){return this.keyToValue.get(he)},oe.prototype.getByValue=function(he){return this.valueToKey.get(he)},oe.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},oe}(),Registry=function(){function oe(he){this.generateIdentifier=he,this.kv=new DoubleIndexedKV}return oe.prototype.register=function(he,ye){this.kv.getByValue(he)||(ye||(ye=this.generateIdentifier(he)),this.kv.set(ye,he))},oe.prototype.clear=function(){this.kv.clear()},oe.prototype.getIdentifier=function(he){return this.kv.getByValue(he)},oe.prototype.getValue=function(he){return this.kv.getByKey(he)},oe}(),__extends=globalThis&&globalThis.__extends||function(){var oe=function(he,ye){return oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ve,_e){ve.__proto__=_e}||function(ve,_e){for(var we in _e)Object.prototype.hasOwnProperty.call(_e,we)&&(ve[we]=_e[we])},oe(he,ye)};return function(he,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Class extends value "+String(ye)+" is not a constructor or null");oe(he,ye);function ve(){this.constructor=he}he.prototype=ye===null?Object.create(ye):(ve.prototype=ye.prototype,new ve)}}(),ClassRegistry=function(oe){__extends(he,oe);function he(){var ye=oe.call(this,function(ve){return ve.name})||this;return ye.classToAllowedProps=new Map,ye}return he.prototype.register=function(ye,ve){typeof ve=="object"?(ve.allowProps&&this.classToAllowedProps.set(ye,ve.allowProps),oe.prototype.register.call(this,ye,ve.identifier)):oe.prototype.register.call(this,ye,ve)},he.prototype.getAllowedProps=function(ye){return this.classToAllowedProps.get(ye)},he}(Registry),__read$4=globalThis&&globalThis.__read||function(oe,he){var ye=typeof Symbol=="function"&&oe[Symbol.iterator];if(!ye)return oe;var ve=ye.call(oe),_e,we=[],Pe;try{for(;(he===void 0||he-- >0)&&!(_e=ve.next()).done;)we.push(_e.value)}catch(Ie){Pe={error:Ie}}finally{try{_e&&!_e.done&&(ye=ve.return)&&ye.call(ve)}finally{if(Pe)throw Pe.error}}return we};function valuesOfObj(oe){if("values"in Object)return Object.values(oe);var he=[];for(var ye in oe)oe.hasOwnProperty(ye)&&he.push(oe[ye]);return he}function find(oe,he){var ye=valuesOfObj(oe);if("find"in ye)return ye.find(he);for(var ve=ye,_e=0;_e<ve.length;_e++){var we=ve[_e];if(he(we))return we}}function forEach(oe,he){Object.entries(oe).forEach(function(ye){var ve=__read$4(ye,2),_e=ve[0],we=ve[1];return he(we,_e)})}function includes(oe,he){return oe.indexOf(he)!==-1}function findArr(oe,he){for(var ye=0;ye<oe.length;ye++){var ve=oe[ye];if(he(ve))return ve}}var CustomTransformerRegistry=function(){function oe(){this.transfomers={}}return oe.prototype.register=function(he){this.transfomers[he.name]=he},oe.prototype.findApplicable=function(he){return find(this.transfomers,function(ye){return ye.isApplicable(he)})},oe.prototype.findByName=function(he){return this.transfomers[he]},oe}(),getType$1=function(oe){return Object.prototype.toString.call(oe).slice(8,-1)},isUndefined=function(oe){return typeof oe>"u"},isNull=function(oe){return oe===null},isPlainObject$1=function(oe){return typeof oe!="object"||oe===null||oe===Object.prototype?!1:Object.getPrototypeOf(oe)===null?!0:Object.getPrototypeOf(oe)===Object.prototype},isEmptyObject=function(oe){return isPlainObject$1(oe)&&Object.keys(oe).length===0},isArray$d=function(oe){return Array.isArray(oe)},isString=function(oe){return typeof oe=="string"},isNumber=function(oe){return typeof oe=="number"&&!isNaN(oe)},isBoolean=function(oe){return typeof oe=="boolean"},isRegExp=function(oe){return oe instanceof RegExp},isMap=function(oe){return oe instanceof Map},isSet=function(oe){return oe instanceof Set},isSymbol$6=function(oe){return getType$1(oe)==="Symbol"},isDate=function(oe){return oe instanceof Date&&!isNaN(oe.valueOf())},isError=function(oe){return oe instanceof Error},isNaNValue=function(oe){return typeof oe=="number"&&isNaN(oe)},isPrimitive=function(oe){return isBoolean(oe)||isNull(oe)||isUndefined(oe)||isNumber(oe)||isString(oe)||isSymbol$6(oe)},isBigint=function(oe){return typeof oe=="bigint"},isInfinite=function(oe){return oe===1/0||oe===-1/0},isTypedArray$3=function(oe){return ArrayBuffer.isView(oe)&&!(oe instanceof DataView)},isURL=function(oe){return oe instanceof URL},escapeKey=function(oe){return oe.replace(/\./g,"\\.")},stringifyPath=function(oe){return oe.map(String).map(escapeKey).join(".")},parsePath=function(oe){for(var he=[],ye="",ve=0;ve<oe.length;ve++){var _e=oe.charAt(ve),we=_e==="\\"&&oe.charAt(ve+1)===".";if(we){ye+=".",ve++;continue}var Pe=_e===".";if(Pe){he.push(ye),ye="";continue}ye+=_e}var Ie=ye;return he.push(Ie),he},__assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(oe){for(var he,ye=1,ve=arguments.length;ye<ve;ye++){he=arguments[ye];for(var _e in he)Object.prototype.hasOwnProperty.call(he,_e)&&(oe[_e]=he[_e])}return oe},__assign$1.apply(this,arguments)},__read$3=globalThis&&globalThis.__read||function(oe,he){var ye=typeof Symbol=="function"&&oe[Symbol.iterator];if(!ye)return oe;var ve=ye.call(oe),_e,we=[],Pe;try{for(;(he===void 0||he-- >0)&&!(_e=ve.next()).done;)we.push(_e.value)}catch(Ie){Pe={error:Ie}}finally{try{_e&&!_e.done&&(ye=ve.return)&&ye.call(ve)}finally{if(Pe)throw Pe.error}}return we},__spreadArray$2=globalThis&&globalThis.__spreadArray||function(oe,he){for(var ye=0,ve=he.length,_e=oe.length;ye<ve;ye++,_e++)oe[_e]=he[ye];return oe};function simpleTransformation(oe,he,ye,ve){return{isApplicable:oe,annotation:he,transform:ye,untransform:ve}}var simpleRules=[simpleTransformation(isUndefined,"undefined",function(){return null},function(){}),simpleTransformation(isBigint,"bigint",function(oe){return oe.toString()},function(oe){return typeof BigInt<"u"?BigInt(oe):(console.error("Please add a BigInt polyfill."),oe)}),simpleTransformation(isDate,"Date",function(oe){return oe.toISOString()},function(oe){return new Date(oe)}),simpleTransformation(isError,"Error",function(oe,he){var ye={name:oe.name,message:oe.message};return he.allowedErrorProps.forEach(function(ve){ye[ve]=oe[ve]}),ye},function(oe,he){var ye=new Error(oe.message);return ye.name=oe.name,ye.stack=oe.stack,he.allowedErrorProps.forEach(function(ve){ye[ve]=oe[ve]}),ye}),simpleTransformation(isRegExp,"regexp",function(oe){return""+oe},function(oe){var he=oe.slice(1,oe.lastIndexOf("/")),ye=oe.slice(oe.lastIndexOf("/")+1);return new RegExp(he,ye)}),simpleTransformation(isSet,"set",function(oe){return __spreadArray$2([],__read$3(oe.values()))},function(oe){return new Set(oe)}),simpleTransformation(isMap,"map",function(oe){return __spreadArray$2([],__read$3(oe.entries()))},function(oe){return new Map(oe)}),simpleTransformation(function(oe){return isNaNValue(oe)||isInfinite(oe)},"number",function(oe){return isNaNValue(oe)?"NaN":oe>0?"Infinity":"-Infinity"},Number),simpleTransformation(function(oe){return oe===0&&1/oe===-1/0},"number",function(){return"-0"},Number),simpleTransformation(isURL,"URL",function(oe){return oe.toString()},function(oe){return new URL(oe)})];function compositeTransformation(oe,he,ye,ve){return{isApplicable:oe,annotation:he,transform:ye,untransform:ve}}var symbolRule=compositeTransformation(function(oe,he){if(isSymbol$6(oe)){var ye=!!he.symbolRegistry.getIdentifier(oe);return ye}return!1},function(oe,he){var ye=he.symbolRegistry.getIdentifier(oe);return["symbol",ye]},function(oe){return oe.description},function(oe,he,ye){var ve=ye.symbolRegistry.getValue(he[1]);if(!ve)throw new Error("Trying to deserialize unknown symbol");return ve}),constructorToName=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(oe,he){return oe[he.name]=he,oe},{}),typedArrayRule=compositeTransformation(isTypedArray$3,function(oe){return["typed-array",oe.constructor.name]},function(oe){return __spreadArray$2([],__read$3(oe))},function(oe,he){var ye=constructorToName[he[1]];if(!ye)throw new Error("Trying to deserialize unknown typed array");return new ye(oe)});function isInstanceOfRegisteredClass(oe,he){if(oe?.constructor){var ye=!!he.classRegistry.getIdentifier(oe.constructor);return ye}return!1}var classRule=compositeTransformation(isInstanceOfRegisteredClass,function(oe,he){var ye=he.classRegistry.getIdentifier(oe.constructor);return["class",ye]},function(oe,he){var ye=he.classRegistry.getAllowedProps(oe.constructor);if(!ye)return __assign$1({},oe);var ve={};return ye.forEach(function(_e){ve[_e]=oe[_e]}),ve},function(oe,he,ye){var ve=ye.classRegistry.getValue(he[1]);if(!ve)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(ve.prototype),oe)}),customRule=compositeTransformation(function(oe,he){return!!he.customTransformerRegistry.findApplicable(oe)},function(oe,he){var ye=he.customTransformerRegistry.findApplicable(oe);return["custom",ye.name]},function(oe,he){var ye=he.customTransformerRegistry.findApplicable(oe);return ye.serialize(oe)},function(oe,he,ye){var ve=ye.customTransformerRegistry.findByName(he[1]);if(!ve)throw new Error("Trying to deserialize unknown custom value");return ve.deserialize(oe)}),compositeRules=[classRule,symbolRule,customRule,typedArrayRule],transformValue=function(oe,he){var ye=findArr(compositeRules,function(_e){return _e.isApplicable(oe,he)});if(ye)return{value:ye.transform(oe,he),type:ye.annotation(oe,he)};var ve=findArr(simpleRules,function(_e){return _e.isApplicable(oe,he)});if(ve)return{value:ve.transform(oe,he),type:ve.annotation}},simpleRulesByAnnotation={};simpleRules.forEach(function(oe){simpleRulesByAnnotation[oe.annotation]=oe});var untransformValue=function(oe,he,ye){if(isArray$d(he))switch(he[0]){case"symbol":return symbolRule.untransform(oe,he,ye);case"class":return classRule.untransform(oe,he,ye);case"custom":return customRule.untransform(oe,he,ye);case"typed-array":return typedArrayRule.untransform(oe,he,ye);default:throw new Error("Unknown transformation: "+he)}else{var ve=simpleRulesByAnnotation[he];if(!ve)throw new Error("Unknown transformation: "+he);return ve.untransform(oe,ye)}},getNthKey=function(oe,he){for(var ye=oe.keys();he>0;)ye.next(),he--;return ye.next().value};function validatePath(oe){if(includes(oe,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(includes(oe,"prototype"))throw new Error("prototype is not allowed as a property");if(includes(oe,"constructor"))throw new Error("constructor is not allowed as a property")}var getDeep=function(oe,he){validatePath(he);for(var ye=0;ye<he.length;ye++){var ve=he[ye];if(isSet(oe))oe=getNthKey(oe,+ve);else if(isMap(oe)){var _e=+ve,we=+he[++ye]==0?"key":"value",Pe=getNthKey(oe,_e);switch(we){case"key":oe=Pe;break;case"value":oe=oe.get(Pe);break}}else oe=oe[ve]}return oe},setDeep=function(oe,he,ye){if(validatePath(he),he.length===0)return ye(oe);for(var ve=oe,_e=0;_e<he.length-1;_e++){var we=he[_e];if(isArray$d(ve)){var Pe=+we;ve=ve[Pe]}else if(isPlainObject$1(ve))ve=ve[we];else if(isSet(ve)){var Ie=+we;ve=getNthKey(ve,Ie)}else if(isMap(ve)){var Re=_e===he.length-2;if(Re)break;var Ie=+we,ke=+he[++_e]==0?"key":"value",Fe=getNthKey(ve,Ie);switch(ke){case"key":ve=Fe;break;case"value":ve=ve.get(Fe);break}}}var Me=he[he.length-1];if(isArray$d(ve)?ve[+Me]=ye(ve[+Me]):isPlainObject$1(ve)&&(ve[Me]=ye(ve[Me])),isSet(ve)){var je=getNthKey(ve,+Me),ze=ye(je);je!==ze&&(ve.delete(je),ve.add(ze))}if(isMap(ve)){var Ie=+he[he.length-2],He=getNthKey(ve,Ie),ke=+Me==0?"key":"value";switch(ke){case"key":{var Ve=ye(He);ve.set(Ve,ve.get(He)),Ve!==He&&ve.delete(He);break}case"value":{ve.set(He,ye(ve.get(He)));break}}}return oe},__read$2=globalThis&&globalThis.__read||function(oe,he){var ye=typeof Symbol=="function"&&oe[Symbol.iterator];if(!ye)return oe;var ve=ye.call(oe),_e,we=[],Pe;try{for(;(he===void 0||he-- >0)&&!(_e=ve.next()).done;)we.push(_e.value)}catch(Ie){Pe={error:Ie}}finally{try{_e&&!_e.done&&(ye=ve.return)&&ye.call(ve)}finally{if(Pe)throw Pe.error}}return we},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(oe,he){for(var ye=0,ve=he.length,_e=oe.length;ye<ve;ye++,_e++)oe[_e]=he[ye];return oe};function traverse(oe,he,ye){if(ye===void 0&&(ye=[]),!!oe){if(!isArray$d(oe)){forEach(oe,function(Pe,Ie){return traverse(Pe,he,__spreadArray$1(__spreadArray$1([],__read$2(ye)),__read$2(parsePath(Ie))))});return}var ve=__read$2(oe,2),_e=ve[0],we=ve[1];we&&forEach(we,function(Pe,Ie){traverse(Pe,he,__spreadArray$1(__spreadArray$1([],__read$2(ye)),__read$2(parsePath(Ie))))}),he(_e,ye)}}function applyValueAnnotations(oe,he,ye){return traverse(he,function(ve,_e){oe=setDeep(oe,_e,function(we){return untransformValue(we,ve,ye)})}),oe}function applyReferentialEqualityAnnotations(oe,he){function ye(Pe,Ie){var Re=getDeep(oe,parsePath(Ie));Pe.map(parsePath).forEach(function(ke){oe=setDeep(oe,ke,function(){return Re})})}if(isArray$d(he)){var ve=__read$2(he,2),_e=ve[0],we=ve[1];_e.forEach(function(Pe){oe=setDeep(oe,parsePath(Pe),function(){return oe})}),we&&forEach(we,ye)}else forEach(he,ye);return oe}var isDeep=function(oe,he){return isPlainObject$1(oe)||isArray$d(oe)||isMap(oe)||isSet(oe)||isInstanceOfRegisteredClass(oe,he)};function addIdentity(oe,he,ye){var ve=ye.get(oe);ve?ve.push(he):ye.set(oe,[he])}function generateReferentialEqualityAnnotations(oe){var he={},ye=void 0;return oe.forEach(function(ve){if(!(ve.length<=1)){var _e=__read$2(ve.map(function(Ie){return Ie.map(String)}).sort(function(Ie,Re){return Ie.length-Re.length})),we=_e[0],Pe=_e.slice(1);we.length===0?ye=Pe.map(stringifyPath):he[stringifyPath(we)]=Pe.map(stringifyPath)}}),ye?isEmptyObject(he)?[ye]:[ye,he]:isEmptyObject(he)?void 0:he}var walker=function(oe,he,ye,ve,_e){var we;if(ve===void 0&&(ve=[]),_e===void 0&&(_e=[]),isPrimitive(oe)||addIdentity(oe,ve,he),!isDeep(oe,ye)){var Pe=transformValue(oe,ye);return Pe?{transformedValue:Pe.value,annotations:[Pe.type]}:{transformedValue:oe}}if(includes(_e,oe))return{transformedValue:null};var Ie=transformValue(oe,ye),Re=(we=Ie?.value)!==null&&we!==void 0?we:oe;isPrimitive(oe)||(_e=__spreadArray$1(__spreadArray$1([],__read$2(_e)),[oe]));var ke=isArray$d(Re)?[]:{},Fe={};return forEach(Re,function(Me,je){var ze=walker(Me,he,ye,__spreadArray$1(__spreadArray$1([],__read$2(ve)),[je]),_e);ke[je]=ze.transformedValue,isArray$d(ze.annotations)?Fe[je]=ze.annotations:isPlainObject$1(ze.annotations)&&forEach(ze.annotations,function(He,Ve){Fe[escapeKey(je)+"."+Ve]=He})}),isEmptyObject(Fe)?{transformedValue:ke,annotations:Ie?[Ie.type]:void 0}:{transformedValue:ke,annotations:Ie?[Ie.type,Fe]:Fe}};function getType(oe){return Object.prototype.toString.call(oe).slice(8,-1)}function isPlainObject(oe){if(getType(oe)!=="Object")return!1;const he=Object.getPrototypeOf(oe);return!!he&&he.constructor===Object&&he===Object.prototype}function isArray$c(oe){return getType(oe)==="Array"}function assignProp(oe,he,ye,ve,_e){const we={}.propertyIsEnumerable.call(ve,he)?"enumerable":"nonenumerable";we==="enumerable"&&(oe[he]=ye),_e&&we==="nonenumerable"&&Object.defineProperty(oe,he,{value:ye,enumerable:!1,writable:!0,configurable:!0})}function copy(oe,he={}){if(isArray$c(oe))return oe.map(_e=>copy(_e,he));if(!isPlainObject(oe))return oe;const ye=Object.getOwnPropertyNames(oe),ve=Object.getOwnPropertySymbols(oe);return[...ye,...ve].reduce((_e,we)=>{if(isArray$c(he.props)&&!he.props.includes(we))return _e;const Pe=oe[we],Ie=copy(Pe,he);return assignProp(_e,we,Ie,oe,he.nonenumerable),_e},{})}var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(oe){for(var he,ye=1,ve=arguments.length;ye<ve;ye++){he=arguments[ye];for(var _e in he)Object.prototype.hasOwnProperty.call(he,_e)&&(oe[_e]=he[_e])}return oe},__assign.apply(this,arguments)},__read$1=globalThis&&globalThis.__read||function(oe,he){var ye=typeof Symbol=="function"&&oe[Symbol.iterator];if(!ye)return oe;var ve=ye.call(oe),_e,we=[],Pe;try{for(;(he===void 0||he-- >0)&&!(_e=ve.next()).done;)we.push(_e.value)}catch(Ie){Pe={error:Ie}}finally{try{_e&&!_e.done&&(ye=ve.return)&&ye.call(ve)}finally{if(Pe)throw Pe.error}}return we},__spreadArray=globalThis&&globalThis.__spreadArray||function(oe,he){for(var ye=0,ve=he.length,_e=oe.length;ye<ve;ye++,_e++)oe[_e]=he[ye];return oe},SuperJSON=function(){function oe(){this.classRegistry=new ClassRegistry,this.symbolRegistry=new Registry(function(he){var ye;return(ye=he.description)!==null&&ye!==void 0?ye:""}),this.customTransformerRegistry=new CustomTransformerRegistry,this.allowedErrorProps=[]}return oe.prototype.serialize=function(he){var ye=new Map,ve=walker(he,ye,this),_e={json:ve.transformedValue};ve.annotations&&(_e.meta=__assign(__assign({},_e.meta),{values:ve.annotations}));var we=generateReferentialEqualityAnnotations(ye);return we&&(_e.meta=__assign(__assign({},_e.meta),{referentialEqualities:we})),_e},oe.prototype.deserialize=function(he){var ye=he.json,ve=he.meta,_e=copy(ye);return ve?.values&&(_e=applyValueAnnotations(_e,ve.values,this)),ve?.referentialEqualities&&(_e=applyReferentialEqualityAnnotations(_e,ve.referentialEqualities)),_e},oe.prototype.stringify=function(he){return JSON.stringify(this.serialize(he))},oe.prototype.parse=function(he){return this.deserialize(JSON.parse(he))},oe.prototype.registerClass=function(he,ye){this.classRegistry.register(he,ye)},oe.prototype.registerSymbol=function(he,ye){this.symbolRegistry.register(he,ye)},oe.prototype.registerCustom=function(he,ye){this.customTransformerRegistry.register(__assign({name:ye},he))},oe.prototype.allowErrorProps=function(){for(var he,ye=[],ve=0;ve<arguments.length;ve++)ye[ve]=arguments[ve];(he=this.allowedErrorProps).push.apply(he,__spreadArray([],__read$1(ye)))},oe.defaultInstance=new oe,oe.serialize=oe.defaultInstance.serialize.bind(oe.defaultInstance),oe.deserialize=oe.defaultInstance.deserialize.bind(oe.defaultInstance),oe.stringify=oe.defaultInstance.stringify.bind(oe.defaultInstance),oe.parse=oe.defaultInstance.parse.bind(oe.defaultInstance),oe.registerClass=oe.defaultInstance.registerClass.bind(oe.defaultInstance),oe.registerSymbol=oe.defaultInstance.registerSymbol.bind(oe.defaultInstance),oe.registerCustom=oe.defaultInstance.registerCustom.bind(oe.defaultInstance),oe.allowErrorProps=oe.defaultInstance.allowErrorProps.bind(oe.defaultInstance),oe}();SuperJSON.serialize;SuperJSON.deserialize;SuperJSON.stringify;SuperJSON.parse;SuperJSON.registerClass;SuperJSON.registerCustom;SuperJSON.registerSymbol;SuperJSON.allowErrorProps;function identity$3(oe){return oe}function pipeFromArray(oe){return oe.length===0?identity$3:oe.length===1?oe[0]:function(ye){return oe.reduce((ve,_e)=>_e(ve),ye)}}function observable(oe){const he={subscribe(ye){let ve=null,_e=!1,we=!1,Pe=!1;function Ie(){if(ve===null){Pe=!0;return}we||(we=!0,typeof ve=="function"?ve():ve&&ve.unsubscribe())}return ve=oe({next(Re){_e||ye.next?.(Re)},error(Re){_e||(_e=!0,ye.error?.(Re),Ie())},complete(){_e||(_e=!0,ye.complete?.(),Ie())}}),Pe&&Ie(),{unsubscribe:Ie}},pipe(...ye){return pipeFromArray(ye)(he)}};return he}function share(oe){return he=>{let ye=0,ve=null;const _e=[];function we(){ve||(ve=he.subscribe({next(Ie){for(const Re of _e)Re.next?.(Ie)},error(Ie){for(const Re of _e)Re.error?.(Ie)},complete(){for(const Ie of _e)Ie.complete?.()}}))}function Pe(){if(ye===0&&ve){const Ie=ve;ve=null,Ie.unsubscribe()}}return{subscribe(Ie){return ye++,_e.push(Ie),we(),{unsubscribe(){ye--,Pe();const Re=_e.findIndex(ke=>ke===Ie);Re>-1&&_e.splice(Re,1)}}}}}}class ObservableAbortError extends Error{constructor(he){super(he),this.name="ObservableAbortError",Object.setPrototypeOf(this,ObservableAbortError.prototype)}}function observableToPromise(oe){let he;return{promise:new Promise((ve,_e)=>{let we=!1;function Pe(){we||(we=!0,_e(new ObservableAbortError("This operation was aborted.")),Ie.unsubscribe())}const Ie=oe.subscribe({next(Re){we=!0,ve(Re),Pe()},error(Re){we=!0,_e(Re),Pe()},complete(){we=!0,Pe()}});he=Pe}),abort:he}}function createChain(oe){return observable(he=>{function ye(_e=0,we=oe.op){const Pe=oe.links[_e];if(!Pe)throw new Error("No more links to execute - did you forget to add an ending link?");return Pe({op:we,next(Re){return ye(_e+1,Re)}})}return ye().subscribe(he)})}function isTRPCClientError(oe){return oe instanceof TRPCClientError||oe.name==="TRPCClientError"}class TRPCClientError extends Error{static from(he,ye={}){return he instanceof Error?isTRPCClientError(he)?(ye.meta&&(he.meta={...he.meta,...ye.meta}),he):new TRPCClientError(he.message,{...ye,cause:he,result:null}):new TRPCClientError(he.error.message??"",{...ye,cause:void 0,result:he})}constructor(he,ye){const ve=ye?.cause;super(he,{cause:ve}),this.meta=ye?.meta,this.cause=ve,this.shape=ye?.result?.error,this.data=ye?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,TRPCClientError.prototype)}}const isFunction$3=oe=>typeof oe=="function";function getFetch(oe){if(oe)return oe;if(typeof window<"u"&&isFunction$3(window.fetch))return window.fetch;if(typeof globalThis<"u"&&isFunction$3(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function getAbortController(oe){return oe||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function resolveHTTPLinkOptions(oe){return{url:oe.url,fetch:oe.fetch,AbortController:getAbortController(oe.AbortController)}}function arrayToDict(oe){const he={};for(let ye=0;ye<oe.length;ye++){const ve=oe[ye];he[ye]=ve}return he}const METHOD={query:"GET",mutation:"POST"};function getInput(oe){return"input"in oe?oe.runtime.transformer.serialize(oe.input):arrayToDict(oe.inputs.map(he=>oe.runtime.transformer.serialize(he)))}const getUrl=oe=>{let he=oe.url+"/"+oe.path;const ye=[];if("inputs"in oe&&ye.push("batch=1"),oe.type==="query"){const ve=getInput(oe);ve!==void 0&&ye.push(`input=${encodeURIComponent(JSON.stringify(ve))}`)}return ye.length&&(he+="?"+ye.join("&")),he},getBody=oe=>{if(oe.type==="query")return;const he=getInput(oe);return he!==void 0?JSON.stringify(he):void 0},jsonHttpRequester=oe=>httpRequest({...oe,contentTypeHeader:"application/json",getUrl,getBody});async function fetchHTTPResponse(oe,he){const ye=oe.getUrl(oe),ve=oe.getBody(oe),{type:_e}=oe,we=await oe.headers();/* istanbul ignore if -- @preserve */if(_e==="subscription")throw new Error("Subscriptions should use wsLink");const Pe={...oe.contentTypeHeader?{"content-type":oe.contentTypeHeader}:{},...oe.batchModeHeader?{"trpc-batch-mode":oe.batchModeHeader}:{},...we};return getFetch(oe.fetch)(ye,{method:METHOD[_e],signal:he?.signal,body:ve,headers:Pe})}function httpRequest(oe){const he=oe.AbortController?new oe.AbortController:null,ye={};return{promise:new Promise((we,Pe)=>{fetchHTTPResponse(oe,he).then(Ie=>(ye.response=Ie,Ie.json())).then(Ie=>{ye.responseJSON=Ie,we({json:Ie,meta:ye})}).catch(Ie=>{Pe(TRPCClientError.from(Ie,{meta:ye}))})}),cancel:()=>{he?.abort()}}}function isObject$7(oe){return!!oe&&!Array.isArray(oe)&&typeof oe=="object"}function transformResultInner(oe,he){if("error"in oe){const ve=he.transformer.deserialize(oe.error);return{ok:!1,error:{...oe,error:ve}}}return{ok:!0,result:{...oe.result,...(!oe.result.type||oe.result.type==="data")&&{type:"data",data:he.transformer.deserialize(oe.result.data)}}}}class TransformResultError extends Error{constructor(){super("Unable to transform response from server")}}function transformResult(oe,he){let ye;try{ye=transformResultInner(oe,he)}catch{throw new TransformResultError}if(!ye.ok&&(!isObject$7(ye.error.error)||typeof ye.error.error.code!="number"))throw new TransformResultError;if(ye.ok&&!isObject$7(ye.result))throw new TransformResultError;return ye}const throwFatalError=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function dataLoader(oe){let he=null,ye=null;const ve=()=>{clearTimeout(ye),ye=null,he=null};function _e(Ie){const Re=[[]];let ke=0;for(;;){const Fe=Ie[ke];if(!Fe)break;const Me=Re[Re.length-1];if(Fe.aborted){Fe.reject?.(new Error("Aborted")),ke++;continue}if(oe.validate(Me.concat(Fe).map(ze=>ze.key))){Me.push(Fe),ke++;continue}if(Me.length===0){Fe.reject?.(new Error("Input is too big for a single dispatch")),ke++;continue}Re.push([])}return Re}function we(){const Ie=_e(he);ve();for(const Re of Ie){if(!Re.length)continue;const ke={items:Re,cancel:throwFatalError};for(const ze of Re)ze.batch=ke;const Fe=(ze,He)=>{const Ve=ke.items[ze];Ve.resolve?.(He),Ve.batch=null,Ve.reject=null,Ve.resolve=null},{promise:Me,cancel:je}=oe.fetch(ke.items.map(ze=>ze.key),Fe);ke.cancel=je,Me.then(ze=>{for(let He=0;He<ze.length;He++){const Ve=ze[He];Fe(He,Ve)}for(const He of ke.items)He.reject?.(new Error("Missing result")),He.batch=null}).catch(ze=>{for(const He of ke.items)He.reject?.(ze),He.batch=null})}}function Pe(Ie){const Re={aborted:!1,key:Ie,batch:null,resolve:throwFatalError,reject:throwFatalError},ke=new Promise((Me,je)=>{Re.reject=je,Re.resolve=Me,he||(he=[]),he.push(Re)});return ye||(ye=setTimeout(we)),{promise:ke,cancel:()=>{Re.aborted=!0,Re.batch?.items.every(Me=>Me.aborted)&&(Re.batch.cancel(),Re.batch=null)}}}return{load:Pe}}function createHTTPBatchLink(oe){return function(ye){const ve=resolveHTTPLinkOptions(ye),_e=ye.maxURLLength??1/0;return we=>{const Pe=Me=>{const je=He=>{if(_e===1/0)return!0;const Ve=He.map(nt=>nt.path).join(","),Qe=He.map(nt=>nt.input);return getUrl({...ve,runtime:we,type:Me,path:Ve,inputs:Qe}).length<=_e},ze=oe({...ve,runtime:we,type:Me,opts:ye});return{validate:je,fetch:ze}},Ie=dataLoader(Pe("query")),Re=dataLoader(Pe("mutation")),ke=dataLoader(Pe("subscription")),Fe={query:Ie,subscription:ke,mutation:Re};return({op:Me})=>observable(je=>{const ze=Fe[Me.type],{promise:He,cancel:Ve}=ze.load(Me);let Qe;return He.then(tt=>{Qe=tt;const nt=transformResult(tt.json,we);if(!nt.ok){je.error(TRPCClientError.from(nt.error,{meta:tt.meta}));return}je.next({context:tt.meta,result:nt.result}),je.complete()}).catch(tt=>{je.error(TRPCClientError.from(tt,{meta:Qe?.meta}))}),()=>{Ve()}})}}}const batchRequester=oe=>he=>{const ye=he.map(Pe=>Pe.path).join(","),ve=he.map(Pe=>Pe.input),{promise:_e,cancel:we}=jsonHttpRequester({...oe,path:ye,inputs:ve,headers(){return oe.opts.headers?typeof oe.opts.headers=="function"?oe.opts.headers({opList:he}):oe.opts.headers:{}}});return{promise:_e.then(Pe=>(Array.isArray(Pe.json)?Pe.json:he.map(()=>Pe.json)).map(ke=>({meta:Pe.meta,json:ke}))),cancel:we}},httpBatchLink=createHTTPBatchLink(batchRequester);class TRPCUntypedClient{$request({type:he,input:ye,path:ve,context:_e={}}){return createChain({links:this.links,op:{id:++this.requestId,type:he,path:ve,input:ye,context:_e}}).pipe(share())}requestAsPromise(he){const ye=this.$request(he),{promise:ve,abort:_e}=observableToPromise(ye);return new Promise((Pe,Ie)=>{he.signal?.addEventListener("abort",_e),ve.then(Re=>{Pe(Re.result.data)}).catch(Re=>{Ie(TRPCClientError.from(Re))})})}query(he,ye,ve){return this.requestAsPromise({type:"query",path:he,input:ye,context:ve?.context,signal:ve?.signal})}mutation(he,ye,ve){return this.requestAsPromise({type:"mutation",path:he,input:ye,context:ve?.context,signal:ve?.signal})}subscription(he,ye,ve){return this.$request({type:"subscription",path:he,input:ye,context:ve?.context}).subscribe({next(we){we.result.type==="started"?ve.onStarted?.():we.result.type==="stopped"?ve.onStopped?.():ve.onData?.(we.result.data)},error(we){ve.onError?.(we)},complete(){ve.onComplete?.()}})}constructor(he){this.requestId=0;const ye=(()=>{const ve=he.transformer;return ve?"input"in ve?he.transformer:{input:ve,output:ve}:{input:{serialize:_e=>_e,deserialize:_e=>_e},output:{serialize:_e=>_e,deserialize:_e=>_e}}})();this.runtime={transformer:{serialize:ve=>ye.input.serialize(ve),deserialize:ve=>ye.output.deserialize(ve)},combinedTransformer:ye},this.links=he.links.map(ve=>ve(this.runtime))}}const clientCallTypeMap={query:"query",mutate:"mutation",subscribe:"subscription"},clientCallTypeToProcedureType=oe=>clientCallTypeMap[oe];function createTRPCClientProxy(oe){return createFlatProxy(he=>oe.hasOwnProperty(he)?oe[he]:he==="__untypedClient"?oe:createRecursiveProxy(({path:ye,args:ve})=>{const _e=[he,...ye],we=clientCallTypeToProcedureType(_e.pop()),Pe=_e.join(".");return oe[we](Pe,...ve)}))}function createTRPCProxyClient(oe){const he=new TRPCUntypedClient(oe);return createTRPCClientProxy(he)}function g$2({url:oe}){return createTRPCProxyClient({transformer:SuperJSON,links:[httpBatchLink({url:oe})]})}function s$4({url:oe}){return{getLogs:async he=>{try{let ye=encodeURIComponent(JSON.stringify(he)),ve=new URL(oe).origin,_e=await(await fetch(`${ve}/api/logs?input=${ye}`,{method:"GET"})).json();return i$2(_e)?{ok:{..._e,blockNumber:BigInt(_e.blockNumber)}}:{error:_e}}catch(ye){return{error:ye}}}}}function i$2(oe){return oe&&typeof oe.blockNumber=="string"&&Array.isArray(oe.logs)}var t$1="event Store_SetRecord(bytes32 indexed tableId, bytes32[] keyTuple, bytes staticData, bytes32 encodedLengths, bytes dynamicData)",o$1="event Store_SpliceStaticData(bytes32 indexed tableId, bytes32[] keyTuple, uint48 start, bytes data)",s$3="event Store_SpliceDynamicData(bytes32 indexed tableId, bytes32[] keyTuple, uint48 start, uint40 deleteCount, bytes32 encodedLengths, bytes data)",r$1="event Store_DeleteRecord(bytes32 indexed tableId, bytes32[] keyTuple)",e$1=[t$1,o$1,s$3,r$1],I$2=parseAbi(e$1),s$2=m$2({storeImportPath:"../../",namespace:"store",userTypes:{ResourceId:{filePath:"./src/ResourceId.sol",internalType:"bytes32"},FieldLayout:{filePath:"./src/FieldLayout.sol",internalType:"bytes32"},Schema:{filePath:"./src/Schema.sol",internalType:"bytes32"}},tables:{StoreHooks:{keySchema:{tableId:"ResourceId"},valueSchema:{hooks:"bytes21[]"}},Tables:{keySchema:{tableId:"ResourceId"},valueSchema:{fieldLayout:"FieldLayout",keySchema:"Schema",valueSchema:"Schema",abiEncodedKeyNames:"bytes",abiEncodedFieldNames:"bytes"}},ResourceIds:{keySchema:{resourceId:"ResourceId"},valueSchema:{exists:"bool"}},Hooks:{keySchema:{resourceId:"ResourceId"},valueSchema:{hooks:"bytes21[]"},tableIdArgument:!0}}}),a$3=m$2({worldImportPath:"../../",worldgenDirectory:"interfaces",worldInterfaceName:"IBaseWorld",namespace:"world",userTypes:{ResourceId:{filePath:"@latticexyz/store/src/ResourceId.sol",internalType:"bytes32"}},tables:{NamespaceOwner:{keySchema:{namespaceId:"ResourceId"},valueSchema:{owner:"address"}},ResourceAccess:{keySchema:{resourceId:"ResourceId",caller:"address"},valueSchema:{access:"bool"}},InstalledModules:{keySchema:{moduleName:"bytes16",argumentsHash:"bytes32"},valueSchema:{moduleAddress:"address"}},UserDelegationControl:{keySchema:{delegator:"address",delegatee:"address"},valueSchema:{delegationControlId:"ResourceId"}},NamespaceDelegationControl:{keySchema:{namespaceId:"ResourceId"},valueSchema:{delegationControlId:"ResourceId"}},Balances:{keySchema:{namespaceId:"ResourceId"},valueSchema:{balance:"uint256"}},Systems:{keySchema:{systemId:"ResourceId"},valueSchema:{system:"address",publicAccess:"bool"},dataStruct:!1},SystemRegistry:{keySchema:{system:"address"},valueSchema:{systemId:"ResourceId"}},SystemHooks:{keySchema:{systemId:"ResourceId"},valueSchema:"bytes21[]"},FunctionSelectors:{keySchema:{functionSelector:"bytes4"},valueSchema:{systemId:"ResourceId",systemFunctionSelector:"bytes4"},dataStruct:!1},FunctionSignatures:{keySchema:{functionSelector:"bytes4"},valueSchema:{functionSignature:"string"},offchainOnly:!0}},excludeSystems:["StoreRegistrationSystem"]}),l$1=class extends r$5{name="InvalidHexValueError";constructor(he){super(`Hex value "${he}" is an odd length (${he.length-2}). It must be an even length.`)}},S$1=class extends r$5{name="InvalidHexLengthForSchemaError";constructor(he){super(`Hex value "${he}" has length of ${he.length-2}, but expected length of 64 for a schema.`)}},g$1=class extends r$5{name="InvalidHexLengthForPackedCounterError";constructor(he){super(`Hex value "${he}" has length of ${he.length-2}, but expected length of 64 for a packed counter.`)}},A$1=class extends r$5{name="InvalidHexLengthForStaticFieldError";constructor(he,ye){super(`Hex value "${ye}" has length of ${ye.length-2}, but expected length of ${g$3[he]*2} for ${he} type.`)}},v=class extends r$5{name="InvalidHexLengthForArrayFieldError";constructor(oe,he){super(`Hex value "${he}" has length of ${he.length-2}, but expected a multiple of ${g$3[oe]*2} for ${oe}[] type.`)}},H$1=class extends r$5{name="SchemaStaticLengthMismatchError";constructor(he,ye,ve){super(`Schema "${he}" static data length (${ye}) did not match the summed length of all static fields (${ve}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`)}},F=class extends r$5{name="PackedCounterLengthMismatchError";constructor(oe,he,ye){super(`PackedCounter "${oe}" total bytes length (${he}) did not match the summed length of all field byte lengths (${ye}).`)}};function y$1(oe,he){if(he.length>3&&he.length%2!==0)throw new l$1(he);if((he.length-2)/2!==g$3[oe])throw new A$1(oe,he);switch(oe){case"uint8":case"uint16":case"uint24":case"uint32":case"uint40":case"uint48":case"uint56":case"uint64":case"uint72":case"uint80":case"uint88":case"uint96":case"uint104":case"uint112":case"uint120":case"uint128":case"uint136":case"uint144":case"uint152":case"uint160":case"uint168":case"uint176":case"uint184":case"uint192":case"uint200":case"uint208":case"uint216":case"uint224":case"uint232":case"uint240":case"uint248":case"uint256":case"int8":case"int16":case"int24":case"int32":case"int40":case"int48":case"int56":case"int64":case"int72":case"int80":case"int88":case"int96":case"int104":case"int112":case"int120":case"int128":case"int136":case"int144":case"int152":case"int160":case"int168":case"int176":case"int184":case"int192":case"int200":case"int208":case"int216":case"int224":case"int232":case"int240":case"int248":case"int256":{let ye=hexToBigInt(he,{signed:oe.startsWith("int")}),ve=typeof a$5[oe];if(ve==="number")return Number(ye);if(ve==="bigint")return ye;throw new Error(`Unexpected default value type (${ve}) for ABI type (${oe})`)}case"bytes1":case"bytes2":case"bytes3":case"bytes4":case"bytes5":case"bytes6":case"bytes7":case"bytes8":case"bytes9":case"bytes10":case"bytes11":case"bytes12":case"bytes13":case"bytes14":case"bytes15":case"bytes16":case"bytes17":case"bytes18":case"bytes19":case"bytes20":case"bytes21":case"bytes22":case"bytes23":case"bytes24":case"bytes25":case"bytes26":case"bytes27":case"bytes28":case"bytes29":case"bytes30":case"bytes31":case"bytes32":return he;case"bool":return hexToBool(he);case"address":return getAddress(he)}return a$4(oe,`Unsupported static ABI type: ${oe}`)}function f$2(oe,he){if(oe==="bytes")return he;if(oe==="string")return hexToString(he);if(he.length>3&&he.length%2!==0)throw new l$1(he);let ye=(he.length-2)/2;switch(oe){case"uint8[]":case"uint16[]":case"uint24[]":case"uint32[]":case"uint40[]":case"uint48[]":case"uint56[]":case"uint64[]":case"uint72[]":case"uint80[]":case"uint88[]":case"uint96[]":case"uint104[]":case"uint112[]":case"uint120[]":case"uint128[]":case"uint136[]":case"uint144[]":case"uint152[]":case"uint160[]":case"uint168[]":case"uint176[]":case"uint184[]":case"uint192[]":case"uint200[]":case"uint208[]":case"uint216[]":case"uint224[]":case"uint232[]":case"uint240[]":case"uint248[]":case"uint256[]":case"int8[]":case"int16[]":case"int24[]":case"int32[]":case"int40[]":case"int48[]":case"int56[]":case"int64[]":case"int72[]":case"int80[]":case"int88[]":case"int96[]":case"int104[]":case"int112[]":case"int120[]":case"int128[]":case"int136[]":case"int144[]":case"int152[]":case"int160[]":case"int168[]":case"int176[]":case"int184[]":case"int192[]":case"int200[]":case"int208[]":case"int216[]":case"int224[]":case"int232[]":case"int240[]":case"int248[]":case"int256[]":case"bytes1[]":case"bytes2[]":case"bytes3[]":case"bytes4[]":case"bytes5[]":case"bytes6[]":case"bytes7[]":case"bytes8[]":case"bytes9[]":case"bytes10[]":case"bytes11[]":case"bytes12[]":case"bytes13[]":case"bytes14[]":case"bytes15[]":case"bytes16[]":case"bytes17[]":case"bytes18[]":case"bytes19[]":case"bytes20[]":case"bytes21[]":case"bytes22[]":case"bytes23[]":case"bytes24[]":case"bytes25[]":case"bytes26[]":case"bytes27[]":case"bytes28[]":case"bytes29[]":case"bytes30[]":case"bytes31[]":case"bytes32[]":case"bool[]":case"address[]":{let ve=r$3(oe),_e=g$3[ve];if(ye%_e!==0)throw new v(ve,he);return new Array(ye/_e).fill(void 0).map((we,Pe)=>{let Ie=sliceHex(he,Pe*_e,(Pe+1)*_e);return y$1(ve,Ie)})}}return a$4(oe,`Unsupported dynamic ABI type: ${oe}`)}function w$1(oe){if(oe.length!==66)throw new g$1(oe);let he=y$1("uint56",N$3(oe,32-7,32)),ye=f$2("uint40[]",N$3(oe,0,32-7)),ve=Object.freeze([...ye].reverse()),_e=BigInt(ve.reduce((we,Pe)=>we+Pe,0));if(_e!==he)throw new F(oe,he,_e);return{totalByteLength:he,fieldByteLengths:ve}}function T(oe){return oe.reduce((he,ye)=>he+g$3[ye],0)}function j$2(oe,he){let ye=[],ve=0;oe.staticFields.forEach(Pe=>{let Ie=g$3[Pe],Re=y$1(Pe,N$3(he,ve,ve+Ie));ve+=Ie,ye.push(Re)});let _e=T(oe.staticFields),we=ve;if(we!==_e&&console.warn("Decoded static data length does not match value schema's expected static data length. Data may get corrupted. Is `getStaticByteLength` outdated?",{expectedLength:_e,actualLength:we,bytesOffset:ve}),oe.dynamicFields.length>0){let Pe=w$1(N$3(he,ve,ve+32));ve+=32,oe.dynamicFields.forEach((Re,ke)=>{let Fe=Pe.fieldByteLengths[ke];if(Fe>0){let Me=f$2(Re,N$3(he,ve,ve+Fe));ve+=Fe,ye.push(Me)}else ye.push(s$5[Re])});let Ie=ve-32-we;BigInt(Ie)!==Pe.totalByteLength&&console.warn("Decoded dynamic data length does not match data layout's expected data length. Data may get corrupted. Did the data layout change?",{expectedLength:Pe.totalByteLength,actualLength:Ie,bytesOffset:ve})}return ye}function E$1(oe,he){let ye=Object.values(oe).filter(f$5),ve=Object.values(oe).filter(x$2),_e=j$2({staticFields:ye,dynamicFields:ve},he);return Object.fromEntries(Object.keys(oe).map((we,Pe)=>[we,_e[Pe]]))}function zt(oe,{staticData:he,encodedLengths:ye,dynamicData:ve}){return E$1(oe,concatHex([N$3(he,0,T(Object.values(oe).filter(f$5))),ye,ve]))}function p$2(oe,he){if(b$1(oe)&&Array.isArray(he)){let ye=r$3(oe);return he.length===0?"0x":encodePacked(he.map(()=>ye),he)}return encodePacked([oe],[he])}function O(oe,he){return he.map((ye,ve)=>encodeAbiParameters([{type:oe.staticFields[ve]}],[ye]))}function Xt(oe,he){let ye=Object.values(oe).filter(f$5);return O({staticFields:ye,dynamicFields:[]},Object.values(he))}function K$3(oe){let he=oe.map(size$1).reverse(),ye=he.reduce((ve,_e)=>ve+BigInt(_e),0n);return padHex(concatHex([...he.map(ve=>p$2("uint40",ve)),p$2("uint56",ye)]),{size:32,dir:"left"})}function z(oe,he){let ye=Object.entries(oe),ve=ye.filter(([,Re])=>f$5(Re)),_e=ye.filter(([,Re])=>x$2(Re)),we=ve.map(([Re,ke])=>p$2(ke,he[Re])),Pe=_e.map(([Re,ke])=>p$2(ke,he[Re])),Ie=K$3(Pe);return{staticData:concatHex(we),encodedLengths:Ie,dynamicData:concatHex(Pe)}}function L$1(oe){if(oe.length!==66)throw new S$1(oe);let he=hexToNumber$1(sliceHex(oe,0,2)),ye=hexToNumber$1(sliceHex(oe,2,3)),ve=hexToNumber$1(sliceHex(oe,3,4)),_e=[],we=[];for(let Ie=4;Ie<4+ye;Ie++){let Re=hexToNumber$1(sliceHex(oe,Ie,Ie+1));_e.push(i$4[Re])}for(let Ie=4+ye;Ie<4+ye+ve;Ie++){let Re=hexToNumber$1(sliceHex(oe,Ie,Ie+1));we.push(i$4[Re])}let Pe=_e.reduce((Ie,Re)=>Ie+g$3[Re],0);if(Pe!==he)throw console.warn(`Schema "${oe}" static data length (${he}) did not match the summed length of all static fields (${Pe}). Is \`staticAbiTypeToByteLength\` up to date with Solidity schema types?`),new H$1(oe,he,Pe);return{staticFields:_e,dynamicFields:we}}function P$2(oe){let he=oe.staticFields.map(ve=>i$4.indexOf(ve)),ye=oe.dynamicFields.map(ve=>i$4.indexOf(ve));return`0x${[T(oe.staticFields).toString(16).padStart(4,"0"),oe.staticFields.length.toString(16).padStart(2,"0"),oe.dynamicFields.length.toString(16).padStart(2,"0"),...he.map(ve=>ve.toString(16).padStart(2,"0")),...ye.map(ve=>ve.toString(16).padStart(2,"0"))].join("").padEnd(64,"0")}`}function zi(oe){return P$2({staticFields:Object.values(oe).filter(f$5),dynamicFields:[]})}function Ni(oe){let he=Object.values(oe).filter(f$5),ye=Object.values(oe).filter(x$2),ve=he.map(_e=>g$3[_e]);return`0x${[ve.reduce((_e,we)=>_e+we,0).toString(16).padStart(4,"0"),he.length.toString(16).padStart(2,"0"),ye.length.toString(16).padStart(2,"0"),...ve.map(_e=>_e.toString(16).padStart(2,"0"))].join("").padEnd(64,"0")}`}function Gi(oe){return P$2({staticFields:Object.values(oe).filter(f$5),dynamicFields:Object.values(oe).filter(x$2)})}var s$1=p$4("mud:block-events-stream"),k=p$4("mud:block-events-stream");s$1.log=console.debug.bind(console);k.log=console.error.bind(console);async function*a$2({maxBlockRange:oe=1000n,maxRetryCount:he=3,publicClient:ye,...ve}){let _e=ve.fromBlock,we=f$4(oe,ve.toBlock-_e),Pe=0;for(;_e<=ve.toBlock;)try{let Ie=_e+we;s$1("getting logs",{fromBlock:_e,toBlock:Ie});let Re=await ye.getLogs({...ve,fromBlock:_e,toBlock:Ie,strict:!0});yield{fromBlock:_e,toBlock:Ie,logs:Re},_e=Ie+1n,we=f$4(oe,ve.toBlock-_e)}catch(Ie){if(s$1("error getting logs:",String(Ie)),!(Ie instanceof Error))throw Ie;if(Ie.message.includes("rate limit exceeded")&&Pe<he){let Re=2*Pe;s$1(`too many requests, retrying in ${Re}s`,Ie),await O$2(1e3*Re),Pe+=1;continue}if(Ie.message.includes("block range exceeded")){if(we/=2n,we<=0n)throw new Error("can't reduce block range any further");s$1("block range exceeded, trying a smaller block range",Ie);continue}throw Ie}}function G$1({publicClient:oe,blockTag:he}){return new Observable(function(ye){return oe.watchBlocks({blockTag:he,emitOnBegin:!0,onBlock:ve=>ye.next(ve),onError:ve=>ye.error(ve)})})}function q$2(oe,he){let ye=Array.from(new Set(oe.map(we=>we.blockNumber)));ye.sort(m$3);let ve=ye.map(we=>{let Pe=oe.filter(Ie=>Ie.blockNumber===we);if(Pe.length&&(Pe.sort((Ie,Re)=>Ie.logIndex<Re.logIndex?-1:Ie.logIndex>Re.logIndex?1:0),!!Pe.length))return{blockNumber:we,logs:Pe}}).filter(w$3),_e=ye.length>0?ye[ye.length-1]:null;return he!=null&&(_e==null||he>_e)&&ve.push({blockNumber:he,logs:[]}),ve}function S(oe){return R$2(oe,he=>he.type)}var i$1=Ce(s$2).tables,ne$1=Ce(a$3).tables,W$2=[...Object.values(i$1),...Object.values(ne$1)].map(oe=>oe.tableId);i$1.Tables.tableId;var Ke$1={...i$1.Tables,keySchema:S(i$1.Tables.keySchema),valueSchema:S(i$1.Tables.valueSchema)},M$2=(oe=>(oe.INITIALIZE="initialize",oe.SNAPSHOT="snapshot",oe.RPC="rpc",oe.LIVE="live",oe))(M$2||{});function K$2(oe){return{eventName:"Store_SetRecord",address:oe.address,args:{tableId:i$1.Tables.tableId,keyTuple:Xt(S(i$1.Tables.keySchema),{tableId:oe.tableId}),...z(S(i$1.Tables.valueSchema),{fieldLayout:Ni(oe.valueSchema),keySchema:zi(oe.keySchema),valueSchema:Gi(oe.valueSchema),abiEncodedKeyNames:encodeAbiParameters(parseAbiParameters("string[]"),[Object.keys(oe.keySchema)]),abiEncodedFieldNames:encodeAbiParameters(parseAbiParameters("string[]"),[Object.keys(oe.valueSchema)])})}}}function L(oe){return[...oe.map(K$2),...oe.flatMap(he=>he.records.map(ye=>({eventName:"Store_SetRecord",address:he.address,args:{tableId:he.tableId,keyTuple:Xt(he.keySchema,ye.key),...z(he.valueSchema,ye.value)}})))]}var y=p$4("mud:store-sync"),be=p$4("mud:store-sync");y.log=console.debug.bind(console);be.log=console.error.bind(console);var I$1=y.extend("getSnapshot");async function _({chainId:oe,address:he,filters:ye,initialState:ve,initialBlockLogs:_e,indexerUrl:we}){if(_e&&ve)throw new Error("Only one of initialBlockLogs or initialState should be provided.");if(_e)return _e;if(ve)return{blockNumber:ve.blockNumber,logs:L(ve.tables)};if(!we)return;let Pe=new URL(we).origin,Ie=s$4({url:Pe}),Re=g$2({url:`${Pe}/trpc`});I$1("fetching logs from indexer via get",we);let ke=await Ie.getLogs({chainId:oe,address:he,filters:ye});if(yr(ke))return ke.ok;console.warn(ke.error);try{return I$1("fetching logs from indexer via trpc",we),await Re.getLogs.query({chainId:oe,address:he,filters:ye})}catch(Fe){if(Fe instanceof TRPCClientError){I$1("failed to fetch logs, fetching table records instead",we);let Me=await Re.findAll.query({chainId:oe,address:he,filters:ye});return console.warn(`The indexer at ${we} appears to be outdated. Consider upgrading to a recent version for better performance.`),Me.blockNumber==null?void 0:{blockNumber:Me.blockNumber,logs:L(Me.tables)}}throw Fe}}async function*q$1({storageAdapter:oe,logFilter:he,...ye}){for await(let{logs:ve,toBlock:_e}of a$2(ye)){let we=q$2(he?ve.filter(he):ve,_e);for(let Pe of we)await oe(Pe),yield Pe}}var d$1=y.extend("createStoreSync"),Ee=W$2.map(oe=>({tableId:oe}));async function Et({storageAdapter:oe,onProgress:he,publicClient:ye,address:ve,filters:_e=[],tableIds:we=[],startBlock:Pe=0n,maxBlockRange:Ie,initialState:Re,initialBlockLogs:ke,indexerUrl:Fe}){let Me=_e.length||we.length?[..._e,...we.map(At=>({tableId:At})),...Ee]:[],je=Me.length?At=>Me.some(Bt=>Bt.tableId===At.args.tableId&&(Bt.key0==null||Bt.key0===At.args.keyTuple[0])&&(Bt.key1==null||Bt.key1===At.args.keyTuple[1])):void 0,ze=defer(async()=>{let At=ye.chain?.id??await ye.getChainId();he?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Getting snapshot"});let Bt=await _({chainId:At,address:ve,filters:Me,initialState:Re,initialBlockLogs:ke,indexerUrl:Fe});return he?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:0n,message:"Got snapshot"}),Bt}).pipe(catchError(At=>(d$1("error getting snapshot",At),he?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:Pe,message:"Failed to get snapshot"}),of(void 0))),shareReplay(1)),He=ze.pipe(filter(w$3),concatMap(async({blockNumber:At,logs:Bt})=>{d$1("hydrating",Bt.length,"logs to block",At),he?.({step:"snapshot",percentage:0,latestBlockNumber:0n,lastBlockNumberProcessed:At,message:"Hydrating from snapshot"});let ar=Math.max(100,Math.floor(Bt.length/50)),tr=Array.from(y$3(Bt,ar));for(let[wr,Pt]of tr.entries())await oe({blockNumber:At,logs:Pt}),he?.({step:"snapshot",percentage:(wr+Pt.length)/tr.length*100,latestBlockNumber:0n,lastBlockNumberProcessed:At,message:"Hydrating from snapshot"});return he?.({step:"snapshot",percentage:100,latestBlockNumber:0n,lastBlockNumberProcessed:At,message:"Hydrated from snapshot"}),{blockNumber:At,logs:Bt}}),shareReplay(1)),Ve=ze.pipe(map(At=>i$3(At?.blockNumber??0n,Pe)),tap(At=>d$1("starting sync from block",At))),Qe=G$1({publicClient:ye,blockTag:"latest"}).pipe(shareReplay(1)),tt=Qe.pipe(map(At=>At.number),tap(At=>{d$1("latest block number",At)}),shareReplay(1)),nt=null,ct=null,vt=null,ht=combineLatest([Ve,tt]).pipe(map(([At,Bt])=>({startBlock:At,endBlock:Bt})),tap(At=>{nt=At.startBlock,ct=At.endBlock}),concatMap(At=>{let Bt=q$1({publicClient:ye,address:ve,events:I$2,maxBlockRange:Ie,fromBlock:vt?i$3(At.startBlock,vt+1n):At.startBlock,toBlock:At.endBlock,storageAdapter:oe,logFilter:je});return from(Bt)}),tap(({blockNumber:At,logs:Bt})=>{if(d$1("stored",Bt.length,"logs for block",At),vt=At,nt!=null&&ct!=null)if(At<ct){let ar=ct-nt,tr=vt-nt;he?.({step:"rpc",percentage:Number(tr*1000n/ar)/10,latestBlockNumber:ct,lastBlockNumberProcessed:vt,message:"Hydrating from RPC"})}else he?.({step:"live",percentage:100,latestBlockNumber:ct,lastBlockNumberProcessed:vt,message:"All caught up!"})}),share$1()),lt=concat$1(He,ht).pipe(share$1()),St=10,Rt=lt.pipe(scan((At,Bt)=>[Bt,...At].slice(0,St),[]),filter(At=>At.length>0),shareReplay(1));async function er(At){d$1("waiting for tx",At);let Bt=Rt.pipe(concatMap(async ar=>{if(ar.flatMap(tr=>tr.logs.map(wr=>wr.transactionHash).filter(w$3)).includes(At))return!0;try{let tr=ar[0];d$1("fetching tx receipt for block",tr.blockNumber);let wr=await ye.getTransactionReceipt({hash:At});return tr.blockNumber>=wr.blockNumber}catch(tr){if(tr instanceof TransactionReceiptNotFoundError)return!1;throw tr}}),tap(ar=>d$1("has tx?",At,ar)));await firstValueFrom(Bt.pipe(filter(identity$4)))}return{latestBlock$:Qe,latestBlockNumber$:tt,storedBlockLogs$:lt,waitForTransaction:er}}function x(oe){return oe.eventName==="Store_SetRecord"&&oe.args.tableId===i$1.Tables.tableId}function V(oe){let[he,...ye]=oe.args.keyTuple;ye.length&&console.warn("registerSchema event is expected to have only one key in key tuple, but got multiple",oe);let ve=I$3(he),_e=E$1(Ke$1.valueSchema,concatHex([oe.args.staticData,oe.args.encodedLengths,oe.args.dynamicData])),we=L$1(_e.keySchema),Pe=L$1(_e.valueSchema),Ie=decodeAbiParameters(parseAbiParameters("string[]"),_e.abiEncodedKeyNames)[0],Re=decodeAbiParameters(parseAbiParameters("string[]"),_e.abiEncodedFieldNames)[0],ke=[...Pe.staticFields,...Pe.dynamicFields];return{address:oe.address,tableId:he,namespace:ve.namespace,name:ve.name,keySchema:Object.fromEntries(we.staticFields.map((Fe,Me)=>[Ie[Me],Fe])),valueSchema:Object.fromEntries(ke.map((Fe,Me)=>[Re[Me],Fe]))}}function K$1(oe){if(!isHex(oe))throw new Error(`entity ${oe} is not a hex string`);let he=size$1(oe);if(he%32!==0)throw new Error(`entity length ${he} is not a multiple of 32 bytes`);return new Array(he/32).fill(0).map((ye,ve)=>sliceHex(oe,ve*32,(ve+1)*32))}function ft(oe,he){let ye=K$1(he);if(ye.length!==Object.keys(oe).length)throw new Error(`entity key tuple length ${ye.length} does not match key schema length ${Object.keys(oe).length}`);return Object.fromEntries(Object.entries(oe).map(([ve,_e],we)=>[ve,decodeAbiParameters([{type:_e}],ye[we])[0]]))}function u$1(oe){return concatHex(oe)}function w(oe,he){if(Object.keys(oe).length!==Object.keys(he).length)throw new Error(`key length ${Object.keys(he).length} does not match key schema length ${Object.keys(oe).length}`);return u$1(Object.entries(oe).map(([ye,ve])=>encodeAbiParameters([{type:ve}],[he[ye]])))}var p$1=y.extend("recs"),Z=y.extend("reccs");p$1.log=console.debug.bind(console);Z.log=console.error.bind(console);function j$1(oe){return{RegisteredTables:ie$1(oe,{table:P$7.T},{metadata:{componentName:"RegisteredTables"}}),SyncProgress:ie$1(oe,{step:P$7.String,message:P$7.String,percentage:P$7.Number,latestBlockNumber:P$7.BigInt,lastBlockNumberProcessed:P$7.BigInt},{metadata:{componentName:"SyncProgress"}})}}function N$1(oe){return w({address:"address",namespace:"bytes16",name:"bytes16"},{address:oe.address,namespace:stringToHex(oe.namespace,{size:16}),name:stringToHex(oe.name,{size:16})})}var f$1=u$1([]),W$1={uint8:P$7.Number,uint16:P$7.Number,uint24:P$7.Number,uint32:P$7.Number,uint40:P$7.Number,uint48:P$7.Number,uint56:P$7.BigInt,uint64:P$7.BigInt,uint72:P$7.BigInt,uint80:P$7.BigInt,uint88:P$7.BigInt,uint96:P$7.BigInt,uint104:P$7.BigInt,uint112:P$7.BigInt,uint120:P$7.BigInt,uint128:P$7.BigInt,uint136:P$7.BigInt,uint144:P$7.BigInt,uint152:P$7.BigInt,uint160:P$7.BigInt,uint168:P$7.BigInt,uint176:P$7.BigInt,uint184:P$7.BigInt,uint192:P$7.BigInt,uint200:P$7.BigInt,uint208:P$7.BigInt,uint216:P$7.BigInt,uint224:P$7.BigInt,uint232:P$7.BigInt,uint240:P$7.BigInt,uint248:P$7.BigInt,uint256:P$7.BigInt,int8:P$7.Number,int16:P$7.Number,int24:P$7.Number,int32:P$7.Number,int40:P$7.Number,int48:P$7.Number,int56:P$7.BigInt,int64:P$7.BigInt,int72:P$7.BigInt,int80:P$7.BigInt,int88:P$7.BigInt,int96:P$7.BigInt,int104:P$7.BigInt,int112:P$7.BigInt,int120:P$7.BigInt,int128:P$7.BigInt,int136:P$7.BigInt,int144:P$7.BigInt,int152:P$7.BigInt,int160:P$7.BigInt,int168:P$7.BigInt,int176:P$7.BigInt,int184:P$7.BigInt,int192:P$7.BigInt,int200:P$7.BigInt,int208:P$7.BigInt,int216:P$7.BigInt,int224:P$7.BigInt,int232:P$7.BigInt,int240:P$7.BigInt,int248:P$7.BigInt,int256:P$7.BigInt,bytes1:P$7.String,bytes2:P$7.String,bytes3:P$7.String,bytes4:P$7.String,bytes5:P$7.String,bytes6:P$7.String,bytes7:P$7.String,bytes8:P$7.String,bytes9:P$7.String,bytes10:P$7.String,bytes11:P$7.String,bytes12:P$7.String,bytes13:P$7.String,bytes14:P$7.String,bytes15:P$7.String,bytes16:P$7.String,bytes17:P$7.String,bytes18:P$7.String,bytes19:P$7.String,bytes20:P$7.String,bytes21:P$7.String,bytes22:P$7.String,bytes23:P$7.String,bytes24:P$7.String,bytes25:P$7.String,bytes26:P$7.String,bytes27:P$7.String,bytes28:P$7.String,bytes29:P$7.String,bytes30:P$7.String,bytes31:P$7.String,bytes32:P$7.String,bool:P$7.Boolean,address:P$7.String,"uint8[]":P$7.NumberArray,"uint16[]":P$7.NumberArray,"uint24[]":P$7.NumberArray,"uint32[]":P$7.NumberArray,"uint40[]":P$7.NumberArray,"uint48[]":P$7.NumberArray,"uint56[]":P$7.BigIntArray,"uint64[]":P$7.BigIntArray,"uint72[]":P$7.BigIntArray,"uint80[]":P$7.BigIntArray,"uint88[]":P$7.BigIntArray,"uint96[]":P$7.BigIntArray,"uint104[]":P$7.BigIntArray,"uint112[]":P$7.BigIntArray,"uint120[]":P$7.BigIntArray,"uint128[]":P$7.BigIntArray,"uint136[]":P$7.BigIntArray,"uint144[]":P$7.BigIntArray,"uint152[]":P$7.BigIntArray,"uint160[]":P$7.BigIntArray,"uint168[]":P$7.BigIntArray,"uint176[]":P$7.BigIntArray,"uint184[]":P$7.BigIntArray,"uint192[]":P$7.BigIntArray,"uint200[]":P$7.BigIntArray,"uint208[]":P$7.BigIntArray,"uint216[]":P$7.BigIntArray,"uint224[]":P$7.BigIntArray,"uint232[]":P$7.BigIntArray,"uint240[]":P$7.BigIntArray,"uint248[]":P$7.BigIntArray,"uint256[]":P$7.BigIntArray,"int8[]":P$7.NumberArray,"int16[]":P$7.NumberArray,"int24[]":P$7.NumberArray,"int32[]":P$7.NumberArray,"int40[]":P$7.NumberArray,"int48[]":P$7.NumberArray,"int56[]":P$7.BigIntArray,"int64[]":P$7.BigIntArray,"int72[]":P$7.BigIntArray,"int80[]":P$7.BigIntArray,"int88[]":P$7.BigIntArray,"int96[]":P$7.BigIntArray,"int104[]":P$7.BigIntArray,"int112[]":P$7.BigIntArray,"int120[]":P$7.BigIntArray,"int128[]":P$7.BigIntArray,"int136[]":P$7.BigIntArray,"int144[]":P$7.BigIntArray,"int152[]":P$7.BigIntArray,"int160[]":P$7.BigIntArray,"int168[]":P$7.BigIntArray,"int176[]":P$7.BigIntArray,"int184[]":P$7.BigIntArray,"int192[]":P$7.BigIntArray,"int200[]":P$7.BigIntArray,"int208[]":P$7.BigIntArray,"int216[]":P$7.BigIntArray,"int224[]":P$7.BigIntArray,"int232[]":P$7.BigIntArray,"int240[]":P$7.BigIntArray,"int248[]":P$7.BigIntArray,"int256[]":P$7.BigIntArray,"bytes1[]":P$7.StringArray,"bytes2[]":P$7.StringArray,"bytes3[]":P$7.StringArray,"bytes4[]":P$7.StringArray,"bytes5[]":P$7.StringArray,"bytes6[]":P$7.StringArray,"bytes7[]":P$7.StringArray,"bytes8[]":P$7.StringArray,"bytes9[]":P$7.StringArray,"bytes10[]":P$7.StringArray,"bytes11[]":P$7.StringArray,"bytes12[]":P$7.StringArray,"bytes13[]":P$7.StringArray,"bytes14[]":P$7.StringArray,"bytes15[]":P$7.StringArray,"bytes16[]":P$7.StringArray,"bytes17[]":P$7.StringArray,"bytes18[]":P$7.StringArray,"bytes19[]":P$7.StringArray,"bytes20[]":P$7.StringArray,"bytes21[]":P$7.StringArray,"bytes22[]":P$7.StringArray,"bytes23[]":P$7.StringArray,"bytes24[]":P$7.StringArray,"bytes25[]":P$7.StringArray,"bytes26[]":P$7.StringArray,"bytes27[]":P$7.StringArray,"bytes28[]":P$7.StringArray,"bytes29[]":P$7.StringArray,"bytes30[]":P$7.StringArray,"bytes31[]":P$7.StringArray,"bytes32[]":P$7.StringArray,"bool[]":P$7.T,"address[]":P$7.StringArray,bytes:P$7.String,string:P$7.String};function M$1(oe,he){return ie$1(oe,{...Object.fromEntries(Object.entries(he.valueSchema).map(([ye,{type:ve}])=>[ye,W$1[ve]])),__staticData:P$7.OptionalString,__encodedLengths:P$7.OptionalString,__dynamicData:P$7.OptionalString},{id:he.tableId,metadata:{componentName:he.name,tableName:`${he.namespace}:${he.name}`,keySchema:R$2(he.keySchema,({type:ye})=>ye),valueSchema:R$2(he.valueSchema,({type:ye})=>ye)}})}function B(oe,he){return R$2(he,ye=>M$1(oe,ye))}var mt=Ce(s$2).tables,gt=Ce(a$3).tables;function q({world:oe,tables:he,shouldSkipUpdateStream:ye}){oe.registerEntity({id:f$1});let ve={...B(oe,he),...B(oe,mt),...B(oe,gt),...j$1(oe)};async function _e({logs:we}){let Pe=we.filter(x).map(V);for(let Ie of Pe){let Re=N$1(Ie);le$1(ve.RegisteredTables,Re)?console.warn("table already registered, ignoring",{newTable:Ie,existingTable:g$5(ve.RegisteredTables,Re)?.table}):E$5(ve.RegisteredTables,Re,{table:Ie},{skipUpdateStream:ye?.()})}for(let Ie of we){let{namespace:Re,name:ke}=I$3(Ie.args.tableId),Fe=g$5(ve.RegisteredTables,N$1({address:Ie.address,namespace:Re,name:ke}))?.table;if(!Fe){p$1(`skipping update for unknown table: ${Re}:${ke} at ${Ie.address}`);continue}let Me=oe.components.find(ze=>ze.id===Fe.tableId);if(!Me){p$1(`skipping update for unknown component: ${Fe.tableId} (${Fe.namespace}:${Fe.name}). Available components: ${Object.keys(ve)}`);continue}let je=u$1(Ie.args.keyTuple);if(Ie.eventName==="Store_SetRecord"){let ze=zt(Fe.valueSchema,Ie.args);p$1("setting component",{namespace:Fe.namespace,name:Fe.name,entity:je,value:ze}),E$5(Me,je,{...ze,__staticData:Ie.args.staticData,__encodedLengths:Ie.args.encodedLengths,__dynamicData:Ie.args.dynamicData},{skipUpdateStream:ye?.()})}else if(Ie.eventName==="Store_SpliceStaticData"){let ze=g$5(Me,je),He=ze?.__staticData??"0x",Ve=Ir(He,Ie.args.start,size$1(Ie.args.data),Ie.args.data),Qe=zt(Fe.valueSchema,{staticData:Ve,encodedLengths:ze?.__encodedLengths??"0x",dynamicData:ze?.__dynamicData??"0x"});p$1("setting component via splice static",{namespace:Fe.namespace,name:Fe.name,entity:je,previousStaticData:He,newStaticData:Ve,previousValue:ze,newValue:Qe}),E$5(Me,je,{...Qe,__staticData:Ve},{skipUpdateStream:ye?.()})}else if(Ie.eventName==="Store_SpliceDynamicData"){let ze=g$5(Me,je),He=ze?.__dynamicData??"0x",Ve=Ir(He,Ie.args.start,Ie.args.deleteCount,Ie.args.data),Qe=zt(Fe.valueSchema,{staticData:ze?.__staticData??"0x",encodedLengths:Ie.args.encodedLengths,dynamicData:Ve});p$1("setting component via splice dynamic",{namespace:Fe.namespace,name:Fe.name,entity:je,previousDynamicData:He,newDynamicData:Ve,previousValue:ze,newValue:Qe}),E$5(Me,je,{...Qe,__encodedLengths:Ie.args.encodedLengths,__dynamicData:Ve},{skipUpdateStream:ye?.()})}else Ie.eventName==="Store_DeleteRecord"&&(p$1("deleting component",{namespace:Fe.namespace,name:Fe.name,entity:je}),ue$2(Me,je,{skipUpdateStream:ye?.()}))}}return{storageAdapter:_e,components:ve}}async function Oe({world:oe,config:he,tables:ye,startSync:ve=!0,..._e}){let we={...Ce(he).tables,...ye},{storageAdapter:Pe,components:Ie}=q({world:oe,tables:we,shouldSkipUpdateStream:()=>g$5(Ie.SyncProgress,f$1)?.step!=="live"}),Re=await Et({storageAdapter:Pe,config:he,..._e,onProgress:({step:Me,percentage:je,latestBlockNumber:ze,lastBlockNumberProcessed:He,message:Ve})=>{if(g$5(Ie.SyncProgress,f$1)?.step!=="live"&&(E$5(Ie.SyncProgress,f$1,{step:Me,percentage:je,latestBlockNumber:ze,lastBlockNumberProcessed:He,message:Ve}),Me==="live"))for(let Qe of Object.values(Ie)){let tt=Qe;for(let nt of tt.entities()){let ct=g$5(tt,nt);tt.update$.next({component:tt,entity:nt,value:[ct,ct]})}}}}),ke=ve?Re.storedBlockLogs$.subscribe():null,Fe=()=>{ke?.unsubscribe()};return oe.registerDisposer(Fe),{...Re,components:Ie,stopSync:Fe}}function r({abi:oe,systemId:he,functionName:ye,args:ve}){return[he,encodeFunctionData({abi:oe,functionName:ye,args:ve})]}function a$1({abi:oe,from:he,systemId:ye,functionName:ve,args:_e}){return[he,ye,encodeFunctionData({abi:oe,functionName:ve,args:_e})]}function P$1(oe,he){return he.map(ye=>r({...ye,abi:oe}))}var fastDeepEqual=function oe(he,ye){if(he===ye)return!0;if(he&&ye&&typeof he=="object"&&typeof ye=="object"){if(he.constructor!==ye.constructor)return!1;var ve,_e,we;if(Array.isArray(he)){if(ve=he.length,ve!=ye.length)return!1;for(_e=ve;_e--!==0;)if(!oe(he[_e],ye[_e]))return!1;return!0}if(he.constructor===RegExp)return he.source===ye.source&&he.flags===ye.flags;if(he.valueOf!==Object.prototype.valueOf)return he.valueOf()===ye.valueOf();if(he.toString!==Object.prototype.toString)return he.toString()===ye.toString();if(we=Object.keys(he),ve=we.length,ve!==Object.keys(ye).length)return!1;for(_e=ve;_e--!==0;)if(!Object.prototype.hasOwnProperty.call(ye,we[_e]))return!1;for(_e=ve;_e--!==0;){var Pe=we[_e];if(!oe(he[Pe],ye[Pe]))return!1}return!0}return he!==he&&ye!==ye};const P=getDefaultExportFromCjs(fastDeepEqual);function H(oe,he,ye){let[ve,_e]=reactExports.useState(he!=null?g$5(oe,he):void 0);return reactExports.useEffect(()=>{if(_e(he!=null?g$5(oe,he):void 0),he==null)return;let we=f$7([Ye$1(oe)],{runOnInit:!0}).update$.subscribe(Pe=>{if(X$2(Pe,oe)&&Pe.entity===he){let[Ie]=Pe.value;_e(Ie)}});return()=>we.unsubscribe()},[oe,he]),ve??ye}var m$1=oe=>{let[he,ye]=reactExports.useState(oe);return reactExports.useEffect(()=>{P(oe,he)||ye(oe)},[oe]),he};function te(oe,he){let ye=he?.updateOnValueChange??!0,ve=m$1(oe),_e=reactExports.useMemo(()=>f$7(ve,{runOnInit:!0}),[ve]),[we,Pe]=reactExports.useState([..._e.matching]);return reactExports.useEffect(()=>{Pe([..._e.matching]);let Ie=_e.update$.pipe(map(()=>[..._e.matching]));ye||(Ie=Ie.pipe(distinctUntilChanged((ke,Fe)=>P(ke,Fe))));let Re=Ie.subscribe(ke=>Pe(ke));return()=>Re.unsubscribe()},[_e,ye]),we}function se$1(oe,he){let[ye,ve]=reactExports.useState(he);return reactExports.useEffect(()=>{let _e=oe.subscribe(ve);return()=>_e.unsubscribe()},[oe]),ye}function ae(oe){let he=reactExports.useRef(oe),[ye,ve]=reactExports.useState(oe==null?{status:"idle"}:{status:"pending"});return reactExports.useEffect(()=>{oe!==he.current&&(he.current=oe,ve(oe==null?{status:"idle"}:{status:"pending"}))},[oe]),reactExports.useEffect(()=>{oe!=null&&Promise.allSettled([oe]).then(([_e])=>{oe===he.current&&ve(_e)})},[oe]),ye}let e={data:""},t=oe=>typeof window=="object"?((oe?oe.querySelector("#_goober"):window._goober)||Object.assign((oe||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:oe||e,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n=/\n+/g,o=(oe,he)=>{let ye="",ve="",_e="";for(let we in oe){let Pe=oe[we];we[0]=="@"?we[1]=="i"?ye=we+" "+Pe+";":ve+=we[1]=="f"?o(Pe,we):we+"{"+o(Pe,we[1]=="k"?"":he)+"}":typeof Pe=="object"?ve+=o(Pe,he?he.replace(/([^,])+/g,Ie=>we.replace(/(^:.*)|([^,])+/g,Re=>/&/.test(Re)?Re.replace(/&/g,Ie):Ie?Ie+" "+Re:Re)):we):Pe!=null&&(we=/^--/.test(we)?we:we.replace(/[A-Z]/g,"-$&").toLowerCase(),_e+=o.p?o.p(we,Pe):we+":"+Pe+";")}return ye+(he&&_e?he+"{"+_e+"}":_e)+ve},c={},s=oe=>{if(typeof oe=="object"){let he="";for(let ye in oe)he+=ye+s(oe[ye]);return he}return oe},i=(oe,he,ye,ve,_e)=>{let we=s(oe),Pe=c[we]||(c[we]=(Re=>{let ke=0,Fe=11;for(;ke<Re.length;)Fe=101*Fe+Re.charCodeAt(ke++)>>>0;return"go"+Fe})(we));if(!c[Pe]){let Re=we!==oe?oe:(ke=>{let Fe,Me,je=[{}];for(;Fe=l.exec(ke.replace(a,""));)Fe[4]?je.shift():Fe[3]?(Me=Fe[3].replace(n," ").trim(),je.unshift(je[0][Me]=je[0][Me]||{})):je[0][Fe[1]]=Fe[2].replace(n," ").trim();return je[0]})(oe);c[Pe]=o(_e?{["@keyframes "+Pe]:Re}:Re,ye?"":"."+Pe)}let Ie=ye&&c.g?c.g:null;return ye&&(c.g=c[Pe]),((Re,ke,Fe,Me)=>{Me?ke.data=ke.data.replace(Me,Re):ke.data.indexOf(Re)===-1&&(ke.data=Fe?Re+ke.data:ke.data+Re)})(c[Pe],he,ve,Ie),Pe},p=(oe,he,ye)=>oe.reduce((ve,_e,we)=>{let Pe=he[we];if(Pe&&Pe.call){let Ie=Pe(ye),Re=Ie&&Ie.props&&Ie.props.className||/^go/.test(Ie)&&Ie;Pe=Re?"."+Re:Ie&&typeof Ie=="object"?Ie.props?"":o(Ie,""):Ie===!1?"":Ie}return ve+_e+(Pe??"")},"");function u(oe){let he=this||{},ye=oe.call?oe(he.p):oe;return i(ye.unshift?ye.raw?p(ye,[].slice.call(arguments,1),he.p):ye.reduce((ve,_e)=>Object.assign(ve,_e&&_e.call?_e(he.p):_e),{}):ye,t(he.target),he.g,he.o,he.k)}let d,f,g;u.bind({g:1});u.bind({k:1});function m(oe,he,ye,ve){o.p=he,d=oe,f=ye,g=ve}function j(oe,he){let ye=this||{};return function(){let ve=arguments;function _e(we,Pe){let Ie=Object.assign({},we),Re=Ie.className||_e.className;ye.p=Object.assign({theme:f&&f()},Ie),ye.o=/ *go\d+/.test(Re),Ie.className=u.apply(ye,ve)+(Re?" "+Re:""),he&&(Ie.ref=Pe);let ke=oe;return oe[0]&&(ke=Ie.as||oe,delete Ie.as),g&&ke[0]&&g(Ie),d(ke,Ie)}return he?he(_e):_e}}function arrayReduce$1(oe,he,ye,ve){var _e=-1,we=oe==null?0:oe.length;for(ve&&we&&(ye=oe[++_e]);++_e<we;)ye=he(ye,oe[_e],_e,oe);return ye}var _arrayReduce=arrayReduce$1;function basePropertyOf$1(oe){return function(he){return oe?.[he]}}var _basePropertyOf=basePropertyOf$1,basePropertyOf=_basePropertyOf,deburredLetters={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},deburrLetter$1=basePropertyOf(deburredLetters),_deburrLetter=deburrLetter$1,freeGlobal$1=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$9=freeGlobal||freeSelf||Function("return this")(),_root=root$9,root$8=_root,Symbol$6=root$8.Symbol,_Symbol=Symbol$6;function arrayMap$2(oe,he){for(var ye=-1,ve=oe==null?0:oe.length,_e=Array(ve);++ye<ve;)_e[ye]=he(oe[ye],ye,oe);return _e}var _arrayMap=arrayMap$2,isArray$b=Array.isArray,isArray_1=isArray$b,Symbol$5=_Symbol,objectProto$b=Object.prototype,hasOwnProperty$8=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$5?Symbol$5.toStringTag:void 0;function getRawTag$1(oe){var he=hasOwnProperty$8.call(oe,symToStringTag$1),ye=oe[symToStringTag$1];try{oe[symToStringTag$1]=void 0;var ve=!0}catch{}var _e=nativeObjectToString$1.call(oe);return ve&&(he?oe[symToStringTag$1]=ye:delete oe[symToStringTag$1]),_e}var _getRawTag=getRawTag$1,objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString$1(oe){return nativeObjectToString.call(oe)}var _objectToString=objectToString$1,Symbol$4=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$4?Symbol$4.toStringTag:void 0;function baseGetTag$5(oe){return oe==null?oe===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(oe)?getRawTag(oe):objectToString(oe)}var _baseGetTag=baseGetTag$5;function isObjectLike$5(oe){return oe!=null&&typeof oe=="object"}var isObjectLike_1=isObjectLike$5,baseGetTag$4=_baseGetTag,isObjectLike$4=isObjectLike_1,symbolTag$1="[object Symbol]";function isSymbol$5(oe){return typeof oe=="symbol"||isObjectLike$4(oe)&&baseGetTag$4(oe)==symbolTag$1}var isSymbol_1=isSymbol$5,Symbol$3=_Symbol,arrayMap$1=_arrayMap,isArray$a=isArray_1,isSymbol$4=isSymbol_1,INFINITY$1=1/0,symbolProto$1=Symbol$3?Symbol$3.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(oe){if(typeof oe=="string")return oe;if(isArray$a(oe))return arrayMap$1(oe,baseToString$1)+"";if(isSymbol$4(oe))return symbolToString?symbolToString.call(oe):"";var he=oe+"";return he=="0"&&1/oe==-INFINITY$1?"-0":he}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$4(oe){return oe==null?"":baseToString(oe)}var toString_1=toString$4,deburrLetter=_deburrLetter,toString$3=toString_1,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange$3="\\u0300-\\u036f",reComboHalfMarksRange$3="\\ufe20-\\ufe2f",rsComboSymbolsRange$3="\\u20d0-\\u20ff",rsComboRange$3=rsComboMarksRange$3+reComboHalfMarksRange$3+rsComboSymbolsRange$3,rsCombo$2="["+rsComboRange$3+"]",reComboMark=RegExp(rsCombo$2,"g");function deburr$1(oe){return oe=toString$3(oe),oe&&oe.replace(reLatin,deburrLetter).replace(reComboMark,"")}var deburr_1=deburr$1,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function asciiWords$1(oe){return oe.match(reAsciiWord)||[]}var _asciiWords=asciiWords$1,reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hasUnicodeWord$1(oe){return reHasUnicodeWord.test(oe)}var _hasUnicodeWord=hasUnicodeWord$1,rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange$2="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos$1="['’]",rsBreak="["+rsBreakRange+"]",rsCombo$1="["+rsComboRange$2+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange$2+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$1+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$2+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ$2="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos$1+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos$1+"(?:D|LL|M|RE|S|T|VE))?",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$2+"]?",rsOptJoin$1="(?:"+rsZWJ$2+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsEmoji="(?:"+[rsDingbat,rsRegional$1,rsSurrPair$1].join("|")+")"+rsSeq$1,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");function unicodeWords$1(oe){return oe.match(reUnicodeWord)||[]}var _unicodeWords=unicodeWords$1,asciiWords=_asciiWords,hasUnicodeWord=_hasUnicodeWord,toString$2=toString_1,unicodeWords=_unicodeWords;function words$1(oe,he,ye){return oe=toString$2(oe),he=ye?void 0:he,he===void 0?hasUnicodeWord(oe)?unicodeWords(oe):asciiWords(oe):oe.match(he)||[]}var words_1=words$1,arrayReduce=_arrayReduce,deburr=deburr_1,words=words_1,rsApos="['’]",reApos=RegExp(rsApos,"g");function createCompounder$1(oe){return function(he){return arrayReduce(words(deburr(he).replace(reApos,"")),oe,"")}}var _createCompounder=createCompounder$1;function baseSlice$1(oe,he,ye){var ve=-1,_e=oe.length;he<0&&(he=-he>_e?0:_e+he),ye=ye>_e?_e:ye,ye<0&&(ye+=_e),_e=he>ye?0:ye-he>>>0,he>>>=0;for(var we=Array(_e);++ve<_e;)we[ve]=oe[ve+he];return we}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(oe,he,ye){var ve=oe.length;return ye=ye===void 0?ve:ye,!he&&ye>=ve?oe:baseSlice(oe,he,ye)}var _castSlice=castSlice$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode$2(oe){return reHasUnicode.test(oe)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(oe){return oe.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray$1(oe){return oe.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(oe){return hasUnicode$1(oe)?unicodeToArray(oe):asciiToArray(oe)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$1=toString_1;function createCaseFirst$1(oe){return function(he){he=toString$1(he);var ye=hasUnicode(he)?stringToArray(he):void 0,ve=ye?ye[0]:he.charAt(0),_e=ye?castSlice(ye,1).join(""):he.slice(1);return ve[oe]()+_e}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst$1=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst$1,createCompounder=_createCompounder,upperFirst=upperFirst_1,startCase=createCompounder(function(oe,he,ye){return oe+(ye?" ":"")+upperFirst(he)}),startCase_1=startCase;const U=getDefaultExportFromCjs(startCase_1);if(!reactExports.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!makeObservable)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function defaultNoopBatch(oe){oe()}function observerBatching(oe){oe||(oe=defaultNoopBatch),configure({reactionScheduler:oe})}function printDebugValue(oe){return getDependencyTree(oe)}var REGISTRY_FINALIZE_AFTER=1e4,REGISTRY_SWEEP_INTERVAL=1e4,TimerBasedFinalizationRegistry=function(){function oe(he){var ye=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:he}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(ve){ve===void 0&&(ve=REGISTRY_FINALIZE_AFTER),clearTimeout(ye.sweepTimeout),ye.sweepTimeout=void 0;var _e=Date.now();ye.registrations.forEach(function(we,Pe){_e-we.registeredAt>=ve&&(ye.finalize(we.value),ye.registrations.delete(Pe))}),ye.registrations.size>0&&ye.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){ye.sweep(0)}})}return Object.defineProperty(oe.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(he,ye,ve){this.registrations.set(ve,{value:ye,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(oe.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(he){this.registrations.delete(he)}}),Object.defineProperty(oe.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,REGISTRY_SWEEP_INTERVAL))}}),oe}(),UniversalFinalizationRegistry=typeof FinalizationRegistry<"u"?FinalizationRegistry:TimerBasedFinalizationRegistry,observerFinalizationRegistry=new UniversalFinalizationRegistry(function(oe){var he;(he=oe.reaction)===null||he===void 0||he.dispose(),oe.reaction=null}),__read=globalThis&&globalThis.__read||function(oe,he){var ye=typeof Symbol=="function"&&oe[Symbol.iterator];if(!ye)return oe;var ve=ye.call(oe),_e,we=[],Pe;try{for(;(he===void 0||he-- >0)&&!(_e=ve.next()).done;)we.push(_e.value)}catch(Ie){Pe={error:Ie}}finally{try{_e&&!_e.done&&(ye=ve.return)&&ye.call(ve)}finally{if(Pe)throw Pe.error}}return we};function observerComponentNameFor(oe){return"observer".concat(oe)}var ObjectToBeRetainedByReact=function(){function oe(){}return oe}();function objectToBeRetainedByReactFactory(){return new ObjectToBeRetainedByReact}function useObserver(oe,he){he===void 0&&(he="observed");var ye=__read(React.useState(objectToBeRetainedByReactFactory),1),ve=ye[0],_e=__read(React.useState(),2),we=_e[1],Pe=function(){return we([])},Ie=React.useRef(null);Ie.current||(Ie.current={reaction:null,mounted:!1,changedBeforeMount:!1});var Re=Ie.current;Re.reaction||(Re.reaction=new Reaction(observerComponentNameFor(he),function(){Re.mounted?Pe():Re.changedBeforeMount=!0}),observerFinalizationRegistry.register(ve,Re,Re)),React.useDebugValue(Re.reaction,printDebugValue),React.useEffect(function(){return observerFinalizationRegistry.unregister(Re),Re.mounted=!0,Re.reaction?Re.changedBeforeMount&&(Re.changedBeforeMount=!1,Pe()):(Re.reaction=new Reaction(observerComponentNameFor(he),function(){Pe()}),Pe()),function(){Re.reaction.dispose(),Re.reaction=null,Re.mounted=!1,Re.changedBeforeMount=!1}},[]);var ke,Fe;if(Re.reaction.track(function(){try{ke=oe()}catch(Me){Fe=Me}}),Fe)throw Fe;return ke}var hasSymbol=typeof Symbol=="function"&&Symbol.for,ReactForwardRefSymbol=hasSymbol?Symbol.for("react.forward_ref"):typeof reactExports.forwardRef=="function"&&reactExports.forwardRef(function(oe){return null}).$$typeof,ReactMemoSymbol=hasSymbol?Symbol.for("react.memo"):typeof reactExports.memo=="function"&&reactExports.memo(function(oe){return null}).$$typeof;function observer(oe,he){var ye;if(ReactMemoSymbol&&oe.$$typeof===ReactMemoSymbol)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var ve=(ye=he?.forwardRef)!==null&&ye!==void 0?ye:!1,_e=oe,we=oe.displayName||oe.name;if(ReactForwardRefSymbol&&oe.$$typeof===ReactForwardRefSymbol&&(ve=!0,_e=oe.render,typeof _e!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var Pe=function(Ie,Re){return useObserver(function(){return _e(Ie,Re)},we)};return we!==""&&(Pe.displayName=we),oe.contextTypes&&(Pe.contextTypes=oe.contextTypes),ve&&(Pe=reactExports.forwardRef(Pe)),Pe=reactExports.memo(Pe),copyStaticProperties(oe,Pe),Pe}var hoistBlackList={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function copyStaticProperties(oe,he){Object.keys(oe).forEach(function(ye){hoistBlackList[ye]||Object.defineProperty(he,ye,Object.getOwnPropertyDescriptor(oe,ye))})}globalThis&&globalThis.__read;var _a;observerBatching(reactDomExports.unstable_batchedUpdates);_a=observerFinalizationRegistry.finalizeAllImmediately;function arrayPush$2(oe,he){for(var ye=-1,ve=he.length,_e=oe.length;++ye<ve;)oe[_e+ye]=he[ye];return oe}var _arrayPush=arrayPush$2,baseGetTag$3=_baseGetTag,isObjectLike$3=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(oe){return isObjectLike$3(oe)&&baseGetTag$3(oe)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$2=isObjectLike_1,objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,isArguments$3=baseIsArguments(function(){return arguments}())?baseIsArguments:function(oe){return isObjectLike$2(oe)&&hasOwnProperty$7.call(oe,"callee")&&!propertyIsEnumerable$1.call(oe,"callee")},isArguments_1=isArguments$3,Symbol$2=_Symbol,isArguments$2=isArguments_1,isArray$9=isArray_1,spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable$1(oe){return isArray$9(oe)||isArguments$2(oe)||!!(spreadableSymbol&&oe&&oe[spreadableSymbol])}var _isFlattenable=isFlattenable$1,arrayPush$1=_arrayPush,isFlattenable=_isFlattenable;function baseFlatten$1(oe,he,ye,ve,_e){var we=-1,Pe=oe.length;for(ye||(ye=isFlattenable),_e||(_e=[]);++we<Pe;){var Ie=oe[we];he>0&&ye(Ie)?he>1?baseFlatten$1(Ie,he-1,ye,ve,_e):arrayPush$1(_e,Ie):ve||(_e[_e.length]=Ie)}return _e}var _baseFlatten=baseFlatten$1,baseFlatten=_baseFlatten;function flatten(oe){var he=oe==null?0:oe.length;return he?baseFlatten(oe,1):[]}var flatten_1=flatten;const Je=getDefaultExportFromCjs(flatten_1);var isArray$8=isArray_1,isSymbol$3=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$3(oe,he){if(isArray$8(oe))return!1;var ye=typeof oe;return ye=="number"||ye=="symbol"||ye=="boolean"||oe==null||isSymbol$3(oe)?!0:reIsPlainProp.test(oe)||!reIsDeepProp.test(oe)||he!=null&&oe in Object(he)}var _isKey=isKey$3;function isObject$6(oe){var he=typeof oe;return oe!=null&&(he=="object"||he=="function")}var isObject_1=isObject$6,baseGetTag$2=_baseGetTag,isObject$5=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(oe){if(!isObject$5(oe))return!1;var he=baseGetTag$2(oe);return he==funcTag$1||he==genTag||he==asyncTag||he==proxyTag}var isFunction_1=isFunction$2,root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var oe=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return oe?"Symbol(src)_1."+oe:""}();function isMasked$1(oe){return!!maskSrcKey&&maskSrcKey in oe}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(oe){if(oe!=null){try{return funcToString$1.call(oe)}catch{}try{return oe+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject$4=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$8=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$6=objectProto$8.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$6).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(oe){if(!isObject$4(oe)||isMasked(oe))return!1;var he=isFunction$1(oe)?reIsNative:reIsHostCtor;return he.test(toSource$1(oe))}var _baseIsNative=baseIsNative$1;function getValue$1(oe,he){return oe?.[he]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$6(oe,he){var ye=getValue(oe,he);return baseIsNative(ye)?ye:void 0}var _getNative=getNative$6,getNative$5=_getNative,nativeCreate$4=getNative$5(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(oe){var he=this.has(oe)&&delete this.__data__[oe];return this.size-=he?1:0,he}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty;function hashGet$1(oe){var he=this.__data__;if(nativeCreate$2){var ye=he[oe];return ye===HASH_UNDEFINED$2?void 0:ye}return hasOwnProperty$5.call(he,oe)?he[oe]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$6=Object.prototype,hasOwnProperty$4=objectProto$6.hasOwnProperty;function hashHas$1(oe){var he=this.__data__;return nativeCreate$1?he[oe]!==void 0:hasOwnProperty$4.call(he,oe)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(oe,he){var ye=this.__data__;return this.size+=this.has(oe)?0:1,ye[oe]=nativeCreate&&he===void 0?HASH_UNDEFINED$1:he,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(oe){var he=-1,ye=oe==null?0:oe.length;for(this.clear();++he<ye;){var ve=oe[he];this.set(ve[0],ve[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$2(oe,he){return oe===he||oe!==oe&&he!==he}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$4(oe,he){for(var ye=oe.length;ye--;)if(eq$1(oe[ye][0],he))return ye;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(oe){var he=this.__data__,ye=assocIndexOf$3(he,oe);if(ye<0)return!1;var ve=he.length-1;return ye==ve?he.pop():splice.call(he,ye,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(oe){var he=this.__data__,ye=assocIndexOf$2(he,oe);return ye<0?void 0:he[ye][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(oe){return assocIndexOf$1(this.__data__,oe)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(oe,he){var ye=this.__data__,ve=assocIndexOf(ye,oe);return ve<0?(++this.size,ye.push([oe,he])):ye[ve][1]=he,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(oe){var he=-1,ye=oe==null?0:oe.length;for(this.clear();++he<ye;){var ve=oe[he];this.set(ve[0],ve[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,getNative$4=_getNative,root$6=_root,Map$4=getNative$4(root$6,"Map"),_Map=Map$4,Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(oe){var he=typeof oe;return he=="string"||he=="number"||he=="symbol"||he=="boolean"?oe!=="__proto__":oe===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(oe,he){var ye=oe.__data__;return isKeyable(he)?ye[typeof he=="string"?"string":"hash"]:ye.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(oe){var he=getMapData$3(this,oe).delete(oe);return this.size-=he?1:0,he}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(oe){return getMapData$2(this,oe).get(oe)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(oe){return getMapData$1(this,oe).has(oe)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(oe,he){var ye=getMapData(this,oe),ve=ye.size;return ye.set(oe,he),this.size+=ye.size==ve?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(oe){var he=-1,ye=oe==null?0:oe.length;for(this.clear();++he<ye;){var ve=oe[he];this.set(ve[0],ve[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache,FUNC_ERROR_TEXT$2="Expected a function";function memoize$1(oe,he){if(typeof oe!="function"||he!=null&&typeof he!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var ye=function(){var ve=arguments,_e=he?he.apply(this,ve):ve[0],we=ye.cache;if(we.has(_e))return we.get(_e);var Pe=oe.apply(this,ve);return ye.cache=we.set(_e,Pe)||we,Pe};return ye.cache=new(memoize$1.Cache||MapCache$2),ye}memoize$1.Cache=MapCache$2;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(oe){var he=memoize(oe,function(ve){return ye.size===MAX_MEMOIZE_SIZE&&ye.clear(),ve}),ye=he.cache;return he}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(oe){var he=[];return oe.charCodeAt(0)===46&&he.push(""),oe.replace(rePropName,function(ye,ve,_e,we){he.push(_e?we.replace(reEscapeChar,"$1"):ve||ye)}),he}),_stringToPath=stringToPath$1,isArray$7=isArray_1,isKey$2=_isKey,stringToPath=_stringToPath,toString=toString_1;function castPath$2(oe,he){return isArray$7(oe)?oe:isKey$2(oe,he)?[oe]:stringToPath(toString(oe))}var _castPath=castPath$2,isSymbol$2=isSymbol_1,INFINITY=1/0;function toKey$4(oe){if(typeof oe=="string"||isSymbol$2(oe))return oe;var he=oe+"";return he=="0"&&1/oe==-INFINITY?"-0":he}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(oe,he){he=castPath$1(he,oe);for(var ye=0,ve=he.length;oe!=null&&ye<ve;)oe=oe[toKey$3(he[ye++])];return ye&&ye==ve?oe:void 0}var _baseGet=baseGet$3,ListCache$2=_ListCache;function stackClear$1(){this.__data__=new ListCache$2,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(oe){var he=this.__data__,ye=he.delete(oe);return this.size=he.size,ye}var _stackDelete=stackDelete$1;function stackGet$1(oe){return this.__data__.get(oe)}var _stackGet=stackGet$1;function stackHas$1(oe){return this.__data__.has(oe)}var _stackHas=stackHas$1,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(oe,he){var ye=this.__data__;if(ye instanceof ListCache$1){var ve=ye.__data__;if(!Map$2||ve.length<LARGE_ARRAY_SIZE-1)return ve.push([oe,he]),this.size=++ye.size,this;ye=this.__data__=new MapCache$1(ve)}return ye.set(oe,he),this.size=ye.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$2(oe){var he=this.__data__=new ListCache(oe);this.size=he.size}Stack$2.prototype.clear=stackClear;Stack$2.prototype.delete=stackDelete;Stack$2.prototype.get=stackGet;Stack$2.prototype.has=stackHas;Stack$2.prototype.set=stackSet;var _Stack=Stack$2,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(oe){return this.__data__.set(oe,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(oe){return this.__data__.has(oe)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(oe){var he=-1,ye=oe==null?0:oe.length;for(this.__data__=new MapCache;++he<ye;)this.add(oe[he])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(oe,he){for(var ye=-1,ve=oe==null?0:oe.length;++ye<ve;)if(he(oe[ye],ye,oe))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(oe,he){return oe.has(he)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(oe,he,ye,ve,_e,we){var Pe=ye&COMPARE_PARTIAL_FLAG$5,Ie=oe.length,Re=he.length;if(Ie!=Re&&!(Pe&&Re>Ie))return!1;var ke=we.get(oe),Fe=we.get(he);if(ke&&Fe)return ke==he&&Fe==oe;var Me=-1,je=!0,ze=ye&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(we.set(oe,he),we.set(he,oe);++Me<Ie;){var He=oe[Me],Ve=he[Me];if(ve)var Qe=Pe?ve(Ve,He,Me,he,oe,we):ve(He,Ve,Me,oe,he,we);if(Qe!==void 0){if(Qe)continue;je=!1;break}if(ze){if(!arraySome(he,function(tt,nt){if(!cacheHas(ze,nt)&&(He===tt||_e(He,tt,ye,ve,we)))return ze.push(nt)})){je=!1;break}}else if(!(He===Ve||_e(He,Ve,ye,ve,we))){je=!1;break}}return we.delete(oe),we.delete(he),je}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$2=root$5.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(oe){var he=-1,ye=Array(oe.size);return oe.forEach(function(ve,_e){ye[++he]=[_e,ve]}),ye}var _mapToArray=mapToArray$1;function setToArray$1(oe){var he=-1,ye=Array(oe.size);return oe.forEach(function(ve){ye[++he]=ve}),ye}var _setToArray=setToArray$1,Symbol$1=_Symbol,Uint8Array$1=_Uint8Array,eq=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(oe,he,ye,ve,_e,we,Pe){switch(ye){case dataViewTag$2:if(oe.byteLength!=he.byteLength||oe.byteOffset!=he.byteOffset)return!1;oe=oe.buffer,he=he.buffer;case arrayBufferTag$1:return!(oe.byteLength!=he.byteLength||!we(new Uint8Array$1(oe),new Uint8Array$1(he)));case boolTag$1:case dateTag$1:case numberTag$1:return eq(+oe,+he);case errorTag$1:return oe.name==he.name&&oe.message==he.message;case regexpTag$1:case stringTag$1:return oe==he+"";case mapTag$2:var Ie=mapToArray;case setTag$2:var Re=ve&COMPARE_PARTIAL_FLAG$4;if(Ie||(Ie=setToArray),oe.size!=he.size&&!Re)return!1;var ke=Pe.get(oe);if(ke)return ke==he;ve|=COMPARE_UNORDERED_FLAG$2,Pe.set(oe,he);var Fe=equalArrays$1(Ie(oe),Ie(he),ve,_e,we,Pe);return Pe.delete(oe),Fe;case symbolTag:if(symbolValueOf)return symbolValueOf.call(oe)==symbolValueOf.call(he)}return!1}var _equalByTag=equalByTag$1,arrayPush=_arrayPush,isArray$6=isArray_1;function baseGetAllKeys$1(oe,he,ye){var ve=he(oe);return isArray$6(oe)?ve:arrayPush(ve,ye(oe))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(oe,he){for(var ye=-1,ve=oe==null?0:oe.length,_e=0,we=[];++ye<ve;){var Pe=oe[ye];he(Pe,ye,oe)&&(we[_e++]=Pe)}return we}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$5=Object.prototype,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(oe){return oe==null?[]:(oe=Object(oe),arrayFilter(nativeGetSymbols(oe),function(he){return propertyIsEnumerable.call(oe,he)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(oe,he){for(var ye=-1,ve=Array(oe);++ye<oe;)ve[ye]=he(ye);return ve}var _baseTimes=baseTimes$1,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(oe,he){var ye=_root,ve=stubFalse_1,_e=he&&!he.nodeType&&he,we=_e&&!0&&oe&&!oe.nodeType&&oe,Pe=we&&we.exports===_e,Ie=Pe?ye.Buffer:void 0,Re=Ie?Ie.isBuffer:void 0,ke=Re||ve;oe.exports=ke})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$2(oe,he){var ye=typeof oe;return he=he??MAX_SAFE_INTEGER$1,!!he&&(ye=="number"||ye!="symbol"&&reIsUint.test(oe))&&oe>-1&&oe%1==0&&oe<he}var _isIndex=isIndex$2,MAX_SAFE_INTEGER=9007199254740991;function isLength$3(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=MAX_SAFE_INTEGER}var isLength_1=isLength$3,baseGetTag$1=_baseGetTag,isLength$2=isLength_1,isObjectLike$1=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$2="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(oe){return isObjectLike$1(oe)&&isLength$2(oe.length)&&!!typedArrayTags[baseGetTag$1(oe)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$2(oe){return function(he){return oe(he)}}var _baseUnary=baseUnary$2,_nodeUtil={exports:{}};_nodeUtil.exports;(function(oe,he){var ye=_freeGlobal,ve=he&&!he.nodeType&&he,_e=ve&&!0&&oe&&!oe.nodeType&&oe,we=_e&&_e.exports===ve,Pe=we&&ye.process,Ie=function(){try{var Re=_e&&_e.require&&_e.require("util").types;return Re||Pe&&Pe.binding&&Pe.binding("util")}catch{}}();oe.exports=Ie})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments$1=isArguments_1,isArray$5=isArray_1,isBuffer$1=isBufferExports,isIndex$1=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function arrayLikeKeys$1(oe,he){var ye=isArray$5(oe),ve=!ye&&isArguments$1(oe),_e=!ye&&!ve&&isBuffer$1(oe),we=!ye&&!ve&&!_e&&isTypedArray$1(oe),Pe=ye||ve||_e||we,Ie=Pe?baseTimes(oe.length,String):[],Re=Ie.length;for(var ke in oe)(he||hasOwnProperty$3.call(oe,ke))&&!(Pe&&(ke=="length"||_e&&(ke=="offset"||ke=="parent")||we&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||isIndex$1(ke,Re)))&&Ie.push(ke);return Ie}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$3=Object.prototype;function isPrototype$1(oe){var he=oe&&oe.constructor,ye=typeof he=="function"&&he.prototype||objectProto$3;return oe===ye}var _isPrototype=isPrototype$1;function overArg$1(oe,he){return function(ye){return oe(he(ye))}}var _overArg=overArg$1,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeys$1(oe){if(!isPrototype(oe))return nativeKeys(oe);var he=[];for(var ye in Object(oe))hasOwnProperty$2.call(oe,ye)&&ye!="constructor"&&he.push(ye);return he}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength$1=isLength_1;function isArrayLike$3(oe){return oe!=null&&isLength$1(oe.length)&&!isFunction(oe)}var isArrayLike_1=isArrayLike$3,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$2=isArrayLike_1;function keys$3(oe){return isArrayLike$2(oe)?arrayLikeKeys(oe):baseKeys(oe)}var keys_1=keys$3,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$2=keys_1;function getAllKeys$1(oe){return baseGetAllKeys(oe,keys$2,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects$1(oe,he,ye,ve,_e,we){var Pe=ye&COMPARE_PARTIAL_FLAG$3,Ie=getAllKeys(oe),Re=Ie.length,ke=getAllKeys(he),Fe=ke.length;if(Re!=Fe&&!Pe)return!1;for(var Me=Re;Me--;){var je=Ie[Me];if(!(Pe?je in he:hasOwnProperty$1.call(he,je)))return!1}var ze=we.get(oe),He=we.get(he);if(ze&&He)return ze==he&&He==oe;var Ve=!0;we.set(oe,he),we.set(he,oe);for(var Qe=Pe;++Me<Re;){je=Ie[Me];var tt=oe[je],nt=he[je];if(ve)var ct=Pe?ve(nt,tt,je,he,oe,we):ve(tt,nt,je,oe,he,we);if(!(ct===void 0?tt===nt||_e(tt,nt,ye,ve,we):ct)){Ve=!1;break}Qe||(Qe=je=="constructor")}if(Ve&&!Qe){var vt=oe.constructor,ht=he.constructor;vt!=ht&&"constructor"in oe&&"constructor"in he&&!(typeof vt=="function"&&vt instanceof vt&&typeof ht=="function"&&ht instanceof ht)&&(Ve=!1)}return we.delete(oe),we.delete(he),Ve}var _equalObjects=equalObjects$1,getNative$3=_getNative,root$4=_root,DataView$2=getNative$3(root$4,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$3=_root,Promise$2=getNative$2(root$3,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$2=_root,Set$2=getNative$1(root$2,"Set"),_Set=Set$2,getNative=_getNative,root$1=_root,WeakMap$2=getNative(root$1,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$1&&getTag$1(new Set$1)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function(oe){var he=baseGetTag(oe),ye=he==objectTag$1?oe.constructor:void 0,ve=ye?toSource(ye):"";if(ve)switch(ve){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return he});var _getTag=getTag$1,Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray$4=isArray_1,isBuffer=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep$1(oe,he,ye,ve,_e,we){var Pe=isArray$4(oe),Ie=isArray$4(he),Re=Pe?arrayTag:getTag(oe),ke=Ie?arrayTag:getTag(he);Re=Re==argsTag?objectTag:Re,ke=ke==argsTag?objectTag:ke;var Fe=Re==objectTag,Me=ke==objectTag,je=Re==ke;if(je&&isBuffer(oe)){if(!isBuffer(he))return!1;Pe=!0,Fe=!1}if(je&&!Fe)return we||(we=new Stack$1),Pe||isTypedArray(oe)?equalArrays(oe,he,ye,ve,_e,we):equalByTag(oe,he,Re,ye,ve,_e,we);if(!(ye&COMPARE_PARTIAL_FLAG$2)){var ze=Fe&&hasOwnProperty.call(oe,"__wrapped__"),He=Me&&hasOwnProperty.call(he,"__wrapped__");if(ze||He){var Ve=ze?oe.value():oe,Qe=He?he.value():he;return we||(we=new Stack$1),_e(Ve,Qe,ye,ve,we)}}return je?(we||(we=new Stack$1),equalObjects(oe,he,ye,ve,_e,we)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike=isObjectLike_1;function baseIsEqual$2(oe,he,ye,ve,_e){return oe===he?!0:oe==null||he==null||!isObjectLike(oe)&&!isObjectLike(he)?oe!==oe&&he!==he:baseIsEqualDeep(oe,he,ye,ve,baseIsEqual$2,_e)}var _baseIsEqual=baseIsEqual$2,Stack=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(oe,he,ye,ve){var _e=ye.length,we=_e,Pe=!ve;if(oe==null)return!we;for(oe=Object(oe);_e--;){var Ie=ye[_e];if(Pe&&Ie[2]?Ie[1]!==oe[Ie[0]]:!(Ie[0]in oe))return!1}for(;++_e<we;){Ie=ye[_e];var Re=Ie[0],ke=oe[Re],Fe=Ie[1];if(Pe&&Ie[2]){if(ke===void 0&&!(Re in oe))return!1}else{var Me=new Stack;if(ve)var je=ve(ke,Fe,Re,oe,he,Me);if(!(je===void 0?baseIsEqual$1(Fe,ke,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,ve,Me):je))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$3=isObject_1;function isStrictComparable$2(oe){return oe===oe&&!isObject$3(oe)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$1=keys_1;function getMatchData$1(oe){for(var he=keys$1(oe),ye=he.length;ye--;){var ve=he[ye],_e=oe[ve];he[ye]=[ve,_e,isStrictComparable$1(_e)]}return he}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(oe,he){return function(ye){return ye==null?!1:ye[oe]===he&&(he!==void 0||oe in Object(ye))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(oe){var he=getMatchData(oe);return he.length==1&&he[0][2]?matchesStrictComparable$1(he[0][0],he[0][1]):function(ye){return ye===oe||baseIsMatch(ye,oe,he)}}var _baseMatches=baseMatches$1,baseGet$2=_baseGet;function get$1(oe,he,ye){var ve=oe==null?void 0:baseGet$2(oe,he);return ve===void 0?ye:ve}var get_1=get$1;function baseHasIn$1(oe,he){return oe!=null&&he in Object(oe)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments=isArguments_1,isArray$3=isArray_1,isIndex=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(oe,he,ye){he=castPath(he,oe);for(var ve=-1,_e=he.length,we=!1;++ve<_e;){var Pe=toKey$2(he[ve]);if(!(we=oe!=null&&ye(oe,Pe)))break;oe=oe[Pe]}return we||++ve!=_e?we:(_e=oe==null?0:oe.length,!!_e&&isLength(_e)&&isIndex(Pe,_e)&&(isArray$3(oe)||isArguments(oe)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(oe,he){return oe!=null&&hasPath(oe,he,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get=get_1,hasIn=hasIn_1,isKey$1=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(oe,he){return isKey$1(oe)&&isStrictComparable(he)?matchesStrictComparable(toKey$1(oe),he):function(ye){var ve=get(ye,oe);return ve===void 0&&ve===he?hasIn(ye,oe):baseIsEqual(he,ve,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$2(oe){return oe}var identity_1=identity$2;function baseProperty$1(oe){return function(he){return he?.[oe]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(oe){return function(he){return baseGet$1(he,oe)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey=_isKey,toKey=_toKey;function property$1(oe){return isKey(oe)?baseProperty(toKey(oe)):basePropertyDeep(oe)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$1=identity_1,isArray$2=isArray_1,property=property_1;function baseIteratee$1(oe){return typeof oe=="function"?oe:oe==null?identity$1:typeof oe=="object"?isArray$2(oe)?baseMatchesProperty(oe[0],oe[1]):baseMatches(oe):property(oe)}var _baseIteratee=baseIteratee$1;function createBaseFor$1(oe){return function(he,ye,ve){for(var _e=-1,we=Object(he),Pe=ve(he),Ie=Pe.length;Ie--;){var Re=Pe[oe?Ie:++_e];if(ye(we[Re],Re,we)===!1)break}return he}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys=keys_1;function baseForOwn$1(oe,he){return oe&&baseFor(oe,he,keys)}var _baseForOwn=baseForOwn$1,isArrayLike$1=isArrayLike_1;function createBaseEach$1(oe,he){return function(ye,ve){if(ye==null)return ye;if(!isArrayLike$1(ye))return oe(ye,ve);for(var _e=ye.length,we=he?_e:-1,Pe=Object(ye);(he?we--:++we<_e)&&ve(Pe[we],we,Pe)!==!1;);return ye}}var _createBaseEach=createBaseEach$1,baseForOwn=_baseForOwn,createBaseEach=_createBaseEach,baseEach$1=createBaseEach(baseForOwn),_baseEach=baseEach$1,baseEach=_baseEach,isArrayLike=isArrayLike_1;function baseMap$1(oe,he){var ye=-1,ve=isArrayLike(oe)?Array(oe.length):[];return baseEach(oe,function(_e,we,Pe){ve[++ye]=he(_e,we,Pe)}),ve}var _baseMap=baseMap$1;function baseSortBy$1(oe,he){var ye=oe.length;for(oe.sort(he);ye--;)oe[ye]=oe[ye].value;return oe}var _baseSortBy=baseSortBy$1,isSymbol$1=isSymbol_1;function compareAscending$1(oe,he){if(oe!==he){var ye=oe!==void 0,ve=oe===null,_e=oe===oe,we=isSymbol$1(oe),Pe=he!==void 0,Ie=he===null,Re=he===he,ke=isSymbol$1(he);if(!Ie&&!ke&&!we&&oe>he||we&&Pe&&Re&&!Ie&&!ke||ve&&Pe&&Re||!ye&&Re||!_e)return 1;if(!ve&&!we&&!ke&&oe<he||ke&&ye&&_e&&!ve&&!we||Ie&&ye&&_e||!Pe&&_e||!Re)return-1}return 0}var _compareAscending=compareAscending$1,compareAscending=_compareAscending;function compareMultiple$1(oe,he,ye){for(var ve=-1,_e=oe.criteria,we=he.criteria,Pe=_e.length,Ie=ye.length;++ve<Pe;){var Re=compareAscending(_e[ve],we[ve]);if(Re){if(ve>=Ie)return Re;var ke=ye[ve];return Re*(ke=="desc"?-1:1)}}return oe.index-he.index}var _compareMultiple=compareMultiple$1,arrayMap=_arrayMap,baseGet=_baseGet,baseIteratee=_baseIteratee,baseMap=_baseMap,baseSortBy=_baseSortBy,baseUnary=_baseUnary,compareMultiple=_compareMultiple,identity=identity_1,isArray$1=isArray_1;function baseOrderBy$1(oe,he,ye){he.length?he=arrayMap(he,function(we){return isArray$1(we)?function(Pe){return baseGet(Pe,we.length===1?we[0]:we)}:we}):he=[identity];var ve=-1;he=arrayMap(he,baseUnary(baseIteratee));var _e=baseMap(oe,function(we,Pe,Ie){var Re=arrayMap(he,function(ke){return ke(we)});return{criteria:Re,index:++ve,value:we}});return baseSortBy(_e,function(we,Pe){return compareMultiple(we,Pe,ye)})}var _baseOrderBy=baseOrderBy$1,baseOrderBy=_baseOrderBy,isArray=isArray_1;function orderBy(oe,he,ye,ve){return oe==null?[]:(isArray(he)||(he=he==null?[]:[he]),ye=ve?void 0:ye,isArray(ye)||(ye=ye==null?[]:[ye]),baseOrderBy(oe,he,ye))}var orderBy_1=orderBy;const Ke=getDefaultExportFromCjs(orderBy_1);var root=_root,now$1=function(){return root.Date.now()},now_1=now$1,reWhitespace=/\s/;function trimmedEndIndex$1(oe){for(var he=oe.length;he--&&reWhitespace.test(oe.charAt(he)););return he}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(oe){return oe&&oe.slice(0,trimmedEndIndex(oe)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,baseTrim=_baseTrim,isObject$2=isObject_1,isSymbol=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(oe){if(typeof oe=="number")return oe;if(isSymbol(oe))return NAN;if(isObject$2(oe)){var he=typeof oe.valueOf=="function"?oe.valueOf():oe;oe=isObject$2(he)?he+"":he}if(typeof oe!="string")return oe===0?oe:+oe;oe=baseTrim(oe);var ye=reIsBinary.test(oe);return ye||reIsOctal.test(oe)?freeParseInt(oe.slice(2),ye?2:8):reIsBadHex.test(oe)?NAN:+oe}var toNumber_1=toNumber$1,isObject$1=isObject_1,now=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$1(oe,he,ye){var ve,_e,we,Pe,Ie,Re,ke=0,Fe=!1,Me=!1,je=!0;if(typeof oe!="function")throw new TypeError(FUNC_ERROR_TEXT$1);he=toNumber(he)||0,isObject$1(ye)&&(Fe=!!ye.leading,Me="maxWait"in ye,we=Me?nativeMax(toNumber(ye.maxWait)||0,he):we,je="trailing"in ye?!!ye.trailing:je);function ze(lt){var St=ve,Rt=_e;return ve=_e=void 0,ke=lt,Pe=oe.apply(Rt,St),Pe}function He(lt){return ke=lt,Ie=setTimeout(tt,he),Fe?ze(lt):Pe}function Ve(lt){var St=lt-Re,Rt=lt-ke,er=he-St;return Me?nativeMin(er,we-Rt):er}function Qe(lt){var St=lt-Re,Rt=lt-ke;return Re===void 0||St>=he||St<0||Me&&Rt>=we}function tt(){var lt=now();if(Qe(lt))return nt(lt);Ie=setTimeout(tt,Ve(lt))}function nt(lt){return Ie=void 0,je&&ve?ze(lt):(ve=_e=void 0,Pe)}function ct(){Ie!==void 0&&clearTimeout(Ie),ke=0,ve=Re=_e=Ie=void 0}function vt(){return Ie===void 0?Pe:nt(now())}function ht(){var lt=now(),St=Qe(lt);if(ve=arguments,_e=this,Re=lt,St){if(Ie===void 0)return He(Re);if(Me)return clearTimeout(Ie),Ie=setTimeout(tt,he),ze(Re)}return Ie===void 0&&(Ie=setTimeout(tt,he)),Pe}return ht.cancel=ct,ht.flush=vt,ht}var debounce_1=debounce$1,debounce=debounce_1,isObject=isObject_1,FUNC_ERROR_TEXT="Expected a function";function throttle(oe,he,ye){var ve=!0,_e=!0;if(typeof oe!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject(ye)&&(ve="leading"in ye?!!ye.leading:ve,_e="trailing"in ye?!!ye.trailing:_e),debounce(oe,he,{leading:ve,maxWait:he,trailing:_e})}var throttle_1=throttle;const Ye=getDefaultExportFromCjs(throttle_1);m(reactExports.createElement);var E=j("input",React.forwardRef)`
  background-color: #383c4a;
  color: #8c91a0;
  border: 1px rgba(0, 0, 0, 0.5) solid;
  border-radius: 4px;
  padding: 4px;
  padding-left: 8px;
  margin: 8px 0;

  &:focus {
    outline: none;
    border: 1px #8c91a0 solid;
  }
  ::selection {
    color: white;
    background: rgba(70, 89, 182, 0.9);
  }
`,h=j("button")`
  background-color: ${({active:oe})=>oe==="true"?"#8c91a0":"#383c4a"};
  color: ${({active:oe})=>oe==="true"?"#383c4a":"#8c91a0"};
  border: 1px rgba(0, 0, 0, 0.5) solid;
  border-radius: 4px;
  padding: 4px;
  cursor: pointer;

  &:hover {
    background-color: #8c91a0;
    color: #383c4a;
  }
`,Q=j("select")`
  width: 180px;
  background-color: #383c4a;
  color: #8c91a0;
  border: 1px rgba(0, 0, 0, 0.5) solid;
  border-radius: 4px;
  padding: 4px;
`,D=j("form")`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
`,$=j("div")`
  margin: 8px auto;
`,b=j("div")`
  color: white;
  font-weight: bold;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
`,A=j("div")`
  border-bottom: 1px #8c91a0 solid;
  padding: 8px;
`,I=j("div")`
  overflow: auto;
  background-color: rgba(27, 28, 32, 1);
  color: #8c91a0;
  height: 100%;
  pointer-events: all;
`,N=j("label")`
  cursor: ew-resize;
  user-select: none;
  color: #8c91a0;
`,R=j("p")`
  padding: 8px;
  font-size: 14px;
`,W=j("div")`
  height: ${({opened:oe})=>oe==="true"?"auto":"0px"};
  overflow: ${({opened:oe})=>oe==="true"?"initial":"hidden"};
`,M=j("div")`
  .shiki {
    background-color: #282a36;

    font-family: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace;

    line-height: 1.5;
    tab-size: 4;
    hyphens: none;
    padding: 1em;
    margin: 0.5em 0px;
    overflow: auto;
    border-radius: 0.3em;
    overflow: auto;
    overflow-wrap: break-word;
    white-space: pre-wrap;
    text-shadow: rgba(0, 0, 0, 0.3) 0px 1px;
  }
`;function X({label:oe,value:he,setValue:ye,persistValue:ve}){let _e=reactExports.useMemo(()=>parseInt(he??"0"),[he]),[we,Pe]=reactExports.useState(_e),[Ie,Re]=reactExports.useState(0),ke=reactExports.useCallback(Fe=>{Re(Fe.clientX),Pe(_e)},[_e]);return reactExports.useEffect(()=>{function Fe(je){if(Ie){let ze=Math.round((je.clientX-Ie)/25)+we;ye(ze.toString())}}let Me=je=>{Ie&&(Re(0),ve(je,he?.toString()||null))};return document.addEventListener("mousemove",Fe),document.addEventListener("mouseup",Me),()=>{document.removeEventListener("mousemove",Fe),document.removeEventListener("mouseup",Me)}},[Ie,ye,we,he]),jsxRuntimeExports.jsx(N,{onMouseDown:ke,children:oe})}var G=({entity:oe,component:he,componentValue:ye,valueProp:ve,layers:_e,setContractComponentValue:we})=>{let[Pe,Ie]=reactExports.useState(ye[ve]?.toString());reactExports.useEffect(()=>{let Fe=ye[ve]?.toString();Ie(Fe)},[ye,ve]);let Re=reactExports.useMemo(()=>{let Fe=he.schema[ve];return Se(Fe)?"number":ge$1(Fe)?"select":"text"},[he,ve]),ke=reactExports.useCallback((Fe,Me)=>{Fe.preventDefault();let je=he.schema[ve];if(Me==null||Me===""){if(xe(je)){se$3(he,oe,{[ve]:void 0});return}let He=de$1(he,oe);Ie(He[ve]);return}let ze;if(Se(je)?ze=parseInt(Me):Te(je)?ze=Me.split(","):je===P$7.Boolean?ze=Me==="true":ze=Me,we){let He=de$1(he,oe);we(oe,he,{...He,[ve]:ze})}else se$3(he,oe,{[ve]:ze})},[oe,he,ve,_e,Re]);return jsxRuntimeExports.jsxs(D,{onSubmit:Fe=>ke(Fe,Pe),children:[Se(he.schema[ve])?jsxRuntimeExports.jsx(X,{value:Pe,setValue:Ie,persistValue:ke,label:`${U(ve)}:`}):jsxRuntimeExports.jsxs("label",{style:{cursor:"pointer"},htmlFor:`value-${ve}`,children:[U(ve),":"]}),Re==="select"?jsxRuntimeExports.jsxs(Q,{value:Pe??"",onChange:Fe=>{Ie(Fe.target.value),ke(Fe,Fe.target.value)},children:[jsxRuntimeExports.jsx("option",{value:"",children:"None"}),[...Object.values(_e)[0].world.getEntities()].map(Fe=>jsxRuntimeExports.jsx("option",{value:Fe,children:Fe},Fe))]}):jsxRuntimeExports.jsx(E,{id:`value-${ve}`,name:`value-${ve}`,type:Re,value:Pe??"",onFocus:Fe=>Fe.target.select(),onChange:Fe=>{Ie(Fe.target.value)},onBlur:Fe=>ke(Fe,Pe)})]})},K=({entity:oe,component:he,componentValue:ye,layers:ve,setContractComponentValue:_e})=>jsxRuntimeExports.jsx("div",{children:Object.keys(ye).map(we=>jsxRuntimeExports.jsx(G,{entity:oe,component:he,componentValue:ye,valueProp:we,layers:ve,setContractComponentValue:_e},`value-editor-${we}-${oe}`))});function Y(oe){return oe.metadata?.contractId!==void 0}var ee=({entity:oe,component:he,layers:ye,setContractComponentValue:ve})=>{let _e=H(he,oe);return _e?jsxRuntimeExports.jsxs($,{children:[jsxRuntimeExports.jsxs(b,{children:[he.metadata?.componentName??he.id,jsxRuntimeExports.jsx(h,{onClick:()=>{ue$2(he,oe),ve&&Y(he)&&ve(oe,he,{})},children:"Remove"})]}),jsxRuntimeExports.jsx(K,{entity:oe,component:he,componentValue:_e,layers:ye,setContractComponentValue:ve})]}):null};function Ne(oe){return oe.replace(/0{10,}/g,"...")}var ne=observer(({entityId:oe,layers:he,setContractComponentValue:ye,devHighlightComponent:ve,world:_e,clearDevHighlights:we})=>{let[Pe,Ie]=reactExports.useState(!1),[Re,ke]=reactExports.useState([]);return reactExports.useEffect(()=>{if(Pe){let Fe=lodashExports.flatten(Object.values(he).map(Me=>Object.values(Me.components))).filter(Me=>le$1(Me,oe));ke(Fe)}},[Pe,_e,oe,ke]),jsxRuntimeExports.jsxs(A,{onMouseEnter:()=>{we(),E$5(ve,oe,{value:void 0})},onMouseLeave:()=>we(),children:[jsxRuntimeExports.jsxs("div",{onClick:()=>Ie(!Pe),style:{cursor:"pointer"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[jsxRuntimeExports.jsxs("h3",{style:{color:"white"},children:["Entity ",lodashExports.truncate(Ne(oe))]}),jsxRuntimeExports.jsx(h,{onClick:Fe=>{Fe.stopPropagation(),navigator.clipboard.writeText(oe)},children:"Click to copy Entity ID"})]}),jsxRuntimeExports.jsx(h,{onClick:()=>Ie(!Pe),children:Pe?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"▼"}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"▶"})})]}),jsxRuntimeExports.jsx(W,{"aria-hidden":Pe?"false":"true",opened:String(Pe),children:[...Re.values()].filter(Fe=>Fe.id!==ve.id).map(Fe=>jsxRuntimeExports.jsx(ee,{entity:oe,component:Fe,layers:he,setContractComponentValue:ye},`component-editor-${oe}-${Fe.id}`))})]})}),ie=j("form")`
  padding: 8px;
  border-bottom: 2px grey solid;
  margin-bottom: 8px;
  width: 100%;
`,se=j("div")`
  flex: "row wrap";
  margin-top: "8px";
  height: 100px;
  overflow: auto;
`;function le(oe){let he=te([Ye$1(oe)]);return reactExports.useCallback(()=>{if(he)for(let ye of he)ue$2(oe,ye)},[he])}function me(oe,he){let[ye,ve]=reactExports.useState(),[_e,we]=reactExports.useState();return reactExports.useEffect(()=>{async function Pe(){try{let Ie=await __vitePreload(()=>import("./index.esm-41b962f7.js"),["assets/index.esm-41b962f7.js","assets/index-444a8a0c.js","assets/react-60d820b0.js","assets/phaser-f1ffc97e.js","assets/index-e72af780.css"]);Ie.setCDN("https://unpkg.com/shiki/");let Re=await Ie.getHighlighter({theme:"dracula-soft",langs:[he]});ve(Re.codeToHtml(oe,{lang:he})),we(Re.codeToThemedTokens(oe,he))}catch(Ie){console.error(Ie)}}Pe()},[oe]),{html:ye,tokens:_e}}var ue=({code:oe})=>{let{html:he}=me(oe,"js");return he?jsxRuntimeExports.jsx(M,{dangerouslySetInnerHTML:{__html:he}}):jsxRuntimeExports.jsx(M,{children:jsxRuntimeExports.jsx("pre",{className:"shiki"})})},de=({allEntities,setFilteredEntities,layers,devHighlightComponent,clearDevHighlights,setOverflow})=>{let queryInputRef=reactExports.useRef(null),[componentFilters,setComponentFilters]=reactExports.useState([]),[isManuallyEditing,setIsManuallyEditing]=reactExports.useState(!0),[entityQueryText,setEntityQueryText]=reactExports.useState(""),[errorMessage,setErrorMessage]=reactExports.useState(""),allComponents=Je(Object.values(layers).map(oe=>Object.values(oe.components))),resetFilteredEntities=reactExports.useCallback(()=>{setFilteredEntities([]),setComponentFilters([]),setErrorMessage("")},[setFilteredEntities,setErrorMessage,allEntities]);reactExports.useEffect(()=>{if(isManuallyEditing)return;let oe=`[${componentFilters.map(he=>`Has(${he.metadata?.componentName??he.id})`).join(",")}]`;setEntityQueryText(oe)},[componentFilters,isManuallyEditing]);let editQuery=reactExports.useCallback(oe=>{setIsManuallyEditing(!0),setEntityQueryText(oe),setComponentFilters([])},[]),cancelObserver=reactExports.useRef(()=>{});reactExports.useEffect(()=>()=>{cancelObserver.current&&cancelObserver.current()},[]);let executeFilter=reactExports.useCallback(e=>{if(e.preventDefault(),setErrorMessage(""),!entityQueryText){resetFilteredEntities();return}let q={...recs},c=Object.values(layers).reduce((oe,he)=>{for(let[ye,ve]of Object.entries(he.components))oe[ye]=ve;return oe},{});try{let assignQueryVars=Object.keys(q).map(oe=>`const ${oe} = q["${oe}"]; `).join(""),assignComponentVars=Object.keys(c).map(oe=>`const ${oe} = c["${oe}"]; `).join(""),evalString=`
        (() => {
          ${assignQueryVars}
          ${assignComponentVars}
          return (${entityQueryText});
        })()
        `,queryArray=eval(evalString);if(!queryArray||queryArray.length===0||!Array.isArray(queryArray))throw resetFilteredEntities(),new Error("Invalid query");cancelObserver.current();let queryResult=f$7(queryArray,{runOnInit:!0}),subscription=queryResult.update$.subscribe(),selectEntities=Ye(()=>{let oe=[...queryResult.matching].slice(0,1e3);setOverflow(queryResult.matching.size-oe.length),setFilteredEntities(oe),clearDevHighlights(),oe.forEach(he=>E$5(devHighlightComponent,he,{value:255}))},1e3,{leading:!0});selectEntities();let cancelObserve=observe$1(queryResult.matching,selectEntities);cancelObserver.current=()=>{cancelObserve(),selectEntities.cancel(),subscription?.unsubscribe()}}catch(oe){setErrorMessage(oe.message),console.error(oe)}},[entityQueryText,setEntityQueryText,setFilteredEntities,resetFilteredEntities,setErrorMessage,allEntities]);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(ie,{onSubmit:executeFilter,children:[jsxRuntimeExports.jsx(ue,{code:entityQueryText}),errorMessage&&jsxRuntimeExports.jsx(ue,{code:`Error: ${errorMessage}`}),jsxRuntimeExports.jsx("label",{style:{cursor:"pointer"},htmlFor:"query-input",children:jsxRuntimeExports.jsx("h3",{children:"Filter Entities"})}),jsxRuntimeExports.jsx(E,{id:"query-input",ref:queryInputRef,placeholder:"No filter applied",style:{width:"100%",color:"white"},type:"text",value:entityQueryText,onChange:oe=>{errorMessage&&setErrorMessage(""),editQuery(oe.target.value)},onFocus:oe=>oe.target.select()})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"8px",paddingTop:0,borderBottom:"2px grey solid"},children:[jsxRuntimeExports.jsx("h3",{children:"Filter by Component"}),jsxRuntimeExports.jsx(se,{style:{margin:"8px auto"},children:lodashExports.uniqBy(Ke(allComponents,oe=>oe.id),"id").filter(oe=>!oe.id.includes("-")).map(oe=>{let he=componentFilters.includes(oe);return jsxRuntimeExports.jsxs(h,{active:String(he),onClick:()=>{setIsManuallyEditing(!1),queryInputRef.current?.focus(),setComponentFilters(he?ye=>ye.filter(ve=>ve!==oe):ye=>[...ye,oe])},children:["Has(",oe.metadata?.componentName??oe.id,")"]},`filter-toggle-${oe.id}`)})})]})]})},ot=observer(({layers:oe,setContractComponentValue:he,world:ye,devHighlightComponent:ve})=>{let[_e,we]=reactExports.useState([]),[Pe,Ie]=reactExports.useState(0),Re=le(ve);return jsxRuntimeExports.jsxs(I,{children:[jsxRuntimeExports.jsx(de,{devHighlightComponent:ve,allEntities:[...ye.getEntities()],setFilteredEntities:we,layers:oe,world:ye,clearDevHighlights:Re,setOverflow:Ie}),jsxRuntimeExports.jsxs("div",{className:"p-2",children:[jsxRuntimeExports.jsx(b,{children:"Entity Select"}),jsxRuntimeExports.jsx(E,{className:"w-full",type:"text",onChange:ke=>we([ke.target.value])})]}),jsxRuntimeExports.jsxs(R,{children:["Showing ",_e.length," of ",_e.length+Pe," entities"]}),_e.map(ke=>jsxRuntimeExports.jsx(ne,{world:ye,entityId:ke,layers:oe,setContractComponentValue:he,devHighlightComponent:ve,clearDevHighlights:Re},`entity-editor-${ke}`))]})});export{$r as $,A$4 as A,BehaviorSubject as B,createWalletClient as C,numberToHex as D,SwitchChainError as E,custom as F,createPublicClient as G,fallback as H,http as I,webSocket as J,ContractFunctionExecutionError as K,hexToString as L,trim as M,Ne$1 as N,formatUnits as O,P$7 as P,weiUnits as Q,ReplaySubject as R,Subject as S,__rest as T,UserRejectedRequestError as U,__spreadArray$3 as V,__vitePreload as W,shareReplay as X,Yr as Y,concatMap as Z,__assign$2 as _,pipe as a,H as a$,w$3 as a0,TransactionReceiptNotFoundError as a1,firstValueFrom as a2,E$3 as a3,w as a4,Dr as a5,Oe as a6,ge as a7,v$1 as a8,share$1 as a9,at as aA,lodashExports as aB,ce as aC,X$2 as aD,yt as aE,ue$2 as aF,pt as aG,interval as aH,f$7 as aI,f$1 as aJ,K$5 as aK,Ke$2 as aL,x$4 as aM,Tt as aN,mt$1 as aO,xt as aP,jsxRuntimeExports as aQ,ut$1 as aR,zipWith as aS,of as aT,delay as aU,find$1 as aV,V$4 as aW,p$4 as aX,createTRPCProxyClient as aY,httpBatchLink as aZ,parseEther as a_,toAccount as aa,g$5 as ab,A$2 as ac,Je$1 as ad,Ye$1 as ae,ue$3 as af,E$5 as ag,se$3 as ah,de$1 as ai,lodash as aj,getTransaction as ak,formatEther as al,_$3 as am,k$3 as an,isHex as ao,hexToNumber$1 as ap,N$3 as aq,padHex as ar,stringToHex as as,size$1 as at,ft as au,Ge as av,a$1 as aw,le$1 as ax,I$3 as ay,E$1 as az,mergeMap as b,te as b0,X$3 as b1,k$2 as b2,lr as b3,U$4 as b4,ot as b5,z as b6,se$1 as b7,encodeFunctionData as b8,maxUint256 as b9,P$1 as ba,i$3 as bb,recs as bc,M$2 as bd,concat$1 as be,ae as bf,decodeFunctionData as bg,maxInt32 as bh,isAddress as bi,pe$1 as bj,__awaiter as bk,__generator as bl,__spread as bm,y$3 as bn,observable$2 as c,fromEvent as d,filter as e,from as f,merge as g,bufferCount as h,pairwise as i,distinctUntilChanged as j,computed as k,reaction as l,map as m,ie$1 as n,observe$1 as o,p$8 as p,ft$1 as q,runInAction as r,scan as s,throttleTime as t,ur as u,m$2 as v,te$2 as w,defineChain as x,getAddress as y,ResourceUnavailableRpcError as z};
//# sourceMappingURL=mud-7b3e2a9c.js.map
